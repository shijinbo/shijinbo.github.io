var lJ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var alt=lJ((Ao,Io)=>{function uJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const MT=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return Fs},get Circle(){return Kve},get Ellipse(){return Xve},get Image(){return qve},get Line(){return Zve},get Marker(){return Jve},get Path(){return Kk},get Polygon(){return ope},get Polyline(){return spe},get Rect(){return cpe},get Text(){return fpe}},Symbol.toStringTag,{value:"Module"})),TT=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return ps},get Circle(){return ppe},get Dom(){return gpe},get Ellipse(){return mpe},get Image(){return ype},get Line(){return bpe},get Marker(){return wpe},get Path(){return Epe},get Polygon(){return _pe},get Polyline(){return xpe},get Rect(){return Cpe},get Text(){return Ape}},Symbol.toStringTag,{value:"Module"}));(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kT(e,t){const r=new Set(e.split(","));return n=>r.has(n)}const Jn={},kh=[],mn=()=>{},cJ=()=>!1,jw=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),AT=e=>e.startsWith("onUpdate:"),Pa=Object.assign,IT=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},fJ=Object.prototype.hasOwnProperty,Xr=(e,t)=>fJ.call(e,t),_t=Array.isArray,Ah=e=>E0(e)==="[object Map]",Vw=e=>E0(e)==="[object Set]",ed=e=>E0(e)==="[object Date]",Jt=e=>typeof e=="function",nr=e=>typeof e=="string",hu=e=>typeof e=="symbol",Sr=e=>e!==null&&typeof e=="object",Sg=e=>(Sr(e)||Jt(e))&&Jt(e.then)&&Jt(e.catch),V6=Object.prototype.toString,E0=e=>V6.call(e),y1=e=>E0(e).slice(8,-1),bb=e=>E0(e)==="[object Object]",OT=e=>nr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kp=kT(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Uw=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},dJ=/-(\w)/g,is=Uw(e=>e.replace(dJ,(t,r)=>r?r.toUpperCase():"")),hJ=/\B([A-Z])/g,Fc=Uw(e=>e.replace(hJ,"-$1").toLowerCase()),_0=Uw(e=>e.charAt(0).toUpperCase()+e.slice(1)),b1=Uw(e=>e?`on${_0(e)}`:""),xc=(e,t)=>!Object.is(e,t),w1=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},U6=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},_S=e=>{const t=parseFloat(e);return isNaN(t)?e:t},vJ=e=>{const t=nr(e)?Number(e):NaN;return isNaN(t)?e:t};let FN;const W6=()=>FN||(FN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bt(e){if(_t(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],a=nr(n)?yJ(n):Bt(n);if(a)for(const i in a)t[i]=a[i]}return t}else if(nr(e)||Sr(e))return e}const pJ=/;(?![^(]*\))/g,gJ=/:([^]+)/,mJ=/\/\*[^]*?\*\//g;function yJ(e){const t={};return e.replace(mJ,"").split(pJ).forEach(r=>{if(r){const n=r.split(gJ);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function G(e){let t="";if(nr(e))t=e;else if(_t(e))for(let r=0;r<e.length;r++){const n=G(e[r]);n&&(t+=n+" ")}else if(Sr(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function nu(e){if(!e)return null;let{class:t,style:r}=e;return t&&!nr(t)&&(e.class=G(t)),r&&(e.style=Bt(r)),e}const bJ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wJ=kT(bJ);function H6(e){return!!e||e===""}function EJ(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Uh(e[n],t[n]);return r}function Uh(e,t){if(e===t)return!0;let r=ed(e),n=ed(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=hu(e),n=hu(t),r||n)return e===t;if(r=_t(e),n=_t(t),r||n)return r&&n?EJ(e,t):!1;if(r=Sr(e),n=Sr(t),r||n){if(!r||!n)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!Uh(e[o],t[o]))return!1}}return String(e)===String(t)}function Y6(e,t){return e.findIndex(r=>Uh(r,t))}const ct=e=>nr(e)?e:e==null?"":_t(e)||Sr(e)&&(e.toString===V6||!Jt(e.toString))?JSON.stringify(e,K6,2):String(e),K6=(e,t)=>t&&t.__v_isRef?K6(e,t.value):Ah(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,a],i)=>(r[T_(n,i)+" =>"]=a,r),{})}:Vw(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>T_(r))}:hu(t)?T_(t):Sr(t)&&!_t(t)&&!bb(t)?String(t):t,T_=(e,t="")=>{var r;return hu(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bo;class X6{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=bo,!t&&bo&&(this.index=(bo.scopes||(bo.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=bo;try{return bo=this,t()}finally{bo=r}}}on(){bo=this}off(){bo=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function _J(e){return new X6(e)}function xJ(e,t=bo){t&&t.active&&t.effects.push(e)}function q6(){return bo}function Z6(e){bo&&bo.cleanups.push(e)}let Gf;class LT{constructor(t,r,n,a){this.fn=t,this.trigger=r,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,xJ(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,zc();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(SJ(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Gc()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=mc,r=Gf;try{return mc=!0,Gf=this,this._runnings++,zN(this),this.fn()}finally{GN(this),this._runnings--,Gf=r,mc=t}}stop(){var t;this.active&&(zN(this),GN(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function SJ(e){return e.value}function zN(e){e._trackId++,e._depsLength=0}function GN(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Q6(e.deps[t],e);e.deps.length=e._depsLength}}function Q6(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let mc=!0,xS=0;const J6=[];function zc(){J6.push(mc),mc=!1}function Gc(){const e=J6.pop();mc=e===void 0?!0:e}function NT(){xS++}function PT(){for(xS--;!xS&&SS.length;)SS.shift()()}function eF(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&Q6(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const SS=[];function tF(e,t,r){NT();for(const n of e.keys()){let a;n._dirtyLevel<t&&(a??(a=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(a??(a=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&SS.push(n.scheduler)))}PT()}const rF=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},wb=new WeakMap,jf=Symbol(""),CS=Symbol("");function io(e,t,r){if(mc&&Gf){let n=wb.get(e);n||wb.set(e,n=new Map);let a=n.get(r);a||n.set(r,a=rF(()=>n.delete(r))),eF(Gf,a)}}function lu(e,t,r,n,a,i){const o=wb.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(r==="length"&&_t(e)){const l=Number(n);o.forEach((u,c)=>{(c==="length"||!hu(c)&&c>=l)&&s.push(u)})}else switch(r!==void 0&&s.push(o.get(r)),t){case"add":_t(e)?OT(r)&&s.push(o.get("length")):(s.push(o.get(jf)),Ah(e)&&s.push(o.get(CS)));break;case"delete":_t(e)||(s.push(o.get(jf)),Ah(e)&&s.push(o.get(CS)));break;case"set":Ah(e)&&s.push(o.get(jf));break}NT();for(const l of s)l&&tF(l,4);PT()}function CJ(e,t){var r;return(r=wb.get(e))==null?void 0:r.get(t)}const MJ=kT("__proto__,__v_isRef,__isVue"),nF=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hu)),jN=TJ();function TJ(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=yn(this);for(let i=0,o=this.length;i<o;i++)io(n,"get",i+"");const a=n[t](...r);return a===-1||a===!1?n[t](...r.map(yn)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){zc(),NT();const n=yn(this)[t].apply(this,r);return PT(),Gc(),n}}),e}function kJ(e){hu(e)||(e=String(e));const t=yn(this);return io(t,"has",e),t.hasOwnProperty(e)}class aF{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?GJ:lF:i?sF:oF).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=_t(t);if(!a){if(o&&Xr(jN,r))return Reflect.get(jN,r,n);if(r==="hasOwnProperty")return kJ}const s=Reflect.get(t,r,n);return(hu(r)?nF.has(r):MJ(r))||(a||io(t,"get",r),i)?s:Dn(s)?o&&OT(r)?s:s.value:Sr(s)?a?kv(s):cn(s):s}}class iF extends aF{constructor(t=!1){super(!1,t)}set(t,r,n,a){let i=t[r];if(!this._isShallow){const l=Cg(i);if(!Eb(n)&&!Cg(n)&&(i=yn(i),n=yn(n)),!_t(t)&&Dn(i)&&!Dn(n))return l?!1:(i.value=n,!0)}const o=_t(t)&&OT(r)?Number(r)<t.length:Xr(t,r),s=Reflect.set(t,r,n,a);return t===yn(a)&&(o?xc(n,i)&&lu(t,"set",r,n):lu(t,"add",r,n)),s}deleteProperty(t,r){const n=Xr(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&n&&lu(t,"delete",r,void 0),a}has(t,r){const n=Reflect.has(t,r);return(!hu(r)||!nF.has(r))&&io(t,"has",r),n}ownKeys(t){return io(t,"iterate",_t(t)?"length":jf),Reflect.ownKeys(t)}}class AJ extends aF{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const IJ=new iF,OJ=new AJ,LJ=new iF(!0),DT=e=>e,Ww=e=>Reflect.getPrototypeOf(e);function Km(e,t,r=!1,n=!1){e=e.__v_raw;const a=yn(e),i=yn(t);r||(xc(t,i)&&io(a,"get",t),io(a,"get",i));const{has:o}=Ww(a),s=n?DT:r?BT:Mg;if(o.call(a,t))return s(e.get(t));if(o.call(a,i))return s(e.get(i));e!==a&&e.get(t)}function Xm(e,t=!1){const r=this.__v_raw,n=yn(r),a=yn(e);return t||(xc(e,a)&&io(n,"has",e),io(n,"has",a)),e===a?r.has(e):r.has(e)||r.has(a)}function qm(e,t=!1){return e=e.__v_raw,!t&&io(yn(e),"iterate",jf),Reflect.get(e,"size",e)}function VN(e){e=yn(e);const t=yn(this);return Ww(t).has.call(t,e)||(t.add(e),lu(t,"add",e,e)),this}function UN(e,t){t=yn(t);const r=yn(this),{has:n,get:a}=Ww(r);let i=n.call(r,e);i||(e=yn(e),i=n.call(r,e));const o=a.call(r,e);return r.set(e,t),i?xc(t,o)&&lu(r,"set",e,t):lu(r,"add",e,t),this}function WN(e){const t=yn(this),{has:r,get:n}=Ww(t);let a=r.call(t,e);a||(e=yn(e),a=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return a&&lu(t,"delete",e,void 0),i}function HN(){const e=yn(this),t=e.size!==0,r=e.clear();return t&&lu(e,"clear",void 0,void 0),r}function Zm(e,t){return function(n,a){const i=this,o=i.__v_raw,s=yn(o),l=t?DT:e?BT:Mg;return!e&&io(s,"iterate",jf),o.forEach((u,c)=>n.call(a,l(u),l(c),i))}}function Qm(e,t,r){return function(...n){const a=this.__v_raw,i=yn(a),o=Ah(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=a[e](...n),c=r?DT:t?BT:Mg;return!t&&io(i,"iterate",l?CS:jf),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function zu(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function NJ(){const e={get(i){return Km(this,i)},get size(){return qm(this)},has:Xm,add:VN,set:UN,delete:WN,clear:HN,forEach:Zm(!1,!1)},t={get(i){return Km(this,i,!1,!0)},get size(){return qm(this)},has:Xm,add:VN,set:UN,delete:WN,clear:HN,forEach:Zm(!1,!0)},r={get(i){return Km(this,i,!0)},get size(){return qm(this,!0)},has(i){return Xm.call(this,i,!0)},add:zu("add"),set:zu("set"),delete:zu("delete"),clear:zu("clear"),forEach:Zm(!0,!1)},n={get(i){return Km(this,i,!0,!0)},get size(){return qm(this,!0)},has(i){return Xm.call(this,i,!0)},add:zu("add"),set:zu("set"),delete:zu("delete"),clear:zu("clear"),forEach:Zm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Qm(i,!1,!1),r[i]=Qm(i,!0,!1),t[i]=Qm(i,!1,!0),n[i]=Qm(i,!0,!0)}),[e,r,t,n]}const[PJ,DJ,RJ,$J]=NJ();function RT(e,t){const r=t?e?$J:RJ:e?DJ:PJ;return(n,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(Xr(r,a)&&a in n?r:n,a,i)}const BJ={get:RT(!1,!1)},FJ={get:RT(!1,!0)},zJ={get:RT(!0,!1)},oF=new WeakMap,sF=new WeakMap,lF=new WeakMap,GJ=new WeakMap;function jJ(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function VJ(e){return e.__v_skip||!Object.isExtensible(e)?0:jJ(y1(e))}function cn(e){return Cg(e)?e:$T(e,!1,IJ,BJ,oF)}function uF(e){return $T(e,!1,LJ,FJ,sF)}function kv(e){return $T(e,!0,OJ,zJ,lF)}function $T(e,t,r,n,a){if(!Sr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=VJ(e);if(o===0)return e;const s=new Proxy(e,o===2?n:r);return a.set(e,s),s}function Xp(e){return Cg(e)?Xp(e.__v_raw):!!(e&&e.__v_isReactive)}function Cg(e){return!!(e&&e.__v_isReadonly)}function Eb(e){return!!(e&&e.__v_isShallow)}function cF(e){return e?!!e.__v_raw:!1}function yn(e){const t=e&&e.__v_raw;return t?yn(t):e}function Ih(e){return Object.isExtensible(e)&&U6(e,"__v_skip",!0),e}const Mg=e=>Sr(e)?cn(e):e,BT=e=>Sr(e)?kv(e):e;class fF{constructor(t,r,n,a){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new LT(()=>t(this._value),()=>qp(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const t=yn(this);return(!t._cacheable||t.effect.dirty)&&xc(t._value,t._value=t.effect.run())&&qp(t,4),FT(t),t.effect._dirtyLevel>=2&&qp(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function dF(e,t,r=!1){let n,a;const i=Jt(e);return i?(n=e,a=mn):(n=e.get,a=e.set),new fF(n,a,i||!a,r)}function FT(e){var t;mc&&Gf&&(e=yn(e),eF(Gf,(t=e.dep)!=null?t:e.dep=rF(()=>e.dep=void 0,e instanceof fF?e:void 0)))}function qp(e,t=4,r){e=yn(e);const n=e.dep;n&&tF(n,t)}function Dn(e){return!!(e&&e.__v_isRef===!0)}function W(e){return hF(e,!1)}function Pn(e){return hF(e,!0)}function hF(e,t){return Dn(e)?e:new UJ(e,t)}class UJ{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:yn(t),this._value=r?t:Mg(t)}get value(){return FT(this),this._value}set value(t){const r=this.__v_isShallow||Eb(t)||Cg(t);t=r?t:yn(t),xc(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Mg(t),qp(this,4))}}function E(e){return Dn(e)?e.value:e}const WJ={get:(e,t,r)=>E(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const a=e[t];return Dn(a)&&!Dn(r)?(a.value=r,!0):Reflect.set(e,t,r,n)}};function vF(e){return Xp(e)?e:new Proxy(e,WJ)}class HJ{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>FT(this),()=>qp(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function YJ(e){return new HJ(e)}function ui(e){const t=_t(e)?new Array(e.length):{};for(const r in e)t[r]=pF(e,r);return t}class KJ{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return CJ(yn(this._object),this._key)}}class XJ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function kn(e,t,r){return Dn(e)?e:Jt(e)?new XJ(e):Sr(e)&&arguments.length>1?pF(e,t,r):W(e)}function pF(e,t,r){const n=e[t];return Dn(n)?n:new KJ(e,t,r)}/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yc(e,t,r,n){try{return n?e(...n):e()}catch(a){Hw(a,t,r)}}function ts(e,t,r,n){if(Jt(e)){const a=yc(e,t,r,n);return a&&Sg(a)&&a.catch(i=>{Hw(i,t,r)}),a}if(_t(e)){const a=[];for(let i=0;i<e.length;i++)a.push(ts(e[i],t,r,n));return a}}function Hw(e,t,r,n=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,s)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){zc(),yc(l,null,10,[e,o,s]),Gc();return}}qJ(e,r,a,n)}function qJ(e,t,r,n=!0){console.error(e)}let Tg=!1,MS=!1;const Si=[];let ll=0;const Oh=[];let ec=null,Cf=0;const gF=Promise.resolve();let zT=null;function Ut(e){const t=zT||gF;return e?t.then(this?e.bind(this):e):t}function ZJ(e){let t=ll+1,r=Si.length;for(;t<r;){const n=t+r>>>1,a=Si[n],i=kg(a);i<e||i===e&&a.pre?t=n+1:r=n}return t}function GT(e){(!Si.length||!Si.includes(e,Tg&&e.allowRecurse?ll+1:ll))&&(e.id==null?Si.push(e):Si.splice(ZJ(e.id),0,e),mF())}function mF(){!Tg&&!MS&&(MS=!0,zT=gF.then(bF))}function QJ(e){const t=Si.indexOf(e);t>ll&&Si.splice(t,1)}function JJ(e){_t(e)?Oh.push(...e):(!ec||!ec.includes(e,e.allowRecurse?Cf+1:Cf))&&Oh.push(e),mF()}function YN(e,t,r=Tg?ll+1:0){for(;r<Si.length;r++){const n=Si[r];if(n&&n.pre){if(e&&n.id!==e.uid)continue;Si.splice(r,1),r--,n()}}}function yF(e){if(Oh.length){const t=[...new Set(Oh)].sort((r,n)=>kg(r)-kg(n));if(Oh.length=0,ec){ec.push(...t);return}for(ec=t,Cf=0;Cf<ec.length;Cf++)ec[Cf]();ec=null,Cf=0}}const kg=e=>e.id==null?1/0:e.id,eee=(e,t)=>{const r=kg(e)-kg(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function bF(e){MS=!1,Tg=!0,Si.sort(eee);try{for(ll=0;ll<Si.length;ll++){const t=Si[ll];t&&t.active!==!1&&yc(t,null,14)}}finally{ll=0,Si.length=0,yF(),Tg=!1,zT=null,(Si.length||Oh.length)&&bF()}}function tee(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Jn;let a=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[c]||Jn;d&&(a=r.map(h=>nr(h)?h.trim():h)),f&&(a=r.map(_S))}let s,l=n[s=b1(t)]||n[s=b1(is(t))];!l&&i&&(l=n[s=b1(Fc(t))]),l&&ts(l,e,6,a);const u=n[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,ts(u,e,6,a)}}function wF(e,t,r=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!Jt(e)){const l=u=>{const c=wF(u,t,!0);c&&(s=!0,Pa(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(Sr(e)&&n.set(e,null),null):(_t(i)?i.forEach(l=>o[l]=null):Pa(o,i),Sr(e)&&n.set(e,o),o)}function Yw(e,t){return!e||!jw(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xr(e,t[0].toLowerCase()+t.slice(1))||Xr(e,Fc(t))||Xr(e,t))}let ja=null,EF=null;function _b(e){const t=ja;return ja=e,EF=e&&e.type.__scopeId||null,t}function he(e,t=ja,r){if(!t||e._n)return e;const n=(...a)=>{n._d&&sP(-1);const i=_b(t);let o;try{o=e(...a)}finally{_b(i),n._d&&sP(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function k_(e){const{type:t,vnode:r,proxy:n,withProxy:a,props:i,propsOptions:[o],slots:s,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:v,inheritAttrs:p}=e;let m,g;const b=_b(e);try{if(r.shapeFlag&4){const w=a||n,_=w;m=ol(c.call(_,w,f,i,h,d,v)),g=l}else{const w=t;m=ol(w.length>1?w(i,{attrs:l,slots:s,emit:u}):w(i,null)),g=t.props?l:ree(l)}}catch(w){tg.length=0,Hw(w,e,1),m=ae(Bi)}let y=m;if(g&&p!==!1){const w=Object.keys(g),{shapeFlag:_}=y;w.length&&_&7&&(o&&w.some(AT)&&(g=nee(g,o)),y=pu(y,g))}return r.dirs&&(y=pu(y),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&(y.transition=r.transition),m=y,_b(b),m}const ree=e=>{let t;for(const r in e)(r==="class"||r==="style"||jw(r))&&((t||(t={}))[r]=e[r]);return t},nee=(e,t)=>{const r={};for(const n in e)(!AT(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function aee(e,t,r){const{props:n,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?KN(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==n[d]&&!Yw(u,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?KN(n,o,u):!0:!!o;return!1}function KN(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(t[i]!==e[i]&&!Yw(r,i))return!0}return!1}function iee({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const jT="components",oee="directives";function br(e,t){return VT(jT,e,!0,t)||e}const _F=Symbol.for("v-ndc");function kr(e){return nr(e)?VT(jT,e,!1)||e:e||_F}function Kw(e){return VT(oee,e)}function VT(e,t,r=!0,n=!1){const a=ja||vi;if(a){const i=a.type;if(e===jT){const s=Xee(i,!1);if(s&&(s===t||s===is(t)||s===_0(is(t))))return i}const o=XN(a[e]||i[e],t)||XN(a.appContext[e],t);return!o&&n?i:o}}function XN(e,t){return e&&(e[t]||e[is(t)]||e[_0(is(t))])}const see=e=>e.__isSuspense;function lee(e,t){t&&t.pendingBranch?_t(e)?t.effects.push(...e):t.effects.push(e):JJ(e)}const uee=Symbol.for("v-scx"),cee=()=>At(uee);function gi(e,t){return UT(e,null,t)}const Jm={};function He(e,t,r){return UT(e,t,r)}function UT(e,t,{immediate:r,deep:n,flush:a,once:i,onTrack:o,onTrigger:s}=Jn){if(t&&i){const x=t;t=(...S)=>{x(...S),_()}}const l=vi,u=x=>n===!0?x:Af(x,n===!1?1:void 0);let c,f=!1,d=!1;if(Dn(e)?(c=()=>e.value,f=Eb(e)):Xp(e)?(c=()=>u(e),f=!0):_t(e)?(d=!0,f=e.some(x=>Xp(x)||Eb(x)),c=()=>e.map(x=>{if(Dn(x))return x.value;if(Xp(x))return u(x);if(Jt(x))return yc(x,l,2)})):Jt(e)?t?c=()=>yc(e,l,2):c=()=>(h&&h(),ts(e,l,3,[v])):c=mn,t&&n){const x=c;c=()=>Af(x())}let h,v=x=>{h=y.onStop=()=>{yc(x,l,4),h=y.onStop=void 0}},p;if(Qw)if(v=mn,t?r&&ts(t,l,3,[c(),d?[]:void 0,v]):c(),a==="sync"){const x=cee();p=x.__watcherHandles||(x.__watcherHandles=[])}else return mn;let m=d?new Array(e.length).fill(Jm):Jm;const g=()=>{if(!(!y.active||!y.dirty))if(t){const x=y.run();(n||f||(d?x.some((S,C)=>xc(S,m[C])):xc(x,m)))&&(h&&h(),ts(t,l,3,[x,m===Jm?void 0:d&&m[0]===Jm?[]:m,v]),m=x)}else y.run()};g.allowRecurse=!!t;let b;a==="sync"?b=g:a==="post"?b=()=>Qi(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),b=()=>GT(g));const y=new LT(c,mn,b),w=q6(),_=()=>{y.stop(),w&&IT(w.effects,y)};return t?r?g():m=y.run():a==="post"?Qi(y.run.bind(y),l&&l.suspense):y.run(),p&&p.push(_),_}function fee(e,t,r){const n=this.proxy,a=nr(e)?e.includes(".")?xF(n,e):()=>n[e]:e.bind(n,n);let i;Jt(t)?i=t:(i=t.handler,r=t);const o=x0(this),s=UT(a,i.bind(n),r);return o(),s}function xF(e,t){const r=t.split(".");return()=>{let n=e;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function Af(e,t,r=0,n){if(!Sr(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(n=n||new Set,n.has(e))return e;if(n.add(e),Dn(e))Af(e.value,t,r,n);else if(_t(e))for(let a=0;a<e.length;a++)Af(e[a],t,r,n);else if(Vw(e)||Ah(e))e.forEach(a=>{Af(a,t,r,n)});else if(bb(e))for(const a in e)Af(e[a],t,r,n);return e}function cr(e,t){if(ja===null)return e;const r=Jw(ja)||ja.proxy,n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,l=Jn]=t[a];i&&(Jt(i)&&(i={mounted:i,updated:i}),i.deep&&Af(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function cf(e,t,r,n){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[n];l&&(zc(),ts(l,r,8,[e.el,s,e,t]),Gc())}}const tc=Symbol("_leaveCb"),ey=Symbol("_enterCb");function SF(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vr(()=>{e.isMounted=!0}),On(()=>{e.isUnmounting=!0}),e}const zo=[Function,Array],CF={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zo,onEnter:zo,onAfterEnter:zo,onEnterCancelled:zo,onBeforeLeave:zo,onLeave:zo,onAfterLeave:zo,onLeaveCancelled:zo,onBeforeAppear:zo,onAppear:zo,onAfterAppear:zo,onAppearCancelled:zo},dee={name:"BaseTransition",props:CF,setup(e,{slots:t}){const r=Er(),n=SF();return()=>{const a=t.default&&WT(t.default(),!0);if(!a||!a.length)return;let i=a[0];if(a.length>1){for(const d of a)if(d.type!==Bi){i=d;break}}const o=yn(e),{mode:s}=o;if(n.isLeaving)return A_(i);const l=qN(i);if(!l)return A_(i);const u=Ag(l,o,n,r);Ig(l,u);const c=r.subTree,f=c&&qN(c);if(f&&f.type!==Bi&&!Mf(l,f)){const d=Ag(f,o,n,r);if(Ig(f,d),s==="out-in")return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},A_(i);s==="in-out"&&l.type!==Bi&&(d.delayLeave=(h,v,p)=>{const m=MF(n,f);m[String(f.key)]=f,h[tc]=()=>{v(),h[tc]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return i}}},hee=dee;function MF(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Ag(e,t,r,n){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:p,onAppear:m,onAfterAppear:g,onAppearCancelled:b}=t,y=String(e.key),w=MF(r,e),_=(C,T)=>{C&&ts(C,n,9,T)},x=(C,T)=>{const M=T[1];_(C,T),_t(C)?C.every(k=>k.length<=1)&&M():C.length<=1&&M()},S={mode:i,persisted:o,beforeEnter(C){let T=s;if(!r.isMounted)if(a)T=p||s;else return;C[tc]&&C[tc](!0);const M=w[y];M&&Mf(e,M)&&M.el[tc]&&M.el[tc](),_(T,[C])},enter(C){let T=l,M=u,k=c;if(!r.isMounted)if(a)T=m||l,M=g||u,k=b||c;else return;let A=!1;const O=C[ey]=P=>{A||(A=!0,P?_(k,[C]):_(M,[C]),S.delayedLeave&&S.delayedLeave(),C[ey]=void 0)};T?x(T,[C,O]):O()},leave(C,T){const M=String(e.key);if(C[ey]&&C[ey](!0),r.isUnmounting)return T();_(f,[C]);let k=!1;const A=C[tc]=O=>{k||(k=!0,T(),O?_(v,[C]):_(h,[C]),C[tc]=void 0,w[M]===e&&delete w[M])};w[M]=e,d?x(d,[C,A]):A()},clone(C){return Ag(C,t,r,n)}};return S}function A_(e){if(Xw(e))return e=pu(e),e.children=null,e}function qN(e){return Xw(e)?e.children?e.children[0]:void 0:e}function Ig(e,t){e.shapeFlag&6&&e.component?Ig(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function WT(e,t=!1,r){let n=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===zt?(o.patchFlag&128&&a++,n=n.concat(WT(o.children,t,s))):(t||o.type!==Bi)&&n.push(s!=null?pu(o,{key:s}):o)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function J(e,t){return Jt(e)?Pa({name:e.name},t,{setup:e}):e}const Zp=e=>!!e.type.__asyncLoader,Xw=e=>e.type.__isKeepAlive;function vee(e,t){kF(e,"a",t)}function TF(e,t){kF(e,"da",t)}function kF(e,t,r=vi){const n=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(qw(t,n,r),r){let a=r.parent;for(;a&&a.parent;)Xw(a.parent.vnode)&&pee(n,t,r,a),a=a.parent}}function pee(e,t,r,n){const a=qw(t,e,n,!0);jc(()=>{IT(n[t],a)},r)}function qw(e,t,r=vi,n=!1){if(r){const a=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;zc();const s=x0(r),l=ts(t,r,e,o);return s(),Gc(),l});return n?a.unshift(i):a.push(i),i}}const Eu=e=>(t,r=vi)=>(!Qw||e==="sp")&&qw(e,(...n)=>t(...n),r),Zw=Eu("bm"),vr=Eu("m"),AF=Eu("bu"),_u=Eu("u"),On=Eu("bum"),jc=Eu("um"),gee=Eu("sp"),mee=Eu("rtg"),yee=Eu("rtc");function bee(e,t=vi){qw("ec",e,t)}function zr(e,t,r,n){let a;const i=r;if(_t(e)||nr(e)){a=new Array(e.length);for(let o=0,s=e.length;o<s;o++)a[o]=t(e[o],o,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i)}else if(Sr(e))if(e[Symbol.iterator])a=Array.from(e,(o,s)=>t(o,s,void 0,i));else{const o=Object.keys(e);a=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const u=o[s];a[s]=t(e[u],u,s,i)}}else a=[];return a}function vu(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(_t(n))for(let a=0;a<n.length;a++)e[n[a].name]=n[a].fn;else n&&(e[n.name]=n.key?(...a)=>{const i=n.fn(...a);return i&&(i.key=n.key),i}:n.fn)}return e}function Pe(e,t,r={},n,a){if(ja.isCE||ja.parent&&Zp(ja.parent)&&ja.parent.isCE)return t!=="default"&&(r.name=t),ae("slot",r,n&&n());let i=e[t];i&&i._c&&(i._d=!1),F();const o=i&&IF(i(r)),s=Oe(zt,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function IF(e){return e.some(t=>Rn(t)?!(t.type===Bi||t.type===zt&&!IF(t.children)):!0)?e:null}function wee(e,t){const r={};for(const n in e)r[b1(n)]=e[n];return r}const TS=e=>e?WF(e)?Jw(e)||e.proxy:TS(e.parent):null,Qp=Pa(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>TS(e.parent),$root:e=>TS(e.root),$emit:e=>e.emit,$options:e=>HT(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,GT(e.update)}),$nextTick:e=>e.n||(e.n=Ut.bind(e.proxy)),$watch:e=>fee.bind(e)}),I_=(e,t)=>e!==Jn&&!e.__isScriptSetup&&Xr(e,t),Eee={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return a[t];case 4:return r[t];case 3:return i[t]}else{if(I_(n,t))return o[t]=1,n[t];if(a!==Jn&&Xr(a,t))return o[t]=2,a[t];if((u=e.propsOptions[0])&&Xr(u,t))return o[t]=3,i[t];if(r!==Jn&&Xr(r,t))return o[t]=4,r[t];kS&&(o[t]=0)}}const c=Qp[t];let f,d;if(c)return t==="$attrs"&&io(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(r!==Jn&&Xr(r,t))return o[t]=4,r[t];if(d=l.config.globalProperties,Xr(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:a,ctx:i}=e;return I_(a,t)?(a[t]=r,!0):n!==Jn&&Xr(n,t)?(n[t]=r,!0):Xr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:a,propsOptions:i}},o){let s;return!!r[o]||e!==Jn&&Xr(e,o)||I_(t,o)||(s=i[0])&&Xr(s,o)||Xr(n,o)||Xr(Qp,o)||Xr(a.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Xr(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Ya(){return OF().slots}function bd(){return OF().attrs}function OF(){const e=Er();return e.setupContext||(e.setupContext=YF(e))}function ZN(e){return _t(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let kS=!0;function _ee(e){const t=HT(e),r=e.proxy,n=e.ctx;kS=!1,t.beforeCreate&&QN(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:p,deactivated:m,beforeDestroy:g,beforeUnmount:b,destroyed:y,unmounted:w,render:_,renderTracked:x,renderTriggered:S,errorCaptured:C,serverPrefetch:T,expose:M,inheritAttrs:k,components:A,directives:O,filters:P}=t;if(u&&xee(u,n,null),o)for(const L in o){const B=o[L];Jt(B)&&(n[L]=B.bind(r))}if(a){const L=a.call(r,r);Sr(L)&&(e.data=cn(L))}if(kS=!0,i)for(const L in i){const B=i[L],I=Jt(B)?B.bind(r,r):Jt(B.get)?B.get.bind(r,r):mn,D=!Jt(B)&&Jt(B.set)?B.set.bind(r):mn,z=$({get:I,set:D});Object.defineProperty(n,L,{enumerable:!0,configurable:!0,get:()=>z.value,set:U=>z.value=U})}if(s)for(const L in s)LF(s[L],n,r,L);if(l){const L=Jt(l)?l.call(r):l;Reflect.ownKeys(L).forEach(B=>{$r(B,L[B])})}c&&QN(c,e,"c");function N(L,B){_t(B)?B.forEach(I=>L(I.bind(r))):B&&L(B.bind(r))}if(N(Zw,f),N(vr,d),N(AF,h),N(_u,v),N(vee,p),N(TF,m),N(bee,C),N(yee,x),N(mee,S),N(On,b),N(jc,w),N(gee,T),_t(M))if(M.length){const L=e.exposed||(e.exposed={});M.forEach(B=>{Object.defineProperty(L,B,{get:()=>r[B],set:I=>r[B]=I})})}else e.exposed||(e.exposed={});_&&e.render===mn&&(e.render=_),k!=null&&(e.inheritAttrs=k),A&&(e.components=A),O&&(e.directives=O)}function xee(e,t,r=mn){_t(e)&&(e=AS(e));for(const n in e){const a=e[n];let i;Sr(a)?"default"in a?i=At(a.from||n,a.default,!0):i=At(a.from||n):i=At(a),Dn(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function QN(e,t,r){ts(_t(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function LF(e,t,r,n){const a=n.includes(".")?xF(r,n):()=>r[n];if(nr(e)){const i=t[e];Jt(i)&&He(a,i)}else if(Jt(e))He(a,e.bind(r));else if(Sr(e))if(_t(e))e.forEach(i=>LF(i,t,r,n));else{const i=Jt(e.handler)?e.handler.bind(r):t[e.handler];Jt(i)&&He(a,i,e)}}function HT(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!r&&!n?l=t:(l={},a.length&&a.forEach(u=>xb(l,u,o,!0)),xb(l,t,o)),Sr(t)&&i.set(t,l),l}function xb(e,t,r,n=!1){const{mixins:a,extends:i}=t;i&&xb(e,i,r,!0),a&&a.forEach(o=>xb(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const s=See[o]||r&&r[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const See={data:JN,props:eP,emits:eP,methods:Np,computed:Np,beforeCreate:Ri,created:Ri,beforeMount:Ri,mounted:Ri,beforeUpdate:Ri,updated:Ri,beforeDestroy:Ri,beforeUnmount:Ri,destroyed:Ri,unmounted:Ri,activated:Ri,deactivated:Ri,errorCaptured:Ri,serverPrefetch:Ri,components:Np,directives:Np,watch:Mee,provide:JN,inject:Cee};function JN(e,t){return t?e?function(){return Pa(Jt(e)?e.call(this,this):e,Jt(t)?t.call(this,this):t)}:t:e}function Cee(e,t){return Np(AS(e),AS(t))}function AS(e){if(_t(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ri(e,t){return e?[...new Set([].concat(e,t))]:t}function Np(e,t){return e?Pa(Object.create(null),e,t):t}function eP(e,t){return e?_t(e)&&_t(t)?[...new Set([...e,...t])]:Pa(Object.create(null),ZN(e),ZN(t??{})):t}function Mee(e,t){if(!e)return t;if(!t)return e;const r=Pa(Object.create(null),e);for(const n in t)r[n]=Ri(e[n],t[n]);return r}function NF(){return{app:null,config:{isNativeTag:cJ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tee=0;function kee(e,t){return function(n,a=null){Jt(n)||(n=Pa({},n)),a!=null&&!Sr(a)&&(a=null);const i=NF(),o=new WeakSet;let s=!1;const l=i.app={_uid:Tee++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:Zee,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Jt(u.install)?(o.add(u),u.install(l,...c)):Jt(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!s){const d=ae(n,a);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(d,u):e(d,u,f),s=!0,l._container=u,u.__vue_app__=l,Jw(d.component)||d.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=Jp;Jp=l;try{return u()}finally{Jp=c}}};return l}}let Jp=null;function $r(e,t){if(vi){let r=vi.provides;const n=vi.parent&&vi.parent.provides;n===r&&(r=vi.provides=Object.create(n)),r[e]=t}}function At(e,t,r=!1){const n=vi||ja;if(n||Jp){const a=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Jp._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return r&&Jt(t)?t.call(n&&n.proxy):t}}const PF=Object.create(null),IS=()=>Object.create(PF),DF=e=>Object.getPrototypeOf(e)===PF;function Aee(e,t,r,n=!1){const a={},i=IS();e.propsDefaults=Object.create(null),RF(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);r?e.props=n?a:uF(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function Iee(e,t,r,n){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=yn(a),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Yw(e.emitsOptions,d))continue;const h=t[d];if(l)if(Xr(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const v=is(d);a[v]=OS(l,s,v,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{RF(e,t,a,i)&&(u=!0);let c;for(const f in s)(!t||!Xr(t,f)&&((c=Fc(f))===f||!Xr(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(a[f]=OS(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!Xr(t,f))&&(delete i[f],u=!0)}u&&lu(e.attrs,"set","")}function RF(e,t,r,n){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(Kp(l))continue;const u=t[l];let c;a&&Xr(a,c=is(l))?!i||!i.includes(c)?r[c]=u:(s||(s={}))[c]=u:Yw(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=yn(r),u=s||Jn;for(let c=0;c<i.length;c++){const f=i[c];r[f]=OS(a,l,f,u[f],e,!Xr(u,f))}}return o}function OS(e,t,r,n,a,i){const o=e[r];if(o!=null){const s=Xr(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Jt(l)){const{propsDefaults:u}=a;if(r in u)n=u[r];else{const c=x0(a);n=u[r]=l.call(null,t),c()}}else n=l}o[0]&&(i&&!s?n=!1:o[1]&&(n===""||n===Fc(r))&&(n=!0))}return n}function $F(e,t,r=!1){const n=t.propsCache,a=n.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!Jt(e)){const c=f=>{l=!0;const[d,h]=$F(f,t,!0);Pa(o,d),h&&s.push(...h)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return Sr(e)&&n.set(e,kh),kh;if(_t(i))for(let c=0;c<i.length;c++){const f=is(i[c]);tP(f)&&(o[f]=Jn)}else if(i)for(const c in i){const f=is(c);if(tP(f)){const d=i[c],h=o[f]=_t(d)||Jt(d)?{type:d}:Pa({},d);if(h){const v=aP(Boolean,h.type),p=aP(String,h.type);h[0]=v>-1,h[1]=p<0||v<p,(v>-1||Xr(h,"default"))&&s.push(f)}}}const u=[o,s];return Sr(e)&&n.set(e,u),u}function tP(e){return e[0]!=="$"&&!Kp(e)}function rP(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function nP(e,t){return rP(e)===rP(t)}function aP(e,t){return _t(t)?t.findIndex(r=>nP(r,e)):Jt(t)&&nP(t,e)?0:-1}const BF=e=>e[0]==="_"||e==="$stable",YT=e=>_t(e)?e.map(ol):[ol(e)],Oee=(e,t,r)=>{if(t._n)return t;const n=he((...a)=>YT(t(...a)),r);return n._c=!1,n},FF=(e,t,r)=>{const n=e._ctx;for(const a in e){if(BF(a))continue;const i=e[a];if(Jt(i))t[a]=Oee(a,i,n);else if(i!=null){const o=YT(i);t[a]=()=>o}}},zF=(e,t)=>{const r=YT(t);e.slots.default=()=>r},Lee=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=yn(t),U6(e.slots,"_",r)):FF(t,e.slots=IS())}else e.slots=IS(),t&&zF(e,t)},Nee=(e,t,r)=>{const{vnode:n,slots:a}=e;let i=!0,o=Jn;if(n.shapeFlag&32){const s=t._;s?r&&s===1?i=!1:(Pa(a,t),!r&&s===1&&delete a._):(i=!t.$stable,FF(t,a)),o=t}else t&&(zF(e,t),o={default:1});if(i)for(const s in a)!BF(s)&&o[s]==null&&delete a[s]};function LS(e,t,r,n,a=!1){if(_t(e)){e.forEach((d,h)=>LS(d,t&&(_t(t)?t[h]:t),r,n,a));return}if(Zp(n)&&!a)return;const i=n.shapeFlag&4?Jw(n.component)||n.component.proxy:n.el,o=a?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===Jn?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(nr(u)?(c[u]=null,Xr(f,u)&&(f[u]=null)):Dn(u)&&(u.value=null)),Jt(l))yc(l,s,12,[o,c]);else{const d=nr(l),h=Dn(l);if(d||h){const v=()=>{if(e.f){const p=d?Xr(f,l)?f[l]:c[l]:l.value;a?_t(p)&&IT(p,i):_t(p)?p.includes(i)||p.push(i):d?(c[l]=[i],Xr(f,l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,Xr(f,l)&&(f[l]=o)):h&&(l.value=o,e.k&&(c[e.k]=o))};o?(v.id=-1,Qi(v,r)):v()}}}const Qi=lee;function Pee(e){return Dee(e)}function Dee(e,t){const r=W6();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=mn,insertStaticContent:v}=e,p=(te,le,Ae,Ve=null,Ie=null,De=null,Ge=void 0,Qe=null,ke=!!le.dynamicChildren)=>{if(te===le)return;te&&!Mf(te,le)&&(Ve=re(te),U(te,Ie,De,!0),te=null),le.patchFlag===-2&&(ke=!1,le.dynamicChildren=null);const{type:q,ref:j,shapeFlag:Ce}=le;switch(q){case Iv:m(te,le,Ae,Ve);break;case Bi:g(te,le,Ae,Ve);break;case L_:te==null&&b(le,Ae,Ve,Ge);break;case zt:A(te,le,Ae,Ve,Ie,De,Ge,Qe,ke);break;default:Ce&1?_(te,le,Ae,Ve,Ie,De,Ge,Qe,ke):Ce&6?O(te,le,Ae,Ve,Ie,De,Ge,Qe,ke):(Ce&64||Ce&128)&&q.process(te,le,Ae,Ve,Ie,De,Ge,Qe,ke,me)}j!=null&&Ie&&LS(j,te&&te.ref,De,le||te,!le)},m=(te,le,Ae,Ve)=>{if(te==null)n(le.el=s(le.children),Ae,Ve);else{const Ie=le.el=te.el;le.children!==te.children&&u(Ie,le.children)}},g=(te,le,Ae,Ve)=>{te==null?n(le.el=l(le.children||""),Ae,Ve):le.el=te.el},b=(te,le,Ae,Ve)=>{[te.el,te.anchor]=v(te.children,le,Ae,Ve,te.el,te.anchor)},y=({el:te,anchor:le},Ae,Ve)=>{let Ie;for(;te&&te!==le;)Ie=d(te),n(te,Ae,Ve),te=Ie;n(le,Ae,Ve)},w=({el:te,anchor:le})=>{let Ae;for(;te&&te!==le;)Ae=d(te),a(te),te=Ae;a(le)},_=(te,le,Ae,Ve,Ie,De,Ge,Qe,ke)=>{le.type==="svg"?Ge="svg":le.type==="math"&&(Ge="mathml"),te==null?x(le,Ae,Ve,Ie,De,Ge,Qe,ke):T(te,le,Ie,De,Ge,Qe,ke)},x=(te,le,Ae,Ve,Ie,De,Ge,Qe)=>{let ke,q;const{props:j,shapeFlag:Ce,transition:fe,dirs:ge}=te;if(ke=te.el=o(te.type,De,j&&j.is,j),Ce&8?c(ke,te.children):Ce&16&&C(te.children,ke,null,Ve,Ie,O_(te,De),Ge,Qe),ge&&cf(te,null,Ve,"created"),S(ke,te,te.scopeId,Ge,Ve),j){for(const tt in j)tt!=="value"&&!Kp(tt)&&i(ke,tt,null,j[tt],De,te.children,Ve,Ie,X);"value"in j&&i(ke,"value",null,j.value,De),(q=j.onVnodeBeforeMount)&&Zs(q,Ve,te)}ge&&cf(te,null,Ve,"beforeMount");const Ue=Ree(Ie,fe);Ue&&fe.beforeEnter(ke),n(ke,le,Ae),((q=j&&j.onVnodeMounted)||Ue||ge)&&Qi(()=>{q&&Zs(q,Ve,te),Ue&&fe.enter(ke),ge&&cf(te,null,Ve,"mounted")},Ie)},S=(te,le,Ae,Ve,Ie)=>{if(Ae&&h(te,Ae),Ve)for(let De=0;De<Ve.length;De++)h(te,Ve[De]);if(Ie){let De=Ie.subTree;if(le===De){const Ge=Ie.vnode;S(te,Ge,Ge.scopeId,Ge.slotScopeIds,Ie.parent)}}},C=(te,le,Ae,Ve,Ie,De,Ge,Qe,ke=0)=>{for(let q=ke;q<te.length;q++){const j=te[q]=Qe?rc(te[q]):ol(te[q]);p(null,j,le,Ae,Ve,Ie,De,Ge,Qe)}},T=(te,le,Ae,Ve,Ie,De,Ge)=>{const Qe=le.el=te.el;let{patchFlag:ke,dynamicChildren:q,dirs:j}=le;ke|=te.patchFlag&16;const Ce=te.props||Jn,fe=le.props||Jn;let ge;if(Ae&&ff(Ae,!1),(ge=fe.onVnodeBeforeUpdate)&&Zs(ge,Ae,le,te),j&&cf(le,te,Ae,"beforeUpdate"),Ae&&ff(Ae,!0),q?M(te.dynamicChildren,q,Qe,Ae,Ve,O_(le,Ie),De):Ge||B(te,le,Qe,null,Ae,Ve,O_(le,Ie),De,!1),ke>0){if(ke&16)k(Qe,le,Ce,fe,Ae,Ve,Ie);else if(ke&2&&Ce.class!==fe.class&&i(Qe,"class",null,fe.class,Ie),ke&4&&i(Qe,"style",Ce.style,fe.style,Ie),ke&8){const Ue=le.dynamicProps;for(let tt=0;tt<Ue.length;tt++){const ot=Ue[tt],Ye=Ce[ot],we=fe[ot];(we!==Ye||ot==="value")&&i(Qe,ot,Ye,we,Ie,te.children,Ae,Ve,X)}}ke&1&&te.children!==le.children&&c(Qe,le.children)}else!Ge&&q==null&&k(Qe,le,Ce,fe,Ae,Ve,Ie);((ge=fe.onVnodeUpdated)||j)&&Qi(()=>{ge&&Zs(ge,Ae,le,te),j&&cf(le,te,Ae,"updated")},Ve)},M=(te,le,Ae,Ve,Ie,De,Ge)=>{for(let Qe=0;Qe<le.length;Qe++){const ke=te[Qe],q=le[Qe],j=ke.el&&(ke.type===zt||!Mf(ke,q)||ke.shapeFlag&70)?f(ke.el):Ae;p(ke,q,j,null,Ve,Ie,De,Ge,!0)}},k=(te,le,Ae,Ve,Ie,De,Ge)=>{if(Ae!==Ve){if(Ae!==Jn)for(const Qe in Ae)!Kp(Qe)&&!(Qe in Ve)&&i(te,Qe,Ae[Qe],null,Ge,le.children,Ie,De,X);for(const Qe in Ve){if(Kp(Qe))continue;const ke=Ve[Qe],q=Ae[Qe];ke!==q&&Qe!=="value"&&i(te,Qe,q,ke,Ge,le.children,Ie,De,X)}"value"in Ve&&i(te,"value",Ae.value,Ve.value,Ge)}},A=(te,le,Ae,Ve,Ie,De,Ge,Qe,ke)=>{const q=le.el=te?te.el:s(""),j=le.anchor=te?te.anchor:s("");let{patchFlag:Ce,dynamicChildren:fe,slotScopeIds:ge}=le;ge&&(Qe=Qe?Qe.concat(ge):ge),te==null?(n(q,Ae,Ve),n(j,Ae,Ve),C(le.children||[],Ae,j,Ie,De,Ge,Qe,ke)):Ce>0&&Ce&64&&fe&&te.dynamicChildren?(M(te.dynamicChildren,fe,Ae,Ie,De,Ge,Qe),(le.key!=null||Ie&&le===Ie.subTree)&&KT(te,le,!0)):B(te,le,Ae,j,Ie,De,Ge,Qe,ke)},O=(te,le,Ae,Ve,Ie,De,Ge,Qe,ke)=>{le.slotScopeIds=Qe,te==null?le.shapeFlag&512?Ie.ctx.activate(le,Ae,Ve,Ge,ke):P(le,Ae,Ve,Ie,De,Ge,ke):R(te,le,ke)},P=(te,le,Ae,Ve,Ie,De,Ge)=>{const Qe=te.component=Wee(te,Ve,Ie);if(Xw(te)&&(Qe.ctx.renderer=me),Hee(Qe),Qe.asyncDep){if(Ie&&Ie.registerDep(Qe,N),!te.el){const ke=Qe.subTree=ae(Bi);g(null,ke,le,Ae)}}else N(Qe,te,le,Ae,Ie,De,Ge)},R=(te,le,Ae)=>{const Ve=le.component=te.component;if(aee(te,le,Ae))if(Ve.asyncDep&&!Ve.asyncResolved){L(Ve,le,Ae);return}else Ve.next=le,QJ(Ve.update),Ve.effect.dirty=!0,Ve.update();else le.el=te.el,Ve.vnode=le},N=(te,le,Ae,Ve,Ie,De,Ge)=>{const Qe=()=>{if(te.isMounted){let{next:j,bu:Ce,u:fe,parent:ge,vnode:Ue}=te;{const qe=GF(te);if(qe){j&&(j.el=Ue.el,L(te,j,Ge)),qe.asyncDep.then(()=>{te.isUnmounted||Qe()});return}}let tt=j,ot;ff(te,!1),j?(j.el=Ue.el,L(te,j,Ge)):j=Ue,Ce&&w1(Ce),(ot=j.props&&j.props.onVnodeBeforeUpdate)&&Zs(ot,ge,j,Ue),ff(te,!0);const Ye=k_(te),we=te.subTree;te.subTree=Ye,p(we,Ye,f(we.el),re(we),te,Ie,De),j.el=Ye.el,tt===null&&iee(te,Ye.el),fe&&Qi(fe,Ie),(ot=j.props&&j.props.onVnodeUpdated)&&Qi(()=>Zs(ot,ge,j,Ue),Ie)}else{let j;const{el:Ce,props:fe}=le,{bm:ge,m:Ue,parent:tt}=te,ot=Zp(le);if(ff(te,!1),ge&&w1(ge),!ot&&(j=fe&&fe.onVnodeBeforeMount)&&Zs(j,tt,le),ff(te,!0),Ce&&ze){const Ye=()=>{te.subTree=k_(te),ze(Ce,te.subTree,te,Ie,null)};ot?le.type.__asyncLoader().then(()=>!te.isUnmounted&&Ye()):Ye()}else{const Ye=te.subTree=k_(te);p(null,Ye,Ae,Ve,te,Ie,De),le.el=Ye.el}if(Ue&&Qi(Ue,Ie),!ot&&(j=fe&&fe.onVnodeMounted)){const Ye=le;Qi(()=>Zs(j,tt,Ye),Ie)}(le.shapeFlag&256||tt&&Zp(tt.vnode)&&tt.vnode.shapeFlag&256)&&te.a&&Qi(te.a,Ie),te.isMounted=!0,le=Ae=Ve=null}},ke=te.effect=new LT(Qe,mn,()=>GT(q),te.scope),q=te.update=()=>{ke.dirty&&ke.run()};q.id=te.uid,ff(te,!0),q()},L=(te,le,Ae)=>{le.component=te;const Ve=te.vnode.props;te.vnode=le,te.next=null,Iee(te,le.props,Ve,Ae),Nee(te,le.children,Ae),zc(),YN(te),Gc()},B=(te,le,Ae,Ve,Ie,De,Ge,Qe,ke=!1)=>{const q=te&&te.children,j=te?te.shapeFlag:0,Ce=le.children,{patchFlag:fe,shapeFlag:ge}=le;if(fe>0){if(fe&128){D(q,Ce,Ae,Ve,Ie,De,Ge,Qe,ke);return}else if(fe&256){I(q,Ce,Ae,Ve,Ie,De,Ge,Qe,ke);return}}ge&8?(j&16&&X(q,Ie,De),Ce!==q&&c(Ae,Ce)):j&16?ge&16?D(q,Ce,Ae,Ve,Ie,De,Ge,Qe,ke):X(q,Ie,De,!0):(j&8&&c(Ae,""),ge&16&&C(Ce,Ae,Ve,Ie,De,Ge,Qe,ke))},I=(te,le,Ae,Ve,Ie,De,Ge,Qe,ke)=>{te=te||kh,le=le||kh;const q=te.length,j=le.length,Ce=Math.min(q,j);let fe;for(fe=0;fe<Ce;fe++){const ge=le[fe]=ke?rc(le[fe]):ol(le[fe]);p(te[fe],ge,Ae,null,Ie,De,Ge,Qe,ke)}q>j?X(te,Ie,De,!0,!1,Ce):C(le,Ae,Ve,Ie,De,Ge,Qe,ke,Ce)},D=(te,le,Ae,Ve,Ie,De,Ge,Qe,ke)=>{let q=0;const j=le.length;let Ce=te.length-1,fe=j-1;for(;q<=Ce&&q<=fe;){const ge=te[q],Ue=le[q]=ke?rc(le[q]):ol(le[q]);if(Mf(ge,Ue))p(ge,Ue,Ae,null,Ie,De,Ge,Qe,ke);else break;q++}for(;q<=Ce&&q<=fe;){const ge=te[Ce],Ue=le[fe]=ke?rc(le[fe]):ol(le[fe]);if(Mf(ge,Ue))p(ge,Ue,Ae,null,Ie,De,Ge,Qe,ke);else break;Ce--,fe--}if(q>Ce){if(q<=fe){const ge=fe+1,Ue=ge<j?le[ge].el:Ve;for(;q<=fe;)p(null,le[q]=ke?rc(le[q]):ol(le[q]),Ae,Ue,Ie,De,Ge,Qe,ke),q++}}else if(q>fe)for(;q<=Ce;)U(te[q],Ie,De,!0),q++;else{const ge=q,Ue=q,tt=new Map;for(q=Ue;q<=fe;q++){const ft=le[q]=ke?rc(le[q]):ol(le[q]);ft.key!=null&&tt.set(ft.key,q)}let ot,Ye=0;const we=fe-Ue+1;let qe=!1,Be=0;const pe=new Array(we);for(q=0;q<we;q++)pe[q]=0;for(q=ge;q<=Ce;q++){const ft=te[q];if(Ye>=we){U(ft,Ie,De,!0);continue}let Ee;if(ft.key!=null)Ee=tt.get(ft.key);else for(ot=Ue;ot<=fe;ot++)if(pe[ot-Ue]===0&&Mf(ft,le[ot])){Ee=ot;break}Ee===void 0?U(ft,Ie,De,!0):(pe[Ee-Ue]=q+1,Ee>=Be?Be=Ee:qe=!0,p(ft,le[Ee],Ae,null,Ie,De,Ge,Qe,ke),Ye++)}const Re=qe?$ee(pe):kh;for(ot=Re.length-1,q=we-1;q>=0;q--){const ft=Ue+q,Ee=le[ft],wt=ft+1<j?le[ft+1].el:Ve;pe[q]===0?p(null,Ee,Ae,wt,Ie,De,Ge,Qe,ke):qe&&(ot<0||q!==Re[ot]?z(Ee,Ae,wt,2):ot--)}}},z=(te,le,Ae,Ve,Ie=null)=>{const{el:De,type:Ge,transition:Qe,children:ke,shapeFlag:q}=te;if(q&6){z(te.component.subTree,le,Ae,Ve);return}if(q&128){te.suspense.move(le,Ae,Ve);return}if(q&64){Ge.move(te,le,Ae,me);return}if(Ge===zt){n(De,le,Ae);for(let Ce=0;Ce<ke.length;Ce++)z(ke[Ce],le,Ae,Ve);n(te.anchor,le,Ae);return}if(Ge===L_){y(te,le,Ae);return}if(Ve!==2&&q&1&&Qe)if(Ve===0)Qe.beforeEnter(De),n(De,le,Ae),Qi(()=>Qe.enter(De),Ie);else{const{leave:Ce,delayLeave:fe,afterLeave:ge}=Qe,Ue=()=>n(De,le,Ae),tt=()=>{Ce(De,()=>{Ue(),ge&&ge()})};fe?fe(De,Ue,tt):tt()}else n(De,le,Ae)},U=(te,le,Ae,Ve=!1,Ie=!1)=>{const{type:De,props:Ge,ref:Qe,children:ke,dynamicChildren:q,shapeFlag:j,patchFlag:Ce,dirs:fe}=te;if(Qe!=null&&LS(Qe,null,Ae,te,!0),j&256){le.ctx.deactivate(te);return}const ge=j&1&&fe,Ue=!Zp(te);let tt;if(Ue&&(tt=Ge&&Ge.onVnodeBeforeUnmount)&&Zs(tt,le,te),j&6)ie(te.component,Ae,Ve);else{if(j&128){te.suspense.unmount(Ae,Ve);return}ge&&cf(te,null,le,"beforeUnmount"),j&64?te.type.remove(te,le,Ae,Ie,me,Ve):q&&(De!==zt||Ce>0&&Ce&64)?X(q,le,Ae,!1,!0):(De===zt&&Ce&384||!Ie&&j&16)&&X(ke,le,Ae),Ve&&H(te)}(Ue&&(tt=Ge&&Ge.onVnodeUnmounted)||ge)&&Qi(()=>{tt&&Zs(tt,le,te),ge&&cf(te,null,le,"unmounted")},Ae)},H=te=>{const{type:le,el:Ae,anchor:Ve,transition:Ie}=te;if(le===zt){Y(Ae,Ve);return}if(le===L_){w(te);return}const De=()=>{a(Ae),Ie&&!Ie.persisted&&Ie.afterLeave&&Ie.afterLeave()};if(te.shapeFlag&1&&Ie&&!Ie.persisted){const{leave:Ge,delayLeave:Qe}=Ie,ke=()=>Ge(Ae,De);Qe?Qe(te.el,De,ke):ke()}else De()},Y=(te,le)=>{let Ae;for(;te!==le;)Ae=d(te),a(te),te=Ae;a(le)},ie=(te,le,Ae)=>{const{bum:Ve,scope:Ie,update:De,subTree:Ge,um:Qe}=te;Ve&&w1(Ve),Ie.stop(),De&&(De.active=!1,U(Ge,te,le,Ae)),Qe&&Qi(Qe,le),Qi(()=>{te.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&te.asyncDep&&!te.asyncResolved&&te.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},X=(te,le,Ae,Ve=!1,Ie=!1,De=0)=>{for(let Ge=De;Ge<te.length;Ge++)U(te[Ge],le,Ae,Ve,Ie)},re=te=>te.shapeFlag&6?re(te.component.subTree):te.shapeFlag&128?te.suspense.next():d(te.anchor||te.el);let oe=!1;const Ne=(te,le,Ae)=>{te==null?le._vnode&&U(le._vnode,null,null,!0):p(le._vnode||null,te,le,null,null,null,Ae),oe||(oe=!0,YN(),yF(),oe=!1),le._vnode=te},me={p,um:U,m:z,r:H,mt:P,mc:C,pc:B,pbc:M,n:re,o:e};let xe,ze;return{render:Ne,hydrate:xe,createApp:kee(Ne,xe)}}function O_({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ff({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Ree(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function KT(e,t,r=!1){const n=e.children,a=t.children;if(_t(n)&&_t(a))for(let i=0;i<n.length;i++){const o=n[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=rc(a[i]),s.el=o.el),r||KT(o,s)),s.type===Iv&&(s.el=o.el)}}function $ee(e){const t=e.slice(),r=[0];let n,a,i,o,s;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(a=r[r.length-1],e[a]<u){t[n]=a,r.push(n);continue}for(i=0,o=r.length-1;i<o;)s=i+o>>1,e[r[s]]<u?i=s+1:o=s;u<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}function GF(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:GF(t)}const Bee=e=>e.__isTeleport,eg=e=>e&&(e.disabled||e.disabled===""),iP=e=>typeof SVGElement<"u"&&e instanceof SVGElement,oP=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,NS=(e,t)=>{const r=e&&e.to;return nr(r)?t?t(r):null:r},Fee={name:"Teleport",__isTeleport:!0,process(e,t,r,n,a,i,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:v,createText:p,createComment:m}}=u,g=eg(t.props);let{shapeFlag:b,children:y,dynamicChildren:w}=t;if(e==null){const _=t.el=p(""),x=t.anchor=p("");h(_,r,n),h(x,r,n);const S=t.target=NS(t.props,v),C=t.targetAnchor=p("");S&&(h(C,S),o==="svg"||iP(S)?o="svg":(o==="mathml"||oP(S))&&(o="mathml"));const T=(M,k)=>{b&16&&c(y,M,k,a,i,o,s,l)};g?T(r,x):S&&T(S,C)}else{t.el=e.el;const _=t.anchor=e.anchor,x=t.target=e.target,S=t.targetAnchor=e.targetAnchor,C=eg(e.props),T=C?r:x,M=C?_:S;if(o==="svg"||iP(x)?o="svg":(o==="mathml"||oP(x))&&(o="mathml"),w?(d(e.dynamicChildren,w,T,a,i,o,s),KT(e,t,!0)):l||f(e,t,T,M,a,i,o,s,!1),g)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ty(t,r,_,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const k=t.target=NS(t.props,v);k&&ty(t,k,null,u,0)}else C&&ty(t,x,S,u,1)}jF(t)},remove(e,t,r,n,{um:a,o:{remove:i}},o){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:f,props:d}=e;if(f&&i(c),o&&i(u),s&16){const h=o||!eg(d);for(let v=0;v<l.length;v++){const p=l[v];a(p,t,r,h,!!p.dynamicChildren)}}},move:ty,hydrate:zee};function ty(e,t,r,{o:{insert:n},m:a},i=2){i===0&&n(e.targetAnchor,t,r);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&n(o,t,r),(!f||eg(c))&&l&16)for(let d=0;d<u.length;d++)a(u[d],t,r,2);f&&n(s,t,r)}function zee(e,t,r,n,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l}},u){const c=t.target=NS(t.props,l);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(eg(t.props))t.anchor=u(o(e),t,s(e),r,n,a,i),t.targetAnchor=f;else{t.anchor=o(e);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(f,t,c,r,n,a,i)}jF(t)}return t.anchor&&o(t.anchor)}const Av=Fee;function jF(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r&&r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const zt=Symbol.for("v-fgt"),Iv=Symbol.for("v-txt"),Bi=Symbol.for("v-cmt"),L_=Symbol.for("v-stc"),tg=[];let Is=null;function F(e=!1){tg.push(Is=e?null:[])}function Gee(){tg.pop(),Is=tg[tg.length-1]||null}let Og=1;function sP(e){Og+=e}function VF(e){return e.dynamicChildren=Og>0?Is||kh:null,Gee(),Og>0&&Is&&Is.push(e),e}function K(e,t,r,n,a,i){return VF(Z(e,t,r,n,a,i,!0))}function Oe(e,t,r,n,a){return VF(ae(e,t,r,n,a,!0))}function Rn(e){return e?e.__v_isVNode===!0:!1}function Mf(e,t){return e.type===t.type&&e.key===t.key}const UF=({key:e})=>e??null,E1=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?nr(e)||Dn(e)||Jt(e)?{i:ja,r:e,k:t,f:!!r}:e:null);function Z(e,t=null,r=null,n=0,a=null,i=e===zt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&UF(t),ref:t&&E1(t),scopeId:EF,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:ja};return s?(XT(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=nr(r)?8:16),Og>0&&!o&&Is&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Is.push(l),l}const ae=jee;function jee(e,t=null,r=null,n=0,a=null,i=!1){if((!e||e===_F)&&(e=Bi),Rn(e)){const s=pu(e,t,!0);return r&&XT(s,r),Og>0&&!i&&Is&&(s.shapeFlag&6?Is[Is.indexOf(e)]=s:Is.push(s)),s.patchFlag|=-2,s}if(qee(e)&&(e=e.__vccOpts),t){t=Wh(t);let{class:s,style:l}=t;s&&!nr(s)&&(t.class=G(s)),Sr(l)&&(cF(l)&&!_t(l)&&(l=Pa({},l)),t.style=Bt(l))}const o=nr(e)?1:see(e)?128:Bee(e)?64:Sr(e)?4:Jt(e)?2:0;return Z(e,t,r,n,a,o,i,!0)}function Wh(e){return e?cF(e)||DF(e)?Pa({},e):e:null}function pu(e,t,r=!1){const{props:n,ref:a,patchFlag:i,children:o}=e,s=t?Dr(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&UF(s),ref:t&&t.ref?r&&a?_t(a)?a.concat(E1(t)):[a,E1(t)]:E1(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==zt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pu(e.ssContent),ssFallback:e.ssFallback&&pu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function qr(e=" ",t=0){return ae(Iv,null,e,t)}function be(e="",t=!1){return t?(F(),Oe(Bi,null,e)):ae(Bi,null,e)}function ol(e){return e==null||typeof e=="boolean"?ae(Bi):_t(e)?ae(zt,null,e.slice()):typeof e=="object"?rc(e):ae(Iv,null,String(e))}function rc(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pu(e)}function XT(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(_t(t))r=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),XT(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!DF(t)?t._ctx=ja:a===3&&ja&&(ja.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Jt(t)?(t={default:t,_ctx:ja},r=32):(t=String(t),n&64?(r=16,t=[qr(t)]):r=8);e.children=t,e.shapeFlag|=r}function Dr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=G([t.class,n.class]));else if(a==="style")t.style=Bt([t.style,n.style]);else if(jw(a)){const i=t[a],o=n[a];o&&i!==o&&!(_t(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=n[a])}return t}function Zs(e,t,r,n=null){ts(e,t,7,[r,n])}const Vee=NF();let Uee=0;function Wee(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||Vee,i={uid:Uee++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new X6(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$F(n,a),emitsOptions:wF(n,a),emit:null,emitted:null,propsDefaults:Jn,inheritAttrs:n.inheritAttrs,ctx:Jn,data:Jn,props:Jn,attrs:Jn,slots:Jn,refs:Jn,setupState:Jn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=tee.bind(null,i),e.ce&&e.ce(i),i}let vi=null;const Er=()=>vi||ja;let Sb,PS;{const e=W6(),t=(r,n)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(n),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};Sb=t("__VUE_INSTANCE_SETTERS__",r=>vi=r),PS=t("__VUE_SSR_SETTERS__",r=>Qw=r)}const x0=e=>{const t=vi;return Sb(e),e.scope.on(),()=>{e.scope.off(),Sb(t)}},lP=()=>{vi&&vi.scope.off(),Sb(null)};function WF(e){return e.vnode.shapeFlag&4}let Qw=!1;function Hee(e,t=!1){t&&PS(t);const{props:r,children:n}=e.vnode,a=WF(e);Aee(e,r,a,t),Lee(e,n);const i=a?Yee(e,t):void 0;return t&&PS(!1),i}function Yee(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Eee);const{setup:n}=r;if(n){const a=e.setupContext=n.length>1?YF(e):null,i=x0(e);zc();const o=yc(n,e,0,[e.props,a]);if(Gc(),i(),Sg(o)){if(o.then(lP,lP),t)return o.then(s=>{uP(e,s,t)}).catch(s=>{Hw(s,e,0)});e.asyncDep=o}else uP(e,o,t)}else HF(e,t)}function uP(e,t,r){Jt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Sr(t)&&(e.setupState=vF(t)),HF(e,r)}let cP;function HF(e,t,r){const n=e.type;if(!e.render){if(!t&&cP&&!n.render){const a=n.template||HT(e).template;if(a){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=n,u=Pa(Pa({isCustomElement:i,delimiters:s},o),l);n.render=cP(a,u)}}e.render=n.render||mn}{const a=x0(e);zc();try{_ee(e)}finally{Gc(),a()}}}const Kee={get(e,t){return io(e,"get",""),e[t]}};function YF(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Kee),slots:e.slots,emit:e.emit,expose:t}}function Jw(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(vF(Ih(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Qp)return Qp[r](e)},has(t,r){return r in t||r in Qp}}))}function Xee(e,t=!0){return Jt(e)?e.displayName||e.name:e.name||t&&e.__name}function qee(e){return Jt(e)&&"__vccOpts"in e}const $=(e,t)=>dF(e,t,Qw);function Yt(e,t,r){const n=arguments.length;return n===2?Sr(t)&&!_t(t)?Rn(t)?ae(e,null,[t]):ae(e,t):ae(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Rn(r)&&(r=[r]),ae(e,t,r))}const Zee="3.4.23",Qee=mn;/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Jee="http://www.w3.org/2000/svg",ete="http://www.w3.org/1998/Math/MathML",nc=typeof document<"u"?document:null,fP=nc&&nc.createElement("template"),tte={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const a=t==="svg"?nc.createElementNS(Jee,e):t==="mathml"?nc.createElementNS(ete,e):nc.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>nc.createTextNode(e),createComment:e=>nc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,a,i){const o=r?r.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{fP.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const s=fP.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Gu="transition",lp="animation",Hh=Symbol("_vtc"),Ma=(e,{slots:t})=>Yt(hee,XF(e),t);Ma.displayName="Transition";const KF={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rte=Ma.props=Pa({},CF,KF),df=(e,t=[])=>{_t(e)?e.forEach(r=>r(...t)):e&&e(...t)},dP=e=>e?_t(e)?e.some(t=>t.length>1):e.length>1:!1;function XF(e){const t={};for(const A in e)A in KF||(t[A]=e[A]);if(e.css===!1)return t;const{name:r="v",type:n,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=e,v=nte(a),p=v&&v[0],m=v&&v[1],{onBeforeEnter:g,onEnter:b,onEnterCancelled:y,onLeave:w,onLeaveCancelled:_,onBeforeAppear:x=g,onAppear:S=b,onAppearCancelled:C=y}=t,T=(A,O,P)=>{Xu(A,O?c:s),Xu(A,O?u:o),P&&P()},M=(A,O)=>{A._isLeaving=!1,Xu(A,f),Xu(A,h),Xu(A,d),O&&O()},k=A=>(O,P)=>{const R=A?S:b,N=()=>T(O,A,P);df(R,[O,N]),hP(()=>{Xu(O,A?l:i),ql(O,A?c:s),dP(R)||vP(O,n,p,N)})};return Pa(t,{onBeforeEnter(A){df(g,[A]),ql(A,i),ql(A,o)},onBeforeAppear(A){df(x,[A]),ql(A,l),ql(A,u)},onEnter:k(!1),onAppear:k(!0),onLeave(A,O){A._isLeaving=!0;const P=()=>M(A,O);ql(A,f),ZF(),ql(A,d),hP(()=>{A._isLeaving&&(Xu(A,f),ql(A,h),dP(w)||vP(A,n,m,P))}),df(w,[A,P])},onEnterCancelled(A){T(A,!1),df(y,[A])},onAppearCancelled(A){T(A,!0),df(C,[A])},onLeaveCancelled(A){M(A),df(_,[A])}})}function nte(e){if(e==null)return null;if(Sr(e))return[N_(e.enter),N_(e.leave)];{const t=N_(e);return[t,t]}}function N_(e){return vJ(e)}function ql(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Hh]||(e[Hh]=new Set)).add(t)}function Xu(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Hh];r&&(r.delete(t),r.size||(e[Hh]=void 0))}function hP(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ate=0;function vP(e,t,r,n){const a=e._endId=++ate,i=()=>{a===e._endId&&n()};if(r)return setTimeout(i,r);const{type:o,timeout:s,propCount:l}=qF(e,t);if(!o)return n();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function qF(e,t){const r=window.getComputedStyle(e),n=v=>(r[v]||"").split(", "),a=n(`${Gu}Delay`),i=n(`${Gu}Duration`),o=pP(a,i),s=n(`${lp}Delay`),l=n(`${lp}Duration`),u=pP(s,l);let c=null,f=0,d=0;t===Gu?o>0&&(c=Gu,f=o,d=i.length):t===lp?u>0&&(c=lp,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?Gu:lp:null,d=c?c===Gu?i.length:l.length:0);const h=c===Gu&&/\b(transform|all)(,|$)/.test(n(`${Gu}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function pP(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>gP(r)+gP(e[n])))}function gP(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ZF(){return document.body.offsetHeight}function ite(e,t,r){const n=e[Hh];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Cb=Symbol("_vod"),QF=Symbol("_vsh"),nn={beforeMount(e,{value:t},{transition:r}){e[Cb]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):up(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),up(e,!0),n.enter(e)):n.leave(e,()=>{up(e,!1)}):up(e,t))},beforeUnmount(e,{value:t}){up(e,t)}};function up(e,t){e.style.display=t?e[Cb]:"none",e[QF]=!t}const ote=Symbol(""),ste=/(^|;)\s*display\s*:/;function lte(e,t,r){const n=e.style,a=nr(r);let i=!1;if(r&&!a){if(t)if(nr(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();r[s]==null&&_1(n,s,"")}else for(const o in t)r[o]==null&&_1(n,o,"");for(const o in r)o==="display"&&(i=!0),_1(n,o,r[o])}else if(a){if(t!==r){const o=n[ote];o&&(r+=";"+o),n.cssText=r,i=ste.test(r)}}else t&&e.removeAttribute("style");Cb in e&&(e[Cb]=i?n.display:"",e[QF]&&(n.display="none"))}const mP=/\s*!important$/;function _1(e,t,r){if(_t(r))r.forEach(n=>_1(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=ute(e,t);mP.test(r)?e.setProperty(Fc(n),r.replace(mP,""),"important"):e[n]=r}}const yP=["Webkit","Moz","ms"],P_={};function ute(e,t){const r=P_[t];if(r)return r;let n=is(t);if(n!=="filter"&&n in e)return P_[t]=n;n=_0(n);for(let a=0;a<yP.length;a++){const i=yP[a]+n;if(i in e)return P_[t]=i}return t}const bP="http://www.w3.org/1999/xlink";function cte(e,t,r,n,a){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(bP,t.slice(6,t.length)):e.setAttributeNS(bP,t,r);else{const i=wJ(t);r==null||i&&!H6(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function fte(e,t,r,n,a,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,a,i),e[t]=r??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const u=s==="OPTION"?e.getAttribute("value")||"":e.value,c=r??"";(u!==c||!("_value"in e))&&(e.value=c),r==null&&e.removeAttribute(t),e._value=r;return}let l=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=H6(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function lc(e,t,r,n){e.addEventListener(t,r,n)}function dte(e,t,r,n){e.removeEventListener(t,r,n)}const wP=Symbol("_vei");function hte(e,t,r,n,a=null){const i=e[wP]||(e[wP]={}),o=i[t];if(n&&o)o.value=n;else{const[s,l]=vte(t);if(n){const u=i[t]=mte(n,a);lc(e,s,u,l)}else o&&(dte(e,s,o,l),i[t]=void 0)}}const EP=/(?:Once|Passive|Capture)$/;function vte(e){let t;if(EP.test(e)){t={};let n;for(;n=e.match(EP);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fc(e.slice(2)),t]}let D_=0;const pte=Promise.resolve(),gte=()=>D_||(pte.then(()=>D_=0),D_=Date.now());function mte(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ts(yte(n,r.value),t,5,[n])};return r.value=e,r.attached=gte(),r}function yte(e,t){if(_t(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const _P=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bte=(e,t,r,n,a,i,o,s,l)=>{const u=a==="svg";t==="class"?ite(e,n,u):t==="style"?lte(e,r,n):jw(t)?AT(t)||hte(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wte(e,t,n,u))?fte(e,t,n,i,o,s,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),cte(e,t,n,u))};function wte(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&_P(t)&&Jt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return _P(t)&&nr(r)?!1:t in e}const JF=new WeakMap,e8=new WeakMap,Mb=Symbol("_moveCb"),xP=Symbol("_enterCb"),t8={name:"TransitionGroup",props:Pa({},rte,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Er(),n=SF();let a,i;return _u(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Cte(a[0].el,r.vnode.el,o))return;a.forEach(_te),a.forEach(xte);const s=a.filter(Ste);ZF(),s.forEach(l=>{const u=l.el,c=u.style;ql(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Mb]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[Mb]=null,Xu(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=yn(e),s=XF(o);let l=o.tag||zt;if(a=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(a.push(c),Ig(c,Ag(c,s,n,r)),JF.set(c,c.el.getBoundingClientRect()))}i=t.default?WT(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Ig(c,Ag(c,s,n,r))}return ae(l,null,i)}}},Ete=e=>delete e.mode;t8.props;const r8=t8;function _te(e){const t=e.el;t[Mb]&&t[Mb](),t[xP]&&t[xP]()}function xte(e){e8.set(e,e.el.getBoundingClientRect())}function Ste(e){const t=JF.get(e),r=e8.get(e),n=t.left-r.left,a=t.top-r.top;if(n||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${a}px)`,i.transitionDuration="0s",e}}function Cte(e,t,r){const n=e.cloneNode(),a=e[Hh];a&&a.forEach(s=>{s.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(s=>s&&n.classList.add(s)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=qF(n);return i.removeChild(n),o}const Yh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _t(t)?r=>w1(t,r):t};function Mte(e){e.target.composing=!0}function SP(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const uu=Symbol("_assign"),qT={created(e,{modifiers:{lazy:t,trim:r,number:n}},a){e[uu]=Yh(a);const i=n||a.props&&a.props.type==="number";lc(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;r&&(s=s.trim()),i&&(s=_S(s)),e[uu](s)}),r&&lc(e,"change",()=>{e.value=e.value.trim()}),t||(lc(e,"compositionstart",Mte),lc(e,"compositionend",SP),lc(e,"change",SP))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:a}},i){if(e[uu]=Yh(i),e.composing)return;const o=(a||e.type==="number")&&!/^0\d/.test(e.value)?_S(e.value):e.value,s=t??"";o!==s&&(document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===s)||(e.value=s))}},Tb={deep:!0,created(e,t,r){e[uu]=Yh(r),lc(e,"change",()=>{const n=e._modelValue,a=a8(e),i=e.checked,o=e[uu];if(_t(n)){const s=Y6(n,a),l=s!==-1;if(i&&!l)o(n.concat(a));else if(!i&&l){const u=[...n];u.splice(s,1),o(u)}}else if(Vw(n)){const s=new Set(n);i?s.add(a):s.delete(a),o(s)}else o(i8(e,i))})},mounted:CP,beforeUpdate(e,t,r){e[uu]=Yh(r),CP(e,t,r)}};function CP(e,{value:t,oldValue:r},n){e._modelValue=t,_t(t)?e.checked=Y6(t,n.props.value)>-1:Vw(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=Uh(t,i8(e,!0)))}const n8={created(e,{value:t},r){e.checked=Uh(t,r.props.value),e[uu]=Yh(r),lc(e,"change",()=>{e[uu](a8(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e[uu]=Yh(n),t!==r&&(e.checked=Uh(t,n.props.value))}};function a8(e){return"_value"in e?e._value:e.value}function i8(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Tte=["ctrl","shift","alt","meta"],kte={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Tte.some(r=>e[`${r}Key`]&&!t.includes(r))},tr=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(a,...i)=>{for(let o=0;o<t.length;o++){const s=kte[t[o]];if(s&&s(a,t))return}return e(a,...i)})},Ate={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sn=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const i=Fc(a.key);if(t.some(o=>o===i||Ate[o]===i))return e(a)})},Ite=Pa({patchProp:bte},tte);let MP;function o8(){return MP||(MP=Pee(Ite))}const Sc=(...e)=>{o8().render(...e)},s8=(...e)=>{const t=o8().createApp(...e),{mount:r}=t;return t.mount=n=>{const a=Lte(n);if(!a)return;const i=t._component;!Jt(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const o=r(a,!1,Ote(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function Ote(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Lte(e){return nr(e)?document.querySelector(e):e}var DS=function(e,t){return DS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},DS(e,t)};function jr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");DS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ee=function(){return ee=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ee.apply(this,arguments)};function Ga(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function l8(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function u8(e,t){return function(r,n){t(r,n,e)}}function Nte(e,t,r,n,a,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,d=!1,h=r.length-1;h>=0;h--){var v={};for(var p in n)v[p]=p==="access"?{}:n[p];for(var p in n.access)v.access[p]=n.access[p];v.addInitializer=function(g){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var m=(0,r[h])(s==="accessor"?{get:c.get,set:c.set}:c[l],v);if(s==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(f=o(m.get))&&(c.get=f),(f=o(m.set))&&(c.set=f),(f=o(m.init))&&a.unshift(f)}else(f=o(m))&&(s==="field"?a.unshift(f):c[l]=f)}u&&Object.defineProperty(u,n.name,c),d=!0}function Pte(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function Dte(e){return typeof e=="symbol"?e:"".concat(e)}function Rte(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function c8(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function wo(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}function Eo(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var eE=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function f8(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eE(t,e,r)}function kb(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZT(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function d8(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ZT(arguments[t]));return e}function tE(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function Oo(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Kh(e){return this instanceof Kh?(this.v=e,this):new Kh(e)}function h8(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(d){n[d]&&(a[d]=function(h){return new Promise(function(v,p){i.push([d,h,v,p])>1||s(d,h)})})}function s(d,h){try{l(n[d](h))}catch(v){f(i[0][3],v)}}function l(d){d.value instanceof Kh?Promise.resolve(d.value.v).then(u,c):f(i[0][2],d)}function u(d){s("next",d)}function c(d){s("throw",d)}function f(d,h){d(h),i.shift(),i.length&&s(i[0][0],i[0][1])}}function v8(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Kh(e[a](o)),done:!1}:i?i(o):o}:i}}function p8(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof kb=="function"?kb(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,l){o=e[i](o),a(s,l,o.done,o.value)})}}function a(i,o,s,l){Promise.resolve(l).then(function(u){i({value:u,done:s})},o)}}function g8(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $te=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function m8(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eE(t,e,r);return $te(t,e),t}function y8(e){return e&&e.__esModule?e:{default:e}}function b8(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function w8(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function E8(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function _8(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Bte=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function x8(e){function t(n){e.error=e.hasError?new Bte(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var a=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(a).then(r,function(i){return t(i),r()})}catch(i){t(i)}}if(e.hasError)throw e.error}return r()}const Fte={__extends:jr,__assign:ee,__rest:Ga,__decorate:l8,__param:u8,__metadata:c8,__awaiter:wo,__generator:Eo,__createBinding:eE,__exportStar:f8,__values:kb,__read:ZT,__spread:d8,__spreadArrays:tE,__spreadArray:Oo,__await:Kh,__asyncGenerator:h8,__asyncDelegator:v8,__asyncValues:p8,__makeTemplateObject:g8,__importStar:m8,__importDefault:y8,__classPrivateFieldGet:b8,__classPrivateFieldSet:w8,__classPrivateFieldIn:E8,__addDisposableResource:_8,__disposeResources:x8},zte=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_8,get __assign(){return ee},__asyncDelegator:v8,__asyncGenerator:h8,__asyncValues:p8,__await:Kh,__awaiter:wo,__classPrivateFieldGet:b8,__classPrivateFieldIn:E8,__classPrivateFieldSet:w8,__createBinding:eE,__decorate:l8,__disposeResources:x8,__esDecorate:Nte,__exportStar:f8,__extends:jr,__generator:Eo,__importDefault:y8,__importStar:m8,__makeTemplateObject:g8,__metadata:c8,__param:u8,__propKey:Dte,__read:ZT,__rest:Ga,__runInitializers:Pte,__setFunctionName:Rte,__spread:d8,__spreadArray:Oo,__spreadArrays:tE,__values:kb,default:Fte},Symbol.toStringTag,{value:"Module"}));var oo=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},Ab=function(e,t){return oo(e)?e.indexOf(t)>-1:!1},rE=function(e,t){if(!oo(e))return e;for(var r=[],n=0;n<e.length;n++){var a=e[n];t(a,n)&&r.push(a)}return r},Gte=function(e,t){return t===void 0&&(t=[]),rE(e,function(r){return!Ab(t,r)})},jte={}.toString,Bs=function(e,t){return jte.call(e)==="[object "+t+"]"};const ta=function(e){return Bs(e,"Function")};var hr=function(e){return e==null};const wr=function(e){return Array.isArray?Array.isArray(e):Bs(e,"Array")},si=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function pt(e,t){if(e){var r;if(wr(e))for(var n=0,a=e.length;n<a&&(r=t(e[n],n),r!==!1);n++);else if(si(e)){for(var i in e)if(e.hasOwnProperty(i)&&(r=t(e[i],i),r===!1))break}}}var S8=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return pt(e,function(r,n){ta(e)&&n==="prototype"||t.push(n)}),t};function C8(e,t){var r=S8(t),n=r.length;if(hr(e))return!n;for(var a=0;a<n;a+=1){var i=r[a];if(t[i]!==e[i]||!(i in e))return!1}return!0}var Ib=function(e){return typeof e=="object"&&e!==null},ii=function(e){if(!Ib(e)||!Bs(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function Vte(e,t){if(!wr(e))return null;var r;if(ta(t)&&(r=t),ii(t)&&(r=function(a){return C8(a,t)}),r){for(var n=0;n<e.length;n+=1)if(r(e[n]))return e[n]}return null}function Ute(e,t,r){r===void 0&&(r=0);for(var n=r;n<e.length;n++)if(t(e[n],n))return n;return-1}var Wte=function(e,t){for(var r=null,n=0;n<e.length;n++){var a=e[n],i=a[t];if(!hr(i)){wr(i)?r=i[0]:r=i;break}}return r},Hte=function(e){if(!wr(e))return[];for(var t=[],r=0;r<e.length;r++)t=t.concat(e[r]);return t},M8=function(e,t){if(t===void 0&&(t=[]),!wr(e))t.push(e);else for(var r=0;r<e.length;r+=1)M8(e[r],t);return t};const Sl=function(e){if(wr(e))return e.reduce(function(t,r){return Math.max(t,r)},e[0])},Cl=function(e){if(wr(e))return e.reduce(function(t,r){return Math.min(t,r)},e[0])};var T8=function(e){var t=e.filter(function(o){return!isNaN(o)});if(!t.length)return{min:0,max:0};if(wr(e[0])){for(var r=[],n=0;n<e.length;n++)r=r.concat(e[n]);t=r}var a=Sl(t),i=Cl(t);return{min:i,max:a}},k8=Array.prototype,Yte=k8.splice,Kte=k8.indexOf,Xte=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++)for(var a=t[n],i=-1;(i=Kte.call(e,a))>-1;)Yte.call(e,i,1);return e},qte=Array.prototype.splice,A8=function(t,r){if(!oo(t))return[];for(var n=t?r.length:0,a=n-1;n--;){var i=void 0,o=r[n];(n===a||o!==i)&&(i=o,qte.call(t,o,1))}return t},I8=function(e,t,r){if(!wr(e)&&!ii(e))return e;var n=r;return pt(e,function(a,i){n=t(n,a,i)}),n},Zte=function(e,t){var r=[];if(!oo(e))return r;for(var n=-1,a=[],i=e.length;++n<i;){var o=e[n];t(o,n,e)&&(r.push(o),a.push(n))}return A8(e,a),r};const Lt=function(e){return Bs(e,"String")};function Qte(e,t){var r;if(ta(t))r=function(a,i){return t(a)-t(i)};else{var n=[];Lt(t)?n.push(t):wr(t)&&(n=t),r=function(a,i){for(var o=0;o<n.length;o+=1){var s=n[o];if(a[s]>i[s])return 1;if(a[s]<i[s])return-1}return 0}}return e.sort(r),e}function Lg(e,t){t===void 0&&(t=new Map);var r=[];if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++){var i=e[n];t.has(i)||(r.push(i),t.set(i,!0))}return r}var Jte=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Lg([].concat.apply([],e))};const ere=function(e,t){for(var r=[],n={},a=0;a<e.length;a++){var i=e[a],o=i[t];if(!hr(o)){wr(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];n[l]||(r.push(l),n[l]=!0)}}}return r};function wl(e){if(oo(e))return e[0]}function rs(e){if(oo(e)){var t=e;return t[t.length-1]}}function tre(e,t){return wr(e)||Lt(e)?e[0]===t:!1}function rre(e,t){return wr(e)||Lt(e)?e[e.length-1]===t:!1}var nre=function(e,t){for(var r=0;r<e.length;r++)if(!t(e[r],r))return!1;return!0},are=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r))return!0;return!1},ire=Object.prototype.hasOwnProperty;function Ob(e,t){if(!t||!wr(e))return{};for(var r={},n=ta(t)?t:function(s){return s[t]},a,i=0;i<e.length;i++){var o=e[i];a=n(o),ire.call(r,a)?r[a].push(o):r[a]=[o]}return r}function O8(e,t){if(!t)return{0:e};if(!ta(t)){var r=wr(t)?t:t.replace(/\s+/g,"").split("*");t=function(n){for(var a="_",i=0,o=r.length;i<o;i++)a+=n[r[i]]&&n[r[i]].toString();return a}}return Ob(e,t)}const ore=function(e,t){if(!t)return[e];var r=O8(e,t),n=[];for(var a in r)n.push(r[a]);return n};function sre(e,t){return e["_wrap_"+t]}function If(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var r=function(n){e[t](n)};return e["_wrap_"+t]=r,r}var TP={};function lre(e){var t=TP[e];if(!t){for(var r=e.toString(16),n=r.length;n<6;n++)r="0"+r;t="#"+r,TP[e]=t}return t}function ure(e){var t=0,r=0,n=0,a=0;return wr(e)?e.length===1?t=r=n=a=e[0]:e.length===2?(t=n=e[0],r=a=e[1]):e.length===3?(t=e[0],r=a=e[1],n=e[2]):(t=e[0],r=e[1],n=e[2],a=e[3]):t=r=n=a=e,{r1:t,r2:r,r3:n,r4:a}}var cre=function(e,t,r){return e<t?t:e>r?r:e},x1=function(e,t){var r=t.toString(),n=r.indexOf(".");if(n===-1)return Math.round(e);var a=r.substr(n+1).length;return a>20&&(a=20),parseFloat(e.toFixed(a))},pr=function(e){return Bs(e,"Number")},fre=function(e){return pr(e)&&e%1!==0},dre=function(e){return pr(e)&&e%2===0},hre=Number.isInteger?Number.isInteger:function(e){return pr(e)&&e%1===0},vre=function(e){return pr(e)&&e<0},pre=1e-5;function L8(e,t,r){return r===void 0&&(r=pre),Math.abs(e-t)<r}var gre=function(e){return pr(e)&&e%2!==0},mre=function(e){return pr(e)&&e>0};const yre=function(e,t){if(wr(e)){for(var r,n=-1/0,a=0;a<e.length;a++){var i=e[a],o=ta(t)?t(i):i[t];o>n&&(r=i,n=o)}return r}},bre=function(e,t){if(wr(e)){for(var r,n=1/0,a=0;a<e.length;a++){var i=e[a],o=ta(t)?t(i):i[t];o<n&&(r=i,n=o)}return r}};var nE=function(e,t){return(e%t+t)%t},wre=180/Math.PI,Ere=function(e){return wre*e};const _re=parseInt;var xre=Math.PI/180,aE=function(e){return xre*e};const kP=function(e,t){return e.hasOwnProperty(t)};var QT=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return pt(e,function(r,n){ta(e)&&n==="prototype"||t.push(r)}),t};const Sre=function(e,t){return Ab(QT(e),t)},Ov=function(e){return hr(e)?"":e.toString()};var Cre=function(e){return Ov(e).toLowerCase()},Mre=function(e){var t=Ov(e);return t.charAt(0).toLowerCase()+t.substring(1)};function Tre(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){return r.charAt(0)==="\\"?r.slice(1):t[n]===void 0?"":t[n]})}var kre=function(e){return Ov(e).toUpperCase()},Xh=function(e){var t=Ov(e);return t.charAt(0).toUpperCase()+t.substring(1)},Are={}.toString,N8=function(e){return Are.call(e).replace(/^\[object /,"").replace(/]$/,"")},Ire=function(e){return Bs(e,"Arguments")},S0=function(e){return Bs(e,"Boolean")},JT=function(e){return Bs(e,"Date")},Ore=function(e){return Bs(e,"Error")};function Lre(e){return pr(e)&&isFinite(e)}var Nre=function(e){return e===null},Pre=Object.prototype,P8=function(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Pre;return e===r},Dre=function(e){return Bs(e,"RegExp")},Rre=function(e){return e===void 0},$re=function(e){return e instanceof Element||e instanceof HTMLDocument};function D8(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return setTimeout(r,16)};return t(e)}function R8(e){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;t(e)}function R_(e,t){for(var r in t)t.hasOwnProperty(r)&&r!=="constructor"&&t[r]!==void 0&&(e[r]=t[r])}function Cr(e,t,r,n){return t&&R_(e,t),r&&R_(e,r),n&&R_(e,n),e}var Bre=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0],n=1;n<e.length;n++){var a=e[n];ta(a)&&(a=a.prototype),Cr(r.prototype,a)}},un=function(e){if(typeof e!="object"||e===null)return e;var t;if(wr(e)){t=[];for(var r=0,n=e.length;r<n;r++)typeof e[r]=="object"&&e[r]!=null?t[r]=un(e[r]):t[r]=e[r]}else{t={};for(var a in e)typeof e[a]=="object"&&e[a]!=null?t[a]=un(e[a]):t[a]=e[a]}return t};function C0(e,t,r){var n;return function(){var a=this,i=arguments,o=function(){n=null,r||e.apply(a,i)},s=r&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(a,i)}}const $8=function(e,t){if(!ta(e))throw new TypeError("Expected a function");var r=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return o.set(i,s),s};return r.cache=new Map,r};var Fre=5;function B8(e,t,r,n){r=r||0,n=n||Fre;for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];i!==null&&ii(i)?(ii(e[a])||(e[a]={}),r<n?B8(e[a],i,r+1,n):e[a]=t[a]):wr(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var zn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n+=1)B8(e,t[n]);return e},zre=function(e,t,r,n){ta(t)||(r=t,t=e,e=function(){});var a=Object.create?function(o,s){return Object.create(o,{constructor:{value:s}})}:function(o,s){function l(){}l.prototype=o;var u=new l;return u.constructor=s,u},i=a(t.prototype,e);return e.prototype=Cr(i,e.prototype),e.superclass=a(t.prototype,t),Cr(i,r),Cr(e,n),e},ek=function(e,t){if(!oo(e))return-1;var r=Array.prototype.indexOf;if(r)return r.call(e,t);for(var n=-1,a=0;a<e.length;a++)if(e[a]===t){n=a;break}return n},Gre=Object.prototype.hasOwnProperty;function F8(e){if(hr(e))return!0;if(oo(e))return!e.length;var t=N8(e);if(t==="Map"||t==="Set")return!e.size;if(P8(e))return!Object.keys(e).length;for(var r in e)if(Gre.call(e,r))return!1;return!0}var Cc=function(e,t){if(e===t)return!0;if(!e||!t||Lt(e)||Lt(t))return!1;if(oo(e)||oo(t)){if(e.length!==t.length)return!1;for(var r=!0,n=0;n<e.length&&(r=Cc(e[n],t[n]),!!r);n++);return r}if(Ib(e)||Ib(t)){var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var r=!0,n=0;n<a.length&&(r=Cc(e[a[n]],t[a[n]]),!!r);n++);return r}return!1};const jre=function(e,t,r){return ta(r)?!!r(e,t):Cc(e,t)};var td=function(e,t){if(!oo(e))return e;for(var r=[],n=0;n<e.length;n++){var a=e[n];r.push(t(a,n))}return r},Vre=function(e){return e};const Ure=function(e,t){t===void 0&&(t=Vre);var r={};return si(e)&&!hr(e)&&Object.keys(e).forEach(function(n){r[n]=t(e[n],n)}),r},Zl=function(e,t,r){for(var n=0,a=Lt(t)?t.split("."):t;e&&n<a.length;)e=e[a[n++]];return e===void 0||n<a.length?r:e},Wre=function(e,t,r){var n=e,a=Lt(t)?t.split("."):t;return a.forEach(function(i,o){o<a.length-1?(si(n[i])||(n[i]=pr(a[o+1])?[]:{}),n=n[i]):n[i]=r}),e};var Hre=Object.prototype.hasOwnProperty;const Yre=function(e,t){if(e===null||!ii(e))return{};var r={};return pt(t,function(n){Hre.call(e,n)&&(r[n]=e[n])}),r},Kre=function(e,t){return I8(e,function(r,n,a){return t.includes(a)||(r[a]=n),r},{})},Ng=function(e,t,r){var n,a,i,o,s=0;r||(r={});var l=function(){s=r.leading===!1?0:Date.now(),n=null,o=e.apply(a,i),n||(a=i=null)},u=function(){var c=Date.now();!s&&r.leading===!1&&(s=c);var f=t-(c-s);return a=this,i=arguments,f<=0||f>t?(n&&(clearTimeout(n),n=null),s=c,o=e.apply(a,i),n||(a=i=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,f)),o};return u.cancel=function(){clearTimeout(n),s=0,n=a=i=null},u},z8=function(e){return oo(e)?Array.prototype.slice.call(e):[]};var ry={};const Ml=function(e){return e=e||"g",ry[e]?ry[e]+=1:ry[e]=1,e+ry[e]},Pp=function(){},Xre=function(e){return e};function iE(e){return hr(e)?0:oo(e)?e.length:Object.keys(e).length}var ny;const Dp=$8(function(e,t){t===void 0&&(t={});var r=t.fontSize,n=t.fontFamily,a=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return ny||(ny=document.createElement("canvas").getContext("2d")),ny.font=[i,o,a,r+"px",n].join(" "),ny.measureText(Lt(e)?e:"").width},function(e,t){return t===void 0&&(t={}),tE([e],QT(t)).join("")}),qre=function(e,t,r,n){n===void 0&&(n="...");var a=16,i=Dp(n,r),o=Lt(e)?e:Ov(e),s=t,l=[],u,c;if(Dp(e,r)<=t)return e;for(;u=o.substr(0,a),c=Dp(u,r),!(c+i>s&&c>s);)if(l.push(u),s-=c,o=o.substr(a),!o)return l.join("");for(;u=o.substr(0,1),c=Dp(u,r),!(c+i>s);)if(l.push(u),s-=c,o=o.substr(1),!o)return l.join("");return""+l.join("")+n};var Zre=function(){function e(){this.map={}}return e.prototype.has=function(t){return this.map[t]!==void 0},e.prototype.get=function(t,r){var n=this.map[t];return n===void 0?r:n},e.prototype.set=function(t,r){this.map[t]=r},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(t){delete this.map[t]},e.prototype.size=function(){return Object.keys(this.map).length},e}();const Qre=Object.freeze(Object.defineProperty({__proto__:null,Cache:Zre,assign:Cr,augment:Bre,clamp:cre,clearAnimationFrame:R8,clone:un,contains:Ab,debounce:C0,deepMix:zn,difference:Gte,each:pt,endsWith:rre,every:nre,extend:zre,filter:rE,find:Vte,findIndex:Ute,firstValue:Wte,fixedBase:x1,flatten:Hte,flattenDeep:M8,forIn:pt,get:Zl,getEllipsisText:qre,getRange:T8,getType:N8,getWrapBehavior:sre,group:ore,groupBy:Ob,groupToMap:O8,has:kP,hasKey:kP,hasValue:Sre,head:wl,identity:Xre,includes:Ab,indexOf:ek,isArguments:Ire,isArray:wr,isArrayLike:oo,isBoolean:S0,isDate:JT,isDecimal:fre,isElement:$re,isEmpty:F8,isEqual:Cc,isEqualWith:jre,isError:Ore,isEven:dre,isFinite:Lre,isFunction:ta,isInteger:hre,isMatch:C8,isNegative:vre,isNil:hr,isNull:Nre,isNumber:pr,isNumberEqual:L8,isObject:si,isObjectLike:Ib,isOdd:gre,isPlainObject:ii,isPositive:mre,isPrototype:P8,isRegExp:Dre,isString:Lt,isType:Bs,isUndefined:Rre,keys:S8,last:rs,lowerCase:Cre,lowerFirst:Mre,map:td,mapValues:Ure,max:Sl,maxBy:yre,measureTextWidth:Dp,memoize:$8,min:Cl,minBy:bre,mix:Cr,mod:nE,noop:Pp,number2color:lre,omit:Kre,parseRadius:ure,pick:Yre,pull:Xte,pullAt:A8,reduce:I8,remove:Zte,requestAnimationFrame:D8,set:Wre,size:iE,some:are,sortBy:Qte,startsWith:tre,substitute:Tre,throttle:Ng,toArray:z8,toDegree:Ere,toInteger:_re,toRadian:aE,toString:Ov,union:Jte,uniq:Lg,uniqueId:Ml,upperCase:kre,upperFirst:Xh,values:QT,valuesOfKey:ere,wrapBehavior:If},Symbol.toStringTag,{value:"Module"})),Jre={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(t){return Object.assign(this,t),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(t){var r=this,n=this.events;this.graph=t,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&t.get("canvas").set("draggable",!0),pt(n,function(a,i){t.on(i,a)}),document.addEventListener("visibilitychange",function(){r.keydown=!1})},unbind:function(t){var r=this.events,n=t.get("canvas").get("draggable");(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&t.get("canvas").set("draggable",!1),pt(r,function(a,i){t.off(i,a)}),t.get("canvas").set("draggable",n)},get:function(t){return this[t]},set:function(t,r){return this[t]=r,this}};var tk=function(){function e(){}return e.registerBehavior=function(t,r){if(!r)throw new Error("please specify handler for this behavior: ".concat(t));var n=un(Jre);Object.assign(n,r);var a=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&(pt(l,function(c,f){u[f]=If(s,c)}),this.events=u)};a.prototype=n,e.types[t]=a},e.hasBehavior=function(t){return!!e.types[t]},e.getBehavior=function(t){return e.types[t]},e.types={},e}(),ene="*",G8=function(){function e(){this._events={}}return e.prototype.on=function(t,r,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:r,once:!!n}),this},e.prototype.once=function(t,r){return this.on(t,r,!0)},e.prototype.emit=function(t){for(var r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=this._events[t]||[],o=this._events[ene]||[],s=function(l){for(var u=l.length,c=0;c<u;c++)if(l[c]){var f=l[c],d=f.callback,h=f.once;h&&(l.splice(c,1),l.length===0&&delete r._events[t],u--,c--),d.apply(r,n)}};s(i),s(o)},e.prototype.off=function(t,r){if(!t)this._events={};else if(!r)delete this._events[t];else{for(var n=this._events[t]||[],a=n.length,i=0;i<a;i++)n[i].callback===r&&(n.splice(i,1),a--,i--);n.length===0&&delete this._events[t]}return this},e.prototype.getEvents=function(){return this._events},e}(),Or=1e-6,pn=typeof Float32Array<"u"?Float32Array:Array,Os=Math.random;function tne(e){pn=e}var rne=Math.PI/180;function nne(e){return e*rne}function ane(e,t){return Math.abs(e-t)<=Or*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});const ine=Object.freeze(Object.defineProperty({__proto__:null,get ARRAY_TYPE(){return pn},EPSILON:Or,RANDOM:Os,equals:ane,setMatrixArrayType:tne,toRadian:nne},Symbol.toStringTag,{value:"Module"}));function one(){var e=new pn(4);return pn!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function sne(e){var t=new pn(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function lne(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function une(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function cne(e,t,r,n){var a=new pn(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function fne(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function dne(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function hne(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*i-a*n;return o?(o=1/o,e[0]=i*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e):null}function vne(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function pne(e){return e[0]*e[3]-e[2]*e[1]}function j8(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*s+i*l,e[1]=a*s+o*l,e[2]=n*u+i*c,e[3]=a*u+o*c,e}function gne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=a*l+o*s,e[2]=n*-s+i*l,e[3]=a*-s+o*l,e}function mne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],l=r[1];return e[0]=n*s,e[1]=a*s,e[2]=i*l,e[3]=o*l,e}function yne(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function bne(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function wne(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Ene(e){return Math.hypot(e[0],e[1],e[2],e[3])}function _ne(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function xne(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function V8(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Sne(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Cne(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],l=t[2],u=t[3];return Math.abs(r-o)<=Or*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=Or*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-l)<=Or*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-u)<=Or*Math.max(1,Math.abs(i),Math.abs(u))}function Mne(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Tne(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}var kne=j8,Ane=V8;const Ine=Object.freeze(Object.defineProperty({__proto__:null,LDU:_ne,add:xne,adjoint:vne,clone:sne,copy:lne,create:one,determinant:pne,equals:Cne,exactEquals:Sne,frob:Ene,fromRotation:yne,fromScaling:bne,fromValues:cne,identity:une,invert:hne,mul:kne,multiply:j8,multiplyScalar:Mne,multiplyScalarAndAdd:Tne,rotate:gne,scale:mne,set:fne,str:wne,sub:Ane,subtract:V8,transpose:dne},Symbol.toStringTag,{value:"Module"}));function One(){var e=new pn(6);return pn!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Lne(e){var t=new pn(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Nne(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Pne(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Dne(e,t,r,n,a,i){var o=new pn(6);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o[4]=a,o[5]=i,o}function Rne(e,t,r,n,a,i,o){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e}function $ne(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=r*i-n*a;return l?(l=1/l,e[0]=i*l,e[1]=-n*l,e[2]=-a*l,e[3]=r*l,e[4]=(a*s-i*o)*l,e[5]=(n*o-r*s)*l,e):null}function Bne(e){return e[0]*e[3]-e[1]*e[2]}function U8(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1],f=r[2],d=r[3],h=r[4],v=r[5];return e[0]=n*u+i*c,e[1]=a*u+o*c,e[2]=n*f+i*d,e[3]=a*f+o*d,e[4]=n*h+i*v+s,e[5]=a*h+o*v+l,e}function Fne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+i*u,e[1]=a*c+o*u,e[2]=n*-u+i*c,e[3]=a*-u+o*c,e[4]=s,e[5]=l,e}function zne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n*u,e[1]=a*u,e[2]=i*c,e[3]=o*c,e[4]=s,e[5]=l,e}function Gne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=r[0],c=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=n*u+i*c+s,e[5]=a*u+o*c+l,e}function jne(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function Vne(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function Une(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function Wne(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function Hne(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function Yne(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function W8(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function Kne(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function Xne(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function qne(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function Zne(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=t[0],u=t[1],c=t[2],f=t[3],d=t[4],h=t[5];return Math.abs(r-l)<=Or*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=Or*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-c)<=Or*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-f)<=Or*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-d)<=Or*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=Or*Math.max(1,Math.abs(s),Math.abs(h))}var Qne=U8,Jne=W8;const eae=Object.freeze(Object.defineProperty({__proto__:null,add:Yne,clone:Lne,copy:Nne,create:One,determinant:Bne,equals:Zne,exactEquals:qne,frob:Hne,fromRotation:jne,fromScaling:Vne,fromTranslation:Une,fromValues:Dne,identity:Pne,invert:$ne,mul:Qne,multiply:U8,multiplyScalar:Kne,multiplyScalarAndAdd:Xne,rotate:Fne,scale:zne,set:Rne,str:Wne,sub:Jne,subtract:W8,translate:Gne},Symbol.toStringTag,{value:"Module"}));function H8(){var e=new pn(9);return pn!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function tae(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function rae(e){var t=new pn(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function nae(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function aae(e,t,r,n,a,i,o,s,l){var u=new pn(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u[8]=l,u}function iae(e,t,r,n,a,i,o,s,l,u){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e}function oae(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function sae(e,t){if(e===t){var r=t[1],n=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function rk(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,d=-c*i+s*l,h=u*i-o*l,v=r*f+n*d+a*h;return v?(v=1/v,e[0]=f*v,e[1]=(-c*n+a*u)*v,e[2]=(s*n-a*o)*v,e[3]=d*v,e[4]=(c*r-a*l)*v,e[5]=(-s*r+a*i)*v,e[6]=h*v,e[7]=(-u*r+n*l)*v,e[8]=(o*r-n*i)*v,e):null}function lae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=a*u-n*c,e[2]=n*s-a*o,e[3]=s*l-i*c,e[4]=r*c-a*l,e[5]=a*i-r*s,e[6]=i*u-o*l,e[7]=n*l-r*u,e[8]=r*o-n*i,e}function uae(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*i-o*l)+r*(-u*a+o*s)+n*(l*a-i*s)}function Ol(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1],v=r[2],p=r[3],m=r[4],g=r[5],b=r[6],y=r[7],w=r[8];return e[0]=d*n+h*o+v*u,e[1]=d*a+h*s+v*c,e[2]=d*i+h*l+v*f,e[3]=p*n+m*o+g*u,e[4]=p*a+m*s+g*c,e[5]=p*i+m*l+g*f,e[6]=b*n+y*o+w*u,e[7]=b*a+y*s+w*c,e[8]=b*i+y*l+w*f,e}function cae(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e[6]=d*n+h*o+u,e[7]=d*a+h*s+c,e[8]=d*i+h*l+f,e}function fae(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*o,e[1]=h*a+d*s,e[2]=h*i+d*l,e[3]=h*o-d*n,e[4]=h*s-d*a,e[5]=h*l-d*i,e[6]=u,e[7]=c,e[8]=f,e}function dae(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function nk(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function ak(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ik(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function hae(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function vae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,l=a+a,u=r*o,c=n*o,f=n*s,d=a*o,h=a*s,v=a*l,p=i*o,m=i*s,g=i*l;return e[0]=1-f-v,e[3]=c-g,e[6]=d+m,e[1]=c+g,e[4]=1-u-v,e[7]=h-p,e[2]=d-m,e[5]=h+p,e[8]=1-u-f,e}function pae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15],b=r*s-n*o,y=r*l-a*o,w=r*u-i*o,_=n*l-a*s,x=n*u-i*s,S=a*u-i*l,C=c*p-f*v,T=c*m-d*v,M=c*g-h*v,k=f*m-d*p,A=f*g-h*p,O=d*g-h*m,P=b*O-y*A+w*k+_*M-x*T+S*C;return P?(P=1/P,e[0]=(s*O-l*A+u*k)*P,e[1]=(l*M-o*O-u*T)*P,e[2]=(o*A-s*M+u*C)*P,e[3]=(a*A-n*O-i*k)*P,e[4]=(r*O-a*M+i*T)*P,e[5]=(n*M-r*A-i*C)*P,e[6]=(p*S-m*x+g*_)*P,e[7]=(m*w-v*S-g*y)*P,e[8]=(v*x-p*w+g*b)*P,e):null}function gae(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function mae(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function yae(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function bae(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function Y8(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function wae(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Eae(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function _ae(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function xae(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=t[0],d=t[1],h=t[2],v=t[3],p=t[4],m=t[5],g=t[6],b=t[7],y=t[8];return Math.abs(r-f)<=Or*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-d)<=Or*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=Or*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(i-v)<=Or*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(o-p)<=Or*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-m)<=Or*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-g)<=Or*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-b)<=Or*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(c-y)<=Or*Math.max(1,Math.abs(c),Math.abs(y))}var Sae=Ol,Cae=Y8;const K8=Object.freeze(Object.defineProperty({__proto__:null,add:bae,adjoint:lae,clone:rae,copy:nae,create:H8,determinant:uae,equals:xae,exactEquals:_ae,frob:yae,fromMat2d:hae,fromMat4:tae,fromQuat:vae,fromRotation:ak,fromScaling:ik,fromTranslation:nk,fromValues:aae,identity:oae,invert:rk,mul:Sae,multiply:Ol,multiplyScalar:wae,multiplyScalarAndAdd:Eae,normalFromMat4:pae,projection:gae,rotate:fae,scale:dae,set:iae,str:mae,sub:Cae,subtract:Y8,translate:cae,transpose:sae},Symbol.toStringTag,{value:"Module"}));function Mae(){var e=new pn(16);return pn!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Tae(e){var t=new pn(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function kae(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Aae(e,t,r,n,a,i,o,s,l,u,c,f,d,h,v,p){var m=new pn(16);return m[0]=e,m[1]=t,m[2]=r,m[3]=n,m[4]=a,m[5]=i,m[6]=o,m[7]=s,m[8]=l,m[9]=u,m[10]=c,m[11]=f,m[12]=d,m[13]=h,m[14]=v,m[15]=p,m}function Iae(e,t,r,n,a,i,o,s,l,u,c,f,d,h,v,p,m){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=f,e[11]=d,e[12]=h,e[13]=v,e[14]=p,e[15]=m,e}function X8(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Oae(e,t){if(e===t){var r=t[1],n=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Lae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15],b=r*s-n*o,y=r*l-a*o,w=r*u-i*o,_=n*l-a*s,x=n*u-i*s,S=a*u-i*l,C=c*p-f*v,T=c*m-d*v,M=c*g-h*v,k=f*m-d*p,A=f*g-h*p,O=d*g-h*m,P=b*O-y*A+w*k+_*M-x*T+S*C;return P?(P=1/P,e[0]=(s*O-l*A+u*k)*P,e[1]=(a*A-n*O-i*k)*P,e[2]=(p*S-m*x+g*_)*P,e[3]=(d*x-f*S-h*_)*P,e[4]=(l*M-o*O-u*T)*P,e[5]=(r*O-a*M+i*T)*P,e[6]=(m*w-v*S-g*y)*P,e[7]=(c*S-d*w+h*y)*P,e[8]=(o*A-s*M+u*C)*P,e[9]=(n*M-r*A-i*C)*P,e[10]=(v*x-p*w+g*b)*P,e[11]=(f*w-c*x-h*b)*P,e[12]=(s*T-o*k-l*C)*P,e[13]=(r*k-n*T+a*C)*P,e[14]=(p*y-v*_-m*b)*P,e[15]=(c*_-f*y+d*b)*P,e):null}function Nae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],p=t[13],m=t[14],g=t[15];return e[0]=s*(d*g-h*m)-f*(l*g-u*m)+p*(l*h-u*d),e[1]=-(n*(d*g-h*m)-f*(a*g-i*m)+p*(a*h-i*d)),e[2]=n*(l*g-u*m)-s*(a*g-i*m)+p*(a*u-i*l),e[3]=-(n*(l*h-u*d)-s*(a*h-i*d)+f*(a*u-i*l)),e[4]=-(o*(d*g-h*m)-c*(l*g-u*m)+v*(l*h-u*d)),e[5]=r*(d*g-h*m)-c*(a*g-i*m)+v*(a*h-i*d),e[6]=-(r*(l*g-u*m)-o*(a*g-i*m)+v*(a*u-i*l)),e[7]=r*(l*h-u*d)-o*(a*h-i*d)+c*(a*u-i*l),e[8]=o*(f*g-h*p)-c*(s*g-u*p)+v*(s*h-u*f),e[9]=-(r*(f*g-h*p)-c*(n*g-i*p)+v*(n*h-i*f)),e[10]=r*(s*g-u*p)-o*(n*g-i*p)+v*(n*u-i*s),e[11]=-(r*(s*h-u*f)-o*(n*h-i*f)+c*(n*u-i*s)),e[12]=-(o*(f*m-d*p)-c*(s*m-l*p)+v*(s*d-l*f)),e[13]=r*(f*m-d*p)-c*(n*m-a*p)+v*(n*d-a*f),e[14]=-(r*(s*m-l*p)-o*(n*m-a*p)+v*(n*l-a*s)),e[15]=r*(s*d-l*f)-o*(n*d-a*f)+c*(n*l-a*s),e}function Pae(e){var t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],v=e[13],p=e[14],m=e[15],g=t*o-r*i,b=t*s-n*i,y=t*l-a*i,w=r*s-n*o,_=r*l-a*o,x=n*l-a*s,S=u*v-c*h,C=u*p-f*h,T=u*m-d*h,M=c*p-f*v,k=c*m-d*v,A=f*m-d*p;return g*A-b*k+y*M+w*T-_*C+x*S}function q8(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],v=t[11],p=t[12],m=t[13],g=t[14],b=t[15],y=r[0],w=r[1],_=r[2],x=r[3];return e[0]=y*n+w*s+_*f+x*p,e[1]=y*a+w*l+_*d+x*m,e[2]=y*i+w*u+_*h+x*g,e[3]=y*o+w*c+_*v+x*b,y=r[4],w=r[5],_=r[6],x=r[7],e[4]=y*n+w*s+_*f+x*p,e[5]=y*a+w*l+_*d+x*m,e[6]=y*i+w*u+_*h+x*g,e[7]=y*o+w*c+_*v+x*b,y=r[8],w=r[9],_=r[10],x=r[11],e[8]=y*n+w*s+_*f+x*p,e[9]=y*a+w*l+_*d+x*m,e[10]=y*i+w*u+_*h+x*g,e[11]=y*o+w*c+_*v+x*b,y=r[12],w=r[13],_=r[14],x=r[15],e[12]=y*n+w*s+_*f+x*p,e[13]=y*a+w*l+_*d+x*m,e[14]=y*i+w*u+_*h+x*g,e[15]=y*o+w*c+_*v+x*b,e}function Dae(e,t,r){var n=r[0],a=r[1],i=r[2],o,s,l,u,c,f,d,h,v,p,m,g;return t===e?(e[12]=t[0]*n+t[4]*a+t[8]*i+t[12],e[13]=t[1]*n+t[5]*a+t[9]*i+t[13],e[14]=t[2]*n+t[6]*a+t[10]*i+t[14],e[15]=t[3]*n+t[7]*a+t[11]*i+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],v=t[8],p=t[9],m=t[10],g=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=v,e[9]=p,e[10]=m,e[11]=g,e[12]=o*n+c*a+v*i+t[12],e[13]=s*n+f*a+p*i+t[13],e[14]=l*n+d*a+m*i+t[14],e[15]=u*n+h*a+g*i+t[15]),e}function Rae(e,t,r){var n=r[0],a=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $ae(e,t,r,n){var a=n[0],i=n[1],o=n[2],s=Math.hypot(a,i,o),l,u,c,f,d,h,v,p,m,g,b,y,w,_,x,S,C,T,M,k,A,O,P,R;return s<Or?null:(s=1/s,a*=s,i*=s,o*=s,l=Math.sin(r),u=Math.cos(r),c=1-u,f=t[0],d=t[1],h=t[2],v=t[3],p=t[4],m=t[5],g=t[6],b=t[7],y=t[8],w=t[9],_=t[10],x=t[11],S=a*a*c+u,C=i*a*c+o*l,T=o*a*c-i*l,M=a*i*c-o*l,k=i*i*c+u,A=o*i*c+a*l,O=a*o*c+i*l,P=i*o*c-a*l,R=o*o*c+u,e[0]=f*S+p*C+y*T,e[1]=d*S+m*C+w*T,e[2]=h*S+g*C+_*T,e[3]=v*S+b*C+x*T,e[4]=f*M+p*k+y*A,e[5]=d*M+m*k+w*A,e[6]=h*M+g*k+_*A,e[7]=v*M+b*k+x*A,e[8]=f*O+p*P+y*R,e[9]=d*O+m*P+w*R,e[10]=h*O+g*P+_*R,e[11]=v*O+b*P+x*R,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Bae(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+u*n,e[5]=o*a+c*n,e[6]=s*a+f*n,e[7]=l*a+d*n,e[8]=u*a-i*n,e[9]=c*a-o*n,e[10]=f*a-s*n,e[11]=d*a-l*n,e}function Fae(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-u*n,e[1]=o*a-c*n,e[2]=s*a-f*n,e[3]=l*a-d*n,e[8]=i*n+u*a,e[9]=o*n+c*a,e[10]=s*n+f*a,e[11]=l*n+d*a,e}function zae(e,t,r){var n=Math.sin(r),a=Math.cos(r),i=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+u*n,e[1]=o*a+c*n,e[2]=s*a+f*n,e[3]=l*a+d*n,e[4]=u*a-i*n,e[5]=c*a-o*n,e[6]=f*a-s*n,e[7]=d*a-l*n,e}function Gae(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function jae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Vae(e,t,r){var n=r[0],a=r[1],i=r[2],o=Math.hypot(n,a,i),s,l,u;return o<Or?null:(o=1/o,n*=o,a*=o,i*=o,s=Math.sin(t),l=Math.cos(t),u=1-l,e[0]=n*n*u+l,e[1]=a*n*u+i*s,e[2]=i*n*u-a*s,e[3]=0,e[4]=n*a*u-i*s,e[5]=a*a*u+l,e[6]=i*a*u+n*s,e[7]=0,e[8]=n*i*u+a*s,e[9]=a*i*u-n*s,e[10]=i*i*u+l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Uae(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Wae(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Hae(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Z8(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=n+n,l=a+a,u=i+i,c=n*s,f=n*l,d=n*u,h=a*l,v=a*u,p=i*u,m=o*s,g=o*l,b=o*u;return e[0]=1-(h+p),e[1]=f+b,e[2]=d-g,e[3]=0,e[4]=f-b,e[5]=1-(c+p),e[6]=v+m,e[7]=0,e[8]=d+g,e[9]=v-m,e[10]=1-(c+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Yae(e,t){var r=new pn(3),n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=n*n+a*a+i*i+o*o;return f>0?(r[0]=(s*o+c*n+l*i-u*a)*2/f,r[1]=(l*o+c*a+u*n-s*i)*2/f,r[2]=(u*o+c*i+s*a-l*n)*2/f):(r[0]=(s*o+c*n+l*i-u*a)*2,r[1]=(l*o+c*a+u*n-s*i)*2,r[2]=(u*o+c*i+s*a-l*n)*2),Z8(e,t,r),e}function Q8(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function J8(e,t){var r=t[0],n=t[1],a=t[2],i=t[4],o=t[5],s=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.hypot(r,n,a),e[1]=Math.hypot(i,o,s),e[2]=Math.hypot(l,u,c),e}function ez(e,t){var r=new pn(3);J8(r,t);var n=1/r[0],a=1/r[1],i=1/r[2],o=t[0]*n,s=t[1]*a,l=t[2]*i,u=t[4]*n,c=t[5]*a,f=t[6]*i,d=t[8]*n,h=t[9]*a,v=t[10]*i,p=o+c+v,m=0;return p>0?(m=Math.sqrt(p+1)*2,e[3]=.25*m,e[0]=(f-h)/m,e[1]=(d-l)/m,e[2]=(s-u)/m):o>c&&o>v?(m=Math.sqrt(1+o-c-v)*2,e[3]=(f-h)/m,e[0]=.25*m,e[1]=(s+u)/m,e[2]=(d+l)/m):c>v?(m=Math.sqrt(1+c-o-v)*2,e[3]=(d-l)/m,e[0]=(s+u)/m,e[1]=.25*m,e[2]=(f+h)/m):(m=Math.sqrt(1+v-o-c)*2,e[3]=(s-u)/m,e[0]=(d+l)/m,e[1]=(f+h)/m,e[2]=.25*m),e}function Kae(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3],l=a+a,u=i+i,c=o+o,f=a*l,d=a*u,h=a*c,v=i*u,p=i*c,m=o*c,g=s*l,b=s*u,y=s*c,w=n[0],_=n[1],x=n[2];return e[0]=(1-(v+m))*w,e[1]=(d+y)*w,e[2]=(h-b)*w,e[3]=0,e[4]=(d-y)*_,e[5]=(1-(f+m))*_,e[6]=(p+g)*_,e[7]=0,e[8]=(h+b)*x,e[9]=(p-g)*x,e[10]=(1-(f+v))*x,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Xae(e,t,r,n,a){var i=t[0],o=t[1],s=t[2],l=t[3],u=i+i,c=o+o,f=s+s,d=i*u,h=i*c,v=i*f,p=o*c,m=o*f,g=s*f,b=l*u,y=l*c,w=l*f,_=n[0],x=n[1],S=n[2],C=a[0],T=a[1],M=a[2],k=(1-(p+g))*_,A=(h+w)*_,O=(v-y)*_,P=(h-w)*x,R=(1-(d+g))*x,N=(m+b)*x,L=(v+y)*S,B=(m-b)*S,I=(1-(d+p))*S;return e[0]=k,e[1]=A,e[2]=O,e[3]=0,e[4]=P,e[5]=R,e[6]=N,e[7]=0,e[8]=L,e[9]=B,e[10]=I,e[11]=0,e[12]=r[0]+C-(k*C+P*T+L*M),e[13]=r[1]+T-(A*C+R*T+B*M),e[14]=r[2]+M-(O*C+N*T+I*M),e[15]=1,e}function qae(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r+r,s=n+n,l=a+a,u=r*o,c=n*o,f=n*s,d=a*o,h=a*s,v=a*l,p=i*o,m=i*s,g=i*l;return e[0]=1-f-v,e[1]=c+g,e[2]=d-m,e[3]=0,e[4]=c-g,e[5]=1-u-v,e[6]=h+p,e[7]=0,e[8]=d+m,e[9]=h-p,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Zae(e,t,r,n,a,i,o){var s=1/(r-t),l=1/(a-n),u=1/(i-o);return e[0]=i*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i*2*l,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(a+n)*l,e[10]=(o+i)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*u,e[15]=0,e}function tz(e,t,r,n,a){var i=1/Math.tan(t/2),o;return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0?(o=1/(n-a),e[10]=(a+n)*o,e[14]=2*a*n*o):(e[10]=-1,e[14]=-2*n),e}var Qae=tz;function Jae(e,t,r,n,a){var i=1/Math.tan(t/2),o;return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,a!=null&&a!==1/0?(o=1/(n-a),e[10]=a*o,e[14]=a*n*o):(e[10]=-1,e[14]=-n),e}function eie(e,t,r,n){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(a+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-((o-s)*l*.5),e[9]=(a-i)*u*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function rz(e,t,r,n,a,i,o){var s=1/(t-r),l=1/(n-a),u=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*l,e[14]=(o+i)*u,e[15]=1,e}var tie=rz;function rie(e,t,r,n,a,i,o){var s=1/(t-r),l=1/(n-a),u=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=u,e[11]=0,e[12]=(t+r)*s,e[13]=(a+n)*l,e[14]=i*u,e[15]=1,e}function nie(e,t,r,n){var a,i,o,s,l,u,c,f,d,h,v=t[0],p=t[1],m=t[2],g=n[0],b=n[1],y=n[2],w=r[0],_=r[1],x=r[2];return Math.abs(v-w)<Or&&Math.abs(p-_)<Or&&Math.abs(m-x)<Or?X8(e):(c=v-w,f=p-_,d=m-x,h=1/Math.hypot(c,f,d),c*=h,f*=h,d*=h,a=b*d-y*f,i=y*c-g*d,o=g*f-b*c,h=Math.hypot(a,i,o),h?(h=1/h,a*=h,i*=h,o*=h):(a=0,i=0,o=0),s=f*o-d*i,l=d*a-c*o,u=c*i-f*a,h=Math.hypot(s,l,u),h?(h=1/h,s*=h,l*=h,u*=h):(s=0,l=0,u=0),e[0]=a,e[1]=s,e[2]=c,e[3]=0,e[4]=i,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=u,e[10]=d,e[11]=0,e[12]=-(a*v+i*p+o*m),e[13]=-(s*v+l*p+u*m),e[14]=-(c*v+f*p+d*m),e[15]=1,e)}function aie(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=n[0],l=n[1],u=n[2],c=a-r[0],f=i-r[1],d=o-r[2],h=c*c+f*f+d*d;h>0&&(h=1/Math.sqrt(h),c*=h,f*=h,d*=h);var v=l*d-u*f,p=u*c-s*d,m=s*f-l*c;return h=v*v+p*p+m*m,h>0&&(h=1/Math.sqrt(h),v*=h,p*=h,m*=h),e[0]=v,e[1]=p,e[2]=m,e[3]=0,e[4]=f*m-d*p,e[5]=d*v-c*m,e[6]=c*p-f*v,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function iie(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function oie(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function sie(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function nz(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function lie(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function uie(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function cie(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function fie(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],h=e[11],v=e[12],p=e[13],m=e[14],g=e[15],b=t[0],y=t[1],w=t[2],_=t[3],x=t[4],S=t[5],C=t[6],T=t[7],M=t[8],k=t[9],A=t[10],O=t[11],P=t[12],R=t[13],N=t[14],L=t[15];return Math.abs(r-b)<=Or*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-y)<=Or*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(a-w)<=Or*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(i-_)<=Or*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-x)<=Or*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-S)<=Or*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-C)<=Or*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-T)<=Or*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(c-M)<=Or*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(f-k)<=Or*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(d-A)<=Or*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(h-O)<=Or*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(v-P)<=Or*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(p-R)<=Or*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-N)<=Or*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-L)<=Or*Math.max(1,Math.abs(g),Math.abs(L))}var die=q8,hie=nz;const vie=Object.freeze(Object.defineProperty({__proto__:null,add:sie,adjoint:Nae,clone:Tae,copy:kae,create:Mae,determinant:Pae,equals:fie,exactEquals:cie,frob:oie,fromQuat:qae,fromQuat2:Yae,fromRotation:Vae,fromRotationTranslation:Z8,fromRotationTranslationScale:Kae,fromRotationTranslationScaleOrigin:Xae,fromScaling:jae,fromTranslation:Gae,fromValues:Aae,fromXRotation:Uae,fromYRotation:Wae,fromZRotation:Hae,frustum:Zae,getRotation:ez,getScaling:J8,getTranslation:Q8,identity:X8,invert:Lae,lookAt:nie,mul:die,multiply:q8,multiplyScalar:lie,multiplyScalarAndAdd:uie,ortho:tie,orthoNO:rz,orthoZO:rie,perspective:Qae,perspectiveFromFieldOfView:eie,perspectiveNO:tz,perspectiveZO:Jae,rotate:$ae,rotateX:Bae,rotateY:Fae,rotateZ:zae,scale:Rae,set:Iae,str:iie,sub:hie,subtract:nz,targetTo:aie,translate:Dae,transpose:Oae},Symbol.toStringTag,{value:"Module"}));function ok(){var e=new pn(3);return pn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function pie(e){var t=new pn(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function az(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function RS(e,t,r){var n=new pn(3);return n[0]=e,n[1]=t,n[2]=r,n}function gie(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function mie(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function yie(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function iz(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function oz(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function sz(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function bie(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function wie(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Eie(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function _ie(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function xie(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Sie(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Cie(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function lz(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.hypot(r,n,a)}function uz(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a}function cz(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function Mie(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Tie(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fz(e,t){var r=t[0],n=t[1],a=t[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function sk(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function S1(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],l=r[2];return e[0]=a*l-i*s,e[1]=i*o-n*l,e[2]=n*s-a*o,e}function kie(e,t,r,n){var a=t[0],i=t[1],o=t[2];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e}function Aie(e,t,r,n,a,i){var o=i*i,s=o*(2*i-3)+1,l=o*(i-2)+i,u=o*(i-1),c=o*(3-2*i);return e[0]=t[0]*s+r[0]*l+n[0]*u+a[0]*c,e[1]=t[1]*s+r[1]*l+n[1]*u+a[1]*c,e[2]=t[2]*s+r[2]*l+n[2]*u+a[2]*c,e}function Iie(e,t,r,n,a,i){var o=1-i,s=o*o,l=i*i,u=s*o,c=3*i*s,f=3*l*o,d=l*i;return e[0]=t[0]*u+r[0]*c+n[0]*f+a[0]*d,e[1]=t[1]*u+r[1]*c+n[1]*f+a[1]*d,e[2]=t[2]*u+r[2]*c+n[2]*f+a[2]*d,e}function Oie(e,t){t=t||1;var r=Os()*2*Math.PI,n=Os()*2-1,a=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*a,e[1]=Math.sin(r)*a,e[2]=n*t,e}function Lie(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,e[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,e[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,e[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,e}function oE(e,t,r){var n=t[0],a=t[1],i=t[2];return e[0]=n*r[0]+a*r[3]+i*r[6],e[1]=n*r[1]+a*r[4]+i*r[7],e[2]=n*r[2]+a*r[5]+i*r[8],e}function Nie(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],l=t[1],u=t[2],c=a*u-i*l,f=i*s-n*u,d=n*l-a*s,h=a*d-i*f,v=i*c-n*d,p=n*f-a*c,m=o*2;return c*=m,f*=m,d*=m,h*=2,v*=2,p*=2,e[0]=s+c+h,e[1]=l+f+v,e[2]=u+d+p,e}function Pie(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function Die(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function Rie(e,t,r,n){var a=[],i=[];return a[0]=t[0]-r[0],a[1]=t[1]-r[1],a[2]=t[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],e[0]=i[0]+r[0],e[1]=i[1]+r[1],e[2]=i[2]+r[2],e}function $ie(e,t){var r=e[0],n=e[1],a=e[2],i=t[0],o=t[1],s=t[2],l=Math.sqrt(r*r+n*n+a*a),u=Math.sqrt(i*i+o*o+s*s),c=l*u,f=c&&sk(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}function Bie(e){return e[0]=0,e[1]=0,e[2]=0,e}function Fie(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function zie(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Gie(e,t){var r=e[0],n=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(r-i)<=Or*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=Or*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-s)<=Or*Math.max(1,Math.abs(a),Math.abs(s))}var jie=iz,Vie=oz,Uie=sz,Wie=lz,Hie=uz,dz=az,Yie=cz,Kie=function(){var e=ok();return function(t,r,n,a,i,o){var s,l;for(r||(r=3),n||(n=0),a?l=Math.min(a*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}();const Xie=Object.freeze(Object.defineProperty({__proto__:null,add:yie,angle:$ie,bezier:Iie,ceil:bie,clone:pie,copy:gie,create:ok,cross:S1,dist:Wie,distance:lz,div:Uie,divide:sz,dot:sk,equals:Gie,exactEquals:zie,floor:wie,forEach:Kie,fromValues:RS,hermite:Aie,inverse:Tie,len:dz,length:az,lerp:kie,max:_ie,min:Eie,mul:Vie,multiply:oz,negate:Mie,normalize:fz,random:Oie,rotateX:Pie,rotateY:Die,rotateZ:Rie,round:xie,scale:Sie,scaleAndAdd:Cie,set:mie,sqrDist:Hie,sqrLen:Yie,squaredDistance:uz,squaredLength:cz,str:Fie,sub:jie,subtract:iz,transformMat3:oE,transformMat4:Lie,transformQuat:Nie,zero:Bie},Symbol.toStringTag,{value:"Module"}));function hz(){var e=new pn(4);return pn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function vz(e){var t=new pn(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function pz(e,t,r,n){var a=new pn(4);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a}function gz(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function mz(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function yz(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function bz(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function wz(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Ez(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function qie(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Zie(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Qie(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Jie(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function eoe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function _z(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function toe(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function xz(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.hypot(r,n,a,i)}function Sz(e,t){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return r*r+n*n+a*a+i*i}function lk(e){var t=e[0],r=e[1],n=e[2],a=e[3];return Math.hypot(t,r,n,a)}function uk(e){var t=e[0],r=e[1],n=e[2],a=e[3];return t*t+r*r+n*n+a*a}function roe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function noe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Cz(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=r*o,e[1]=n*o,e[2]=a*o,e[3]=i*o,e}function Mz(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function aoe(e,t,r,n){var a=r[0]*n[1]-r[1]*n[0],i=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],l=r[1]*n[3]-r[3]*n[1],u=r[2]*n[3]-r[3]*n[2],c=t[0],f=t[1],d=t[2],h=t[3];return e[0]=f*u-d*l+h*s,e[1]=-(c*u)+d*o-h*i,e[2]=c*l-f*o+h*a,e[3]=-(c*s)+f*i-d*a,e}function Tz(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e[2]=o+n*(r[2]-o),e[3]=s+n*(r[3]-s),e}function ioe(e,t){t=t||1;var r,n,a,i,o,s;do r=Os()*2-1,n=Os()*2-1,o=r*r+n*n;while(o>=1);do a=Os()*2-1,i=Os()*2-1,s=a*a+i*i;while(s>=1);var l=Math.sqrt((1-o)/s);return e[0]=t*r,e[1]=t*n,e[2]=t*a*l,e[3]=t*i*l,e}function ooe(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3];return e[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,e[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,e[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,e[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,e}function soe(e,t,r){var n=t[0],a=t[1],i=t[2],o=r[0],s=r[1],l=r[2],u=r[3],c=u*n+s*i-l*a,f=u*a+l*n-o*i,d=u*i+o*a-s*n,h=-o*n-s*a-l*i;return e[0]=c*u+h*-o+f*-l-d*-s,e[1]=f*u+h*-s+d*-o-c*-l,e[2]=d*u+h*-l+c*-s-f*-o,e[3]=t[3],e}function loe(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function uoe(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function kz(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Az(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=t[0],s=t[1],l=t[2],u=t[3];return Math.abs(r-o)<=Or*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=Or*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-l)<=Or*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(i-u)<=Or*Math.max(1,Math.abs(i),Math.abs(u))}var coe=bz,foe=wz,doe=Ez,hoe=xz,voe=Sz,poe=lk,goe=uk,moe=function(){var e=hz();return function(t,r,n,a,i,o){var s,l;for(r||(r=4),n||(n=0),a?l=Math.min(a*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}();const yoe=Object.freeze(Object.defineProperty({__proto__:null,add:yz,ceil:qie,clone:vz,copy:gz,create:hz,cross:aoe,dist:hoe,distance:xz,div:doe,divide:Ez,dot:Mz,equals:Az,exactEquals:kz,floor:Zie,forEach:moe,fromValues:pz,inverse:noe,len:poe,length:lk,lerp:Tz,max:Jie,min:Qie,mul:foe,multiply:wz,negate:roe,normalize:Cz,random:ioe,round:eoe,scale:_z,scaleAndAdd:toe,set:mz,sqrDist:voe,sqrLen:goe,squaredDistance:Sz,squaredLength:uk,str:uoe,sub:coe,subtract:bz,transformMat4:ooe,transformQuat:soe,zero:loe},Symbol.toStringTag,{value:"Module"}));function Lb(){var e=new pn(4);return pn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function boe(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Iz(e,t,r){r=r*.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function woe(e,t){var r=Math.acos(t[3])*2,n=Math.sin(r/2);return n>Or?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function Eoe(e,t){var r=fk(e,t);return Math.acos(2*r*r-1)}function Oz(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+o*s+a*u-i*l,e[1]=a*c+o*l+i*s-n*u,e[2]=i*c+o*u+n*l-a*s,e[3]=o*c-n*s-a*l-i*u,e}function Lz(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*s,e[1]=a*l+i*s,e[2]=i*l-a*s,e[3]=o*l-n*s,e}function Nz(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l-i*s,e[1]=a*l+o*s,e[2]=i*l+n*s,e[3]=o*l-a*s,e}function Pz(e,t,r){r*=.5;var n=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*s,e[1]=a*l-n*s,e[2]=i*l+o*s,e[3]=o*l-i*s,e}function _oe(e,t){var r=t[0],n=t[1],a=t[2];return e[0]=r,e[1]=n,e[2]=a,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),e}function Dz(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=Math.exp(i),l=o>0?s*Math.sin(o)/o:0;return e[0]=r*l,e[1]=n*l,e[2]=a*l,e[3]=s*Math.cos(o),e}function Rz(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=Math.sqrt(r*r+n*n+a*a),s=o>0?Math.atan2(o,i)/o:0;return e[0]=r*s,e[1]=n*s,e[2]=a*s,e[3]=.5*Math.log(r*r+n*n+a*a+i*i),e}function xoe(e,t,r){return Rz(e,t),Bz(e,e,r),Dz(e,e),e}function C1(e,t,r,n){var a=t[0],i=t[1],o=t[2],s=t[3],l=r[0],u=r[1],c=r[2],f=r[3],d,h,v,p,m;return h=a*l+i*u+o*c+s*f,h<0&&(h=-h,l=-l,u=-u,c=-c,f=-f),1-h>Or?(d=Math.acos(h),v=Math.sin(d),p=Math.sin((1-n)*d)/v,m=Math.sin(n*d)/v):(p=1-n,m=n),e[0]=p*a+m*l,e[1]=p*i+m*u,e[2]=p*o+m*c,e[3]=p*s+m*f,e}function Soe(e){var t=Os(),r=Os(),n=Os(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*r),e[1]=a*Math.cos(2*Math.PI*r),e[2]=i*Math.sin(2*Math.PI*n),e[3]=i*Math.cos(2*Math.PI*n),e}function Coe(e,t){var r=t[0],n=t[1],a=t[2],i=t[3],o=r*r+n*n+a*a+i*i,s=o?1/o:0;return e[0]=-r*s,e[1]=-n*s,e[2]=-a*s,e[3]=i*s,e}function Moe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function $z(e,t){var r=t[0]+t[4]+t[8],n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[a*3+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(t[a*3+a]-t[i*3+i]-t[o*3+o]+1),e[a]=.5*n,n=.5/n,e[3]=(t[i*3+o]-t[o*3+i])*n,e[i]=(t[i*3+a]+t[a*3+i])*n,e[o]=(t[o*3+a]+t[a*3+o])*n}return e}function Toe(e,t,r,n){var a=.5*Math.PI/180;t*=a,r*=a,n*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(r),l=Math.cos(r),u=Math.sin(n),c=Math.cos(n);return e[0]=i*l*c-o*s*u,e[1]=o*s*c+i*l*u,e[2]=o*l*u-i*s*c,e[3]=o*l*c+i*s*u,e}function koe(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var Aoe=vz,Ioe=pz,ck=gz,Ooe=mz,Loe=yz,Noe=Oz,Bz=_z,fk=Mz,Poe=Tz,dk=lk,Doe=dk,hk=uk,Roe=hk,vk=Cz,$oe=kz,Boe=Az,Foe=function(){var e=ok(),t=RS(1,0,0),r=RS(0,1,0);return function(n,a,i){var o=sk(a,i);return o<-.999999?(S1(e,t,a),dz(e)<1e-6&&S1(e,r,a),fz(e,e),Iz(n,e,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(S1(e,a,i),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+o,vk(n,n))}}(),zoe=function(){var e=Lb(),t=Lb();return function(r,n,a,i,o,s){return C1(e,n,o,s),C1(t,a,i,s),C1(r,e,t,2*s*(1-s)),r}}(),Goe=function(){var e=H8();return function(t,r,n,a){return e[0]=n[0],e[3]=n[1],e[6]=n[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-r[0],e[5]=-r[1],e[8]=-r[2],vk(t,$z(t,e))}}();const joe=Object.freeze(Object.defineProperty({__proto__:null,add:Loe,calculateW:_oe,clone:Aoe,conjugate:Moe,copy:ck,create:Lb,dot:fk,equals:Boe,exactEquals:$oe,exp:Dz,fromEuler:Toe,fromMat3:$z,fromValues:Ioe,getAngle:Eoe,getAxisAngle:woe,identity:boe,invert:Coe,len:Doe,length:dk,lerp:Poe,ln:Rz,mul:Noe,multiply:Oz,normalize:vk,pow:xoe,random:Soe,rotateX:Lz,rotateY:Nz,rotateZ:Pz,rotationTo:Foe,scale:Bz,set:Ooe,setAxes:Goe,setAxisAngle:Iz,slerp:C1,sqlerp:zoe,sqrLen:Roe,squaredLength:hk,str:koe},Symbol.toStringTag,{value:"Module"}));function Voe(){var e=new pn(8);return pn!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function Uoe(e){var t=new pn(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Woe(e,t,r,n,a,i,o,s){var l=new pn(8);return l[0]=e,l[1]=t,l[2]=r,l[3]=n,l[4]=a,l[5]=i,l[6]=o,l[7]=s,l}function Hoe(e,t,r,n,a,i,o){var s=new pn(8);s[0]=e,s[1]=t,s[2]=r,s[3]=n;var l=a*.5,u=i*.5,c=o*.5;return s[4]=l*n+u*r-c*t,s[5]=u*n+c*e-l*r,s[6]=c*n+l*t-u*e,s[7]=-l*e-u*t-c*r,s}function Fz(e,t,r){var n=r[0]*.5,a=r[1]*.5,i=r[2]*.5,o=t[0],s=t[1],l=t[2],u=t[3];return e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=n*u+a*l-i*s,e[5]=a*u+i*o-n*l,e[6]=i*u+n*s-a*o,e[7]=-n*o-a*s-i*l,e}function Yoe(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0]*.5,e[5]=t[1]*.5,e[6]=t[2]*.5,e[7]=0,e}function Koe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Xoe(e,t){var r=Lb();ez(r,t);var n=new pn(3);return Q8(n,t),Fz(e,r,n),e}function zz(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function qoe(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Zoe(e,t,r,n,a,i,o,s,l){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=l,e}var Qoe=ck;function Joe(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var ese=ck;function tse(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function rse(e,t){var r=t[4],n=t[5],a=t[6],i=t[7],o=-t[0],s=-t[1],l=-t[2],u=t[3];return e[0]=(r*u+i*o+n*l-a*s)*2,e[1]=(n*u+i*s+a*o-r*l)*2,e[2]=(a*u+i*l+r*s-n*o)*2,e}function nse(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0]*.5,l=r[1]*.5,u=r[2]*.5,c=t[4],f=t[5],d=t[6],h=t[7];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=o*s+a*u-i*l+c,e[5]=o*l+i*s-n*u+f,e[6]=o*u+n*l-a*s+d,e[7]=-n*s-a*l-i*u+h,e}function ase(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=s*o+c*n+l*i-u*a,d=l*o+c*a+u*n-s*i,h=u*o+c*i+s*a-l*n,v=c*o-s*n-l*a-u*i;return Lz(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+v*n+d*i-h*a,e[5]=d*o+v*a+h*n-f*i,e[6]=h*o+v*i+f*a-d*n,e[7]=v*o-f*n-d*a-h*i,e}function ise(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=s*o+c*n+l*i-u*a,d=l*o+c*a+u*n-s*i,h=u*o+c*i+s*a-l*n,v=c*o-s*n-l*a-u*i;return Nz(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+v*n+d*i-h*a,e[5]=d*o+v*a+h*n-f*i,e[6]=h*o+v*i+f*a-d*n,e[7]=v*o-f*n-d*a-h*i,e}function ose(e,t,r){var n=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=s*o+c*n+l*i-u*a,d=l*o+c*a+u*n-s*i,h=u*o+c*i+s*a-l*n,v=c*o-s*n-l*a-u*i;return Pz(e,t,r),n=e[0],a=e[1],i=e[2],o=e[3],e[4]=f*o+v*n+d*i-h*a,e[5]=d*o+v*a+h*n-f*i,e[6]=h*o+v*i+f*a-d*n,e[7]=v*o-f*n-d*a-h*i,e}function sse(e,t,r){var n=r[0],a=r[1],i=r[2],o=r[3],s=t[0],l=t[1],u=t[2],c=t[3];return e[0]=s*o+c*n+l*i-u*a,e[1]=l*o+c*a+u*n-s*i,e[2]=u*o+c*i+s*a-l*n,e[3]=c*o-s*n-l*a-u*i,s=t[4],l=t[5],u=t[6],c=t[7],e[4]=s*o+c*n+l*i-u*a,e[5]=l*o+c*a+u*n-s*i,e[6]=u*o+c*i+s*a-l*n,e[7]=c*o-s*n-l*a-u*i,e}function lse(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[0],l=r[1],u=r[2],c=r[3];return e[0]=n*c+o*s+a*u-i*l,e[1]=a*c+o*l+i*s-n*u,e[2]=i*c+o*u+n*l-a*s,e[3]=o*c-n*s-a*l-i*u,s=r[4],l=r[5],u=r[6],c=r[7],e[4]=n*c+o*s+a*u-i*l,e[5]=a*c+o*l+i*s-n*u,e[6]=i*c+o*u+n*l-a*s,e[7]=o*c-n*s-a*l-i*u,e}function use(e,t,r,n){if(Math.abs(n)<Or)return zz(e,t);var a=Math.hypot(r[0],r[1],r[2]);n=n*.5;var i=Math.sin(n),o=i*r[0]/a,s=i*r[1]/a,l=i*r[2]/a,u=Math.cos(n),c=t[0],f=t[1],d=t[2],h=t[3];e[0]=c*u+h*o+f*l-d*s,e[1]=f*u+h*s+d*o-c*l,e[2]=d*u+h*l+c*s-f*o,e[3]=h*u-c*o-f*s-d*l;var v=t[4],p=t[5],m=t[6],g=t[7];return e[4]=v*u+g*o+p*l-m*s,e[5]=p*u+g*s+m*o-v*l,e[6]=m*u+g*l+v*s-p*o,e[7]=g*u-v*o-p*s-m*l,e}function cse(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function Gz(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r[4],l=r[5],u=r[6],c=r[7],f=t[4],d=t[5],h=t[6],v=t[7],p=r[0],m=r[1],g=r[2],b=r[3];return e[0]=n*b+o*p+a*g-i*m,e[1]=a*b+o*m+i*p-n*g,e[2]=i*b+o*g+n*m-a*p,e[3]=o*b-n*p-a*m-i*g,e[4]=n*c+o*s+a*u-i*l+f*b+v*p+d*g-h*m,e[5]=a*c+o*l+i*s-n*u+d*b+v*m+h*p-f*g,e[6]=i*c+o*u+n*l-a*s+h*b+v*g+f*m-d*p,e[7]=o*c-n*s-a*l-i*u+v*b-f*p-d*m-h*g,e}var fse=Gz;function dse(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var jz=fk;function hse(e,t,r,n){var a=1-n;return jz(t,r)<0&&(n=-n),e[0]=t[0]*a+r[0]*n,e[1]=t[1]*a+r[1]*n,e[2]=t[2]*a+r[2]*n,e[3]=t[3]*a+r[3]*n,e[4]=t[4]*a+r[4]*n,e[5]=t[5]*a+r[5]*n,e[6]=t[6]*a+r[6]*n,e[7]=t[7]*a+r[7]*n,e}function vse(e,t){var r=sE(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function pse(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Vz=dk,gse=Vz,sE=hk,mse=sE;function yse(e,t){var r=sE(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,a=t[1]/r,i=t[2]/r,o=t[3]/r,s=t[4],l=t[5],u=t[6],c=t[7],f=n*s+a*l+i*u+o*c;e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=(s-n*f)/r,e[5]=(l-a*f)/r,e[6]=(u-i*f)/r,e[7]=(c-o*f)/r}return e}function bse(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function wse(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Ese(e,t){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=t[0],f=t[1],d=t[2],h=t[3],v=t[4],p=t[5],m=t[6],g=t[7];return Math.abs(r-c)<=Or*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-f)<=Or*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-d)<=Or*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(i-h)<=Or*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-v)<=Or*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-p)<=Or*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(l-m)<=Or*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-g)<=Or*Math.max(1,Math.abs(u),Math.abs(g))}const _se=Object.freeze(Object.defineProperty({__proto__:null,add:cse,clone:Uoe,conjugate:pse,copy:zz,create:Voe,dot:jz,equals:Ese,exactEquals:wse,fromMat4:Xoe,fromRotation:Koe,fromRotationTranslation:Fz,fromRotationTranslationValues:Hoe,fromTranslation:Yoe,fromValues:Woe,getDual:Joe,getReal:Qoe,getTranslation:rse,identity:qoe,invert:vse,len:gse,length:Vz,lerp:hse,mul:fse,multiply:Gz,normalize:yse,rotateAroundAxis:use,rotateByQuatAppend:sse,rotateByQuatPrepend:lse,rotateX:ase,rotateY:ise,rotateZ:ose,scale:dse,set:Zoe,setDual:tse,setReal:ese,sqrLen:mse,squaredLength:sE,str:bse,translate:nse},Symbol.toStringTag,{value:"Module"}));function Uz(){var e=new pn(2);return pn!=Float32Array&&(e[0]=0,e[1]=0),e}function xse(e){var t=new pn(2);return t[0]=e[0],t[1]=e[1],t}function Sse(e,t){var r=new pn(2);return r[0]=e,r[1]=t,r}function Cse(e,t){return e[0]=t[0],e[1]=t[1],e}function Mse(e,t,r){return e[0]=t,e[1]=r,e}function ai(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function Wz(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function Hz(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function Yz(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function Tse(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function kse(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function Rp(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function $p(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function Ase(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Ci(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function Ise(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Nb(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function Kz(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function Xz(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function qz(e){var t=e[0],r=e[1];return t*t+r*r}function Ose(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Lse(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function bc(e,t){var r=t[0],n=t[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function pk(e,t){return e[0]*t[0]+e[1]*t[1]}function Nse(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function Pse(e,t,r,n){var a=t[0],i=t[1];return e[0]=a+n*(r[0]-a),e[1]=i+n*(r[1]-i),e}function Dse(e,t){t=t||1;var r=Os()*2*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function Rse(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a,e[1]=r[1]*n+r[3]*a,e}function $se(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e}function Bse(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[3]*a+r[6],e[1]=r[1]*n+r[4]*a+r[7],e}function Fse(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[4]*a+r[12],e[1]=r[1]*n+r[5]*a+r[13],e}function zse(e,t,r,n){var a=t[0]-r[0],i=t[1]-r[1],o=Math.sin(n),s=Math.cos(n);return e[0]=a*s-i*o+r[0],e[1]=a*o+i*s+r[1],e}function Zz(e,t){var r=e[0],n=e[1],a=t[0],i=t[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(a*a+i*i),s=o&&(r*a+n*i)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function Gse(e){return e[0]=0,e[1]=0,e}function jse(e){return"vec2("+e[0]+", "+e[1]+")"}function gk(e,t){return e[0]===t[0]&&e[1]===t[1]}function Vse(e,t){var r=e[0],n=e[1],a=t[0],i=t[1];return Math.abs(r-a)<=Or*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=Or*Math.max(1,Math.abs(n),Math.abs(i))}var Use=Xz,M1=Wz,Wse=Hz,Hse=Yz,Yse=Nb,Kse=Kz,Xse=qz,qse=function(){var e=Uz();return function(t,r,n,a,i,o){var s,l;for(r||(r=2),n||(n=0),a?l=Math.min(a*r+n,t.length):l=t.length,s=n;s<l;s+=r)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}();const Zse=Object.freeze(Object.defineProperty({__proto__:null,add:ai,angle:Zz,ceil:Tse,clone:xse,copy:Cse,create:Uz,cross:Nse,dist:Yse,distance:Nb,div:Hse,divide:Yz,dot:pk,equals:Vse,exactEquals:gk,floor:kse,forEach:qse,fromValues:Sse,inverse:Lse,len:Use,length:Xz,lerp:Pse,max:$p,min:Rp,mul:Wse,multiply:Hz,negate:Ose,normalize:bc,random:Dse,rotate:zse,round:Ase,scale:Ci,scaleAndAdd:Ise,set:Mse,sqrDist:Kse,sqrLen:Xse,squaredDistance:Kz,squaredLength:qz,str:jse,sub:M1,subtract:Wz,transformMat2:Rse,transformMat2d:$se,transformMat3:Bse,transformMat4:Fse,zero:Gse},Symbol.toStringTag,{value:"Module"})),Qse=Object.freeze(Object.defineProperty({__proto__:null,glMatrix:ine,mat2:Ine,mat2d:eae,mat3:K8,mat4:vie,quat:joe,quat2:_se,vec2:Zse,vec3:Xie,vec4:yoe},Symbol.toStringTag,{value:"Module"}));function Jse(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return nk(n,r),Ol(e,n,t)}function ele(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return ak(n,r),Ol(e,n,t)}function tle(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return ik(n,r),Ol(e,n,t)}function rle(e,t,r){return Ol(e,r,t)}function vs(e,t){for(var r=e?[].concat(e):[1,0,0,0,1,0,0,0,1],n=0,a=t.length;n<a;n++){var i=t[n];switch(i[0]){case"t":Jse(r,r,[i[1],i[2]]);break;case"s":tle(r,r,[i[1],i[2]]);break;case"r":ele(r,r,i[1]);break;case"m":rle(r,r,i[1]);break}}return r}var rd=function(t,r){var n=t.nodes,a=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(s,l){o[s.id]=l;var u=[];i.push(u)}),a&&a.forEach(function(s){var l=s.source,u=s.target,c=o[l],f=o[u];!c&&c!==0||!f&&f!==0||(i[c][f]=1,r||(i[f][c]=1))}),i},nle=function(t,r){return t===r},AP=function(){function e(t,r){r===void 0&&(r=null),this.value=t,this.next=r}return e.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},e}(),Qz=function(){function e(t){t===void 0&&(t=nle),this.head=null,this.tail=null,this.compare=t}return e.prototype.prepend=function(t){var r=new AP(t,this.head);return this.head=r,this.tail||(this.tail=r),this},e.prototype.append=function(t){var r=new AP(t);return this.head?(this.tail.next=r,this.tail=r,this):(this.head=r,this.tail=r,this)},e.prototype.delete=function(t){if(!this.head)return null;for(var r=null;this.head&&this.compare(this.head.value,t);)r=this.head,this.head=this.head.next;var n=this.head;if(n!==null)for(;n.next;)this.compare(n.next.value,t)?(r=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),r},e.prototype.find=function(t){var r=t.value,n=r===void 0?void 0:r,a=t.callback,i=a===void 0?void 0:a;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value)||n!==void 0&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var r=this.head;r.next;)r.next.next?r=r.next:r.next=null;return this.tail=r,t},e.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},e.prototype.fromArray=function(t){var r=this;return t.forEach(function(n){return r.append(n)}),this},e.prototype.toArray=function(){for(var t=[],r=this.head;r;)t.push(r),r=r.next;return t},e.prototype.reverse=function(){for(var t=this.head,r=null,n=null;t;)n=t.next,t.next=r,r=t,t=n;this.tail=this.head,this.head=r},e.prototype.toString=function(t){return t===void 0&&(t=void 0),this.toArray().map(function(r){return r.toString(t)}).toString()},e}(),ale=function(){function e(){this.linkedList=new Qz}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(t){this.linkedList.append(t)},e.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},e.prototype.toString=function(t){return this.linkedList.toString(t)},e}(),Mo=function(t,r,n){r===void 0&&(r=[]);var a=r.filter(function(l){return l.source===t||l.target===t});if(n==="target"){var i=function(u){return u.source===t};return a.filter(i).map(function(l){return l.target})}if(n==="source"){var o=function(u){return u.target===t};return a.filter(o).map(function(l){return l.source})}var s=function(u){return u.source===t?u.target:u.source};return a.map(s)},ile=function(t,r){return r.filter(function(n){return n.source===t})},T1=function(t,r){return r.filter(function(n){return n.source===t||n.target===t})},Jz=function(t){t===void 0&&(t=0);var r="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(r).concat(n)};function ole(e){e===void 0&&(e={});var t=e,r=function(){},n=function(){var a={};return function(i){var o=i.next,s=o;return a[s]?!1:(a[s]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||n,t.enter=e.enter||r,t.leave=e.leave||r,t}var eG=function(t,r,n,a){a===void 0&&(a=!0);var i=ole(n),o=new ale,s=t.edges,l=s===void 0?[]:s;o.enqueue(r);for(var u="",c=function(){var d=o.dequeue();i.enter({current:d,previous:u}),Mo(d,l,a?"target":void 0).forEach(function(h){i.allowTraversal({previous:u,current:d,next:h})&&o.enqueue(h)}),i.leave({current:d,previous:u}),u=d};!o.isEmpty();)c()},sle=function(t){for(var r=t.nodes,n=r===void 0?[]:r,a=t.edges,i=a===void 0?[]:a,o=[],s={},l=[],u=function h(v){l.push(v),s[v.id]=!0;for(var p=Mo(v.id,i),m=function(y){var w=p[y];if(!s[w]){var _=n.filter(function(x){return x.id===w});_.length>0&&h(_[0])}},g=0;g<p.length;++g)m(g)},c=0;c<n.length;c++){var f=n[c];if(!s[f.id]){u(f);for(var d=[];l.length>0;)d.push(l.pop());o.push(d)}}return o},tG=function(t){for(var r=t.nodes,n=r===void 0?[]:r,a=t.edges,i=a===void 0?[]:a,o=[],s={},l={},u={},c=[],f=0,d=function m(g){l[g.id]=f,u[g.id]=f,f+=1,o.push(g),s[g.id]=!0;for(var b=Mo(g.id,i,"target").filter(function(S){return n.map(function(C){return C.id}).indexOf(S)>-1}),y=function(C){var T=b[C];if(!l[T]&&l[T]!==0){var M=n.filter(function(k){return k.id===T});M.length>0&&m(M[0]),u[g.id]=Math.min(u[g.id],u[T])}else s[T]&&(u[g.id]=Math.min(u[g.id],l[T]))},w=0;w<b.length;w++)y(w);if(u[g.id]===l[g.id]){for(var _=[];o.length>0;){var x=o.pop();if(s[x.id]=!1,_.push(x),x===g)break}_.length>0&&c.push(_)}},h=0,v=n;h<v.length;h++){var p=v[h];!l[p.id]&&l[p.id]!==0&&d(p)}return c};function mk(e,t){return t?tG(e):sle(e)}var gu=function(t){var r={},n=t.nodes,a=n===void 0?[]:n,i=t.edges,o=i===void 0?[]:i;return a.forEach(function(s){r[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){r[s.source].degree++,r[s.source].outDegree++,r[s.target].degree++,r[s.target].inDegree++}),r},rG=function(t,r){var n=gu(t);return n[r]?gu(t)[r].inDegree:0},nG=function(t,r){var n=gu(t);return n[r]?gu(t)[r].outDegree:0};function lle(e){e===void 0&&(e={});var t=e,r=function(){},n=function(){var a={};return function(i){var o=i.next;return a[o]?!1:(a[o]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||n,t.enter=e.enter||r,t.leave=e.leave||r,t}function aG(e,t,r,n,a){a===void 0&&(a=!0),n.enter({current:t,previous:r});var i=e.edges,o=i===void 0?[]:i;Mo(t,o,a?"target":void 0).forEach(function(s){n.allowTraversal({previous:r,current:t,next:s})&&aG(e,s,t,n,a)}),n.leave({current:t,previous:r})}function yk(e,t,r,n){n===void 0&&(n=!0),aG(e,t,"",lle(r),n)}var bk=function(t){var r=null,n=t.nodes,a=n===void 0?[]:n,i={},o={},s={},l={};a.forEach(function(f){o[f.id]=f});for(var u={enter:function(d){var h=d.current,v=d.previous;if(s[h]){r={};for(var p=h,m=v;m!==h;)r[p]=m,p=m,m=i[m];r[p]=m}else s[h]=h,delete o[h],i[h]=v},leave:function(d){var h=d.current;l[h]=h,delete s[h]},allowTraversal:function(d){var h=d.next;return r?!1:!l[h]}};Object.keys(o).length;){var c=Object.keys(o)[0];yk(t,c,u)}return r},wk=function(t,r,n){var a,i;n===void 0&&(n=!0);for(var o=[],s=mk(t,!1),l=0,u=s;l<u.length;l++){var c=u[l];if(c.length)for(var f=c[0],d=f.id,h=[f],v=(a={},a[d]=f,a),p=(i={},i[d]=new Set,i);h.length>0;)for(var m=h.pop(),g=m.id,b=Mo(g,t.edges),y=function(x){var S,C=b[x],T=t.nodes.find(function(R){return R.id===C});if(C===g)o.push((S={},S[C]=m,S));else if(!(C in p))v[C]=m,h.push(T),p[C]=new Set([m]);else if(!p[g].has(T)){for(var M=!0,k=[T,m],A=v[g];p[C].size&&!p[C].has(A)&&(k.push(A),A!==v[A.id]);)A=v[A.id];if(k.push(A),r&&n?(M=!1,k.findIndex(function(R){return r.indexOf(R.id)>-1})>-1&&(M=!0)):r&&!n&&k.findIndex(function(R){return r.indexOf(R.id)>-1})>-1&&(M=!1),M){for(var O={},P=1;P<k.length;P+=1)O[k[P-1].id]=k[P];k.length&&(O[k[k.length-1].id]=k[0]),o.push(O)}p[C].add(m)}},w=0;w<b.length;w+=1)y(w)}return o},Ek=function(t,r,n){n===void 0&&(n=!0);for(var a=[],i=new Set,o=[],s=[],l={},u={},c=function(A){for(var O=[A];O.length>0;){var P=O.pop();i.has(P)&&(i.delete(P),o[P.id].forEach(function(R){O.push(R)}),o[P.id].clear())}},f=function k(A,O,P){var R=!1;if(r&&n===!1&&r.indexOf(A.id)>-1)return R;a.push(A),i.add(A);for(var N=P[A.id],L=0;L<N.length;L+=1){var B=l[N[L]];if(B===O){for(var I={},D=1;D<a.length;D+=1)I[a[D-1].id]=a[D];a.length&&(I[a[a.length-1].id]=a[0]),s.push(I),R=!0}else i.has(B)||k(B,O,P)&&(R=!0)}if(R)c(A);else for(var L=0;L<N.length;L+=1){var B=l[N[L]];o[B.id].has(A)||o[B.id].add(A)}return a.pop(),R},d=t.nodes,h=d===void 0?[]:d,v=0;v<h.length;v+=1){var p=h[v],m=p.id;u[m]=v,l[v]=p}if(r&&n)for(var g=function(A){var O=r[A];u[h[A].id]=u[O],u[O]=0,l[0]=h.find(function(P){return P.id===O}),l[u[h[A].id]]=h[A]},v=0;v<r.length;v++)g(v);for(var b=function(A){for(var O,P,R=1/0,N=0;N<A.length;N+=1)for(var L=A[N],B=0;B<L.length;B++){var I=u[L[B].id];I<R&&(R=I,P=N)}for(var D=A[P],z=[],N=0;N<D.length;N+=1){var U=D[N];z[U.id]=[];for(var H=0,Y=Mo(U.id,t.edges,"target").filter(function(re){return D.map(function(oe){return oe.id}).indexOf(re)>-1});H<Y.length;H++){var ie=Y[H];ie===U.id&&!(n===!1&&r.indexOf(U.id)>-1)?s.push((O={},O[U.id]=U,O)):z[U.id].push(u[ie])}}return{component:D,adjList:z,minIdx:R}},y=0;y<h.length;){var w=h.filter(function(k){return u[k.id]>=y}),_=tG({nodes:w,edges:t.edges}).filter(function(k){return k.length>1});if(_.length===0)break;var x=b(_),S=x.minIdx,C=x.adjList,T=x.component;if(T.length>1){T.forEach(function(k){o[k.id]=new Set});var M=l[S];if(r&&n&&r.indexOf(M.id)===-1)return s;f(M,M,C),y=S+1}else break}return s},iG=function(t,r,n,a){return a===void 0&&(a=!0),r?Ek(t,n,a):wk(t,n,a)},ule=function(t,r,n){for(var a=1/0,i,o=0;o<r.length;o++){var s=r[o].id;!n[s]&&t[s]<=a&&(a=t[s],i=r[o])}return i},Pg=function(t,r,n,a){var i=t.nodes,o=i===void 0?[]:i,s=t.edges,l=s===void 0?[]:s,u={},c={},f={};o.forEach(function(b,y){var w=b.id;c[w]=1/0,w===r&&(c[w]=0)});for(var d=o.length,h=function(y){var w=ule(c,o,u),_=w.id;if(u[_]=!0,c[_]===1/0)return"continue";var x=[];n?x=ile(_,l):x=T1(_,l),x.forEach(function(S){var C=S.target,T=S.source,M=C===_?T:C,k=a&&S[a]?S[a]:1;c[M]>c[w.id]+k?(c[M]=c[w.id]+k,f[M]=[w.id]):c[M]===c[w.id]+k&&f[M].push(w.id)})},v=0;v<d;v++)h();f[r]=[r];var p={};for(var m in c)c[m]!==1/0&&oG(r,m,f,p);var g={};for(var m in p)g[m]=p[m][0];return{length:c,path:g,allPath:p}};function oG(e,t,r,n){if(e===t)return[e];if(n[t])return n[t];for(var a=[],i=0,o=r[t];i<o.length;i++){var s=o[i],l=oG(e,s,r,n);if(!l)return;for(var u=0,c=l;u<c.length;u++){var f=c[u];wr(f)?a.push(Oo(Oo([],f,!0),[t],!1)):a.push([f,t])}}return n[t]=a,n[t]}var sG=function(t,r,n,a,i){var o=Pg(t,r,a,i),s=o.length,l=o.path,u=o.allPath;return{length:s[n],path:l[n],allPath:u[n]}},lG=function(t,r,n,a){var i;if(r===n)return[[r]];var o=t.edges,s=o===void 0?[]:o,l=[r],u=(i={},i[r]=!0,i),c=[],f=[],d=a?Mo(r,s,"target"):Mo(r,s);for(c.push(d);l.length>0&&c.length>0;){var h=c[c.length-1];if(h.length){var v=h.shift();v&&(l.push(v),u[v]=!0,d=a?Mo(v,s,"target"):Mo(v,s),c.push(d.filter(function(g){return!u[g]})))}else{var p=l.pop();u[p]=!1,c.pop();continue}if(l[l.length-1]===n){var m=l.map(function(b){return b});f.push(m);var p=l.pop();u[p]=!1,c.pop()}}return f},Dg=function(t,r){for(var n=rd(t,r),a=[],i=n.length,o=0;o<i;o+=1){a[o]=[];for(var s=0;s<i;s+=1)o===s?a[o][s]=0:n[o][s]===0||!n[o][s]?a[o][s]=1/0:a[o][s]=n[o][s]}for(var l=0;l<i;l+=1)for(var o=0;o<i;o+=1)for(var s=0;s<i;s+=1)a[o][s]>a[o][l]+a[l][s]&&(a[o][s]=a[o][l]+a[l][s]);return a},uG=function(t,r,n,a){r===void 0&&(r=!1),n===void 0&&(n="weight"),a===void 0&&(a=1e3);var i=t.nodes,o=i===void 0?[]:i,s=t.edges,l=s===void 0?[]:s,u={},c={};o.forEach(function(y,w){var _=Jz();y.clusterId=_,u[_]={id:_,nodes:[y]},c[y.id]={node:y,idx:w}});var f=rd(t,r),d={};f.forEach(function(y,w){var _=o[w].id;d[_]={},y.forEach(function(x,S){if(x){var C=o[S].id;d[_][C]=x}})});for(var h=0,v=function(){var w=!1;if(o.forEach(function(_){var x={};Object.keys(d[_.id]).forEach(function(P){var R=d[_.id][P],N=c[P].node,L=N.clusterId;x[L]||(x[L]=0),x[L]+=R});var S=-1/0,C=[];if(Object.keys(x).forEach(function(P){S<x[P]?(S=x[P],C=[P]):S===x[P]&&C.push(P)}),!(C.length===1&&C[0]===_.clusterId)){var T=C.indexOf(_.clusterId);if(T>=0&&C.splice(T,1),C&&C.length){w=!0;var M=u[_.clusterId],k=M.nodes.indexOf(_);M.nodes.splice(k,1);var A=Math.floor(Math.random()*C.length),O=u[C[A]];O.nodes.push(_),_.clusterId=O.id}}}),!w)return"break";h++};h<a;){var p=v();if(p==="break")break}Object.keys(u).forEach(function(y){var w=u[y];(!w.nodes||!w.nodes.length)&&delete u[y]});var m=[],g={};l.forEach(function(y){var w=y.source,_=y.target,x=y[n]||1,S=c[w].node.clusterId,C=c[_].node.clusterId,T="".concat(S,"---").concat(C);if(g[T])g[T].weight+=x,g[T].count++;else{var M={source:S,target:C,weight:x,count:1};g[T]=M,m.push(M)}});var b=[];return Object.keys(u).forEach(function(y){b.push(u[y])}),{clusters:b,clusterEdges:m}},Zo=function(){function e(t){this.arr=t}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length))return new e(n);if(!(n!=null&&n.length))return new e(this.arr);if(this.arr.length===n.length){var a=[];for(var i in this.arr)a[i]=this.arr[i]+n[i];return new e(a)}},e.prototype.subtract=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length))return new e(n);if(!(n!=null&&n.length))return new e(this.arr);if(this.arr.length===n.length){var a=[];for(var i in this.arr)a[i]=this.arr[i]-n[i];return new e(a)}},e.prototype.avg=function(t){var r=[];if(t!==0)for(var n in this.arr)r[n]=this.arr[n]/t;return new e(r)},e.prototype.negate=function(){var t=[];for(var r in this.arr)t[r]=-this.arr[r];return new e(t)},e.prototype.squareEuclideanDistance=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var a=0;for(var i in this.arr)a+=Math.pow(this.arr[i]-t.arr[i],2);return a}},e.prototype.euclideanDistance=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var a=0;for(var i in this.arr)a+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(a)}else console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],r=un(this.arr);r.sort(function(o,s){return o-s});var n=r[r.length-1],a=r[0];for(var i in this.arr)t[i]=(this.arr[i]-a)/(n-a);return new e(t)},e.prototype.norm2=function(){var t;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return 0;var r=0;for(var n in this.arr)r+=Math.pow(this.arr[n],2);return Math.sqrt(r)},e.prototype.dot=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var a=0;for(var i in this.arr)a+=this.arr[i]*t.arr[i];return a}else console.error("The two vectors are unequal in length.")},e.prototype.equal=function(t){var r,n=t.arr;if(((r=this.arr)===null||r===void 0?void 0:r.length)!==(n==null?void 0:n.length))return!1;for(var a in this.arr)if(this.arr[a]!==n[a])return!1;return!0},e}(),_k=function(t,r){r===void 0&&(r=void 0);var n=[];return t.forEach(function(a){r===void 0&&n.push(a),a[r]!==void 0&&n.push(a[r])}),n},Ms;(function(e){e.EuclideanDistance="euclideanDistance"})(Ms||(Ms={}));var cle=function(t,r,n){var a=[];r!=null&&r.length?a=r:(t.forEach(function(o){a=a.concat(Object.keys(o))}),a=Lg(a));var i={};return a.forEach(function(o){var s=[];t.forEach(function(l){l[o]!==void 0&&l[o]!==""&&s.push(l[o])}),s.length&&!(n!=null&&n.includes(o))&&(i[o]=Lg(s))}),i},xk=function(t,r,n){var a=cle(t,r,n),i=[];if(!Object.keys(a).length)return i;var o=Object.values(a),s=o.every(function(l){return l.every(function(u){return typeof u=="number"})});return t.forEach(function(l,u){var c=[];Object.keys(a).forEach(function(f){var d=l[f],h=a[f],v=h.findIndex(function(g){return d===g}),p=[];if(s)p.push(d);else for(var m=0;m<h.length;m++)m===v?p.push(1):p.push(0);c=c.concat(p)}),i[u]=c}),i},IP=function(t,r,n,a){n===void 0&&(n=Ms.EuclideanDistance);var i=0;switch(n){case Ms.EuclideanDistance:i=new Zo(t).euclideanDistance(new Zo(r));break}return i},OP=function(t,r,n,a){for(var i=r.length,o=2*a,s=0,l=0;l<i;l++)for(var u=t[l].clusterId,c=0;c<i;c++){var f=t[c].clusterId;if(u===f){var d=r[l][c]||0,h=n[l]||0,v=n[c]||0;s+=d-h*v/o}}return s*=1/o,s},$_=function(t,r){t===void 0&&(t=[]);for(var n=t.length,a=new Zo([]),i=0;i<n;i++)a=a.add(new Zo(r[i]));var o=a.avg(n);o.normalize();for(var s=0,i=0;i<n;i++){var l=new Zo(r[i]),u=l.squareEuclideanDistance(o);s+=u}var c=[];t.forEach(function(){c.push([])});for(var i=0;i<n;i++){var l=new Zo(r[i]);t[i].clusterInertial=0;for(var f=0;f<n;f++){if(i===f){c[i][f]=0;continue}var d=new Zo(r[f]);c[i][f]=l.squareEuclideanDistance(d),t[i].clusterInertial+=c[i][f]}}for(var h=0,v=2*n*s,i=0;i<n;i++)for(var p=t[i].clusterId,f=0;f<n;f++){var m=t[f].clusterId;if(!(i===f||p!==m)){var g=t[i].clusterInertial*t[f].clusterInertial/Math.pow(v,2)-c[i][f]/v;h+=g}}return Number(h.toFixed(4))},Sk=function(t,r,n,a,i,o,s,l,u){r===void 0&&(r=!1),n===void 0&&(n="weight"),a===void 0&&(a=1e-4),i===void 0&&(i=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),l===void 0&&(l=["id"]),u===void 0&&(u=1);var c=t.nodes,f=c===void 0?[]:c,d=t.edges,h=d===void 0?[]:d,v=[];if(i){f.forEach(function(I,D){I.properties=I.properties||{},I.originIndex=D});var p=[];f.every(function(I){return I.hasOwnProperty("nodeType")})&&(p=Array.from(new Set(f.map(function(I){return I.nodeType}))),f.forEach(function(I){I.properties.nodeType=p.findIndex(function(D){return D===I.nodeType})}));var m=_k(f,o);v=xk(m,s,l)}var g=1,b={},y={};f.forEach(function(I,D){var z=String(g++);I.clusterId=z,b[z]={id:z,nodes:[I]},y[I.id]={node:I,idx:D}});var w=rd(t,r),_=[],x={},S=0;w.forEach(function(I,D){var z=0,U=f[D].id;x[U]={},I.forEach(function(H,Y){if(H){z+=H;var ie=f[Y].id;x[U][ie]=H,S+=H}}),_.push(z)}),S/=2;for(var C=1/0,T=1/0,M=0,k=[],A={};;){i&&f.every(function(I){return I.hasOwnProperty("properties")})?C=OP(f,w,_,S)+$_(f,v)*u:C=OP(f,w,_,S),M===0&&(T=C,k=f,A=b);var O=C>0&&C>T&&C-T<a;if(C>T&&(k=f.map(function(I){return{node:I,clusterId:I.clusterId}}),A=un(b),T=C),O||M>100)break;M++,Object.keys(b).forEach(function(I){var D=0;h.forEach(function(z){var U=z.source,H=z.target,Y=y[U].node.clusterId,ie=y[H].node.clusterId;(Y===I&&ie!==I||ie===I&&Y!==I)&&(D=D+(z[n]||1))}),b[I].sumTot=D}),f.forEach(function(I,D){var z=b[I.clusterId],U=0,H,Y=_[D]/(2*S),ie=0,X=z.nodes;X.forEach(function(Ae){var Ve=y[Ae.id].idx;ie+=w[D][Ve]||0});var re=ie-z.sumTot*Y,oe=X.filter(function(Ae){return Ae.id!==I.id});oe.forEach(function(Ae,Ve){v[Ae.originIndex]});var Ne=$_(oe,v)*u,me=x[I.id];if(Object.keys(me).forEach(function(Ae){var Ve=y[Ae].node,Ie=Ve.clusterId;if(Ie!==I.clusterId){var De=b[Ie],Ge=De.nodes;if(!(!Ge||!Ge.length)){var Qe=0;Ge.forEach(function(fe){var ge=y[fe.id].idx;Qe+=w[D][ge]||0});var ke=Qe-De.sumTot*Y,q=Ge.concat([I]);q.forEach(function(fe,ge){v[fe.originIndex]});var j=$_(q,v)*u,Ce=ke-re;i&&(Ce=ke+j-(re+Ne)),Ce>U&&(U=Ce,H=De)}}}),U>0){H.nodes.push(I);var xe=I.clusterId;I.clusterId=H.id;var ze=z.nodes.indexOf(I);z.nodes.splice(ze,1);var te=0,le=0;h.forEach(function(Ae){var Ve=Ae.source,Ie=Ae.target,De=y[Ve].node.clusterId,Ge=y[Ie].node.clusterId;(De===H.id&&Ge!==H.id||Ge===H.id&&De!==H.id)&&(te=te+(Ae[n]||1)),(De===xe&&Ge!==xe||Ge===xe&&De!==xe)&&(le=le+(Ae[n]||1))}),H.sumTot=te,z.sumTot=le}})}var P={},R=0;Object.keys(A).forEach(function(I){var D=A[I];if(!D.nodes||!D.nodes.length){delete A[I];return}var z=String(R+1);z!==I&&(D.id=z,D.nodes=D.nodes.map(function(U){return{id:U.id,clusterId:z}}),A[z]=D,P[I]=z,delete A[I],R++)}),k.forEach(function(I){var D=I.node,z=I.clusterId;D&&(D.clusterId=z,D.clusterId&&P[D.clusterId]&&(D.clusterId=P[D.clusterId]))});var N=[],L={};h.forEach(function(I){var D=I.source,z=I.target,U=I[n]||1,H=y[D].node.clusterId,Y=y[z].node.clusterId;if(!(!H||!Y)){var ie="".concat(H,"---").concat(Y);if(L[ie])L[ie].weight+=U,L[ie].count++;else{var X={source:H,target:Y,weight:U,count:1};L[ie]=X,N.push(X)}}});var B=[];return Object.keys(A).forEach(function(I){B.push(A[I])}),{clusters:B,clusterEdges:N}},cG=function(t,r,n,a,i,o,s,l){return r===void 0&&(r=!1),n===void 0&&(n="weight"),a===void 0&&(a=1e-4),i===void 0&&(i=void 0),o===void 0&&(o=[]),s===void 0&&(s=["id"]),l===void 0&&(l=1),Sk(t,r,n,a,!0,i,o,s,l)},fG=function(t,r){var n;r===void 0&&(r=1);for(var a=un(t),i=a.nodes,o=i===void 0?[]:i,s=a.edges,l=s===void 0?[]:s,u=function(){var d=gu({nodes:o,edges:l}),h=Object.keys(d);h.sort(function(m,g){var b,y;return((b=d[m])===null||b===void 0?void 0:b.degree)-((y=d[g])===null||y===void 0?void 0:y.degree)});var v=h[0];if(!o.length||((n=d[v])===null||n===void 0?void 0:n.degree)>=r)return"break";var p=o.findIndex(function(m){return m.id===v});o.splice(p,1),l=l.filter(function(m){return!(m.source===v||m.target===v)})};;){var c=u();if(c==="break")break}return{nodes:o,edges:l}},LP=function(t,r,n){var a=[];switch(t){case Ms.EuclideanDistance:a=r[n];break;default:a=[];break}return a},dG=function(t,r,n,a,i,o){r===void 0&&(r=3),n===void 0&&(n=void 0),a===void 0&&(a=[]),i===void 0&&(i=["id"]),o===void 0&&(o=Ms.EuclideanDistance);var s=t.nodes,l=s===void 0?[]:s,u=t.edges,c=u===void 0?[]:u,f={clusters:[{id:"0",nodes:l}],clusterEdges:[]};if(o===Ms.EuclideanDistance&&!l.every(function(z){return z.hasOwnProperty(n)}))return f;var d=[],h=[];if(o===Ms.EuclideanDistance&&(d=_k(l,n),h=xk(d,a,i)),!h.length)return f;for(var v=Lg(h.map(function(z){return z.join("")})),p=Math.min(r,l.length,v.length),m=0;m<l.length;m++)l[m].originIndex=m;for(var g=[],b=[],y=[],m=0;m<p;m++)if(m===0){var w=Math.floor(Math.random()*l.length);switch(o){case Ms.EuclideanDistance:g[m]=h[w];break;default:g[m]=[];break}b.push(w),y[m]=[l[w]],l[w].clusterId=String(m)}else{for(var _=-1/0,x=0,S=function(H){if(!b.includes(H)){for(var Y=0,ie=0;ie<g.length;ie++){var X=0;switch(o){case Ms.EuclideanDistance:X=IP(h[l[H].originIndex],g[ie],o);break}Y+=X}var re=Y/g.length;re>_&&!g.find(function(oe){return Cc(oe,LP(o,h,l[H].originIndex))})&&(_=re,x=H)}},C=0;C<l.length;C++)S(C);g[m]=LP(o,h,x),b.push(x),y[m]=[l[x]],l[x].clusterId=String(m)}for(var T=0;;){for(var m=0;m<l.length;m++){var M=0,k=1/0;if(!(T===0&&b.includes(m))){for(var A=0;A<g.length;A++){var O=0;switch(o){case Ms.EuclideanDistance:O=IP(h[m],g[A],o);break}O<k&&(k=O,M=A)}if(l[m].clusterId!==void 0)for(var P=y[Number(l[m].clusterId)].length-1;P>=0;P--)y[Number(l[m].clusterId)][P].id===l[m].id&&y[Number(l[m].clusterId)].splice(P,1);l[m].clusterId=String(M),y[M].push(l[m])}}for(var R=!1,m=0;m<y.length;m++){for(var N=y[m],L=new Zo([]),A=0;A<N.length;A++)L=L.add(new Zo(h[N[A].originIndex]));var B=L.avg(N.length);B.equal(new Zo(g[m]))||(R=!0,g[m]=B.getArr())}if(T++,l.every(function(z){return z.clusterId!==void 0})&&R||T>=1e3)break}var I=[],D={};return c.forEach(function(z){var U,H,Y=z.source,ie=z.target,X=(U=l.find(function(me){return me.id===Y}))===null||U===void 0?void 0:U.clusterId,re=(H=l.find(function(me){return me.id===ie}))===null||H===void 0?void 0:H.clusterId,oe="".concat(X,"---").concat(re);if(D[oe])D[oe].count++;else{var Ne={source:X,target:re,count:1};D[oe]=Ne,I.push(Ne)}}),{clusters:y,clusterEdges:I}},Ck=function(t,r){var n=new Zo(r),a=n.norm2(),i=new Zo(t),o=i.norm2(),s=n.dot(i),l=a*o,u=l?s/l:0;return u},hG=function(t,r,n,a,i){t===void 0&&(t=[]),n===void 0&&(n=void 0),a===void 0&&(a=[]),i===void 0&&(i=[]);var o=un(t.filter(function(d){return d.id!==r.id})),s=t.findIndex(function(d){return d.id===r.id}),l=_k(t,n),u=xk(l,a,i),c=u[s],f=[];return o.forEach(function(d,h){if(d.id!==r.id){var v=u[h],p=Ck(v,c);f.push(p),d.cosineSimilarity=p}}),o.sort(function(d,h){return h.cosineSimilarity-d.cosineSimilarity}),{allCosineSimilarity:f,similarNodes:o}},fle=function(){function e(t){this.count=t.length,this.parent={};for(var r=0,n=t;r<n.length;r++){var a=n[r];this.parent[a]=a}}return e.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},e.prototype.union=function(t,r){var n=this.find(t),a=this.find(r);n!==a&&(n<a?(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]))},e.prototype.connected=function(t,r){return this.find(t)===this.find(r)},e}(),dle=function(t,r){return t-r},hle=function(){function e(t){t===void 0&&(t=dle),this.compareFn=t,this.list=[]}return e.prototype.getLeft=function(t){return 2*t+1},e.prototype.getRight=function(t){return 2*t+2},e.prototype.getParent=function(t){return t===0?null:Math.floor((t-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var t=this.top(),r=this.list.pop();return this.list.length>0&&(this.list[0]=r,this.moveDown(0)),t},e.prototype.insert=function(t){if(t!==null){this.list.push(t);var r=this.list.length-1;return this.moveUp(r),!0}return!1},e.prototype.moveUp=function(t){for(var r=this.getParent(t);t&&t>0&&this.compareFn(this.list[r],this.list[t])>0;){var n=this.list[r];this.list[r]=this.list[t],this.list[t]=n,t=r,r=this.getParent(t)}},e.prototype.moveDown=function(t){var r,n=t,a=this.getLeft(t),i=this.getRight(t),o=this.list.length;a!==null&&a<o&&this.compareFn(this.list[n],this.list[a])>0?n=a:i!==null&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(r=[this.list[n],this.list[t]],this.list[t]=r[0],this.list[n]=r[1],this.moveDown(n))},e}(),vle=function(t,r){var n=[],a=t.nodes,i=a===void 0?[]:a,o=t.edges,s=o===void 0?[]:o;if(i.length===0)return n;var l=i[0],u=new Set;u.add(l);var c=function(m,g){return r?m.weight-g.weight:0},f=new hle(c);for(T1(l.id,s).forEach(function(p){f.insert(p)});!f.isEmpty();){var d=f.delMin(),h=d.source,v=d.target;u.has(h)&&u.has(v)||(n.push(d),u.has(h)||(u.add(h),T1(h,s).forEach(function(p){f.insert(p)})),u.has(v)||(u.add(v),T1(v,s).forEach(function(p){f.insert(p)})))}return n},NP=function(t,r){var n=[],a=t.nodes,i=a===void 0?[]:a,o=t.edges,s=o===void 0?[]:o;if(i.length===0)return n;var l=s.map(function(h){return h});r&&l.sort(function(h,v){return h.weight-v.weight});for(var u=new fle(i.map(function(h){return h.id}));l.length>0;){var c=l.shift(),f=c.source,d=c.target;u.connected(f,d)||(n.push(c),u.union(f,d))}return n},vG=function(t,r,n){var a={prim:vle,kruskal:NP};return n?a[n](t,r):NP(t,r)},pG=function(t,r,n){typeof r!="number"&&(r=1e-6),typeof n!="number"&&(n=.85);for(var a=1,i=0,o=1e3,s=t.nodes,l=s===void 0?[]:s,u=t.edges,c=u===void 0?[]:u,f=l.length,d,h={},v={},p=0;p<f;++p){var m=l[p],g=m.id;h[g]=1/f,v[g]=1/f}for(var b=gu(t);o>0&&a>r;){i=0;for(var p=0;p<f;++p){var m=l[p],g=m.id;if(d=0,b[m.id].inDegree===0)h[g]=0;else{for(var y=Mo(g,c,"source"),w=0;w<y.length;++w){var _=y[w],x=b[_].outDegree;x>0&&(d+=v[_]/x)}h[g]=n*d,i+=h[g]}}i=(1-i)/f,a=0;for(var p=0;p<f;++p){var m=l[p],g=m.id;d=h[g]+i,a+=Math.abs(d-v[g]),v[g]=d}o-=1}return v},ple=-1,Pb=-1,gG="-1",dl="-1",mG=-1,PP=function(){function e(t,r,n,a){t===void 0&&(t=ple),r===void 0&&(r=Pb),n===void 0&&(n=Pb),a===void 0&&(a=gG),this.id=t,this.from=r,this.to=n,this.label=a}return e}(),gle=function(){function e(t,r){t===void 0&&(t=Pb),r===void 0&&(r=dl),this.id=t,this.label=r,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},e}(),yG=function(){function e(t,r,n){t===void 0&&(t=Pb),r===void 0&&(r=!0),n===void 0&&(n=!1),this.id=t,this.edgeIdAutoIncrease=r,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(t,r){if(!this.nodeMap[t]){var n=new gle(t,r);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[r]||(this.nodeLabelMap[r]=[]),this.nodeLabelMap[r].push(t)}},e.prototype.addEdge=function(t,r,n,a){if((this.edgeIdAutoIncrease||t===void 0)&&(t=this.counter++),!(this.nodeMap[r]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new PP(t,r,n,a);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[r].addEdge(i),this.edgeLabelMap[a]||(this.edgeLabelMap[a]=[]),this.edgeLabelMap[a].push(i),!this.directed){var o=new PP(t,n,r,a);this.nodeMap[n].addEdge(o),this.edgeLabelMap[a].push(o)}}},e}(),wf=function(){function e(t,r,n,a,i){this.fromNode=t,this.toNode=r,this.nodeEdgeNodeLabel={nodeLabel1:n||dl,edgeLabel:a||gG,nodeLabel2:i||dl}}return e.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(t){return!this.equalTo(t)},e}(),DP=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(t){var r=this.dfsEdgeList.length,n=t.length;if(r!==n)return!1;for(var a=0;a<r;a++)if(this.dfsEdgeList[a]!==t[a])return!1;return!0},e.prototype.notEqualTo=function(t){return!this.equalTo(t)},e.prototype.pushBack=function(t,r,n,a,i){return this.dfsEdgeList.push(new wf(t,r,n,a,i)),this.dfsEdgeList},e.prototype.toGraph=function(t,r){t===void 0&&(t=mG),r===void 0&&(r=!1);var n=new yG(t,!0,r);return this.dfsEdgeList.forEach(function(a){var i=a.fromNode,o=a.toNode,s=a.nodeEdgeNodeLabel,l=s.nodeLabel1,u=s.edgeLabel,c=s.nodeLabel2;l!==dl&&n.addNode(i,l),c!==dl&&n.addNode(o,c),l!==dl&&c!==l&&n.addEdge(void 0,i,o,u)}),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,r=this.dfsEdgeList.length,n=r-1;n>=0;n--){var a=this.dfsEdgeList[n],i=a.fromNode,o=a.toNode;i<o&&(t===void 0||o===t)&&(this.rmpath.push(n),t=i)}return this.rmpath},e.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(r){t[r.fromNode]||(t[r.fromNode]=!0),t[r.toNode]||(t[r.toNode]=!0)}),Object.keys(t).length},e}(),ay=function(){function e(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!t){for(;t;){var r=t.edge;this.edges.push(r),this.nodesUsed[r.from]=1,this.nodesUsed[r.to]=1,this.edgesUsed[r.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(t){return this.nodesUsed[t.id]===1},e.prototype.hasEdge=function(t){return this.edgesUsed[t.id]===1},e}(),mle=function(){function e(t){var r=t.graphs,n=t.minSupport,a=n===void 0?2:n,i=t.minNodeNum,o=i===void 0?1:i,s=t.maxNodeNum,l=s===void 0?4:s,u=t.top,c=u===void 0?10:u,f=t.directed,d=f===void 0?!1:f,h=t.verbose,v=h===void 0?!1:h;this.graphs=r,this.dfsCode=new DP,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=a,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=v,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(t,r){var n=this,a=[],i=t.nodeMap;return r.edges.forEach(function(o){(n.directed||r.label<=i[o.to].label)&&a.push(o)}),a},e.prototype.findBackwardEdge=function(t,r,n,a){if(!this.directed&&r===n)return null;for(var i=t.nodeMap,o=i[n.to],s=o.edges,l=s.length,u=0;u<l;u++){var c=s[u];if(!(a.hasEdge(c)||c.to!==r.from)){if(this.directed){if(i[r.from].label<i[n.to].label||i[r.from].label===i[n.to].label&&r.label<=c.label)return c}else if(r.label<c.label||r.label===c.label&&i[r.to].label<=i[n.to].label)return c}}return null},e.prototype.findForwardPureEdges=function(t,r,n,a){for(var i=[],o=r.to,s=t.nodeMap[o].edges,l=s.length,u=0;u<l;u++){var c=s[u],f=t.nodeMap[c.to];n<=f.label&&!a.hasNode(f)&&i.push(c)}return i},e.prototype.findForwardRmpathEdges=function(t,r,n,a){for(var i=[],o=t.nodeMap,s=o[r.to].label,l=o[r.from],u=l.edges,c=u.length,f=0;f<c;f++){var d=u[f],h=o[d.to].label;r.to===d.to||n>h||a.hasNode(o[d.to])||(r.label<d.label||r.label===d.label&&s<=h)&&i.push(d)}return i},e.prototype.getSupport=function(t){var r={};return t.forEach(function(n){r[n.graphId]||(r[n.graphId]=!0)}),Object.keys(r).length},e.prototype.findMinLabel=function(t){var r=void 0;return Object.keys(t).forEach(function(n){var a=t[n],i=a.nodeLabel1,o=a.edgeLabel,s=a.nodeLabel2;if(!r){r={nodeLabel1:i,edgeLabel:o,nodeLabel2:s};return}(i<r.nodeLabel1||i===r.nodeLabel1&&o<r.edgeLabel||i===r.nodeLabel1&&o===r.edgeLabel&&s<r.nodeLabel2)&&(r={nodeLabel1:i,edgeLabel:o,nodeLabel2:s})}),r},e.prototype.isMin=function(){var t=this,r=this.dfsCode;if(this.verbose&&console.log("isMin checking",r),r.dfsEdgeList.length===1)return!0;var n=this.directed,a=r.toGraph(mG,n),i=a.nodeMap,o=new DP,s={};a.nodes.forEach(function(f){var d=t.findForwardRootEdges(a,f);d.forEach(function(h){var v=i[h.to],p="".concat(f.label,"-").concat(h.label,"-").concat(v.label);s[p]||(s[p]={projected:[],nodeLabel1:f.label,edgeLabel:h.label,nodeLabel2:v.label});var m={graphId:a.id,edge:h,preNode:null};s[p].projected.push(m)})});var l=this.findMinLabel(s);if(l){o.dfsEdgeList.push(new wf(0,1,l.nodeLabel1,l.edgeLabel,l.nodeLabel2));var u=function f(d){for(var h=o.buildRmpath(),v=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,p=o.dfsEdgeList[h[0]].toNode,m={},g=!1,b=0,y=n?-1:0,w=function(L){if(g)return"break";d.forEach(function(B){var I=new ay(B),D=t.findBackwardEdge(a,I.edges[h[L]],I.edges[h[0]],I);D&&(m[D.label]||(m[D.label]={projected:[],edgeLabel:D.label}),m[D.label].projected.push({graphId:a.id,edge:m,preNode:B}),b=o.dfsEdgeList[h[L]].fromNode,g=!0)})},_=h.length-1;_>y;_--){var x=w(_);if(x==="break")break}if(g){var S=t.findMinLabel(m);o.dfsEdgeList.push(new wf(p,b,dl,S.edgeLabel,dl));var C=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[C]!==o.dfsEdgeList[C]?!1:f(m[S.edgeLabel].projected)}var T={};g=!1;var M=0;d.forEach(function(N){var L=new ay(N),B=t.findForwardPureEdges(a,L.edges[h[0]],v,L);B.length>0&&(g=!0,M=p,B.forEach(function(I){var D="".concat(I.label,"-").concat(i[I.to].label);T[D]||(T[D]={projected:[],edgeLabel:I.label,nodeLabel2:i[I.to].label}),T[D].projected.push({graphId:a.id,edge:I,preNode:N})}))});for(var k=h.length,A=function(L){if(g)return"break";var B=h[L];d.forEach(function(I){var D=new ay(I),z=t.findForwardRmpathEdges(a,D.edges[B],v,D);z.length>0&&(g=!0,M=o.dfsEdgeList[B].fromNode,z.forEach(function(U){var H="".concat(U.label,"-").concat(i[U.to].label);T[H]||(T[H]={projected:[],edgeLabel:U.label,nodeLabel2:i[U.to].label}),T[H].projected.push({graphId:a.id,edge:U,preNode:I})}))})},_=0;_<k;_++){var O=A(_);if(O==="break")break}if(!g)return!0;var P=t.findMinLabel(T);o.dfsEdgeList.push(new wf(M,p+1,dl,P.edgeLabel,P.nodeLabel2));var R=o.dfsEdgeList.length-1;return r.dfsEdgeList[R]!==o.dfsEdgeList[R]?!1:f(T["".concat(P.edgeLabel,"-").concat(P.nodeLabel2)].projected)},c="".concat(l.nodeLabel1,"-").concat(l.edgeLabel,"-").concat(l.nodeLabel2);return u(s[c].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(un(t))}},e.prototype.subGraphMining=function(t){var r=this,n=this.getSupport(t);if(!(n<this.minSupport)&&this.isMin()){this.report();var a=this.dfsCode.getNodeNum(),i=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[i[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},u={};t.forEach(function(c){for(var f=r.graphs[c.graphId],d=f.nodeMap,h=new ay(c),v=i.length-1;v>=0;v--){var p=r.findBackwardEdge(f,h.edges[i[v]],h.edges[i[0]],h);if(p){var m="".concat(r.dfsCode.dfsEdgeList[i[v]].fromNode,"-").concat(p.label);u[m]||(u[m]={projected:[],toNodeId:r.dfsCode.dfsEdgeList[i[v]].fromNode,edgeLabel:p.label}),u[m].projected.push({graphId:c.graphId,edge:p,preNode:c})}}if(!(a>=r.maxNodeNum)){var g=r.findForwardPureEdges(f,h.edges[i[0]],s,h);g.forEach(function(y){var w="".concat(o,"-").concat(y.label,"-").concat(d[y.to].label);l[w]||(l[w]={projected:[],fromNodeId:o,edgeLabel:y.label,nodeLabel2:d[y.to].label}),l[w].projected.push({graphId:c.graphId,edge:y,preNode:c})});for(var b=function(w){var _=r.findForwardRmpathEdges(f,h.edges[i[w]],s,h);_.forEach(function(x){var S="".concat(r.dfsCode.dfsEdgeList[i[w]].fromNode,"-").concat(x.label,"-").concat(d[x.to].label);l[S]||(l[S]={projected:[],fromNodeId:r.dfsCode.dfsEdgeList[i[w]].fromNode,edgeLabel:x.label,nodeLabel2:d[x.to].label}),l[S].projected.push({graphId:c.graphId,edge:x,preNode:c})})},v=0;v<i.length;v++)b(v)}}),Object.keys(u).forEach(function(c){var f=u[c],d=f.toNodeId,h=f.edgeLabel;r.dfsCode.dfsEdgeList.push(new wf(o,d,"-1",h,"-1")),r.subGraphMining(u[c].projected),r.dfsCode.dfsEdgeList.pop()}),Object.keys(l).forEach(function(c){var f=l[c],d=f.fromNodeId,h=f.edgeLabel,v=f.nodeLabel2;r.dfsCode.dfsEdgeList.push(new wf(d,o+1,dl,h,v)),r.subGraphMining(l[c].projected),r.dfsCode.dfsEdgeList.pop()})}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,r=this.directed,n=this.minSupport,a=this.frequentSize1Subgraphs,i={},o={},s={};return Object.keys(t).forEach(function(l){var u=t[l],c=u.nodeMap;u.nodes.forEach(function(f,d){var h=f.label,v="".concat(l,"-").concat(h);if(!s[v]){var p=i[h]||0;p++,i[h]=p}s[v]={graphKey:l,label:h},f.edges.forEach(function(m){var g=h,b=c[m.to].label;if(!r&&g>b){var y=b;b=g,g=y}var w=m.label,_="".concat(g,"-").concat(w,"-").concat(b);if(!o[_]){var x=o[_]||0;x++,o[_]=x}})})}),Object.keys(i).forEach(function(l){var u=i[l];if(!(u<n)){var c={nodes:[],edges:[]};c.nodes.push({id:"0",label:l}),a.push(c)}}),a},e.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var r=this.graphs;this.directed;var n={};Object.keys(r).forEach(function(a){var i=r[a],o=i.nodeMap;i.nodes.forEach(function(s){var l=t.findForwardRootEdges(i,s);l.forEach(function(u){var c=o[u.to],f="".concat(s.label,"-").concat(u.label,"-").concat(c.label);n[f]||(n[f]={projected:[],nodeLabel1:s.label,edgeLabel:u.label,nodeLabel2:c.label});var d={graphId:a,edge:u,preNode:null};n[f].projected.push(d)})})}),Object.keys(n).forEach(function(a){var i=n[a],o=i.projected,s=i.nodeLabel1,l=i.edgeLabel,u=i.nodeLabel2;t.dfsCode.dfsEdgeList.push(new wf(0,1,s,l,u)),t.subGraphMining(o),t.dfsCode.dfsEdgeList.pop()})}},e}(),yle=function(t,r,n,a){var i={};return Object.keys(t).forEach(function(o,s){var l=t[o],u=new yG(s,!0,r),c={};l.nodes.forEach(function(f,d){u.addNode(d,f[n]),c[f.id]=d}),l.edges.forEach(function(f,d){var h=c[f.source],v=c[f.target];u.addEdge(-1,h,v,f[a])}),u&&u.getNodeNum()&&(i[u.id]=u)}),i},ble=function(t,r,n){var a=[];return t.forEach(function(i){var o={nodes:[],edges:[]};i.nodes.forEach(function(s){var l;o.nodes.push((l={id:"".concat(s.id)},l[r]=s.label,l))}),i.edges.forEach(function(s){var l;o.edges.push((l={source:"".concat(s.from),target:"".concat(s.to)},l[n]=s.label,l))}),a.push(o)}),a},RP="cluster",wle=function(t){var r=t.graphs,n=t.directed,a=n===void 0?!1:n,i=t.nodeLabelProp,o=i===void 0?RP:i,s=t.edgeLabelProp,l=s===void 0?RP:s,u=yle(r,a,o,l),c=t.minSupport,f=t.maxNodeNum,d=t.minNodeNum,h=t.verbose,v=t.top,p={graphs:u,minSupport:c,maxNodeNum:f,minNodeNum:d,top:v,verbose:h,directed:a},m=new mle(p);m.run();var g=ble(m.frequentSubgraphs,o,l);return g},$P=function(t,r,n,a){n===void 0&&(n="cluster"),a===void 0&&(a=2);var i=[],o=t.nodes;return r.forEach(function(s,l){i.push(bG(o,s,l,n,a))}),i},bG=function(t,r,n,a,i){var o=[n],s=[],l={};return r.forEach(function(u,c){if(u<=i&&n!==c){o.push(c),s.push(t[c]);var f=t[c][a];l[f]?(l[f].count++,l[f].dists.push(u)):l[f]={count:1,dists:[u]}}}),Object.keys(l).forEach(function(u){l[u].dists=l[u].dists.sort(function(c,f){return c-f})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:l}},Ele=function(t,r,n,a,i){var o=Math.ceil(n/r),s={},l=0;return a.forEach(function(u,c){for(var f=0,d=0,h=u.nodeIdxs,v=u.neighborNum-1;f<o;){for(var p=h[1+Math.floor(Math.random()*v)],m=0;(s["".concat(c,"-").concat(p)]||s["".concat(p,"-").concat(c)])&&(p=Math.floor(Math.random()*r),m++,!(m>2*r)););if(m<2*r&&(s["".concat(c,"-").concat(p)]={start:c,end:p,distance:i[c][p]},f++,l++,l>=n))return s;if(d++,d>2*r)break}if(f<o){var g=o-f;o=(o+g)/(r-c-1)}}),s},k1=function(t,r,n,a){var i=n.nodes;return a||(a={}),Object.keys(t).forEach(function(o){var s,l;if(!(a&&a[o])){a[o]={nodes:[],edges:[]};var u=t[o],c=(s=r[u.start])===null||s===void 0?void 0:s.nodeIdxs,f=(l=r[u.end])===null||l===void 0?void 0:l.nodeIdxs;if(!(!c||!f)){var d=new Set(f),h=c.filter(function(b){return d.has(b)});if(!(!h||!h.length)){for(var v={},p=h.length,m=0;m<p;m++){var g=i[h[m]];a[o].nodes.push(g),v[g.id]=!0}n.edges.forEach(function(b){v[b.source]&&v[b.target]&&a[o].edges.push(b)})}}}}),a},A1=function(t,r,n,a){var i,o,s={};t.nodes.forEach(function(u){s[u.id]=u});var l=0;return!(!((i=r==null?void 0:r.edges)===null||i===void 0)&&i.length)||((o=r==null?void 0:r.nodes)===null||o===void 0?void 0:o.length)<2?0:(t.edges.forEach(function(u){var c=s[u.source][n],f=s[u.target][n],d=r==null?void 0:r.nodes[0][n],h=r==null?void 0:r.nodes[1][n],v=r==null?void 0:r.edges[0][a];u[a]===v&&(c===d&&f===h||c===h&&f===d)&&l++}),l)},_le=function(t,r,n){for(var a=1/0,i=0,o=function(u){var c=t[u],f=Object.keys(c).sort(function(b,y){return c[b]-c[y]}),d=10,h=[];f.forEach(function(b,y){h[y%d]||(h[y%d]={graphs:[],totalCount:0,aveCount:0}),h[y%d].graphs.push(b),h[y%d].totalCount+=c[b]});var v=0,p=[];h.forEach(function(b){var y=b.totalCount/b.graphs.length;b.aveCount=y,p.push(y);var w=0,_=b.length;b.graphs.forEach(function(x,S){var C=c[x];b.graphs.forEach(function(T,M){S!==M&&(w+=Math.abs(C-c[T]))})}),w/=_*(_-1)/2,v+=w}),v/=h.length;var m=0;p.forEach(function(b,y){p.forEach(function(w,_){y!==_&&(m+=Math.abs(b-w))}),m/=p.length*(p.length-1)/2});var g=m-v;a<g&&(a=g,i=u)},s=0;s<r;s++)o(s);return{structure:n[i],structureCountMap:t[i]}},BP=function(t,r){var n={},a={};return t.forEach(function(i,o){n[i.id]={idx:o,node:i,degree:0,inDegree:0,outDegree:0};var s=i[r];a[s]||(a[s]=[]),a[s].push(i)}),{nodeMap:n,nodeLabelMap:a}},FP=function(t,r,n){var a={},i={};return t.forEach(function(o,s){a["".concat(Jz)]={idx:s,edge:o};var l=o[r];i[l]||(i[l]=[]),i[l].push(o);var u=n[o.source];u&&(u.degree++,u.outDegree++);var c=n[o.target];c&&(c.degree++,c.inDegree++)}),{edgeMap:a,edgeLabelMap:i}},zP=function(t,r,n){var a=r.length,i={};return r.forEach(function(o,s){for(var l=n?0:s+1,u=t[s].id,c=l;c<a;c++)if(s!==c){var f=t[c].id,d=o[c];i["".concat(u,"-").concat(f)]=d,n||(i["".concat(f,"-").concat(u)]=d)}}),i},xle=function(t,r,n,a,i,o,s,l,u,c,f){var d,h="".concat(r.id,"-").concat(n.id);if(c&&c[h])return c[h];var v=f?f[h]:void 0;if(!v){var p=(d={},d[h]={start:a[r.id].idx,end:a[n.id].idx,distance:i},d);f=k1(p,o,t,f),v=f[h]}return A1(v,s,l,u)},GP=function(t,r,n,a){var i,o,s,l=(i=t[r])===null||i===void 0?void 0:i.degree,u=(o=t[r])===null||o===void 0?void 0:o.inDegree,c=(s=t[r])===null||s===void 0?void 0:s.outDegree;return t[r]===void 0&&(l=1/0,u=1/0,c=1/0,a[r].forEach(function(f){var d=n[f.id].degree;l>d&&(l=d);var h=n[f.id].inDegree;u>h&&(u=h);var v=n[f.id].outDegree;c>v&&(c=v)}),t[r]={degree:l,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:l,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},wG=function(t,r,n,a,i,o,s){var l;if(n===void 0&&(n=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!t||!t.nodes)){var u=t.nodes.length;if(u){var c=Dg(t,n),f=Dg(r,n),d=zP(t.nodes,c,n),h=zP(r.nodes,f,n),v=BP(t.nodes,o),p=v.nodeMap,m=v.nodeLabelMap,g=BP(r.nodes,o),b=g.nodeMap,y=g.nodeLabelMap;FP(t.edges,s,p);var w=FP(r.edges,s,b).edgeLabelMap,_=[];f==null||f.forEach(function(ke){_=_.concat(ke)}),i||(i=Math.max.apply(Math,Oo(Oo([],_,!1),[2],!1))),a||(a=i);var x=$P(t,c,o,a),S=$P(r,f,o,a),C=Math.min(100,u*(u-1)/2),T=Ele(a,u,C,x,c),M=k1(T,x,t),k=10,A=1,O=1,P=4,R={graphs:M,nodeLabelProp:o,edgeLabelProp:s,minSupport:A,minNodeNum:O,maxNodeNum:P,directed:n},N=wle(R).slice(0,k),L=N.length,B=[];N.forEach(function(ke,q){B[q]={},Object.keys(M).forEach(function(j){var Ce=M[j],fe=A1(Ce,ke,o,s);B[q][j]=fe})});var I=_le(B,L,N),D=I.structure,z=I.structureCountMap,U=r.nodes[0],H=[],Y=(l=r.nodes[0])===null||l===void 0?void 0:l[o],ie=-1/0;r.nodes.forEach(function(ke){var q=ke[o],j=m[q];(j==null?void 0:j.length)>ie&&(ie=j.length,H=j,Y=q,U=ke)});var X={},re={},oe={},Ne={},me={},xe={};Object.keys(y).forEach(function(ke,q){me[ke]=[],n&&(xe[ke]=[]);var j=y[ke],Ce={};j.forEach(function(ot){var Ye=h["".concat(U.id,"-").concat(ot.id)];if(Ye&&me[ke].push(Ye),Ce["".concat(U.id,"-").concat(ot.id)]={start:0,end:b[ot.id].idx,distance:Ye},n){var we=h["".concat(ot.id,"-").concat(U.id)];we&&xe[ke].push(we)}}),me[ke]=me[ke].sort(function(ot,Ye){return ot-Ye}),n&&(xe[ke]=xe[ke].sort(function(ot,Ye){return ot-Ye})),re=k1(Ce,S,r,re);var fe=[];if(Object.keys(Ce).forEach(function(ot){if(oe[ot]){fe.push(oe[ot]);return}var Ye=re[ot];oe[ot]=A1(Ye,D,o,s),fe.push(oe[ot])}),fe=fe.sort(function(ot,Ye){return Ye-ot}),Ne["".concat(U.id,"-").concat(ke)]=fe,ke!==Y)for(var ge=(H==null?void 0:H.length)||0,Ue=function(Ye){var we=H[Ye],qe=x[p[we.id].idx],Be=qe.nodeLabelCountMap[ke],pe=y[ke].length;if(!Be||Be.count<pe)return H.splice(Ye,1),"continue";for(var Re=!1,ft=0;ft<pe;ft++)if(Be.dists[ft]>me[ke][ft]){Re=!0;break}if(Re)return H.splice(Ye,1),"continue";var Ee={};qe.neighbors.forEach(function(lr){var Wr=d["".concat(we.id,"-").concat(lr.id)];Ee["".concat(we.id,"-").concat(lr.id)]={start:p[we.id].idx,end:p[lr.id].idx,distance:Wr}}),M=k1(Ee,x,t,M);var wt=[];Object.keys(Ee).forEach(function(lr){if(z[lr]){wt.push(z[lr]);return}var Wr=M[lr];z[lr]=A1(Wr,D,o,s),wt.push(z[lr])}),wt=wt.sort(function(lr,Wr){return Wr-lr});for(var ar=!1,ft=0;ft<pe;ft++)if(wt[ft]<fe[ft]){ar=!0;break}if(ar)return H.splice(Ye,1),"continue"},tt=ge-1;tt>=0;tt--)Ue(tt)});var ze=[];H==null||H.forEach(function(ke){for(var q=p[ke.id].idx,j=bG(t.nodes,c[q],q,o,i),Ce=j.neighbors,fe=Ce.length,ge=!1,Ue=fe-1;Ue>=0;Ue--){if(Ce.length+1<r.nodes.length){ge=!0;return}var tt=Ce[Ue],ot=tt[o];if(!y[ot]||!y[ot].length){Ce.splice(Ue,1);continue}if(!me[ot]||!me[ot].length){Ce.splice(Ue,1);continue}var Ye="".concat(ke.id,"-").concat(tt.id),we=d[Ye],qe=me[ot].length-1,Be=me[ot][qe];if(we>Be){Ce.splice(Ue,1);continue}if(n){var pe="".concat(tt.id,"-").concat(ke.id),Re=d[pe];qe=xe[ot].length-1;var ft=xe[ot][qe];if(Re>ft){Ce.splice(Ue,1);continue}}var Ee=z[Ye]?z[Ye]:xle(t,ke,tt,p,we,x,D,o,s,z,M),wt="".concat(U.id,"-").concat(ot),ar=Ne[wt][Ne[wt].length-1];if(Ee<ar){Ce.splice(Ue,1);continue}var lr=GP(X,ot,b,y),Wr=lr.minPatternNodeLabelDegree;if(lr.minPatternNodeLabelInDegree,lr.minPatternNodeLabelOutDegree,p[tt.id].degree<Wr){Ce.splice(Ue,1);continue}}ge||ze.push({nodes:[ke].concat(Ce)})});var te=Pg(r,U.id,!1).length,le={};n?(Object.keys(te).forEach(function(ke){var q=b[ke].node[o];le[q]?le[q].push(te[ke]):le[q]=[te[ke]]}),Object.keys(le).forEach(function(ke){le[ke].sort(function(q,j){return q-j})})):le=me;for(var Ae=ze.length,Ve=function(q){var j=ze[q],Ce=j.nodes[0],fe={},ge={};j.nodes.forEach(function(Ar,nt){ge[Ar.id]={idx:nt,node:Ar,degree:0,inDegree:0,outDegree:0};var vt=Ar[o];fe[vt]?fe[vt]++:fe[vt]=1});var Ue=[],tt={};t.edges.forEach(function(Ar){ge[Ar.source]&&ge[Ar.target]&&(Ue.push(Ar),tt[Ar[s]]?tt[Ar[s]]++:tt[Ar[s]]=1,ge[Ar.source].degree++,ge[Ar.target].degree++,ge[Ar.source].outDegree++,ge[Ar.target].inDegree++)});for(var ot=Object.keys(w).length,Ye=!1,we=0;we<ot;we++){var qe=Object.keys(w)[we];if(!tt[qe]||tt[qe]<w[qe].length){Ye=!0;break}}if(Ye)return ze.splice(q,1),"continue";var Be=Ue.length;if(Be<r.edges.length)return ze.splice(q,1),"break";for(var pe=!1,Re=function(nt){var vt=Ue[nt],Br=vt[s],sn=w[Br];if(!sn||!sn.length)return tt[Br]--,sn&&tt[Br]<sn.length?(pe=!0,"break"):(Ue.splice(nt,1),ge[vt.source].degree--,ge[vt.target].degree--,ge[vt.source].outDegree--,ge[vt.target].inDegree--,"continue");var Aa=ge[vt.source].node[o],Ra=ge[vt.target].node[o],Za=!1;if(sn.forEach(function(Ia){var na=b[Ia.source].node,Hi=b[Ia.target].node;na[o]===Aa&&Hi[o]===Ra&&(Za=!0),!n&&na[o]===Ra&&Hi[o]===Aa&&(Za=!0)}),!Za)return tt[Br]--,sn&&tt[Br]<sn.length?(pe=!0,"break"):(Ue.splice(nt,1),ge[vt.source].degree--,ge[vt.target].degree--,ge[vt.source].outDegree--,ge[vt.target].inDegree--,"continue")},we=Be-1;we>=0;we--){var ft=Re(we);if(ft==="break")break}if(pe)return ze.splice(q,1),"continue";j.edges=Ue;var Ee=Pg(j,j.nodes[0].id,!1).length;if(Object.keys(Ee).reverse().forEach(function(Ar){if(!(Ar===j.nodes[0].id||pe)){if(Ee[Ar]===1/0){var nt=ge[Ar].node[o];if(fe[nt]--,fe[nt]<y[nt].length){pe=!0;return}var vt=j.nodes.indexOf(ge[Ar].node);j.nodes.splice(vt,1),ge[Ar]=void 0;return}var Br=p[Ar].node[o];if(!le[Br]||!le[Br].length||Ee[Ar]>le[Br][le[Br].length-1]){var nt=ge[Ar].node[o];if(fe[nt]--,fe[nt]<y[nt].length){pe=!0;return}var vt=j.nodes.indexOf(ge[Ar].node);j.nodes.splice(vt,1),ge[Ar]=void 0}}}),pe)return ze.splice(q,1),"continue";for(var wt=!0,ar=0;wt&&!pe;){wt=!1;var lr=n?ge[Ce.id].degree<b[U.id].degree||ge[Ce.id].inDegree<b[U.id].inDegree||ge[Ce.id].outDegree<b[U.id].outDegree:ge[Ce.id].degree<b[U.id].degree;if(lr){pe=!0;break}if(fe[Ce[o]]<y[Ce[o]].length){pe=!0;break}for(var Wr=j.nodes.length,In=Wr-1;In>=0;In--){var ir=j.nodes[In],An=ge[ir.id].degree,Ro=ge[ir.id].inDegree,fo=ge[ir.id].outDegree,ra=ir[o],Ea=GP(X,ra,b,y),Wi=Ea.minPatternNodeLabelDegree,$o=Ea.minPatternNodeLabelInDegree,gs=Ea.minPatternNodeLabelOutDegree,Li=n?An<Wi||Ro<$o||fo<gs:An<Wi;if(Li){if(fe[ir[o]]--,fe[ir[o]]<y[ir[o]].length){pe=!0;break}j.nodes.splice(In,1),ge[ir.id]=void 0,wt=!0}}if(pe||!wt&&ar!==0)break;Be=Ue.length;for(var ci=Be-1;ci>=0;ci--){var Vn=Ue[ci];if(!ge[Vn.source]||!ge[Vn.target]){Ue.splice(ci,1);var fi=Vn[s];if(tt[fi]--,ge[Vn.source]&&(ge[Vn.source].degree--,ge[Vn.source].outDegree--),ge[Vn.target]&&(ge[Vn.target].degree--,ge[Vn.target].inDegree--),w[fi]&&tt[fi]<w[fi].length){pe=!0;break}wt=!0}}ar++}if(pe||pe||j.nodes.length<r.nodes.length||Ue.length<r.edges.length)return ze.splice(q,1),"continue"},Ie=Ae-1;Ie>=0;Ie--){var De=Ve(Ie);if(De==="break")break}for(var Ge=ze.length,Qe=function(q){var j=ze[q],Ce={};j.edges.forEach(function(Ue){var tt="".concat(Ue.source,"-").concat(Ue.target,"-").concat(Ue.label);Ce[tt]?Ce[tt]++:Ce[tt]=1});for(var fe=function(tt){var ot=ze[tt],Ye={};ot.edges.forEach(function(qe){var Be="".concat(qe.source,"-").concat(qe.target,"-").concat(qe.label);Ye[Be]?Ye[Be]++:Ye[Be]=1});var we=!0;Object.keys(Ye).length!==Object.keys(Ce).length?we=!1:Object.keys(Ce).forEach(function(qe){Ye[qe]!==Ce[qe]&&(we=!1)}),we&&ze.splice(tt,1)},ge=Ge-1;ge>q;ge--)fe(ge);Ge=ze.length},Ie=0;Ie<=Ge-1;Ie++)Qe(Ie);return ze}}},Eh=function(){function e(t){t===void 0&&(t=10),this.linkedList=new Qz,this.maxStep=t}return Object.defineProperty(e.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},e.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},e.prototype.push=function(t){this.linkedList.prepend(t),this.length>this.maxStep&&this.linkedList.deleteTail()},e.prototype.pop=function(){var t=this.linkedList.deleteHead();return t?t.value:null},e.prototype.toArray=function(){return this.linkedList.toArray().map(function(t){return t.value})},e.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},e}(),EG=bk;const Sle={getAdjMatrix:rd,breadthFirstSearch:eG,connectedComponent:mk,getDegree:gu,getInDegree:rG,getOutDegree:nG,detectCycle:bk,detectDirectedCycle:EG,detectAllCycles:iG,detectAllDirectedCycle:Ek,detectAllUndirectedCycle:wk,depthFirstSearch:yk,dijkstra:Pg,findAllPath:lG,findShortestPath:sG,floydWarshall:Dg,labelPropagation:uG,louvain:Sk,iLouvain:cG,kCore:fG,kMeans:dG,cosineSimilarity:Ck,nodesCosineSimilarity:hG,minimumSpanningTree:vG,pageRank:pG,getNeighbors:Mo,Stack:Eh,GADDI:wG},Cle=Object.freeze(Object.defineProperty({__proto__:null,GADDI:wG,Stack:Eh,breadthFirstSearch:eG,connectedComponent:mk,cosineSimilarity:Ck,default:Sle,depthFirstSearch:yk,detectAllCycles:iG,detectAllDirectedCycle:Ek,detectAllUndirectedCycle:wk,detectCycle:bk,detectDirectedCycle:EG,dijkstra:Pg,findAllPath:lG,findShortestPath:sG,floydWarshall:Dg,getAdjMatrix:rd,getDegree:gu,getInDegree:rG,getNeighbors:Mo,getOutDegree:nG,iLouvain:cG,kCore:fG,kMeans:dG,labelPropagation:uG,louvain:Sk,minimumSpanningTree:vG,nodesCosineSimilarity:hG,pageRank:pG},Symbol.toStringTag,{value:"Module"}));var Db=vs,Mle=function(t){return function(r,n){return r[t]-n[t]}},jP=function(t,r,n){return t>=r&&t<=n},lE=function(t,r,n,a){var i=1e-4,o={x:n.x-t.x,y:n.y-t.y},s={x:r.x-t.x,y:r.y-t.y},l={x:a.x-n.x,y:a.y-n.y},u=s.x*l.y-s.y*l.x,c=u*u,f=1/u,d=s.x*s.x+s.y*s.y,h=l.x*l.x+l.y*l.y;if(c>i*d*h){var v=(o.x*l.y-o.y*l.x)*f,p=(o.x*s.y-o.y*s.x)*f;return!jP(v,0,1)||!jP(p,0,1)?null:{x:t.x+v*s.x,y:t.y+v*s.y}}return null},_G=function(t,r){var n=t.x,a=t.y,i=t.width,o=t.height,s=n+i/2,l=a+o/2,u=[],c={x:s,y:l};u.push({x:n,y:a}),u.push({x:n+i,y:a}),u.push({x:n+i,y:a+o}),u.push({x:n,y:a+o}),u.push({x:n,y:a});for(var f=null,d=1;d<u.length&&(f=lE(u[d-1],u[d],c,r),!f);d++);return f},xG=function(t,r){var n=t.x,a=t.y,i=t.r,o=r.x,s=r.y,l=o-n,u=s-a;if(l*l+u*u<i*i)return null;var c=Math.atan(u/l);return{x:n+Math.abs(i*Math.cos(c))*Math.sign(l),y:a+Math.abs(i*Math.sin(c))*Math.sign(u)}},SG=function(t,r){var n=t.rx,a=t.ry,i=t.x,o=t.y,s=r.x-i,l=r.y-o,u=Math.atan2(l/a,s/n);return u<0&&(u+=2*Math.PI),{x:i+n*Math.cos(u),y:o+a*Math.sin(u)}},Lh=function(t,r,n){n===void 0&&(n=1);var a=[t.x,t.y,n];return(!r||isNaN(r[0]))&&(r=[1,0,0,0,1,0,0,0,1]),oE(a,a,r),{x:a[0],y:a[1]}},CG=function(t,r,n){n===void 0&&(n=1),(!r||isNaN(r[0]))&&(r=[1,0,0,0,1,0,0,0,1]);var a=rk([1,0,0,0,1,0,0,0,1],r);a||(a=[1,0,0,0,1,0,0,0,1]);var i=[t.x,t.y,n];return oE(i,i,a),{x:i[0],y:i[1]}},$S=function(t,r,n){var a=t.x-r.x,i=t.y-r.y,o=t.x-n.x,s=t.y-n.y,l=(t.x*t.x-r.x*r.x-r.y*r.y+t.y*t.y)/2,u=(t.x*t.x-n.x*n.x-n.y*n.y+t.y*t.y)/2,c=i*o-a*s;return{x:-(s*l-i*u)/c,y:-(a*u-o*l)/c}},Rb=function(t,r){var n=t.x-r.x,a=t.y-r.y;return Math.sqrt(n*n+a*a)},Tle=function(t,r){var n=[];return t.forEach(function(a){var i=[];a.forEach(function(o){i.push(o*r)}),n.push(i)}),n},kle=function(t){for(var r=[],n=t.length,a=0;a<n;a+=1){r[a]=[];for(var i=0;i<n;i+=1)a===i?r[a][i]=0:t[a][i]===0||!t[a][i]?r[a][i]=1/0:r[a][i]=t[a][i]}for(var o=0;o<n;o+=1)for(var a=0;a<n;a+=1)for(var i=0;i<n;i+=1)r[a][i]>r[a][o]+r[o][i]&&(r[a][i]=r[a][o]+r[o][i]);return r},Ale=function(t,r){var n=t.nodes,a=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(s,l){o[s.id]=l;var u=[];i.push(u)}),a&&a.forEach(function(s){var l=s.source,u=s.target,c=o[l],f=o[u];i[c][f]=1,r||(i[f][c]=1)}),i},MG=function(t,r){t.translate(r.x,r.y)},BS=function(t,r,n,a){a===void 0&&(a={duration:500});var i=t.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var o=t.getCanvasBBox(),s=r.x-o.minX,l=r.y-o.minY;if(n){var u=s*i[0],c=l*i[4],f=0,d=0,h=0,v=0;t.animate(function(m){return h=u*m,v=c*m,i=Db(i,[["t",h-f,v-d]]),f=h,d=v,{matrix:i}},a)}else{var p=Db(i,[["t",s,l]]);t.setMatrix(p)}},Ile=function(t,r){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=r;wr(r)||(a=[r,r]),wr(r)&&r.length===1&&(a=[r[0],r[0]]),n=Db(n,[["s",a[0],a[1]]]),t.setMatrix(n)},Ole=function(t,r){var n=t.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=Db(n,[["r",r]]),t.setMatrix(n)},Lle=function(t,r,n){for(var a=[],i=0;i<t;i++)a[i]=0;return n.forEach(function(o){o.source&&(a[r[o.source]]+=1),o.target&&(a[r[o.target]]+=1)}),a};function Nle(e,t,r){return(r[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(r[1]-e[1])&&Math.min(e[0],t[0])<=r[0]&&r[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=r[1]&&r[1]<=Math.max(e[1],t[1])}var Rg=function(t,r,n){var a=!1,i=t.length,o=1e-6;function s(f){return Math.abs(f)<o?0:f<0?-1:1}if(i<=2)return!1;for(var l=0;l<i;l++){var u=t[l],c=t[(l+1)%i];if(Nle(u,c,[r,n]))return!0;s(u[1]-n)>0!=s(c[1]-n)>0&&s(r-(n-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(a=!a)}return a},TG=function(t,r){return!(r.minX>t.maxX||r.maxX<t.minX||r.minY>t.maxY||r.maxY<t.minY)},Ple=function(t,r){var n=!1;return pt(t,function(a){if(lE(a.from,a.to,r.from,r.to))return n=!0,!1}),n},kG=function(t,r){var n=function(d){var h=d.map(function(p){return p[0]}),v=d.map(function(p){return p[1]});return{minX:Math.min.apply(null,h),maxX:Math.max.apply(null,h),minY:Math.min.apply(null,v),maxY:Math.max.apply(null,v)}},a=function(d){for(var h=[],v=d.length,p=0;p<v-1;p++){var m=d[p],g=d[p+1];h.push({from:{x:m[0],y:m[1]},to:{x:g[0],y:g[1]}})}if(h.length>1){var b=d[0],y=d[v-1];h.push({from:{x:y[0],y:y[1]},to:{x:b[0],y:b[1]}})}return h};if(t.length<2||r.length<2)return!1;var i=n(t),o=n(r);if(!TG(i,o))return!1;var s=!1;if(pt(r,function(f){if(Rg(t,f[0],f[1]))return s=!0,!1}),s||(pt(t,function(f){if(Rg(r,f[0],f[1]))return s=!0,!1}),s))return!0;var l=a(t),u=a(r),c=!1;return pt(u,function(f){if(Ple(l,f))return c=!0,!1}),c},nd=function(){function e(t,r,n,a){this.x1=t,this.y1=r,this.x2=n,this.y2=a}return e.prototype.getBBox=function(){var t=Math.min(this.x1,this.x2),r=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),a=Math.max(this.y1,this.y2),i={x:t,y:r,minX:t,minY:r,maxX:n,maxY:a,width:n-t,height:a-r};return i},e}(),Mk=function(t,r){var n={top:[t.minX,t.minY,t.maxX,t.minY],left:[t.minX,t.minY,t.minX,t.maxY],bottom:[t.minX,t.maxY,t.maxX,t.maxY],right:[t.maxX,t.minY,t.maxX,t.maxY]};return n[r]},Dle=function(t,r){var n=(r.x2-r.x1)*(t.y1-r.y1)-(r.y2-r.y1)*(t.x1-r.x1),a=(t.x2-t.x1)*(t.y1-r.y1)-(t.y2-t.y1)*(t.x1-r.x1),i=(r.y2-r.y1)*(t.x2-t.x1)-(r.x2-r.x1)*(t.y2-t.y1);if(i){var o=n/i,s=a/i;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},AG=function(t,r){for(var n=["top","left","bottom","right"],a=t.getBBox(),i=0,o=[],s=0;s<4;s++){var l=Mk(a,n[s]),u=l[0],c=l[1],f=l[2],d=l[3];o[s]=lE({x:r.x1,y:r.y1},{x:r.x2,y:r.y2},{x:u,y:c},{x:f,y:d}),o[s]&&(i+=1)}return[o,i]},Tk=function(t,r){for(var n=["top","left","bottom","right"],a=t.getBBox(),i=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Mk(a,n[s]),u=l[0],c=l[1],f=l[2],d=l[3],h=Dle(r,new nd(u,c,f,d));h=Math.abs(h-.5),h>=0&&h<=1&&(o+=1,i=h<i?h:i)}return o===0?-1:i},IG=function(t){var r=0,n=0;if(t.length>0){for(var a=0,i=t;a<i.length;a++){var o=i[a];r+=o.x,n+=o.y}r/=t.length,n/=t.length}return{x:r,y:n}},$b=function(t,r){return Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)},OG=function(t,r){var n=r.x1,a=r.y1,i=r.x2-n,o=r.y2-a,s=t.x-n,l=t.y-a,u=s*i+l*o,c;u<=0?c=0:(s=i-s,l=o-l,u=s*i+l*o,u<=0?c=0:c=u*u/(i*i+o*o));var f=s*s+l*l-c;return f<0&&(f=0),f},FS=function(t,r,n){return n===void 0&&(n=.001),Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)<Math.pow(n,2)},LG=function(t,r){var n=t.x<r.x,a=t.x>r.x+r.width,i=t.y>r.y+r.height,o=t.y<r.y,s=n||a||i||o;if(!s)return 0;if(i&&!n&&!a)return Math.pow(r.y+r.height-t.y,2);if(o&&!n&&!a)return Math.pow(t.y-r.y,2);if(n&&!i&&!o)return Math.pow(r.x-t.x,2);if(a&&!i&&!o)return Math.pow(r.x+r.width-t.x,2);var l=Math.min(Math.abs(r.x-t.x),Math.abs(r.x+r.width-t.x)),u=Math.min(Math.abs(r.y-t.y),Math.abs(r.y+r.height-t.y));return l*l+u*u},Rle=function(t,r){var n=t[0],a=t[1],i=t[2],o=t[3],s=r.x,l=r.y,u=[i-n,o-a];if(gk(u,[0,0]))return NaN;var c=[-u[1],u[0]];bc(c,c);var f=[s-n,l-a];return Math.abs(pk(f,c))},kk=function(t,r,n){return t+(r-t)*n},zS=function(t,r,n){for(var a=Math.min(t.length,r.length),i=new Array(a),o=0;o<a;o++)i[o]=kk(t[o],r[o],n);return i};const $le=Object.freeze(Object.defineProperty({__proto__:null,Line:nd,applyMatrix:Lh,compare:Mle,distance:Rb,floydWarshall:kle,fractionToLine:Tk,getAdjMatrix:Ale,getBBoxBoundLine:Mk,getCircleCenterByPoints:$S,getCircleIntersectByPoint:xG,getDegree:Lle,getEllipseIntersectByPoint:SG,getLineIntersect:lE,getPointsCenter:IG,getRectIntersectByPoint:_G,intersectBBox:TG,invertMatrix:CG,isPointInPolygon:Rg,isPointsOverlap:FS,isPolygonsIntersect:kG,itemIntersectByLine:AG,lerp:kk,lerpArray:zS,move:BS,pointLineDistance:Rle,pointLineSquareDist:OG,pointRectSquareDist:LG,rotate:Ole,scale:Ile,scaleMatrix:Tle,squareDist:$b,translate:MG},Symbol.toStringTag,{value:"Module"}));var ju="rgb(95, 149, 255)",Ble="rgb(255, 255, 255)",VP="rgb(0, 0, 0)",B_="rgb(247, 250, 255)",NG="rgb(239, 244, 255)",iy="rgb(253, 253, 253)",UP="rgb(250, 250, 250)",oy="rgb(224, 224, 224)",WP="rgb(234, 234, 234)",Fle="rgb(245, 245, 245)",zle="rgb(191, 213, 255)",HP="#4572d9",Gle="rgb(223, 234, 255)",En={mainStroke:ju,mainFill:NG,activeStroke:ju,activeFill:B_,inactiveStroke:zle,inactiveFill:B_,selectedStroke:ju,selectedFill:Ble,highlightStroke:HP,highlightFill:Gle,disableStroke:oy,disableFill:UP,edgeMainStroke:oy,edgeActiveStroke:ju,edgeInactiveStroke:WP,edgeSelectedStroke:ju,edgeHighlightStroke:ju,edgeDisableStroke:Fle,comboMainStroke:oy,comboMainFill:iy,comboActiveStroke:ju,comboActiveFill:B_,comboInactiveStroke:oy,comboInactiveFill:iy,comboSelectedStroke:ju,comboSelectedFill:iy,comboHighlightStroke:HP,comboHighlightFill:iy,comboDisableStroke:WP,comboDisableFill:UP};const dr={version:"0.8.23",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:En.mainStroke,fill:NG},size:20,color:En.mainStroke,linkPoints:{size:8,lineWidth:1,fill:En.activeFill,stroke:En.activeStroke}},nodeStateStyles:{active:{fill:En.activeFill,stroke:En.activeStroke,lineWidth:2,shadowColor:En.mainStroke,shadowBlur:10},selected:{fill:En.selectedFill,stroke:En.selectedStroke,lineWidth:4,shadowColor:En.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:En.highlightFill,stroke:En.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:En.inactiveFill,stroke:En.inactiveStroke,lineWidth:1},disable:{fill:En.disableFill,stroke:En.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:VP,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:En.edgeMainStroke,lineAppendWidth:2},color:En.edgeMainStroke},edgeStateStyles:{active:{stroke:En.edgeActiveStroke,lineWidth:1},selected:{stroke:En.edgeSelectedStroke,lineWidth:2,shadowColor:En.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:En.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:En.edgeInactiveStroke,lineWidth:1},disable:{stroke:En.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:VP,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:En.comboMainFill,lineWidth:1,stroke:En.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:En.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:En.comboActiveStroke,lineWidth:1,fill:En.comboActiveFill},selected:{stroke:En.comboSelectedStroke,lineWidth:2,fill:En.comboSelectedFill,shadowColor:En.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:En.comboHighlightStroke,lineWidth:2,fill:En.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:En.comboInactiveStroke,fill:En.comboInactiveFill,lineWidth:1},disable:{stroke:En.comboDisableStroke,fill:En.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window<"u"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},jle={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875};var al=Math.PI,GS=Math.sin,jS=Math.cos,ti=GS(al/8),ri=jS(al/8),Bb=function(t,r){var n=t.getBBox(),a={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY};if(r){var o=r.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),a=Lh(a,o),i=Lh(i,o)}var s=a.x,l=a.y,u=i.x,c=i.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:c,width:u-s,height:c-l}},PG=function(t){var r=t.sourceNode||t.targetNode,n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]);var i=r.getKeyShape(),o=i.getBBox(),s=t.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||dr.defaultLoopPosition,c=[(o.minX+o.maxX)/2+a[6],(o.minY+o.maxY)/2+a[7]],f=[t.startPoint.x,t.startPoint.y],d=[t.endPoint.x,t.endPoint.y],h=o.height/2,v=o.width/2,p=h,m=h,g=p*ti,b=p*ri,y=m*ti,w=m*ri,_=i.get("type"),x=Math.min(h/2,v/2),S=Math.min(h,v),C=s!=null&&s.pointPadding?Math.min(S,s==null?void 0:s.pointPadding):x;if(f[0]===d[0]&&f[1]===d[1]){switch(u){case"top":_==="circle"?(f=[c[0]-g,c[1]-b],d=[c[0]+y,c[1]-w]):(f=[c[0]-C,c[1]-h],d=[c[0]+C,c[1]-h]);break;case"top-right":p=h,m=v,_==="circle"?(g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]+g,c[1]-b],d=[c[0]+w,c[1]-y]):(f=[c[0]+v-C,c[1]-h],d=[c[0]+v,c[1]-h+C]);break;case"right":p=v,m=v,_==="circle"?(g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]+b,c[1]-g],d=[c[0]+w,c[1]+y]):(f=[c[0]+v,c[1]-C],d=[c[0]+v,c[1]+C]);break;case"bottom-right":p=v,m=h,_==="circle"?(g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]+b,c[1]+g],d=[c[0]+y,c[1]+w]):(f=[c[0]+v,c[1]+h-C],d=[c[0]+v-C,c[1]+h]);break;case"bottom":p=h,m=h,_==="circle"?(g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]+g,c[1]+b],d=[c[0]-y,c[1]+w]):(f=[c[0]-C,c[1]+h],d=[c[0]+C,c[1]+h]);break;case"bottom-left":p=h,m=v,_==="circle"?(g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]-g,c[1]+b],d=[c[0]-w,c[1]+y]):(f=[c[0]-v,c[1]+h-C],d=[c[0]-v+C,c[1]+h]);break;case"left":p=v,m=v,_==="circle"?(g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]-b,c[1]+g],d=[c[0]-w,c[1]-y]):(f=[c[0]-v,c[1]-C],d=[c[0]-v,c[1]+C]);break;case"top-left":p=v,m=h,_==="circle"?(g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]-b,c[1]-g],d=[c[0]-y,c[1]-w]):(f=[c[0]-v+C,c[1]-h],d=[c[0]-v,c[1]-h+C]);break;default:p=v,m=v,g=p*ti,b=p*ri,y=m*ti,w=m*ri,f=[c[0]-g,c[1]-b],d=[c[0]+y,c[1]-w]}if(s.clockwise===!1){var T=[f[0],f[1]];f=[d[0],d[1]],d=[T[0],T[1]]}}var M=[f[0]-c[0],f[1]-c[1]],k=(p+l)/p,A=(m+l)/m;s.clockwise===!1&&(k=(m+l)/m,A=(p+l)/p);var O=Ci([0,0],M,k),P=[c[0]+O[0],c[1]+O[1]],R=[d[0]-c[0],d[1]-c[1]],N=Ci([0,0],R,A),L=[c[0]+N[0],c[1]+N[1]];return t.startPoint={x:f[0],y:f[1]},t.endPoint={x:d[0],y:d[1]},t.controlPoints=[{x:P[0],y:P[1]},{x:L[0],y:L[1]}],t},DG=function(t,r,n,a,i){var o=1e-4,s=[],l=t==null?void 0:t.getPoint(r);if(!l)return{x:0,y:0,angle:0};if(r<o)s=t.getStartTangent().reverse();else if(r>1-o)s=t.getEndTangent();else{var u=t==null?void 0:t.getPoint(r+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var c=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(c<0&&(c+=al*2),n&&(l.x+=jS(c)*n,l.y+=GS(c)*n),a){var f=c-al/2;c>1/2*al&&c<3*1/2*al&&(f-=al),l.x+=jS(f)*a,l.y+=GS(f)*a}var d={x:l.x,y:l.y,angle:c};return i?(c>.5*al&&c<1.5*al&&(c-=al),ee({rotate:c},d)):d},Vle=function e(t,r,n,a){if(a(t,r,n)===!1)return!1;if(t&&t.children){for(var i=t.children.length-1;i>=0;i--)if(!e(t.children[i],t,i,a))return!1}return!0},Ule=function e(t,r,n,a){if(t&&t.children){for(var i=t.children.length-1;i>=0;i--)if(!e(t.children[i],t,i,a))return}return a(t,r,n)!==!1},xi=function(t,r){typeof r=="function"&&Vle(t,null,-1,r)},il=function(t,r){typeof r=="function"&&Ule(t,null,-1,r)},RG=function(t,r){return r*(jle[t]||1)},$G=function(t,r){var n=0,a=new RegExp("[一-龥]+");return t.split("").forEach(function(i){a.test(i)?n+=r:n+=RG(i,r)}),[n,r]},BG=function(t,r){return typeof r!="number"||r<=0||r>=t.length?t:t.substring(0,r)+"..."},VS=function(t,r){var n=[],a={},i={};t.forEach(function(l){i[l.id]=l}),t.forEach(function(l,u){var c=un(l);c.itemType="combo",c.children=void 0,c.parentId===c.id?(console.warn("The parentId for combo ".concat(c.id," can not be the same as the combo's id")),delete c.parentId):c.parentId&&!i[c.parentId]&&(console.warn("The parent combo for combo ".concat(c.id," does not exist!")),delete c.parentId);var f=a[c.id];if(f){if(c.children=f.children,a[c.id]=c,f=c,!f.parentId){n.push(f);return}var d=a[f.parentId];if(d)d.children?d.children.push(c):d.children=[c];else{var h={id:f.parentId,children:[f]};a[f.parentId]=h,a[c.id]=c}return}if(Lt(l.parentId)){var v=a[l.parentId];if(v)v.children?v.children.push(c):v.children=[c],a[c.id]=c;else{var p={id:l.parentId,children:[c]};a[p.id]=p,a[c.id]=c}}else n.push(c),a[c.id]=c});var o={};(r||[]).forEach(function(l){o[l.id]=l;var u=a[l.comboId];if(u){var c={id:l.id,comboId:l.comboId};u.children?u.children.push(c):u.children=[c],c.itemType="node",a[l.id]=c}});var s=0;return n.forEach(function(l){l.depth=s+10,xi(l,function(u){var c,f=a[u.id].itemType;f==="node"?c=a[u.comboId]:c=a[u.parentId],c&&f==="node"?u.depth=s+1:u.depth=s+10,s<u.depth&&(s=u.depth);var d=o[u.id];return d&&(d.depth=u.depth),!0})}),n},US=function(t,r,n){var a,i=t,o,s={root:{children:t}},l=!1,u="root";(t||[]).forEach(function(v){if(!l){if(v.id===r){o=v,v.itemType==="combo"?o.parentId=n:o.comboId=n,l=!0;return}xi(v,function(p){var m;return s[p.id]={children:(p==null?void 0:p.children)||[]},i=(m=s[p.parentId||p.comboId||"root"])===null||m===void 0?void 0:m.children,p&&(p.removed||r===p.id)&&i?(u=p.parentId||p.comboId||"root",o=p,p.itemType==="combo"?o.parentId=n:o.comboId=n,l=!0,!1):!0})}}),i=(a=s[u])===null||a===void 0?void 0:a.children;var c=i?i.indexOf(o):-1;if(c>-1&&i.splice(c,1),l||(o={id:r,itemType:"node",comboId:n},s[r]={children:void 0}),r){var f=!1;if(n){var d=0;(t||[]).forEach(function(v){f||xi(v,function(p){return n===p.id?(f=!0,p.children?p.children.push(o):p.children=[o],d=p.depth,o.itemType==="node"?o.depth=d+2:o.depth=d+1,!1):!0})})}else(!n||!f)&&o.itemType!=="node"&&t.push(o);var h=o.depth;xi(o,function(v){return v.itemType==="node"?h+=2:h+=1,v.depth=h,!0})}return t},I1=function(t,r,n){var a={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!t||t.length===0){var i=n==null?void 0:n.getModel(),o=i||{},s=o.x,l=o.y,u=o.fixSize,c=o.collapsed,f=o.fixCollapseSize,d=c?f:u,h=wr(d)?d:[d,d],v=h[0],p=h[1],m=[v/2,p/2];return{minX:s-m[0],minY:l-m[1],maxX:s+m[0],maxY:l+m[1],x:s,y:l,width:v,height:p}}return t.forEach(function(g){var b=r.findById(g.id);if(!(!b||!b.isVisible())){b.set("bboxCanvasCache",void 0);var y=b.getCanvasBBox();y.x&&a.minX>y.minX&&(a.minX=y.minX),y.y&&a.minY>y.minY&&(a.minY=y.minY),y.x&&a.maxX<y.maxX&&(a.maxX=y.maxX),y.y&&a.maxY<y.maxY&&(a.maxY=y.maxY)}}),a.x=(a.minX+a.maxX)/2,a.y=(a.minY+a.maxY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a.centerX=(a.minX+a.maxX)/2,a.centerY=(a.minY+a.maxY)/2,(n==null?void 0:n.getKeyShape().get("type"))==="circle"&&(a.width=Math.hypot(a.height,a.width),a.height=a.width),Object.keys(a).forEach(function(g){(a[g]===1/0||a[g]===-1/0)&&(a[g]=void 0)}),a},Wle=function(t){var r=pr(t.x)||pr(t.y)||t.type||t.anchorPoints||t.size;return t.style&&(r=r||pr(t.style.r)||pr(t.style.width)||pr(t.style.height)||pr(t.style.rx)||pr(t.style.ry)),r},O1=function(t){var r={};return Object.keys(t).forEach(function(n){var a=t[n];if(!(n==="img"&&!Lt(a)))if(si(a)&&!wr(a)){var i={};Object.keys(a).forEach(function(o){var s=a[o];o==="img"&&!Lt(s)||(i[o]=un(s))}),r[n]=i}else r[n]=un(a)}),r},$g=function(t){var r=t.animateCfg,n=t.callback,a;if(!r)a={duration:500,callback:n};else if(a=un(r),r.callback){var i=r.callback;a.callback=function(){n(),i()}}else a.callback=n;return a};const Hle=Object.freeze(Object.defineProperty({__proto__:null,cloneBesidesImg:O1,getAnimateCfgWithCallback:$g,getBBox:Bb,getComboBBox:I1,getLabelPosition:DG,getLetterWidth:RG,getLoopCfgs:PG,getTextSize:$G,plainCombosToTrees:VS,reconstructTree:US,shouldRefreshEdge:Wle,traverseTree:xi,traverseTreeUp:il,truncateLabelByLength:BG},Symbol.toStringTag,{value:"Module"}));var YP=function(t){if(!t)return console.error("G6 Error Tips: the data must be defined"),!1;var r=t.nodes,n=t.edges,a=t.combos,i=a===void 0?[]:a;if(!r&&!n){var o=!0;return xi(t,function(d){return Lt(d.id)?!0:(o=!1,!1)}),o}var s=(r||[]).find(function(d){return!Lt(d.id)});if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var l=(r||[]).map(function(d){return d.id}),u=i==null?void 0:i.map(function(d){return d.id}),c=Oo(Oo([],l,!0),u,!0),f=(n||[]).find(function(d){return!c.includes(d.source)||!c.includes(d.target)});return f?(console.warn("G6 Warning Tips: The source %c".concat(f.source,"%c or the target %c").concat(f.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},Yle=function(t,r){if(t==="node"||t==="combo"){if(r.id&&!Lt(r.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(r.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(t==="edge"&&(!r.source||!r.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},Kle=function(){function e(t){this.graph=t,this.destroyed=!1,this.modes=t.get("modes")||{default:[]},this.formatModes(),this.mode=t.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return e.prototype.formatModes=function(){var t=this.modes;pt(t,function(r){pt(r,function(n,a){Lt(n)&&(r[a]={type:n})})})},e.prototype.setBehaviors=function(t){var r=this.graph,n=this.modes[t],a=[],i;pt(n||[],function(o){var s=tk.getBehavior(o.type||o);s&&(i=new s(o),i&&(i.bind(r),a.push(i)))}),this.currentBehaves=a},e.mergeBehaviors=function(t,r){return pt(r,function(n){t.indexOf(n)<0&&(Lt(n)&&(n={type:n}),t.push(n))}),t},e.filterBehaviors=function(t,r){var n=[];return t.forEach(function(a){var i="";Lt(a)?i=a:i=a.type,r.indexOf(i)<0&&n.push(a)}),n},e.prototype.setMode=function(t){var r=this,n=r.modes,a=r.graph,i=t,o=n[i];o&&(a.emit("beforemodechange",{mode:t}),pt(this.currentBehaves,function(s){s.delegate&&s.delegate.remove(),s.unbind(a)}),this.setBehaviors(i),a.emit("aftermodechange",{mode:t}),this.mode=t)},e.prototype.getMode=function(){return this.mode},e.prototype.manipulateBehaviors=function(t,r,n){var a=this,i;if(wr(t)?i=t:i=[t],wr(r))return pt(r,function(s){a.modes[s]?n?a.modes[s]=e.mergeBehaviors(a.modes[s]||[],i):a.modes[s]=e.filterBehaviors(a.modes[s]||[],i):n&&(a.modes[s]=i)}),this;var o=r;return r||(o=this.mode),this.modes[o]||n&&(this.modes[o]=i),n?this.modes[o]=e.mergeBehaviors(this.modes[o]||[],i):this.modes[o]=e.filterBehaviors(this.modes[o]||[],i),this.formatModes(),this.setMode(this.mode),this},e.prototype.updateBehavior=function(t,r,n){Lt(t)&&(t={type:t});var a=[];if(!n||n===this.mode||n==="default"){if(a=this.currentBehaves,!a||!a.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var i=a.length,o=0;o<i;o++){var s=a[o];if(s.type===t.type)return s.updateCfg(r),this;o===i-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(a=this.modes[n],!a||!a.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var l=a.length,o=0;o<l;o++){var s=a[o];if(s.type===t.type||s===t.type)return s===t.type&&(s={type:s}),Object.assign(s,r),a[o]=s,this;o===l-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},e.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},e}(),rg=`	
\v\f\r   ᠎             　\u2028\u2029`,Xle=new RegExp("([a-z])["+rg+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+rg+"]*,?["+rg+"]*)+)","ig"),qle=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+rg+"]*,?["+rg+"]*","ig"),_h=function(e){if(!e)return null;if(wr(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(e).replace(Xle,function(n,a,i){var o=[],s=a.toLowerCase();if(i.replace(qle,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(r.push([a].concat(o.splice(0,2))),s="l",a=a==="m"?"l":"L"),s==="o"&&o.length===1&&r.push([a,o[0]]),s==="r")r.push([a].concat(o));else for(;o.length>=t[s]&&(r.push([a].concat(o.splice(0,t[s]))),!!t[s]););return e}),r},WS=function(e,t){for(var r=[],n=0,a=e.length;a-2*!t>n;n+=2){var i=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?a-4===n?i[3]={x:+e[0],y:+e[1]}:a-2===n&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[a-2],y:+e[a-1]}:a-4===n?i[3]=i[2]:n||(i[0]={x:+e[n],y:+e[n+1]}),r.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return r},sy=function(e,t,r,n,a){var i=[];if(a===null&&n===null&&(n=r),e=+e,t=+t,r=+r,n=+n,a!==null){var o=Math.PI/180,s=e+r*Math.cos(-n*o),l=e+r*Math.cos(-a*o),u=t+r*Math.sin(-n*o),c=t+r*Math.sin(-a*o);i=[["M",s,u],["A",r,r,0,+(a-n>180),0,l,c]]}else i=[["M",e,t],["m",0,-n],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]];return i},HS=function(e){if(e=_h(e),!e||!e.length)return[["M",0,0]];var t=[],r=0,n=0,a=0,i=0,o=0,s,l;e[0][0]==="M"&&(r=+e[0][1],n=+e[0][2],a=r,i=n,o++,t[0]=["M",r,n]);for(var u=e.length===3&&e[0][0]==="M"&&e[1][0].toUpperCase()==="R"&&e[2][0].toUpperCase()==="Z",c=void 0,f=void 0,d=o,h=e.length;d<h;d++){if(t.push(c=[]),f=e[d],s=f[0],s!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+r,c[7]=+f[7]+n;break;case"V":c[1]=+f[1]+n;break;case"H":c[1]=+f[1]+r;break;case"R":l=[r,n].concat(f.slice(1));for(var v=2,p=l.length;v<p;v++)l[v]=+l[v]+r,l[++v]=+l[v]+n;t.pop(),t=t.concat(WS(l,u));break;case"O":t.pop(),l=sy(r,n,f[1],f[2]),l.push(l[0]),t=t.concat(l);break;case"U":t.pop(),t=t.concat(sy(r,n,f[1],f[2],f[3])),c=["U"].concat(t[t.length-1].slice(-2));break;case"M":a=+f[1]+r,i=+f[2]+n;break;default:for(var v=1,p=f.length;v<p;v++)c[v]=+f[v]+(v%2?r:n)}else if(s==="R")l=[r,n].concat(f.slice(1)),t.pop(),t=t.concat(WS(l,u)),c=["R"].concat(f.slice(-2));else if(s==="O")t.pop(),l=sy(r,n,f[1],f[2]),l.push(l[0]),t=t.concat(l);else if(s==="U")t.pop(),t=t.concat(sy(r,n,f[1],f[2],f[3])),c=["U"].concat(t[t.length-1].slice(-2));else for(var m=0,g=f.length;m<g;m++)c[m]=f[m];if(s=s.toUpperCase(),s!=="O")switch(c[0]){case"Z":r=+a,n=+i;break;case"H":r=c[1];break;case"V":n=c[1];break;case"M":a=c[c.length-2],i=c[c.length-1];break;default:r=c[c.length-2],n=c[c.length-1]}}return t},ly=function(e,t,r,n){return[e,t,r,n,r,n]},KP=function(e,t,r,n,a,i){var o=.3333333333333333,s=2/3;return[o*e+s*r,o*t+s*n,o*a+s*r,o*i+s*n,a,i]},FG=function(e,t,r,n,a,i,o,s,l,u){r===n&&(r+=1);var c=Math.PI*120/180,f=Math.PI/180*(+a||0),d=[],h,v,p,m,g,b=function(re,oe,Ne){var me=re*Math.cos(Ne)-oe*Math.sin(Ne),xe=re*Math.sin(Ne)+oe*Math.cos(Ne);return{x:me,y:xe}};if(u)v=u[0],p=u[1],m=u[2],g=u[3];else{h=b(e,t,-f),e=h.x,t=h.y,h=b(s,l,-f),s=h.x,l=h.y,e===s&&t===l&&(s+=1,l+=1);var y=(e-s)/2,w=(t-l)/2,_=y*y/(r*r)+w*w/(n*n);_>1&&(_=Math.sqrt(_),r=_*r,n=_*n);var x=r*r,S=n*n,C=(i===o?-1:1)*Math.sqrt(Math.abs((x*S-x*w*w-S*y*y)/(x*w*w+S*y*y)));m=C*r*w/n+(e+s)/2,g=C*-n*y/r+(t+l)/2,v=Math.asin(((t-g)/n).toFixed(9)),p=Math.asin(((l-g)/n).toFixed(9)),v=e<m?Math.PI-v:v,p=s<m?Math.PI-p:p,v<0&&(v=Math.PI*2+v),p<0&&(p=Math.PI*2+p),o&&v>p&&(v=v-Math.PI*2),!o&&p>v&&(p=p-Math.PI*2)}var T=p-v;if(Math.abs(T)>c){var M=p,k=s,A=l;p=v+c*(o&&p>v?1:-1),s=m+r*Math.cos(p),l=g+n*Math.sin(p),d=FG(s,l,r,n,a,0,o,k,A,[p,M,m,g])}T=p-v;var O=Math.cos(v),P=Math.sin(v),R=Math.cos(p),N=Math.sin(p),L=Math.tan(T/4),B=4/3*r*L,I=4/3*n*L,D=[e,t],z=[e+B*P,t-I*O],U=[s+B*N,l-I*R],H=[s,l];if(z[0]=2*D[0]-z[0],z[1]=2*D[1]-z[1],u)return[z,U,H].concat(d);d=[z,U,H].concat(d).join().split(",");for(var Y=[],ie=0,X=d.length;ie<X;ie++)Y[ie]=ie%2?b(d[ie-1],d[ie],f).y:b(d[ie],d[ie+1],f).x;return Y},YS=function(e,t){var r=HS(e),n=t&&HS(t),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",u="",c,f=function(y,w,_){var x,S;if(!y)return["C",w.x,w.y,w.x,w.y,w.x,w.y];switch(!(y[0]in{T:1,Q:1})&&(w.qx=w.qy=null),y[0]){case"M":w.X=y[1],w.Y=y[2];break;case"A":y=["C"].concat(FG.apply(0,[w.x,w.y].concat(y.slice(1))));break;case"S":_==="C"||_==="S"?(x=w.x*2-w.bx,S=w.y*2-w.by):(x=w.x,S=w.y),y=["C",x,S].concat(y.slice(1));break;case"T":_==="Q"||_==="T"?(w.qx=w.x*2-w.qx,w.qy=w.y*2-w.qy):(w.qx=w.x,w.qy=w.y),y=["C"].concat(KP(w.x,w.y,w.qx,w.qy,y[1],y[2]));break;case"Q":w.qx=y[1],w.qy=y[2],y=["C"].concat(KP(w.x,w.y,y[1],y[2],y[3],y[4]));break;case"L":y=["C"].concat(ly(w.x,w.y,y[1],y[2]));break;case"H":y=["C"].concat(ly(w.x,w.y,y[1],w.y));break;case"V":y=["C"].concat(ly(w.x,w.y,w.x,y[1]));break;case"Z":y=["C"].concat(ly(w.x,w.y,w.X,w.Y));break}return y},d=function(y,w){if(y[w].length>7){y[w].shift();for(var _=y[w];_.length;)o[w]="A",n&&(s[w]="A"),y.splice(w++,0,["C"].concat(_.splice(0,6)));y.splice(w,1),c=Math.max(r.length,n&&n.length||0)}},h=function(y,w,_,x,S){y&&w&&y[S][0]==="M"&&w[S][0]!=="M"&&(w.splice(S,0,["M",x.x,x.y]),_.bx=0,_.by=0,_.x=y[S][1],_.y=y[S][2],c=Math.max(r.length,n&&n.length||0))};c=Math.max(r.length,n&&n.length||0);for(var v=0;v<c;v++){r[v]&&(l=r[v][0]),l!=="C"&&(o[v]=l,v&&(u=o[v-1])),r[v]=f(r[v],a,u),o[v]!=="A"&&l==="C"&&(o[v]="C"),d(r,v),n&&(n[v]&&(l=n[v][0]),l!=="C"&&(s[v]=l,v&&(u=s[v-1])),n[v]=f(n[v],i,u),s[v]!=="A"&&l==="C"&&(s[v]="C"),d(n,v)),h(r,n,a,i,v),h(n,r,i,a,v);var p=r[v],m=n&&n[v],g=p.length,b=n&&m.length;a.x=p[g-2],a.y=p[g-1],a.bx=parseFloat(p[g-4])||a.x,a.by=parseFloat(p[g-3])||a.y,i.bx=n&&(parseFloat(m[b-4])||i.x),i.by=n&&(parseFloat(m[b-3])||i.y),i.x=n&&m[b-2],i.y=n&&m[b-1]}return n?[r,n]:r},Zle=/,?([a-z]),?/gi,zG=function(e){return e.join(",").replace(Zle,"$1")},XP=function(e,t,r,n,a){var i=-3*t+9*r-9*n+3*a,o=e*i+6*t-12*r+6*n;return e*o-3*t+3*r},qP=function(e,t,r,n,a,i,o,s,l){l===null&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,v=0;v<c;v++){var p=u*f[v]+u,m=XP(p,e,r,a,o),g=XP(p,t,n,i,s),b=m*m+g*g;h+=d[v]*Math.sqrt(b)}return u*h},Qle=function(e,t,r,n,a,i,o,s){for(var l=[],u=[[],[]],c,f,d,h,v=0;v<2;++v){if(v===0?(f=6*e-12*r+6*a,c=-3*e+9*r-9*a+3*o,d=3*r-3*e):(f=6*t-12*n+6*i,c=-3*t+9*n-9*i+3*s,d=3*n-3*t),Math.abs(c)<1e-12){if(Math.abs(f)<1e-12)continue;h=-d/f,h>0&&h<1&&l.push(h);continue}var p=f*f-4*d*c,m=Math.sqrt(p);if(!(p<0)){var g=(-f+m)/(2*c);g>0&&g<1&&l.push(g);var b=(-f-m)/(2*c);b>0&&b<1&&l.push(b)}}for(var y=l.length,w=y,_;y--;)h=l[y],_=1-h,u[0][y]=_*_*_*e+3*_*_*h*r+3*_*h*h*a+h*h*h*o,u[1][y]=_*_*_*t+3*_*_*h*n+3*_*h*h*i+h*h*h*s;return u[0][w]=e,u[1][w]=t,u[0][w+1]=o,u[1][w+1]=s,u[0].length=u[1].length=w+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},Jle=function(e,t,r,n,a,i,o,s){if(!(Math.max(e,r)<Math.min(a,o)||Math.min(e,r)>Math.max(a,o)||Math.max(t,n)<Math.min(i,s)||Math.min(t,n)>Math.max(i,s))){var l=(e*n-t*r)*(a-o)-(e-r)*(a*s-i*o),u=(e*n-t*r)*(i-s)-(t-n)*(a*s-i*o),c=(e-r)*(i-s)-(t-n)*(a-o);if(c){var f=l/c,d=u/c,h=+f.toFixed(2),v=+d.toFixed(2);if(!(h<+Math.min(e,r).toFixed(2)||h>+Math.max(e,r).toFixed(2)||h<+Math.min(a,o).toFixed(2)||h>+Math.max(a,o).toFixed(2)||v<+Math.min(t,n).toFixed(2)||v>+Math.max(t,n).toFixed(2)||v<+Math.min(i,s).toFixed(2)||v>+Math.max(i,s).toFixed(2)))return{x:f,y:d}}}},Vu=function(e,t,r){return t>=e.x&&t<=e.x+e.width&&r>=e.y&&r<=e.y+e.height},GG=function(e,t,r,n,a){if(a)return[["M",+e+ +a,t],["l",r-a*2,0],["a",a,a,0,0,1,a,a],["l",0,n-a*2],["a",a,a,0,0,1,-a,a],["l",a*2-r,0],["a",a,a,0,0,1,-a,-a],["l",0,a*2-n],["a",a,a,0,0,1,a,-a],["z"]];var i=[["M",e,t],["l",r,0],["l",0,n],["l",-r,0],["z"]];return i.parsePathArray=zG,i},KS=function(e,t,r,n){return e===null&&(e=t=r=n=0),t===null&&(t=e.y,r=e.width,n=e.height,e=e.x),{x:e,y:t,width:r,w:r,height:n,h:n,x2:e+r,y2:t+n,cx:e+r/2,cy:t+n/2,r1:Math.min(r,n)/2,r2:Math.max(r,n)/2,r0:Math.sqrt(r*r+n*n)/2,path:GG(e,t,r,n),vb:[e,t,r,n].join(" ")}},eue=function(e,t){return e=KS(e),t=KS(t),Vu(t,e.x,e.y)||Vu(t,e.x2,e.y)||Vu(t,e.x,e.y2)||Vu(t,e.x2,e.y2)||Vu(e,t.x,t.y)||Vu(e,t.x2,t.y)||Vu(e,t.x,t.y2)||Vu(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},ZP=function(e,t,r,n,a,i,o,s){wr(e)||(e=[e,t,r,n,a,i,o,s]);var l=Qle.apply(null,e);return KS(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},QP=function(e,t,r,n,a,i,o,s,l){var u=1-l,c=Math.pow(u,3),f=Math.pow(u,2),d=l*l,h=d*l,v=c*e+f*3*l*r+u*3*l*l*a+h*o,p=c*t+f*3*l*n+u*3*l*l*i+h*s,m=e+2*l*(r-e)+d*(a-2*r+e),g=t+2*l*(n-t)+d*(i-2*n+t),b=r+2*l*(a-r)+d*(o-2*a+r),y=n+2*l*(i-n)+d*(s-2*i+n),w=u*e+l*r,_=u*t+l*n,x=u*a+l*o,S=u*i+l*s,C=90-Math.atan2(m-b,g-y)*180/Math.PI;return{x:v,y:p,m:{x:m,y:g},n:{x:b,y},start:{x:w,y:_},end:{x,y:S},alpha:C}},tue=function(e,t,r){var n=ZP(e),a=ZP(t);if(!eue(n,a))return[];for(var i=qP.apply(0,e),o=qP.apply(0,t),s=~~(i/8),l=~~(o/8),u=[],c=[],f={},d=[],h=0;h<s+1;h++){var v=QP.apply(0,e.concat(h/s));u.push({x:v.x,y:v.y,t:h/s})}for(var h=0;h<l+1;h++){var v=QP.apply(0,t.concat(h/l));c.push({x:v.x,y:v.y,t:h/l})}for(var h=0;h<s;h++)for(var p=0;p<l;p++){var m=u[h],g=u[h+1],b=c[p],y=c[p+1],w=Math.abs(g.x-m.x)<.001?"y":"x",_=Math.abs(y.x-b.x)<.001?"y":"x",x=Jle(m.x,m.y,g.x,g.y,b.x,b.y,y.x,y.y);if(x){if(f[x.x.toFixed(4)]===x.y.toFixed(4))continue;f[x.x.toFixed(4)]=x.y.toFixed(4);var S=m.t+Math.abs((x[w]-m[w])/(g[w]-m[w]))*(g.t-m.t),C=b.t+Math.abs((x[_]-b[_])/(y[_]-b[_]))*(y.t-b.t);S>=0&&S<=1&&C>=0&&C<=1&&d.push({x:x.x,y:x.y,t1:S,t2:C})}}return d},rue=function(e,t,r){e=YS(e),t=YS(t);for(var n,a,i,o,s,l,u,c,f,d,h=[],v=0,p=e.length;v<p;v++){var m=e[v];if(m[0]==="M")n=s=m[1],a=l=m[2];else{m[0]==="C"?(f=[n,a].concat(m.slice(1)),n=f[6],a=f[7]):(f=[n,a,n,a,s,l,s,l],n=s,a=l);for(var g=0,b=t.length;g<b;g++){var y=t[g];if(y[0]==="M")i=u=y[1],o=c=y[2];else{y[0]==="C"?(d=[i,o].concat(y.slice(1)),i=d[6],o=d[7]):(d=[i,o,i,o,u,c,u,c],i=u,o=c);var w=tue(f,d);{for(var _=0,x=w.length;_<x;_++)w[_].segment1=v,w[_].segment2=g,w[_].bez1=f,w[_].bez2=d;h=h.concat(w)}}}}}return h},nue=function(e,t){return rue(e,t)};function aue(e,t){var r=[],n=[];function a(i,o){if(i.length===1)r.push(i[0]),n.push(i[0]);else{for(var s=[],l=0;l<i.length-1;l++)l===0&&r.push(i[0]),l===i.length-2&&n.push(i[l+1]),s[l]=[(1-o)*i[l][0]+o*i[l+1][0],(1-o)*i[l][1]+o*i[l+1][1]];a(s,o)}}return e.length&&a(e,t),{left:r,right:n.reverse()}}function iue(e,t,r){var n=[[e[1],e[2]]];r=r||2;var a=[];t[0]==="A"?(n.push(t[6]),n.push(t[7])):t[0]==="C"?(n.push([t[1],t[2]]),n.push([t[3],t[4]]),n.push([t[5],t[6]])):t[0]==="S"||t[0]==="Q"?(n.push([t[1],t[2]]),n.push([t[3],t[4]])):n.push([t[1],t[2]]);for(var i=n,o=1/r,s=0;s<r-1;s++){var l=o/(1-o*s),u=aue(i,l);a.push(u.left),i=u.right}a.push(i);var c=a.map(function(f){var d=[];return f.length===4&&(d.push("C"),d=d.concat(f[2])),f.length>=3&&(f.length===3&&d.push("Q"),d=d.concat(f[1])),f.length===2&&d.push("L"),d=d.concat(f[f.length-1]),d});return c}var oue=function(e,t,r){if(r===1)return[[].concat(e)];var n=[];if(t[0]==="L"||t[0]==="C"||t[0]==="Q")n=n.concat(iue(e,t,r));else{var a=[].concat(e);a[0]==="M"&&(a[0]="L");for(var i=0;i<=r-1;i++)n.push(a)}return n},sue=function(e,t){if(e.length===1)return e;var r=e.length-1,n=t.length-1,a=r/n,i=[];if(e.length===1&&e[0][0]==="M"){for(var o=0;o<n-r;o++)e.push(e[0]);return e}for(var o=0;o<n;o++){var s=Math.floor(a*o);i[s]=(i[s]||0)+1}var l=i.reduce(function(u,c,f){return f===r?u.concat(e[r]):u.concat(oue(e[f],e[f+1],c))},[]);return l.unshift(e[0]),(t[n]==="Z"||t[n]==="z")&&l.push("Z"),l},lue=function(e,t){if(e.length!==t.length)return!1;var r=!0;return pt(e,function(n,a){if(n!==t[a])return r=!1,!1}),r};function uue(e,t,r){var n=null,a=r;return t<a&&(a=t,n="add"),e<a&&(a=e,n="del"),{type:n,min:a}}var cue=function(e,t){var r=e.length,n=t.length,a,i,o=0;if(r===0||n===0)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=n;u++)s[0][u]={min:u};for(var l=1;l<=r;l++){a=e[l-1];for(var u=1;u<=n;u++){i=t[u-1],lue(a,i)?o=0:o=1;var c=s[l-1][u].min+1,f=s[l][u-1].min+1,d=s[l-1][u-1].min+o;s[l][u]=uue(c,f,d)}}return s},jG=function(e,t){var r=cue(e,t),n=e.length,a=t.length,i=[],o=1,s=1;if(r[n][a].min!==n){for(var l=1;l<=n;l++){var u=r[l][l].min;s=l;for(var c=o;c<=a;c++)r[l][c].min<u&&(u=r[l][c].min,s=c);o=s,r[l][o].type&&i.push({index:l-1,type:r[l][o].type})}for(var l=i.length-1;l>=0;l--)o=i[l].index,i[l].type==="add"?e.splice(o,0,[].concat(e[o])):e.splice(o,1)}n=e.length;var f=a-n;if(n<a)for(var l=0;l<f;l++)e[n-1][0]==="z"||e[n-1][0]==="Z"?e.splice(n-2,0,e[n-2]):e.push(e[n-1]),n+=1;return e};function F_(e,t,r){for(var n=[].concat(e),a,i=1/(r+1),o=VG(t)[0],s=1;s<=r;s++)i*=s,a=Math.floor(e.length*i),a===0?n.unshift([o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]):n.splice(a,0,[o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]);return n}function VG(e){var t=[];switch(e[0]){case"M":t.push([e[1],e[2]]);break;case"L":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"T":t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"H":t.push([e[1],e[1]]);break;case"V":t.push([e[1],e[1]]);break}return t}var XS=function(e,t){if(e.length<=1)return e;for(var r,n=0;n<t.length;n++)if(e[n][0]!==t[n][0])switch(r=VG(e[n]),t[n][0]){case"M":e[n]=["M"].concat(r[0]);break;case"L":e[n]=["L"].concat(r[0]);break;case"A":e[n]=[].concat(t[n]),e[n][6]=r[0][0],e[n][7]=r[0][1];break;case"Q":if(r.length<2)if(n>0)r=F_(r,e[n-1],1);else{e[n]=t[n];break}e[n]=["Q"].concat(r.reduce(function(a,i){return a.concat(i)},[]));break;case"T":e[n]=["T"].concat(r[0]);break;case"C":if(r.length<3)if(n>0)r=F_(r,e[n-1],2);else{e[n]=t[n];break}e[n]=["C"].concat(r.reduce(function(a,i){return a.concat(i)},[]));break;case"S":if(r.length<2)if(n>0)r=F_(r,e[n-1],1);else{e[n]=t[n];break}e[n]=["S"].concat(r.reduce(function(a,i){return a.concat(i)},[]));break;default:e[n]=t[n]}return e};const fue=Object.freeze(Object.defineProperty({__proto__:null,catmullRomToBezier:WS,fillPath:sue,fillPathByDiff:jG,formatPath:XS,intersection:nue,parsePathArray:zG,parsePathString:_h,pathToAbsolute:HS,pathToCurve:YS,rectPath:GG},Symbol.toStringTag,{value:"Module"}));var UG=function(){function e(t,r){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=r,this.timeStamp=r.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){var t=this.type;return"[Event (type="+t+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();function WG(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1)}var JP=typeof window<"u"&&typeof window.document<"u";function HG(e,t){if(e.isCanvas())return!0;for(var r=t.getParent(),n=!1;r;){if(r===e){n=!0;break}r=r.getParent()}return n}function qS(e){return e.cfg.visible&&e.cfg.capture}var due=function(e){jr(t,e);function t(r){var n=e.call(this)||this;n.destroyed=!1;var a=n.getDefaultCfg();return n.cfg=Cr(a,r),n}return t.prototype.getDefaultCfg=function(){return{}},t.prototype.get=function(r){return this.cfg[r]},t.prototype.set=function(r,n){this.cfg[r]=n},t.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},t}(G8),eD=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},hue=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),vue=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),pue=function(){function e(t,r,n,a){this.name=t,this.version=r,this.os=n,this.bot=a,this.type="bot-device"}return e}(),gue=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),mue=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),yue=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,bue=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,tD=3,wue=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",yue]],rD=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function YG(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new mue:typeof navigator<"u"?_ue(navigator.userAgent):Sue()}function Eue(e){return e!==""&&wue.reduce(function(t,r){var n=r[0],a=r[1];if(t)return t;var i=a.exec(e);return!!i&&[n,i]},!1)}function _ue(e){var t=Eue(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new gue;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<tD&&(a=eD(eD([],a,!0),Cue(tD-a.length),!0)):a=[];var i=a.join("."),o=xue(e),s=bue.exec(e);return s&&s[1]?new pue(r,i,o,s[1]):new hue(r,i,o)}function xue(e){for(var t=0,r=rD.length;t<r;t++){var n=rD[t],a=n[0],i=n[1],o=i.exec(e);if(o)return a}return null}function Sue(){var e=typeof process<"u"&&process.version;return e?new vue(process.version.slice(1)):null}function Cue(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function nD(e,t){var r=[],n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],d=t[0],h=t[1],v=t[2],p=t[3],m=t[4],g=t[5],b=t[6],y=t[7],w=t[8];return r[0]=d*n+h*o+v*u,r[1]=d*a+h*s+v*c,r[2]=d*i+h*l+v*f,r[3]=p*n+m*o+g*u,r[4]=p*a+m*s+g*c,r[5]=p*i+m*l+g*f,r[6]=b*n+y*o+w*u,r[7]=b*a+y*s+w*c,r[8]=b*i+y*l+w*f,r}function Of(e,t){var r=[],n=t[0],a=t[1];return r[0]=e[0]*n+e[3]*a+e[6],r[1]=e[1]*n+e[4]*a+e[7],r}function KG(e){var t=[],r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,d=-c*i+s*l,h=u*i-o*l,v=r*f+n*d+a*h;return v?(v=1/v,t[0]=f*v,t[1]=(-c*n+a*u)*v,t[2]=(s*n-a*o)*v,t[3]=d*v,t[4]=(c*r-a*l)*v,t[5]=(-s*r+a*i)*v,t[6]=h*v,t[7]=(-u*r+n*l)*v,t[8]=(o*r-n*i)*v,t):null}var cp=vs,z_="matrix",Mue=["zIndex","capture","visible","type"],Tue=["repeat"],kue=":",Aue="*";function Iue(e){for(var t=[],r=0;r<e.length;r++)wr(e[r])?t.push([].concat(e[r])):t.push(e[r]);return t}function Oue(e,t){var r={},n=t.attrs;for(var a in e)r[a]=n[a];return r}function Lue(e,t){var r={},n=t.attr();return pt(e,function(a,i){Tue.indexOf(i)===-1&&!Cc(n[i],a)&&(r[i]=a)}),r}function Nue(e,t){if(t.onFrame)return e;var r=t.startTime,n=t.delay,a=t.duration,i=Object.prototype.hasOwnProperty;return pt(e,function(o){r+n<o.startTime+o.delay+o.duration&&a>o.delay&&pt(t.toAttrs,function(s,l){i.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),e}var XG=function(e){jr(t,e);function t(r){var n=e.call(this,r)||this;n.attrs={};var a=n.getDefaultAttrs();return Cr(a,r.attrs),n.attrs=a,n.initAttrs(a),n.initAnimate(),n}return t.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},t.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},t.prototype.onCanvasChange=function(r){},t.prototype.initAttrs=function(r){},t.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},t.prototype.isGroup=function(){return!1},t.prototype.getParent=function(){return this.get("parent")},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.attr=function(){for(var r,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=n[0],o=n[1];if(!i)return this.attrs;if(si(i)){for(var s in i)this.setAttr(s,i[s]);return this.afterAttrsChange(i),this}return n.length===2?(this.setAttr(i,o),this.afterAttrsChange((r={},r[i]=o,r)),this):this.attrs[i]},t.prototype.isClipped=function(r,n){var a=this.getClip();return a&&!a.isHit(r,n)},t.prototype.setAttr=function(r,n){var a=this.attrs[r];a!==n&&(this.attrs[r]=n,this.onAttrChange(r,n,a))},t.prototype.onAttrChange=function(r,n,a){r==="matrix"&&this.set("totalMatrix",null)},t.prototype.afterAttrsChange=function(r){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},t.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},t.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},t.prototype.setZIndex=function(r){this.set("zIndex",r);var n=this.getParent();return n&&n.sort(),this},t.prototype.toFront=function(){var r=this.getParent();if(r){var n=r.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.push(this),this.onCanvasChange("zIndex")}},t.prototype.toBack=function(){var r=this.getParent();if(r){var n=r.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.unshift(this),this.onCanvasChange("zIndex")}},t.prototype.remove=function(r){r===void 0&&(r=!0);var n=this.getParent();n?(WG(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),r&&this.destroy()},t.prototype.resetMatrix=function(){this.attr(z_,this.getDefaultMatrix()),this.onCanvasChange("matrix")},t.prototype.getMatrix=function(){return this.attr(z_)},t.prototype.setMatrix=function(r){this.attr(z_,r),this.onCanvasChange("matrix")},t.prototype.getTotalMatrix=function(){var r=this.cfg.totalMatrix;if(!r){var n=this.attr("matrix"),a=this.cfg.parentMatrix;a&&n?r=nD(a,n):r=n||a,this.set("totalMatrix",r)}return r},t.prototype.applyMatrix=function(r){var n=this.attr("matrix"),a=null;r&&n?a=nD(r,n):a=n||r,this.set("totalMatrix",a),this.set("parentMatrix",r)},t.prototype.getDefaultMatrix=function(){return null},t.prototype.applyToMatrix=function(r){var n=this.attr("matrix");return n?Of(n,r):r},t.prototype.invertFromMatrix=function(r){var n=this.attr("matrix");if(n){var a=KG(n);if(a)return Of(a,r)}return r},t.prototype.setClip=function(r){var n=this.getCanvas(),a=null;if(r){var i=this.getShapeBase(),o=Xh(r.type),s=i[o];s&&(a=new s({type:r.type,isClipShape:!0,applyTo:this,attrs:r.attrs,canvas:n}))}return this.set("clipShape",a),this.onCanvasChange("clip"),a},t.prototype.getClip=function(){var r=this.cfg.clipShape;return r||null},t.prototype.clone=function(){var r=this,n=this.attrs,a={};pt(n,function(s,l){wr(n[l])?a[l]=Iue(n[l]):a[l]=n[l]});var i=this.constructor,o=new i({attrs:a});return pt(Mue,function(s){o.set(s,r.get(s))}),o},t.prototype.destroy=function(){var r=this.destroyed;r||(this.attrs={},e.prototype.destroy.call(this))},t.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},t.prototype.animate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var a=this.get("timeline");a||(a=this.get("canvas").get("timeline"),this.set("timeline",a));var i=this.get("animations")||[];a.timer||a.initTimer();var o=r[0],s=r[1],l=r[2],u=l===void 0?"easeLinear":l,c=r[3],f=c===void 0?Pp:c,d=r[4],h=d===void 0?0:d,v,p,m,g,b;ta(o)?(v=o,o={}):si(o)&&o.onFrame&&(v=o.onFrame,p=o.repeat),si(s)?(b=s,s=b.duration,u=b.easing||"easeLinear",h=b.delay||0,p=b.repeat||p||!1,f=b.callback||Pp,m=b.pauseCallback||Pp,g=b.resumeCallback||Pp):(pr(f)&&(h=f,f=null),ta(u)?(f=u,u="easeLinear"):u=u||"easeLinear");var y=Lue(o,this),w={fromAttrs:Oue(y,this),toAttrs:y,duration:s,easing:u,repeat:p,callback:f,pauseCallback:m,resumeCallback:g,delay:h,startTime:a.getTime(),id:Ml(),onFrame:v,pathFormatted:!1};i.length>0?i=Nue(i,w):a.addAnimator(this),i.push(w),this.set("animations",i),this.set("_pause",{isPaused:!1})}},t.prototype.stopAnimate=function(r){var n=this;r===void 0&&(r=!0);var a=this.get("animations");pt(a,function(i){r&&(i.onFrame?n.attr(i.onFrame(1)):n.attr(i.toAttrs)),i.callback&&i.callback()}),this.set("animating",!1),this.set("animations",[])},t.prototype.pauseAnimate=function(){var r=this.get("timeline"),n=this.get("animations"),a=r.getTime();return pt(n,function(i){i._paused=!0,i._pauseTime=a,i.pauseCallback&&i.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:a}),this},t.prototype.resumeAnimate=function(){var r=this.get("timeline"),n=r.getTime(),a=this.get("animations"),i=this.get("_pause").pauseTime;return pt(a,function(o){o.startTime=o.startTime+(n-i),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",a),this},t.prototype.emitDelegation=function(r,n){var a=this,i=n.propagationPath;this.getEvents();var o;r==="mouseenter"?o=n.fromShape:r==="mouseleave"&&(o=n.toShape);for(var s=function(f){var d=i[f],h=d.get("name");if(h){if((d.isGroup()||d.isCanvas&&d.isCanvas())&&o&&HG(d,o))return"break";wr(h)?pt(h,function(v){a.emitDelegateEvent(d,v,n)}):l.emitDelegateEvent(d,h,n)}},l=this,u=0;u<i.length;u++){var c=s(u);if(c==="break")break}},t.prototype.emitDelegateEvent=function(r,n,a){var i=this.getEvents(),o=n+kue+a.type;(i[o]||i[Aue])&&(a.name=o,a.currentTarget=r,a.delegateTarget=this,a.delegateObject=r.get("delegateObject"),this.emit(o,a))},t.prototype.translate=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a=this.getMatrix(),i=cp(a,[["t",r,n]]);return this.setMatrix(i),this},t.prototype.move=function(r,n){var a=this.attr("x")||0,i=this.attr("y")||0;return this.translate(r-a,n-i),this},t.prototype.moveTo=function(r,n){return this.move(r,n)},t.prototype.scale=function(r,n){var a=this.getMatrix(),i=cp(a,[["s",r,n||r]]);return this.setMatrix(i),this},t.prototype.rotate=function(r){var n=this.getMatrix(),a=cp(n,[["r",r]]);return this.setMatrix(a),this},t.prototype.rotateAtStart=function(r){var n=this.attr(),a=n.x,i=n.y,o=this.getMatrix(),s=cp(o,[["t",-a,-i],["r",r],["t",a,i]]);return this.setMatrix(s),this},t.prototype.rotateAtPoint=function(r,n,a){var i=this.getMatrix(),o=cp(i,[["t",-r,-n],["r",a],["t",r,n]]);return this.setMatrix(o),this},t}(due),aD={},ZS="_INDEX";function qG(e,t){if(e.set("canvas",t),e.isGroup()){var r=e.get("children");r.length&&r.forEach(function(n){qG(n,t)})}}function ZG(e,t){if(e.set("timeline",t),e.isGroup()){var r=e.get("children");r.length&&r.forEach(function(n){ZG(n,t)})}}function Pue(e,t,r){t.set("parent",null),t.set("canvas",null),WG(e.getChildren(),t)}function Due(e){return function(t,r){var n=e(t,r);return n===0?t[ZS]-r[ZS]:n}}var QG=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.isCanvas=function(){return!1},t.prototype.getBBox=function(){var r=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?pt(o,function(l){var u=l.getBBox(),c=u.minX,f=u.maxX,d=u.minY,h=u.maxY;c<r&&(r=c),f>n&&(n=f),d<a&&(a=d),h>i&&(i=h)}):(r=0,n=0,a=0,i=0);var s={x:r,y:a,minX:r,minY:a,maxX:n,maxY:i,width:n-r,height:i-a};return s},t.prototype.getCanvasBBox=function(){var r=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?pt(o,function(l){var u=l.getCanvasBBox(),c=u.minX,f=u.maxX,d=u.minY,h=u.maxY;c<r&&(r=c),f>n&&(n=f),d<a&&(a=d),h>i&&(i=h)}):(r=0,n=0,a=0,i=0);var s={x:r,y:a,minX:r,minY:a,maxX:n,maxY:i,width:n-r,height:i-a};return s},t.prototype.getDefaultCfg=function(){var r=e.prototype.getDefaultCfg.call(this);return r.children=[],r},t.prototype.onAttrChange=function(r,n,a){if(e.prototype.onAttrChange.call(this,r,n,a),r==="matrix"){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},t.prototype.applyMatrix=function(r){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,r);var a=this.getTotalMatrix();a!==n&&this._applyChildrenMarix(a)},t.prototype._applyChildrenMarix=function(r){var n=this.getChildren();pt(n,function(a){a.applyMatrix(r)})},t.prototype.addShape=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=r[0],i=r[1];si(a)?i=a:i.type=a;var o=aD[i.type];o||(o=Xh(i.type),aD[i.type]=o);var s=this.getShapeBase(),l=new s[o](i);return this.add(l),l},t.prototype.addGroup=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=r[0],i=r[1],o;if(ta(a))i?o=new a(i):o=new a({parent:this});else{var s=a||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},t.prototype.getCanvas=function(){var r;return this.isCanvas()?r=this:r=this.get("canvas"),r},t.prototype.getShape=function(r,n,a){if(!qS(this))return null;var i=this.getChildren(),o;if(this.isCanvas())o=this._findShape(i,r,n,a);else{var s=[r,n,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(i,s[0],s[1],a))}return o},t.prototype._findShape=function(r,n,a,i){for(var o=null,s=r.length-1;s>=0;s--){var l=r[s];if(qS(l)&&(l.isGroup()?o=l.getShape(n,a,i):l.isHit(n,a)&&(o=l)),o)break}return o},t.prototype.add=function(r){var n=this.getCanvas(),a=this.getChildren(),i=this.get("timeline"),o=r.getParent();o&&Pue(o,r),r.set("parent",this),n&&qG(r,n),i&&ZG(r,i),a.push(r),r.onCanvasChange("add"),this._applyElementMatrix(r)},t.prototype._applyElementMatrix=function(r){var n=this.getTotalMatrix();n&&r.applyMatrix(n)},t.prototype.getChildren=function(){return this.get("children")||[]},t.prototype.sort=function(){var r=this.getChildren();pt(r,function(n,a){return n[ZS]=a,n}),r.sort(Due(function(n,a){return n.get("zIndex")-a.get("zIndex")})),this.onCanvasChange("sort")},t.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var r=this.getChildren(),n=r.length-1;n>=0;n--)r[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},t.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},t.prototype.getFirst=function(){return this.getChildByIndex(0)},t.prototype.getLast=function(){var r=this.getChildren();return this.getChildByIndex(r.length-1)},t.prototype.getChildByIndex=function(r){var n=this.getChildren();return n[r]},t.prototype.getCount=function(){var r=this.getChildren();return r.length},t.prototype.contain=function(r){var n=this.getChildren();return n.indexOf(r)>-1},t.prototype.removeChild=function(r,n){n===void 0&&(n=!0),this.contain(r)&&r.remove(n)},t.prototype.findAll=function(r){var n=[],a=this.getChildren();return pt(a,function(i){r(i)&&n.push(i),i.isGroup()&&(n=n.concat(i.findAll(r)))}),n},t.prototype.find=function(r){var n=null,a=this.getChildren();return pt(a,function(i){if(r(i)?n=i:i.isGroup()&&(n=i.find(r)),n)return!1}),n},t.prototype.findById=function(r){return this.find(function(n){return n.get("id")===r})},t.prototype.findByClassName=function(r){return this.find(function(n){return n.get("className")===r})},t.prototype.findAllByName=function(r){return this.findAll(function(n){return n.get("name")===r})},t}(XG),qh=0,Bp=0,fp=0,JG=1e3,Fb,Fp,zb=0,ad=0,uE=0,Bg=typeof performance=="object"&&performance.now?performance:Date,ej=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tj(){return ad||(ej(Rue),ad=Bg.now()+uE)}function Rue(){ad=0}function QS(){this._call=this._time=this._next=null}QS.prototype=Ak.prototype={constructor:QS,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?tj():+r)+(t==null?0:+t),!this._next&&Fp!==this&&(Fp?Fp._next=this:Fb=this,Fp=this),this._call=e,this._time=r,JS()},stop:function(){this._call&&(this._call=null,this._time=1/0,JS())}};function Ak(e,t,r){var n=new QS;return n.restart(e,t,r),n}function $ue(){tj(),++qh;for(var e=Fb,t;e;)(t=ad-e._time)>=0&&e._call.call(null,t),e=e._next;--qh}function iD(){ad=(zb=Bg.now())+uE,qh=Bp=0;try{$ue()}finally{qh=0,Fue(),ad=0}}function Bue(){var e=Bg.now(),t=e-zb;t>JG&&(uE-=t,zb=e)}function Fue(){for(var e,t=Fb,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Fb=r);Fp=e,JS(n)}function JS(e){if(!qh){Bp&&(Bp=clearTimeout(Bp));var t=e-ad;t>24?(e<1/0&&(Bp=setTimeout(iD,e-Bg.now()-uE)),fp&&(fp=clearInterval(fp))):(fp||(zb=Bg.now(),fp=setInterval(Bue,JG)),qh=1,ej(iD))}}function Ik(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function rj(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function M0(){}var Fg=.7,Gb=1/Fg,Nh="\\s*([+-]?\\d+)\\s*",zg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",El="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zue=/^#([0-9a-f]{3,8})$/,Gue=new RegExp(`^rgb\\(${Nh},${Nh},${Nh}\\)$`),jue=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),Vue=new RegExp(`^rgba\\(${Nh},${Nh},${Nh},${zg}\\)$`),Uue=new RegExp(`^rgba\\(${El},${El},${El},${zg}\\)$`),Wue=new RegExp(`^hsl\\(${zg},${El},${El}\\)$`),Hue=new RegExp(`^hsla\\(${zg},${El},${El},${zg}\\)$`),oD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ik(M0,Gg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sD,formatHex:sD,formatHex8:Yue,formatHsl:Kue,formatRgb:lD,toString:lD});function sD(){return this.rgb().formatHex()}function Yue(){return this.rgb().formatHex8()}function Kue(){return nj(this).formatHsl()}function lD(){return this.rgb().formatRgb()}function Gg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?uD(t):r===3?new to(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gue.exec(e))?new to(t[1],t[2],t[3],1):(t=jue.exec(e))?new to(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vue.exec(e))?uy(t[1],t[2],t[3],t[4]):(t=Uue.exec(e))?uy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Wue.exec(e))?dD(t[1],t[2]/100,t[3]/100,1):(t=Hue.exec(e))?dD(t[1],t[2]/100,t[3]/100,t[4]):oD.hasOwnProperty(e)?uD(oD[e]):e==="transparent"?new to(NaN,NaN,NaN,0):null}function uD(e){return new to(e>>16&255,e>>8&255,e&255,1)}function uy(e,t,r,n){return n<=0&&(e=t=r=NaN),new to(e,t,r,n)}function Xue(e){return e instanceof M0||(e=Gg(e)),e?(e=e.rgb(),new to(e.r,e.g,e.b,e.opacity)):new to}function eC(e,t,r,n){return arguments.length===1?Xue(e):new to(e,t,r,n??1)}function to(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ik(to,eC,rj(M0,{brighter(e){return e=e==null?Gb:Math.pow(Gb,e),new to(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fg:Math.pow(Fg,e),new to(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new to(Vf(this.r),Vf(this.g),Vf(this.b),jb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cD,formatHex:cD,formatHex8:que,formatRgb:fD,toString:fD}));function cD(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}`}function que(){return`#${Lf(this.r)}${Lf(this.g)}${Lf(this.b)}${Lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function fD(){const e=jb(this.opacity);return`${e===1?"rgb(":"rgba("}${Vf(this.r)}, ${Vf(this.g)}, ${Vf(this.b)}${e===1?")":`, ${e})`}`}function jb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lf(e){return e=Vf(e),(e<16?"0":"")+e.toString(16)}function dD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new As(e,t,r,n)}function nj(e){if(e instanceof As)return new As(e.h,e.s,e.l,e.opacity);if(e instanceof M0||(e=Gg(e)),!e)return new As;if(e instanceof As)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new As(o,s,l,e.opacity)}function Zue(e,t,r,n){return arguments.length===1?nj(e):new As(e,t,r,n??1)}function As(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ik(As,Zue,rj(M0,{brighter(e){return e=e==null?Gb:Math.pow(Gb,e),new As(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fg:Math.pow(Fg,e),new As(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new to(G_(e>=240?e-240:e+120,a,n),G_(e,a,n),G_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new As(hD(this.h),cy(this.s),cy(this.l),jb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jb(this.opacity);return`${e===1?"hsl(":"hsla("}${hD(this.h)}, ${cy(this.s)*100}%, ${cy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hD(e){return e=(e||0)%360,e<0?e+360:e}function cy(e){return Math.max(0,Math.min(1,e||0))}function G_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ok=e=>()=>e;function Que(e,t){return function(r){return e+r*t}}function Jue(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ece(e){return(e=+e)==1?aj:function(t,r){return r-t?Jue(t,r,e):Ok(isNaN(t)?r:t)}}function aj(e,t){var r=t-e;return r?Que(e,r):Ok(isNaN(e)?t:e)}const vD=function e(t){var r=ece(t);function n(a,i){var o=r((a=eC(a)).r,(i=eC(i)).r),s=r(a.g,i.g),l=r(a.b,i.b),u=aj(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=s(c),a.b=l(c),a.opacity=u(c),a+""}}return n.gamma=e,n}(1);function ij(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function oj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tce(e,t){return(oj(t)?ij:sj)(e,t)}function sj(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Vb(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function rce(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tC(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nce(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Vb(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var rC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j_=new RegExp(rC.source,"g");function ace(e){return function(){return e}}function ice(e){return function(t){return e(t)+""}}function oce(e,t){var r=rC.lastIndex=j_.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=rC.exec(e))&&(a=j_.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:tC(n,a)})),r=j_.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?ice(l[0].x):ace(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Vb(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ok(t):(r==="number"?tC:r==="string"?(n=Gg(t))?(t=n,vD):oce:t instanceof Gg?vD:t instanceof Date?rce:oj(t)?ij:Array.isArray(t)?sj:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nce:tC)(e,t)}function sce(e){return+e}function lce(e){return e*e}function uce(e){return e*(2-e)}function pD(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function cce(e){return e*e*e}function fce(e){return--e*e*e+1}function gD(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lk=3,dce=function e(t){t=+t;function r(n){return Math.pow(n,t)}return r.exponent=e,r}(Lk),hce=function e(t){t=+t;function r(n){return 1-Math.pow(1-n,t)}return r.exponent=e,r}(Lk),mD=function e(t){t=+t;function r(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return r.exponent=e,r}(Lk),lj=Math.PI,uj=lj/2;function vce(e){return+e==1?1:1-Math.cos(e*uj)}function pce(e){return Math.sin(e*uj)}function yD(e){return(1-Math.cos(lj*e))/2}function Mc(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function gce(e){return Mc(1-+e)}function mce(e){return 1-Mc(e)}function bD(e){return((e*=2)<=1?Mc(1-e):2-Mc(e-1))/2}function yce(e){return 1-Math.sqrt(1-e*e)}function bce(e){return Math.sqrt(1- --e*e)}function wD(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var nC=4/11,wce=6/11,Ece=8/11,_ce=3/4,xce=9/11,Sce=10/11,Cce=15/16,Mce=21/22,Tce=63/64,fy=1/nC/nC;function kce(e){return 1-jg(1-e)}function jg(e){return(e=+e)<nC?fy*e*e:e<Ece?fy*(e-=wce)*e+_ce:e<Sce?fy*(e-=xce)*e+Cce:fy*(e-=Mce)*e+Tce}function Ace(e){return((e*=2)<=1?1-jg(1-e):jg(e-1)+1)/2}var Nk=1.70158,Ice=function e(t){t=+t;function r(n){return(n=+n)*n*(t*(n-1)+n)}return r.overshoot=e,r}(Nk),Oce=function e(t){t=+t;function r(n){return--n*n*((n+1)*t+n)+1}return r.overshoot=e,r}(Nk),ED=function e(t){t=+t;function r(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return r.overshoot=e,r}(Nk),Zh=2*Math.PI,Pk=1,Dk=.3,Lce=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Zh);function a(i){return t*Mc(- --i)*Math.sin((n-i)/r)}return a.amplitude=function(i){return e(i,r*Zh)},a.period=function(i){return e(t,i)},a}(Pk,Dk),_D=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Zh);function a(i){return 1-t*Mc(i=+i)*Math.sin((i+n)/r)}return a.amplitude=function(i){return e(i,r*Zh)},a.period=function(i){return e(t,i)},a}(Pk,Dk),Nce=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Zh);function a(i){return((i=i*2-1)<0?t*Mc(-i)*Math.sin((n-i)/r):2-t*Mc(i)*Math.sin((n+i)/r))/2}return a.amplitude=function(i){return e(i,r*Zh)},a.period=function(i){return e(t,i)},a}(Pk,Dk);const Pce=Object.freeze(Object.defineProperty({__proto__:null,easeBack:ED,easeBackIn:Ice,easeBackInOut:ED,easeBackOut:Oce,easeBounce:jg,easeBounceIn:kce,easeBounceInOut:Ace,easeBounceOut:jg,easeCircle:wD,easeCircleIn:yce,easeCircleInOut:wD,easeCircleOut:bce,easeCubic:gD,easeCubicIn:cce,easeCubicInOut:gD,easeCubicOut:fce,easeElastic:_D,easeElasticIn:Lce,easeElasticInOut:Nce,easeElasticOut:_D,easeExp:bD,easeExpIn:gce,easeExpInOut:bD,easeExpOut:mce,easeLinear:sce,easePoly:mD,easePolyIn:dce,easePolyInOut:mD,easePolyOut:hce,easeQuad:pD,easeQuadIn:lce,easeQuadInOut:pD,easeQuadOut:uce,easeSin:yD,easeSinIn:vce,easeSinInOut:yD,easeSinOut:pce},Symbol.toStringTag,{value:"Module"}));var Dce={};function Rce(e){return Dce[e.toLowerCase()]||Pce[e]}var $ce=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},Bce=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},xD=[1,0,0,0,1,0,0,0,1];function Fce(e,t,r){var n={},a=t.fromAttrs,i=t.toAttrs;if(!e.destroyed){var o;for(var s in i)if(!Cc(a[s],i[s]))if(s==="path"){var l=i[s],u=a[s];l.length>u.length?(l=_h(i[s]),u=_h(a[s]),u=jG(u,l),u=XS(u,l),t.fromAttrs.path=u,t.toAttrs.path=l):t.pathFormatted||(l=_h(i[s]),u=_h(a[s]),u=XS(u,l),t.fromAttrs.path=u,t.toAttrs.path=l,t.pathFormatted=!0),n[s]=[];for(var c=0;c<l.length;c++){for(var f=l[c],d=u[c],h=[],v=0;v<f.length;v++)pr(f[v])&&d&&pr(d[v])?(o=Vb(d[v],f[v]),h.push(o(r))):h.push(f[v]);n[s].push(h)}}else if(s==="matrix"){var p=tce(a[s]||xD,i[s]||xD),m=p(r);n[s]=m}else $ce(s)&&Bce(i[s])?n[s]=i[s]:ta(i[s])||(o=Vb(a[s],i[s]),n[s]=o(r));e.attr(n)}}function zce(e,t,r){var n=t.startTime,a=t.delay;if(r<n+a||t._paused)return!1;var i,o=t.duration,s=t.easing,l=Rce(s);if(r=r-n-t.delay,t.repeat)i=r%o/o,i=l(i);else if(i=r/o,i<1)i=l(i);else return t.onFrame?e.attr(t.onFrame(1)):e.attr(t.toAttrs),!0;if(t.onFrame){var u=t.onFrame(i);e.attr(u)}else Fce(e,t,i);return!1}var Gce=function(){function e(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return e.prototype.initTimer=function(){var t=this,r=!1,n,a,i;this.timer=Ak(function(o){if(t.current=o,t.animators.length>0){for(var s=t.animators.length-1;s>=0;s--){if(n=t.animators[s],n.destroyed){t.removeAnimator(s);continue}if(!n.isAnimatePaused()){a=n.get("animations");for(var l=a.length-1;l>=0;l--)i=a[l],r=zce(n,i,o),r&&(a.splice(l,1),r=!1,i.callback&&i.callback())}a.length===0&&t.removeAnimator(s)}var u=t.canvas.get("autoDraw");u||t.canvas.draw()}})},e.prototype.addAnimator=function(t){this.animators.push(t)},e.prototype.removeAnimator=function(t){this.animators.splice(t,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(t){t===void 0&&(t=!0),this.animators.forEach(function(r){r.stopAnimate(t)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),jce=40,SD=0,CD=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function MD(e,t,r){r.name=t,r.target=e,r.currentTarget=e,r.delegateTarget=e,e.emit(t,r)}function Vce(e,t,r){if(r.bubbles){var n=void 0,a=!1;if(t==="mouseenter"?(n=r.fromShape,a=!0):t==="mouseleave"&&(a=!0,n=r.toShape),e.isCanvas()&&a)return;if(n&&HG(e,n)){r.bubbles=!1;return}r.name=t,r.currentTarget=e,r.delegateTarget=e,e.emit(t,r)}}var Uce=function(){function e(t){var r=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var a=n.type;r._triggerEvent(a,n)},this._onDocumentMove=function(n){var a=r.canvas,i=a.get("el");if(i!==n.target&&(r.dragging||r.currentShape)){var o=r._getPointInfo(n);r.dragging&&r._emitEvent("drag",n,o,r.draggingShape)}},this._onDocumentMouseUp=function(n){var a=r.canvas,i=a.get("el");if(i!==n.target&&r.dragging){var o=r._getPointInfo(n);r.draggingShape&&r._emitEvent("drop",n,o,null),r._emitEvent("dragend",n,o,r.draggingShape),r._afterDrag(r.draggingShape,o,n)}},this.canvas=t.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var t=this,r=this.canvas.get("el");pt(CD,function(n){r.addEventListener(n,t._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var t=this,r=this.canvas.get("el");pt(CD,function(n){r.removeEventListener(n,t._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(t,r,n,a,i,o){var s=new UG(t,r);return s.fromShape=i,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(a),s},e.prototype._getShape=function(t,r){return this.canvas.getShape(t.x,t.y,r)},e.prototype._getPointInfo=function(t){var r=this.canvas,n=r.getClientByEvent(t),a=r.getPointByEvent(t);return{x:a.x,y:a.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(t,r){var n=this._getPointInfo(r),a=this._getShape(n,r),i=this["_on"+t],o=!1;if(i)i.call(this,n,a,r);else{var s=this.currentShape;t==="mouseenter"||t==="dragenter"||t==="mouseover"?(this._emitEvent(t,r,n,null,null,a),a&&this._emitEvent(t,r,n,a,null,a),t==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",r,n,null)):t==="mouseleave"||t==="dragleave"||t==="mouseout"?(o=!0,s&&this._emitEvent(t,r,n,s,s,null),this._emitEvent(t,r,n,null,s,null),t==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",r,n,null)):this._emitEvent(t,r,n,a,null,null)}if(o||(this.currentShape=a),a&&!a.get("destroyed")){var l=this.canvas,u=l.get("el");u.style.cursor=a.attr("cursor")||l.get("cursor")}},e.prototype._onmousedown=function(t,r,n){n.button===SD&&(this.mousedownShape=r,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,r,null,null)},e.prototype._emitMouseoverEvents=function(t,r,n,a){var i=this.canvas.get("el");n!==a&&(n&&(this._emitEvent("mouseout",t,r,n,n,a),this._emitEvent("mouseleave",t,r,n,n,a),(!a||a.get("destroyed"))&&(i.style.cursor=this.canvas.get("cursor"))),a&&(this._emitEvent("mouseover",t,r,a,n,a),this._emitEvent("mouseenter",t,r,a,n,a)))},e.prototype._emitDragoverEvents=function(t,r,n,a,i){a?(a!==n&&(n&&this._emitEvent("dragleave",t,r,n,n,a),this._emitEvent("dragenter",t,r,a,n,a)),i||this._emitEvent("dragover",t,r,a)):n&&this._emitEvent("dragleave",t,r,n,n,a),i&&this._emitEvent("dragover",t,r,a)},e.prototype._afterDrag=function(t,r,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var a=this._getShape(r,n);a!==t&&this._emitMouseoverEvents(n,r,t,a),this.currentShape=a},e.prototype._onmouseup=function(t,r,n){if(n.button===SD){var a=this.draggingShape;this.dragging?(a&&this._emitEvent("drop",n,t,r),this._emitEvent("dragend",n,t,a),this._afterDrag(a,t,n)):(this._emitEvent("mouseup",n,t,r),r===this.mousedownShape&&this._emitEvent("click",n,t,r),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(t,r,n){n.preventDefault();var a=this.currentShape;this._emitDragoverEvents(n,t,a,r,!0)},e.prototype._onmousemove=function(t,r,n){var a=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,r,!1),this._emitEvent("drag",n,t,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,u=n.timeStamp,c=u-this.mousedownTimeStamp,f=s.clientX-t.clientX,d=s.clientY-t.clientY,h=f*f+d*d;c>120||h>jce?l&&l.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&a.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,r),this._emitEvent("mousemove",n,t,r)):(this._emitMouseoverEvents(n,t,i,r),this._emitEvent("mousemove",n,t,r))}else this._emitMouseoverEvents(n,t,i,r),this._emitEvent("mousemove",n,t,r)}},e.prototype._emitEvent=function(t,r,n,a,i,o){var s=this._getEventObj(t,r,n,a,i,o);if(a){s.shape=a,MD(a,t,s);for(var l=a.getParent();l;)l.emitDelegation(t,s),s.propagationStopped||Vce(l,t,s),s.propagationPath.push(l),l=l.getParent()}else{var u=this.canvas;MD(u,t,s)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),TD="px",kD=YG(),Wce=kD&&kD.name==="firefox",cj=function(e){jr(t,e);function t(r){var n=e.call(this,r)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return t.prototype.getDefaultCfg=function(){var r=e.prototype.getDefaultCfg.call(this);return r.cursor="default",r.supportCSSTransform=!1,r},t.prototype.initContainer=function(){var r=this.get("container");Lt(r)&&(r=document.getElementById(r),this.set("container",r))},t.prototype.initDom=function(){var r=this.createDom();this.set("el",r);var n=this.get("container");n.appendChild(r),this.setDOMSize(this.get("width"),this.get("height"))},t.prototype.initEvents=function(){var r=new Uce({canvas:this});r.init(),this.set("eventController",r)},t.prototype.initTimeline=function(){var r=new Gce(this);this.set("timeline",r)},t.prototype.setDOMSize=function(r,n){var a=this.get("el");JP&&(a.style.width=r+TD,a.style.height=n+TD)},t.prototype.changeSize=function(r,n){this.setDOMSize(r,n),this.set("width",r),this.set("height",n),this.onCanvasChange("changeSize")},t.prototype.getRenderer=function(){return this.get("renderer")},t.prototype.getCursor=function(){return this.get("cursor")},t.prototype.setCursor=function(r){this.set("cursor",r);var n=this.get("el");JP&&n&&(n.style.cursor=r)},t.prototype.getPointByEvent=function(r){var n=this.get("supportCSSTransform");if(n){if(Wce&&!hr(r.layerX)&&r.layerX!==r.offsetX)return{x:r.layerX,y:r.layerY};if(!hr(r.offsetX))return{x:r.offsetX,y:r.offsetY}}var a=this.getClientByEvent(r),i=a.x,o=a.y;return this.getPointByClient(i,o)},t.prototype.getClientByEvent=function(r){var n=r;return r.touches&&(r.type==="touchend"?n=r.changedTouches[0]:n=r.touches[0]),{x:n.clientX,y:n.clientY}},t.prototype.getPointByClient=function(r,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:r-i.left,y:n-i.top}},t.prototype.getClientByPoint=function(r,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:r+i.left,y:n+i.top}},t.prototype.draw=function(){},t.prototype.removeDom=function(){var r=this.get("el");r.parentNode.removeChild(r)},t.prototype.clearEvents=function(){var r=this.get("eventController");r.destroy()},t.prototype.isCanvas=function(){return!0},t.prototype.getParent=function(){return null},t.prototype.destroy=function(){var r=this.get("timeline");this.get("destroyed")||(this.clear(),r&&r.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},t}(QG),fj=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.isGroup=function(){return!0},t.prototype.isEntityGroup=function(){return!1},t.prototype.clone=function(){for(var r=e.prototype.clone.call(this),n=this.getChildren(),a=0;a<n.length;a++){var i=n[a];r.add(i.clone())}return r},t}(QG),dj=function(e){jr(t,e);function t(r){return e.call(this,r)||this}return t.prototype._isInBBox=function(r,n){var a=this.getBBox();return a.minX<=r&&a.maxX>=r&&a.minY<=n&&a.maxY>=n},t.prototype.afterAttrsChange=function(r){e.prototype.afterAttrsChange.call(this,r),this.clearCacheBBox()},t.prototype.getBBox=function(){var r=this.cfg.bbox;return r||(r=this.calculateBBox(),this.set("bbox",r)),r},t.prototype.getCanvasBBox=function(){var r=this.cfg.canvasBBox;return r||(r=this.calculateCanvasBBox(),this.set("canvasBBox",r)),r},t.prototype.applyMatrix=function(r){e.prototype.applyMatrix.call(this,r),this.set("canvasBBox",null)},t.prototype.calculateCanvasBBox=function(){var r=this.getBBox(),n=this.getTotalMatrix(),a=r.minX,i=r.minY,o=r.maxX,s=r.maxY;if(n){var l=Of(n,[r.minX,r.minY]),u=Of(n,[r.maxX,r.minY]),c=Of(n,[r.minX,r.maxY]),f=Of(n,[r.maxX,r.maxY]);a=Math.min(l[0],u[0],c[0],f[0]),o=Math.max(l[0],u[0],c[0],f[0]),i=Math.min(l[1],u[1],c[1],f[1]),s=Math.max(l[1],u[1],c[1],f[1])}var d=this.attrs;if(d.shadowColor){var h=d.shadowBlur,v=h===void 0?0:h,p=d.shadowOffsetX,m=p===void 0?0:p,g=d.shadowOffsetY,b=g===void 0?0:g,y=a-v+m,w=o+v+m,_=i-v+b,x=s+v+b;a=Math.min(a,y),o=Math.max(o,w),i=Math.min(i,_),s=Math.max(s,x)}return{x:a,y:i,minX:a,minY:i,maxX:o,maxY:s,width:o-a,height:s-i}},t.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},t.prototype.isClipShape=function(){return this.get("isClipShape")},t.prototype.isInShape=function(r,n){return!1},t.prototype.isOnlyHitBox=function(){return!1},t.prototype.isHit=function(r,n){var a=this.get("startArrowShape"),i=this.get("endArrowShape"),o=[r,n,1];o=this.invertFromMatrix(o);var s=o[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(s,l)&&(this.isInShape(s,l)||a&&a.isHit(s,l)||i&&i.isHit(s,l)))},t}(XG),hj=new Map;function Ll(e,t){hj.set(e,t)}function vj(e){return hj.get(e)}function pj(e){var t=e.attr(),r=t.x,n=t.y,a=t.width,i=t.height;return{x:r,y:n,width:a,height:i}}function gj(e){var t=e.attr(),r=t.x,n=t.y,a=t.r;return{x:r-a,y:n-a,width:a*2,height:a*2}}function Ti(e,t,r,n){var a=e-r,i=t-n;return Math.sqrt(a*a+i*i)}function L1(e,t){return Math.abs(e-t)<.001}function Lv(e,t){var r=Cl(e),n=Cl(t),a=Sl(e),i=Sl(t);return{x:r,y:n,width:a-r,height:i-n}}function cE(e){return(e+Math.PI*2)%(Math.PI*2)}const oi={box:function(e,t,r,n){return Lv([e,r],[t,n])},length:function(e,t,r,n){return Ti(e,t,r,n)},pointAt:function(e,t,r,n,a){return{x:(1-a)*e+a*r,y:(1-a)*t+a*n}},pointDistance:function(e,t,r,n,a,i){var o=(r-e)*(a-e)+(n-t)*(i-t);if(o<0)return Ti(e,t,a,i);var s=(r-e)*(r-e)+(n-t)*(n-t);return o>s?Ti(r,n,a,i):this.pointToLine(e,t,r,n,a,i)},pointToLine:function(e,t,r,n,a,i){var o=[r-e,n-t];if(gk(o,[0,0]))return Math.sqrt((a-e)*(a-e)+(i-t)*(i-t));var s=[-o[1],o[0]];bc(s,s);var l=[a-e,i-t];return Math.abs(pk(l,s))},tangentAngle:function(e,t,r,n){return Math.atan2(n-t,r-e)}};var Hce=1e-4;function mj(e,t,r,n,a,i){var o,s=1/0,l=[r,n],u=20;i&&i>200&&(u=i/10);for(var c=1/u,f=c/10,d=0;d<=u;d++){var h=d*c,v=[a.apply(null,e.concat([h])),a.apply(null,t.concat([h]))],p=Ti(l[0],l[1],v[0],v[1]);p<s&&(o=h,s=p)}if(o===0)return{x:e[0],y:t[0]};if(o===1){var m=e.length;return{x:e[m-1],y:t[m-1]}}s=1/0;for(var d=0;d<32&&!(f<Hce);d++){var g=o-f,b=o+f,v=[a.apply(null,e.concat([g])),a.apply(null,t.concat([g]))],p=Ti(l[0],l[1],v[0],v[1]);if(g>=0&&p<s)o=g,s=p;else{var y=[a.apply(null,e.concat([b])),a.apply(null,t.concat([b]))],w=Ti(l[0],l[1],y[0],y[1]);b<=1&&w<s?(o=b,s=w):f*=.5}}return{x:a.apply(null,e.concat([o])),y:a.apply(null,t.concat([o]))}}function Yce(e,t){for(var r=0,n=e.length,a=0;a<n;a++){var i=e[a],o=t[a],s=e[(a+1)%n],l=t[(a+1)%n];r+=Ti(i,o,s,l)}return r/2}function ac(e,t,r,n){var a=1-n;return a*a*e+2*n*a*t+n*n*r}function AD(e,t,r){var n=e+r-2*t;if(L1(n,0))return[.5];var a=(e-t)/n;return a<=1&&a>=0?[a]:[]}function ID(e,t,r,n){return 2*(1-n)*(t-e)+2*n*(r-t)}function yj(e,t,r,n,a,i,o){var s=ac(e,r,a,o),l=ac(t,n,i,o),u=oi.pointAt(e,t,r,n,o),c=oi.pointAt(r,n,a,i,o);return[[e,t,u.x,u.y,s,l],[s,l,c.x,c.y,a,i]]}function aC(e,t,r,n,a,i,o){if(o===0)return(Ti(e,t,r,n)+Ti(r,n,a,i)+Ti(e,t,a,i))/2;var s=yj(e,t,r,n,a,i,.5),l=s[0],u=s[1];return l.push(o-1),u.push(o-1),aC.apply(null,l)+aC.apply(null,u)}const bj={box:function(e,t,r,n,a,i){var o=AD(e,r,a)[0],s=AD(t,n,i)[0],l=[e,a],u=[t,i];return o!==void 0&&l.push(ac(e,r,a,o)),s!==void 0&&u.push(ac(t,n,i,s)),Lv(l,u)},length:function(e,t,r,n,a,i){return aC(e,t,r,n,a,i,3)},nearestPoint:function(e,t,r,n,a,i,o,s){return mj([e,r,a],[t,n,i],o,s,ac)},pointDistance:function(e,t,r,n,a,i,o,s){var l=this.nearestPoint(e,t,r,n,a,i,o,s);return Ti(l.x,l.y,o,s)},interpolationAt:ac,pointAt:function(e,t,r,n,a,i,o){return{x:ac(e,r,a,o),y:ac(t,n,i,o)}},divide:function(e,t,r,n,a,i,o){return yj(e,t,r,n,a,i,o)},tangentAngle:function(e,t,r,n,a,i,o){var s=ID(e,r,a,o),l=ID(t,n,i,o),u=Math.atan2(l,s);return cE(u)}};function ic(e,t,r,n,a){var i=1-a;return i*i*i*e+3*t*a*i*i+3*r*a*a*i+n*a*a*a}function OD(e,t,r,n,a){var i=1-a;return 3*(i*i*(t-e)+2*i*a*(r-t)+a*a*(n-r))}function V_(e,t,r,n){var a=-3*e+9*t-9*r+3*n,i=6*e-12*t+6*r,o=3*t-3*e,s=[],l,u,c;if(L1(a,0))L1(i,0)||(l=-o/i,l>=0&&l<=1&&s.push(l));else{var f=i*i-4*a*o;L1(f,0)?s.push(-i/(2*a)):f>0&&(c=Math.sqrt(f),l=(-i+c)/(2*a),u=(-i-c)/(2*a),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function wj(e,t,r,n,a,i,o,s,l){var u=ic(e,r,a,o,l),c=ic(t,n,i,s,l),f=oi.pointAt(e,t,r,n,l),d=oi.pointAt(r,n,a,i,l),h=oi.pointAt(a,i,o,s,l),v=oi.pointAt(f.x,f.y,d.x,d.y,l),p=oi.pointAt(d.x,d.y,h.x,h.y,l);return[[e,t,f.x,f.y,v.x,v.y,u,c],[u,c,p.x,p.y,h.x,h.y,o,s]]}function iC(e,t,r,n,a,i,o,s,l){if(l===0)return Yce([e,r,a,o],[t,n,i,s]);var u=wj(e,t,r,n,a,i,o,s,.5),c=u[0],f=u[1];return c.push(l-1),f.push(l-1),iC.apply(null,c)+iC.apply(null,f)}const ng={extrema:V_,box:function(e,t,r,n,a,i,o,s){for(var l=[e,o],u=[t,s],c=V_(e,r,a,o),f=V_(t,n,i,s),d=0;d<c.length;d++)l.push(ic(e,r,a,o,c[d]));for(var d=0;d<f.length;d++)u.push(ic(t,n,i,s,f[d]));return Lv(l,u)},length:function(e,t,r,n,a,i,o,s){return iC(e,t,r,n,a,i,o,s,3)},nearestPoint:function(e,t,r,n,a,i,o,s,l,u,c){return mj([e,r,a,o],[t,n,i,s],l,u,ic,c)},pointDistance:function(e,t,r,n,a,i,o,s,l,u,c){var f=this.nearestPoint(e,t,r,n,a,i,o,s,l,u,c);return Ti(f.x,f.y,l,u)},interpolationAt:ic,pointAt:function(e,t,r,n,a,i,o,s,l){return{x:ic(e,r,a,o,l),y:ic(t,n,i,s,l)}},divide:function(e,t,r,n,a,i,o,s,l){return wj(e,t,r,n,a,i,o,s,l)},tangentAngle:function(e,t,r,n,a,i,o,s,l){var u=OD(e,r,a,o,l),c=OD(t,n,i,s,l);return cE(Math.atan2(c,u))}};function LD(e,t){var r=Math.abs(e);return t>0?r:r*-1}const Kce={box:function(e,t,r,n){return{x:e-r,y:t-n,width:r*2,height:n*2}},length:function(e,t,r,n){return Math.PI*(3*(r+n)-Math.sqrt((3*r+n)*(r+3*n)))},nearestPoint:function(e,t,r,n,a,i){var o=r,s=n;if(o===0||s===0)return{x:e,y:t};for(var l=a-e,u=i-t,c=Math.abs(l),f=Math.abs(u),d=o*o,h=s*s,v=Math.PI/4,p,m,g=0;g<4;g++){p=o*Math.cos(v),m=s*Math.sin(v);var b=(d-h)*Math.pow(Math.cos(v),3)/o,y=(h-d)*Math.pow(Math.sin(v),3)/s,w=p-b,_=m-y,x=c-b,S=f-y,C=Math.hypot(_,w),T=Math.hypot(S,x),M=C*Math.asin((w*S-_*x)/(C*T)),k=M/Math.sqrt(d+h-p*p-m*m);v+=k,v=Math.min(Math.PI/2,Math.max(0,v))}return{x:e+LD(p,l),y:t+LD(m,u)}},pointDistance:function(e,t,r,n,a,i){var o=this.nearestPoint(e,t,r,n,a,i);return Ti(o.x,o.y,a,i)},pointAt:function(e,t,r,n,a){var i=2*Math.PI*a;return{x:e+r*Math.cos(i),y:t+n*Math.sin(i)}},tangentAngle:function(e,t,r,n,a){var i=2*Math.PI*a,o=Math.atan2(n*Math.cos(i),-r*Math.sin(i));return cE(o)}};function Xce(e,t,r,n,a,i,o,s){return-1*r*Math.cos(a)*Math.sin(s)-n*Math.sin(a)*Math.cos(s)}function qce(e,t,r,n,a,i,o,s){return-1*r*Math.sin(a)*Math.sin(s)+n*Math.cos(a)*Math.cos(s)}function Zce(e,t,r){return Math.atan(-t/e*Math.tan(r))}function Qce(e,t,r){return Math.atan(t/(e*Math.tan(r)))}function ND(e,t,r,n,a,i){return r*Math.cos(a)*Math.cos(i)-n*Math.sin(a)*Math.sin(i)+e}function PD(e,t,r,n,a,i){return r*Math.sin(a)*Math.cos(i)+n*Math.cos(a)*Math.sin(i)+t}function Jce(e,t,r,n){var a=Math.atan2(n*e,r*t);return(a+Math.PI*2)%(Math.PI*2)}function DD(e,t,r){return{x:e*Math.cos(r),y:t*Math.sin(r)}}function RD(e,t,r){var n=Math.cos(r),a=Math.sin(r);return[e*n-t*a,e*a+t*n]}const efe={box:function(e,t,r,n,a,i,o){for(var s=Zce(r,n,a),l=1/0,u=-1/0,c=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var d=s+f;i<o?i<d&&d<o&&c.push(d):o<d&&d<i&&c.push(d)}for(var f=0;f<c.length;f++){var h=ND(e,t,r,n,a,c[f]);h<l&&(l=h),h>u&&(u=h)}for(var v=Qce(r,n,a),p=1/0,m=-1/0,g=[i,o],f=-Math.PI*2;f<=Math.PI*2;f+=Math.PI){var b=v+f;i<o?i<b&&b<o&&g.push(b):o<b&&b<i&&g.push(b)}for(var f=0;f<g.length;f++){var y=PD(e,t,r,n,a,g[f]);y<p&&(p=y),y>m&&(m=y)}return{x:l,y:p,width:u-l,height:m-p}},length:function(e,t,r,n,a,i,o){},nearestPoint:function(e,t,r,n,a,i,o,s,l){var u=RD(s-e,l-t,-a),c=u[0],f=u[1],d=Kce.nearestPoint(0,0,r,n,c,f),h=Jce(r,n,d.x,d.y);h<i?d=DD(r,n,i):h>o&&(d=DD(r,n,o));var v=RD(d.x,d.y,a);return{x:v[0]+e,y:v[1]+t}},pointDistance:function(e,t,r,n,a,i,o,s,l){var u=this.nearestPoint(e,t,r,n,s,l);return Ti(u.x,u.y,s,l)},pointAt:function(e,t,r,n,a,i,o,s){var l=(o-i)*s+i;return{x:ND(e,t,r,n,a,l),y:PD(e,t,r,n,a,l)}},tangentAngle:function(e,t,r,n,a,i,o,s){var l=(o-i)*s+i,u=Xce(e,t,r,n,a,i,o,l),c=qce(e,t,r,n,a,i,o,l);return cE(Math.atan2(c,u))}};function Ej(e){for(var t=0,r=[],n=0;n<e.length-1;n++){var a=e[n],i=e[n+1],o=Ti(a[0],a[1],i[0],i[1]),s={from:a,to:i,length:o};r.push(s),t+=o}return{segments:r,totalLength:t}}function tfe(e){if(e.length<2)return 0;for(var t=0,r=0;r<e.length-1;r++){var n=e[r],a=e[r+1];t+=Ti(n[0],n[1],a[0],a[1])}return t}function rfe(e,t){if(t>1||t<0||e.length<2)return null;var r=Ej(e),n=r.segments,a=r.totalLength;if(a===0)return{x:e[0][0],y:e[0][1]};for(var i=0,o=null,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,f=l.length/a;if(t>=i&&t<=i+f){var d=(t-i)/f;o=oi.pointAt(u[0],u[1],c[0],c[1],d);break}i+=f}return o}function nfe(e,t){if(t>1||t<0||e.length<2)return 0;for(var r=Ej(e),n=r.segments,a=r.totalLength,i=0,o=0,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,f=l.length/a;if(t>=i&&t<=i+f){o=Math.atan2(c[1]-u[1],c[0]-u[0]);break}i+=f}return o}function afe(e,t,r){for(var n=1/0,a=0;a<e.length-1;a++){var i=e[a],o=e[a+1],s=oi.pointDistance(i[0],i[1],o[0],o[1],t,r);s<n&&(n=s)}return n}const _j={box:function(e){for(var t=[],r=[],n=0;n<e.length;n++){var a=e[n];t.push(a[0]),r.push(a[1])}return Lv(t,r)},length:function(e){return tfe(e)},pointAt:function(e,t){return rfe(e,t)},pointDistance:function(e,t,r){return afe(e,t,r)},tangentAngle:function(e,t){return nfe(e,t)}};function $D(e,t){return!e||!t?e||t:{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}}function Rk(e,t){var r=e.get("startArrowShape"),n=e.get("endArrowShape"),a=null,i=null;return r&&(a=r.getCanvasBBox(),t=$D(t,a)),n&&(i=n.getCanvasBBox(),t=$D(t,i)),t}function ife(e){for(var t=e.attr(),r=t.points,n=[],a=[],i=0;i<r.length;i++){var o=r[i];n.push(o[0]),a.push(o[1])}var s=Lv(n,a),l=s.x,u=s.y,c=s.width,f=s.height,d={minX:l,minY:u,maxX:l+c,maxY:u+f};return d=Rk(e,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function ofe(e){for(var t=e.attr(),r=t.points,n=[],a=[],i=0;i<r.length;i++){var o=r[i];n.push(o[0]),a.push(o[1])}return Lv(n,a)}var U_=null;function xj(){if(!U_){var e=document.createElement("canvas");e.width=1,e.height=1,U_=e.getContext("2d")}return U_}function Sj(e,t,r){var n=1;if(Lt(e)&&(n=e.split(`
`).length),n>1){var a=sfe(t,r);return t*n+a*(n-1)}return t}function sfe(e,t){return t?t-e:e*.14}function lfe(e,t){var r=xj(),n=0;if(hr(e)||e==="")return n;if(r.save(),r.font=t,Lt(e)&&e.includes(`
`)){var a=e.split(`
`);pt(a,function(i){var o=r.measureText(i).width;n<o&&(n=o)})}else n=r.measureText(e).width;return r.restore(),n}function Cj(e){var t=e.fontSize,r=e.fontFamily,n=e.fontWeight,a=e.fontStyle,i=e.fontVariant;return[a,i,n,t+"px",r].join(" ").trim()}function ufe(e){var t=e.attr(),r=t.x,n=t.y,a=t.text,i=t.fontSize,o=t.lineHeight,s=t.font;s||(s=Cj(t));var l=lfe(a,s),u;if(!l)u={x:r,y:n,width:0,height:0};else{var c=t.textAlign,f=t.textBaseline,d=Sj(a,i,o),h={x:r,y:n-d};c&&(c==="end"||c==="right"?h.x-=l:c==="center"&&(h.x-=l/2)),f&&(f==="top"?h.y+=d:f==="middle"&&(h.y+=d/2)),u={x:h.x,y:h.y,width:l,height:d}}return u}var cfe=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,ffe=/[^\s\,]+/ig;function dfe(e){var t=e||[];if(wr(t))return t;if(Lt(t))return t=t.match(cfe),pt(t,function(r,n){if(r=r.match(ffe),r[0].length>1){var a=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=a}pt(r,function(i,o){isNaN(i)||(r[o]=+i)}),t[n]=r}),t}function hfe(e,t,r,n){for(var a=[],i,o,s,l,u,c,f,c=0,d=e.length;c<d;c+=1){var f=e[c];if(c===0&&!r)u=f;else if(c===d-1&&!r)l=f,a.push(u),a.push(l);else{var h=[c?c-1:d-1,c-1][r?0:1];i=e[h],o=e[r?(c+1)%d:c+1];var v=[0,0];v=M1(v,o,i),v=Ci(v,v,t);var p=Nb(f,i),m=Nb(f,o),g=p+m;g!==0&&(p/=g,m/=g);var b=Ci([0,0],v,-p),y=Ci([0,0],v,m);l=ai([0,0],f,b),s=ai([0,0],f,y),s=Rp([0,0],s,$p([0,0],o,f)),s=$p([0,0],s,Rp([0,0],o,f)),b=M1([0,0],s,f),b=Ci([0,0],b,-p/m),l=ai([0,0],f,b),l=Rp([0,0],l,$p([0,0],i,f)),l=$p([0,0],l,Rp([0,0],i,f)),y=M1([0,0],f,l),y=Ci([0,0],y,m/p),s=ai([0,0],f,y),a.push(u),a.push(l),u=s}}return r&&a.push(a.shift()),a}function Mj(e,t,r){t===void 0&&(t=!1);for(var n=!!t,a=[],i=0,o=e.length;i<o;i+=2)a.push([e[i],e[i+1]]);for(var s=hfe(a,.4,n),l=a.length,u=[],c,f,d,i=0;i<l-1;i+=1)c=s[i*2],f=s[i*2+1],d=a[i+1],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]]);return n&&(c=s[l],f=s[l+1],d=a[0],u.push(["C",c[0],c[1],f[0],f[1],d[0],d[1]])),u}var ag=`	
\v\f\r   ᠎             　\u2028\u2029`,vfe=new RegExp("([a-z])["+ag+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+ag+"]*,?["+ag+"]*)+)","ig"),pfe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+ag+"]*,?["+ag+"]*","ig");function oC(e){if(!e)return null;if(wr(e))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(e).replace(vfe,function(n,a,i){var o=[],s=a.toLowerCase();if(i.replace(pfe,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(r.push([a].concat(o.splice(0,2))),s="l",a=a==="m"?"l":"L"),s==="o"&&o.length===1&&r.push([a,o[0]]),s==="r")r.push([a].concat(o));else for(;o.length>=t[s]&&(r.push([a].concat(o.splice(0,t[s]))),!!t[s]););return""}),r}var gfe=/[a-z]/;function BD(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function Tj(e){var t=oC(e);if(!t||!t.length)return[["M",0,0]];for(var r=!1,n=0;n<t.length;n++){var a=t[n][0];if(gfe.test(a)||["V","H","T","S"].indexOf(a)>=0){r=!0;break}}if(!r)return t;var i=[],o=0,s=0,l=0,u=0,c=0,f=t[0];(f[0]==="M"||f[0]==="m")&&(o=+f[1],s=+f[2],l=o,u=s,c++,i[0]=["M",o,s]);for(var n=c,d=t.length;n<d;n++){var h=t[n],v=i[n-1],p=[],a=h[0],m=a.toUpperCase();if(a!==m)switch(p[0]=m,m){case"A":p[1]=h[1],p[2]=h[2],p[3]=h[3],p[4]=h[4],p[5]=h[5],p[6]=+h[6]+o,p[7]=+h[7]+s;break;case"V":p[1]=+h[1]+s;break;case"H":p[1]=+h[1]+o;break;case"M":l=+h[1]+o,u=+h[2]+s,p[1]=l,p[2]=u;break;default:for(var g=1,b=h.length;g<b;g++)p[g]=+h[g]+(g%2?o:s)}else p=t[n];switch(m){case"Z":o=+l,s=+u;break;case"H":o=p[1],p=["L",o,s];break;case"V":s=p[1],p=["L",o,s];break;case"T":o=p[1],s=p[2];var y=BD([v[1],v[2]],[v[3],v[4]]);p=["Q",y[0],y[1],o,s];break;case"S":o=p[p.length-2],s=p[p.length-1];var w=v.length,_=BD([v[w-4],v[w-3]],[v[w-2],v[w-1]]);p=["C",_[0],_[1],p[1],p[2],o,s];break;case"M":l=p[p.length-2],u=p[p.length-1];break;default:o=p[p.length-2],s=p[p.length-1]}i.push(p)}return i}function dy(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function sC(e,t){return dy(e)*dy(t)?(e[0]*t[0]+e[1]*t[1])/(dy(e)*dy(t)):1}function FD(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(sC(e,t))}function lC(e,t){return e[0]===t[0]&&e[1]===t[1]}function mfe(e,t){var r=t[1],n=t[2],a=nE(aE(t[3]),Math.PI*2),i=t[4],o=t[5],s=e[0],l=e[1],u=t[6],c=t[7],f=Math.cos(a)*(s-u)/2+Math.sin(a)*(l-c)/2,d=-1*Math.sin(a)*(s-u)/2+Math.cos(a)*(l-c)/2,h=f*f/(r*r)+d*d/(n*n);h>1&&(r*=Math.sqrt(h),n*=Math.sqrt(h));var v=r*r*(d*d)+n*n*(f*f),p=v?Math.sqrt((r*r*(n*n)-v)/v):1;i===o&&(p*=-1),isNaN(p)&&(p=0);var m=n?p*r*d/n:0,g=r?p*-n*f/r:0,b=(s+u)/2+Math.cos(a)*m-Math.sin(a)*g,y=(l+c)/2+Math.sin(a)*m+Math.cos(a)*g,w=[(f-m)/r,(d-g)/n],_=[(-1*f-m)/r,(-1*d-g)/n],x=FD([1,0],w),S=FD(w,_);return sC(w,_)<=-1&&(S=Math.PI),sC(w,_)>=1&&(S=0),o===0&&S>0&&(S=S-2*Math.PI),o===1&&S<0&&(S=S+2*Math.PI),{cx:b,cy:y,rx:lC(e,[u,c])?0:r,ry:lC(e,[u,c])?0:n,startAngle:x,endAngle:x+S,xRotation:a,arcFlag:i,sweepFlag:o}}function zD(e,t){return[t[0]+(t[0]-e[0]),t[1]+(t[1]-e[1])]}function kj(e){e=dfe(e);for(var t=[],r=null,n=null,a=null,i=0,o=e.length,s=0;s<o;s++){var l=e[s];n=e[s+1];var u=l[0],c={command:u,prePoint:r,params:l,startTangent:null,endTangent:null};switch(u){case"M":a=[l[1],l[2]],i=s;break;case"A":var f=mfe(r,l);c.arcParams=f;break}if(u==="Z")r=a,n=e[i+1];else{var d=l.length;r=[l[d-2],l[d-1]]}n&&n[0]==="Z"&&(n=e[i],t[i]&&(t[i].prePoint=r)),c.currentPoint=r,t[i]&&lC(r,t[i].currentPoint)&&(t[i].prePoint=c.prePoint);var h=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=h;var v=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]];else if(u==="Q"){var p=[l[1],l[2]];c.startTangent=[v[0]-p[0],v[1]-p[1]],c.endTangent=[r[0]-p[0],r[1]-p[1]]}else if(u==="T"){var m=t[s-1],p=zD(m.currentPoint,v);m.command==="Q"?(c.command="Q",c.startTangent=[v[0]-p[0],v[1]-p[1]],c.endTangent=[r[0]-p[0],r[1]-p[1]]):(c.command="TL",c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]])}else if(u==="C"){var g=[l[1],l[2]],b=[l[3],l[4]];c.startTangent=[v[0]-g[0],v[1]-g[1]],c.endTangent=[r[0]-b[0],r[1]-b[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[g[0]-b[0],g[1]-b[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[b[0]-g[0],b[1]-g[1]])}else if(u==="S"){var m=t[s-1],g=zD(m.currentPoint,v),b=[l[1],l[2]];m.command==="C"?(c.command="C",c.startTangent=[v[0]-g[0],v[1]-g[1]],c.endTangent=[r[0]-b[0],r[1]-b[1]]):(c.command="SQ",c.startTangent=[v[0]-b[0],v[1]-b[1]],c.endTangent=[r[0]-b[0],r[1]-b[1]])}else if(u==="A"){var y=.001,w=c.arcParams||{},_=w.cx,x=_===void 0?0:_,S=w.cy,C=S===void 0?0:S,T=w.rx,M=T===void 0?0:T,k=w.ry,A=k===void 0?0:k,O=w.sweepFlag,P=O===void 0?0:O,R=w.startAngle,N=R===void 0?0:R,L=w.endAngle,B=L===void 0?0:L;P===0&&(y*=-1);var I=M*Math.cos(N-y)+x,D=A*Math.sin(N-y)+C;c.startTangent=[I-a[0],D-a[1]];var z=M*Math.cos(N+B+y)+x,U=A*Math.sin(N+B-y)+C;c.endTangent=[v[0]-z,v[1]-U]}t.push(c)}return t}function yfe(e,t){for(var r=[],n=[],a=[],i=0;i<e.length;i++){var o=e[i],s=o.currentPoint,l=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=bj.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=ng.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;c=efe.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:r.push(s[0]),n.push(s[1]);break}c&&(o.box=c,r.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height)),t&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&a.push(o)}r=r.filter(function(g){return!Number.isNaN(g)&&g!==1/0&&g!==-1/0}),n=n.filter(function(g){return!Number.isNaN(g)&&g!==1/0&&g!==-1/0});var d=Cl(r),h=Cl(n),v=Sl(r),p=Sl(n);if(a.length===0)return{x:d,y:h,width:v-d,height:p-h};for(var i=0;i<a.length;i++){var o=a[i],s=o.currentPoint,m=void 0;s[0]===d?(m=hy(o,t),d=d-m.xExtra):s[0]===v&&(m=hy(o,t),v=v+m.xExtra),s[1]===h?(m=hy(o,t),h=h-m.yExtra):s[1]===p&&(m=hy(o,t),p=p+m.yExtra)}return{x:d,y:h,width:v-d,height:p-h}}function hy(e,t){var r=e.prePoint,n=e.currentPoint,a=e.nextPoint,i=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),o=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),s=Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2),l=Math.acos((i+o-s)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!l||Math.sin(l)===0||L8(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(a[1]-n[1],a[0]-n[0])),c=Math.abs(Math.atan2(a[0]-n[0],a[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(t/2*(1/Math.sin(l/2)))-t/2||0,yExtra:Math.cos(c-l/2)*(t/2*(1/Math.sin(l/2)))-t/2||0};return f}function bfe(e){var t=e.attr(),r=t.path,n=t.stroke,a=n?t.lineWidth:0,i=e.get("segments")||kj(r),o=yfe(i,a),s=o.x,l=o.y,u=o.width,c=o.height,f={minX:s,minY:l,maxX:s+u,maxY:l+c};return f=Rk(e,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function wfe(e){var t=e.attr(),r=t.x1,n=t.y1,a=t.x2,i=t.y2,o=Math.min(r,a),s=Math.max(r,a),l=Math.min(n,i),u=Math.max(n,i),c={minX:o,maxX:s,minY:l,maxY:u};return c=Rk(e,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function Efe(e){var t=e.attr(),r=t.x,n=t.y,a=t.rx,i=t.ry;return{x:r-a,y:n-i,width:a*2,height:i*2}}Ll("rect",pj);Ll("image",pj);Ll("circle",gj);Ll("marker",gj);Ll("polyline",ife);Ll("polygon",ofe);Ll("text",ufe);Ll("path",bfe);Ll("line",wfe);Ll("ellipse",Efe);var _fe=function(e){jr(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.item=n.item,a.canvasX=n.canvasX,a.canvasY=n.canvasY,a.wheelDelta=n.wheelDelta,a.detail=n.detail,a}return t}(UG),uC=function(t){return"".concat(t,"-").concat(Math.random()).concat(Date.now())},$k=function(t){if(wr(t))switch(t.length){case 4:return t;case 3:return t.push(t[1]),t;case 2:return t.concat(t);case 1:return[t[0],t[0],t[0],t[0]];default:return[0,0,0,0]}if(pr(t))return[t,t,t,t];if(Lt(t)){var r=parseInt(t,10);return[r,r,r,r]}return[0,0,0,0]},xfe=function(t){var r=new _fe(t.type,t);return r.clientX=t.clientX,r.clientY=t.clientY,r.x=t.x,r.y=t.y,r.target=t.target,r.currentTarget=t.currentTarget,r.bubbles=!0,r.item=t.item,r},Sfe=function(t){if(!t)return!1;for(var r=9,n=[1,0,0,0,1,0,0,0,1],a=0;a<r;a++)if(t[a]!==n[a])return!0;return!1},ul=function(t){return Number.isNaN(Number(t))},Aj=function(t){for(var r=1/0,n=-1/0,a=1/0,i=-1/0,o=0;o<t.length;o++){var s=t[o],l=s.getBBox(),u=l.minX,c=l.minY,f=l.maxX,d=l.maxY;u<r&&(r=u),c<a&&(a=c),f>n&&(n=f),d>i&&(i=d)}var h=Math.floor(r),v=Math.floor(a),p=Math.ceil(n)-Math.floor(r),m=Math.ceil(i)-Math.floor(a);return{x:h,y:v,width:p,height:m,minX:r,minY:a,maxX:n,maxY:i}},Cfe=function(t,r,n,a,i){r===void 0&&(r=15),n===void 0&&(n="quadratic"),a===void 0&&(a=void 0),i===void 0&&(i=void 0);for(var o=t.length,s=r*2,l=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},c=[],f={},d=0;d<o;d++){var h=t[d],v=h.source,p=h.target,m="".concat(v,"-").concat(p);if(!c[d]){u[m]||(u[m]=[]),c[d]=!0,u[m].push(h);for(var g=0;g<o;g++)if(d!==g){var b=t[g],y=b.source,w=b.target;c[g]||(v===w&&p===y?(u[m].push(b),c[g]=!0,f["".concat(y,"|").concat(w,"|").concat(u[m].length-1)]=!0):v===y&&p===w&&(u[m].push(b),c[g]=!0))}}}for(var _ in u)for(var x=u[_],S=x.length,C=0;C<S;C++){var T=x[C];if(T.source===T.target){i&&(T.type=i),T.loopCfg={position:l[C%8],dist:Math.floor(C/8)*20+50};continue}if(S===1&&a&&T.source!==T.target){T.type=a;continue}T.type=n;var M=(C%2===0?1:-1)*(f["".concat(T.source,"|").concat(T.target,"|").concat(C)]?-1:1);S%2===1?T.curveOffset=M*Math.ceil(C/2)*s:T.curveOffset=M*(Math.floor(C/2)*s+r)}return t};const Mfe=Object.freeze(Object.defineProperty({__proto__:null,calculationItemsBBox:Aj,cloneEvent:xfe,formatPadding:$k,isNaN:ul,isViewportChanged:Sfe,processParallelEdges:Cfe,uniqueId:uC},Symbol.toStringTag,{value:"Module"}));var ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ka(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nl(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Vc={};const Tfe=Nl(Qse);Object.defineProperty(Vc,"__esModule",{value:!0});var Tc=Tfe;function Ij(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return Tc.mat3.fromTranslation(n,r),Tc.mat3.multiply(e,n,t)}Vc.leftTranslate=Ij;function Oj(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return Tc.mat3.fromRotation(n,r),Tc.mat3.multiply(e,n,t)}Vc.leftRotate=Oj;function Lj(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return Tc.mat3.fromScaling(n,r),Tc.mat3.multiply(e,n,t)}Vc.leftScale=Lj;function kfe(e,t,r){return Tc.mat3.multiply(e,r,t)}function Afe(e,t){for(var r=e?[].concat(e):[1,0,0,0,1,0,0,0,1],n=0,a=t.length;n<a;n++){var i=t[n];switch(i[0]){case"t":Ij(r,r,[i[1],i[2]]);break;case"s":Lj(r,r,[i[1],i[2]]);break;case"r":Oj(r,r,i[1]);break;case"m":kfe(r,r,i[1]);break}}return r}var GD=Vc.transform=Afe;function Nj(e,t){return e[0]*t[1]-t[0]*e[1]}Vc.direction=Nj;function Ife(e,t,r){var n=Tc.vec2.angle(e,t),a=Nj(e,t)>=0;return r?a?Math.PI*2-n:n:a?n:Math.PI*2-n}Vc.angleTo=Ife;function Ofe(e,t,r){return r?(e[0]=t[1],e[1]=-1*t[0]):(e[0]=-1*t[1],e[1]=t[0]),e}Vc.vertical=Ofe;var Lfe=function(){function e(t){this.destroyed=!1,this.graph=t,this.destroyed=!1}return e.prototype.getViewCenter=function(){var t=this.getFormatPadding(),r=this.graph,n=this.graph.get("width"),a=r.get("height");return{x:(n-t[1]-t[3])/2+t[3],y:(a-t[0]-t[2])/2+t[0]}},e.prototype.fitCenter=function(t,r){var n=this.graph,a=n.get("group"),i,o=n.getNodes();if(o.length>n.get("optimizeThreshold")){var s=1/0,l=1/0,u=-1/0,c=-1/0;o.forEach(function(w){var _=w.getModel(),x=_.x,S=_.y;s>x&&(s=x),l>S&&(l=S),u<x&&(u=x),c<S&&(c=S)});var f=a.getMatrix()||[1,0,0,0,1,0,0,0,1],d=Lh({x:s,y:l},f),h=d.x,v=d.y,p=Lh({x:u,y:c},f),m=p.x,g=p.y;i={minX:h,maxX:m,minY:v,maxY:g,width:m-h,height:g-v,x:h,y:v}}else i=a.getCanvasBBox();if(!(i.width===0||i.height===0)){var b=this.getViewCenter(),y={x:i.x+i.width/2,y:i.y+i.height/2};n.translate(b.x-y.x,b.y-y.y,t,r)}},e.prototype.animatedFitView=function(t,r,n,a,i,o,s,l){var u=this.graph;n=n||{duration:500,easing:"easeCubic"};var c=[1,0,0,0,1,0,0,0,1],f=a.x+i.x-o.x-a.minX,d=a.y+i.y-o.y-a.minY;if(!(ul(f)||ul(d))){var h=GD(c,[["t",f,d]]);if(!l){var v=$g({animateCfg:n,callback:function(){u.emit("viewportchange",{action:"translate",matrix:h})}});t.animate(function(w){return{matrix:zS(r,h,w)}},v);return}var p=u.get("minZoom"),m=u.get("maxZoom"),g=s;p&&s<p?(g=p,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")):m&&s>m&&(g=m,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph maxzoom has been used instead"));var b=GD(h,[["t",-i.x,-i.y],["s",g,g],["t",i.x,i.y]]),y=$g({animateCfg:n,callback:function(){t.setMatrix(b),u.emit("viewportchange",{action:"translate",matrix:h}),u.emit("viewportchange",{action:"zoom",matrix:b})}});t.stopAnimate(),t.setMatrix(r),t.animate(function(w){return{matrix:zS(r,b,w)}},y)}},e.prototype.fitView=function(t,r){var n=this.graph,a=this.getFormatPadding(),i=n.get("width"),o=n.get("height"),s=n.get("group"),l=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var u,c=n.getNodes();if(c.length>n.get("optimizeThreshold")){var f=1/0,d=1/0,h=-1/0,v=-1/0;c.forEach(function(x){var S=x.getModel(),C=S.x,T=S.y;f>C&&(f=C),d>T&&(d=T),h<C&&(h=C),v<T&&(v=T)}),u={minX:f,maxX:h,minY:d,maxY:v,width:h-f,height:v-d,x:f,y:d}}else u=s.getCanvasBBox();if(!(u.width===0||u.height===0)){var p=this.getViewCenter(),m={x:u.x+u.width/2,y:u.y+u.height/2},g=(i-a[1]-a[3])/u.width,b=(o-a[0]-a[2])/u.height,y=g;if(g>b&&(y=b),t)this.animatedFitView(s,l,r,u,p,m,y,!0);else{var w=p.x-m.x,_=p.y-m.y;if(ul(w)||ul(_))return;n.translate(w,_),n.zoom(y,p)||console.warn("zoom failed, ratio out of range, ratio: %f",y)}}},e.prototype.fitViewByRules=function(t,r,n){var a=t.onlyOutOfViewPort,i=a===void 0?!1:a,o=t.direction,s=o===void 0?"both":o,l=t.ratioRule,u=l===void 0?"min":l,c=this.graph,f=this.getFormatPadding(),d=c.get("width"),h=c.get("height"),v=c.get("group"),p=v.getMatrix()||[1,0,0,0,1,0,0,0,1];v.resetMatrix();var m,g=c.getNodes();if(g.length>c.get("optimizeThreshold")){var b=1/0,y=1/0,w=-1/0,_=-1/0;g.forEach(function(P){var R=P.getModel(),N=R.x,L=R.y;b>N&&(b=N),y>L&&(y=L),w<N&&(w=N),_<L&&(_=L)}),m={minX:b,maxX:w,minY:y,maxY:_,width:w-b,height:_-y,x:b,y}}else m=v.getCanvasBBox();if(!(m.width===0||m.height===0)){var x=this.getViewCenter(),S={x:m.x+m.width/2,y:m.y+m.height/2},C=(d-f[1]-f[3])/m.width,T=(h-f[0]-f[2])/m.height,M;if(s==="x"?M=C:s==="y"?M=T:M=u==="max"?Math.max(C,T):Math.min(C,T),i&&(M=M<1?M:1),r)this.animatedFitView(v,p,n,m,x,S,M,!0);else{var k=c.getZoom(),A=k*M,O=c.get("minZoom");A<O&&(A=O,console.warn("fitview failed, ratio out of range, ratio: %f",M,"graph minzoom has been used instead")),c.translate(x.x-S.x,x.y-S.y),c.zoomTo(A,x)}}},e.prototype.getFormatPadding=function(){var t=this.graph.get("fitViewPadding");return $k(t)},e.prototype.focusPoint=function(t,r,n){var a=this,i=this.getViewCenter(),o=this.getPointByCanvas(i.x,i.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),r){var l=(o.x-t.x)*s[0],u=(o.y-t.y)*s[4],c=0,f=0,d=0,h=0;this.graph.get("canvas").animate(function(v){d=l*v,h=u*v,a.graph.translate(d-c,h-f),c=d,f=h},ee({},n))}else this.graph.translate((o.x-t.x)*s[0],(o.y-t.y)*s[4])},e.prototype.getPointByCanvas=function(t,r){var n=this.graph.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=CG({x:t,y:r},n);return a},e.prototype.getPointByClient=function(t,r){var n=this.graph.get("canvas"),a=n.getPointByClient(t,r);return this.getPointByCanvas(a.x,a.y)},e.prototype.getClientByPoint=function(t,r){var n=this.graph.get("canvas"),a=this.getCanvasByPoint(t,r),i=n.getClientByPoint(a.x,a.y);return{x:i.x,y:i.y}},e.prototype.getCanvasByPoint=function(t,r){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),Lh({x:t,y:r},n)},e.prototype.focus=function(t,r,n){if(Lt(t)&&(t=this.graph.findById(t)),t){var a=0,i=0;if(t.getType&&t.getType()==="edge"){var o=t.getSource().get("group").getMatrix(),s=t.getTarget().get("group").getMatrix();o&&s?(a=(o[6]+s[6])/2,i=(o[7]+s[7])/2):(o||s)&&(a=o?o[6]:s[6],i=o?o[7]:s[7])}else{var l=t.get("group"),u=l.getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),a=u[6],i=u[7]}this.focusPoint({x:a,y:i},r,n)}},e.prototype.focusItems=function(t,r,n,a){if(t.length){var i=this.graph,o=this.getFormatPadding(),s=i.get("width"),l=i.get("height"),u=i.get("group"),c=u.getMatrix()||[1,0,0,0,1,0,0,0,1];u.resetMatrix();for(var f={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},d=0,h=t;d<h.length;d++){var v=h[d],p=v.getBBox();p.minX<f.minX&&(f.minX=p.minX),p.minY<f.minY&&(f.minY=p.minY),p.maxX>f.maxX&&(f.maxX=p.maxX),p.maxY>f.maxY&&(f.maxY=p.maxY)}if(f.x=f.minX,f.y=f.minY,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY,!(f.width===0||f.height===0)){var m=this.getViewCenter(),g={x:f.x+f.width/2,y:f.y+f.height/2},b=(s-o[1]-o[3])/f.width,y=(l-o[0]-o[2])/f.height,w=b;b>y&&(w=y),n?this.animatedFitView(u,c,a,f,m,g,w,r):(i.translate(m.x-g.x,m.y-g.y),r&&!i.zoom(w,m)&&console.warn("zoom failed, ratio out of range, ratio: %f",w))}}},e.prototype.changeSize=function(t,r){var n=this.graph;if(!pr(t)||!pr(r))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:t,height:r});var a=n.get("canvas");a.changeSize(t,r);var i=n.get("plugins");i.forEach(function(o){o.get("gridContainer")&&o.positionInit()})},e.prototype.destroy=function(){this.graph=null,this.destroyed=!1},e}();function cC(e){"@babel/helpers - typeof";return cC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cC(e)}function jD(e){if(typeof e!="string")return e;var t=function(S){if(typeof S!="string")return S;try{return JSON.parse(S.trim())}catch{return S.trim()}},r=t(e);if(typeof r!="string")return r;for(var n=function(S){return S[S.length-1]},a=e.trim(),i=[],o=[],s=function(){for(var S=[],C=0;C<arguments.length;C++)S[C]=arguments[C];return S.some(function(T){return n(o)===T})},l=function(){return n(i)},u=null,c=0,f="";c<a.length;){var d=a[c],h=s('"',"'");if(!h&&!d.trim()){c+=1;continue}var v=a[c-1]==="\\",p=s("}"),m=s("]"),g=s(","),b=l();if(h)if(n(o)===d&&!v){o.pop();var y=t(f);b.push(y),u=y,f=""}else f+=d;else if(m&&d===",")f&&(b.push(t(f)),f="");else if(p&&d===":")o.push(","),f&&(b.push(f),f="");else if(g&&d===",")f&&(b.push(t(f)),f=""),o.pop();else if(d==="}"&&(p||g)){f&&(b.push(t(f)),f=""),g&&o.pop();for(var w={},_=1;_<b.length;_+=2)w[b[_-1]]=b[_];i.pop(),i.length&&n(i).push(w),o.pop(),u=w}else d==="]"&&m?(f&&(b.push(t(f)),f=""),i.pop(),i.length&&n(i).push(b),o.pop(),u=b):d==="{"?(i.push([]),o.push("}")):d==="["?(i.push([]),o.push("]")):d==='"'?o.push('"'):d==="'"?o.push("'"):f+=d;c+=1}return u||f}var Nfe=function(t){return t.split("-").reduce(function(r,n){return r+n.charAt(0).toUpperCase()+n.slice(1)})},Pfe=function(t){return function(r){for(var n=t.length,a=[],i=0,o="";i<n;)if(t[i]==="{"&&t[i+1]==="{")a.push(o),o="",i+=2;else if(t[i]==="}"&&t[i+1]==="}"){if(a.length){var s=a.pop();o=Zl(r,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),a.push(s+o)}i+=2,o=""}else o+=t[i],i+=1;return a.push(o),a.map(function(l,u){return a[u-1]&&a[u-1].endsWith("=")?'"{'.concat(l,'}"'):l}).join("")}};function Pj(e,t){var r={},n=e.getAttributeNames&&e.getAttributeNames()||[],a=e.children&&Array.from(e.children).map(function(s){return Pj(s,t)}),i={},o=e.tagName?e.tagName.toLowerCase():"group";return o==="text"&&(r.text=e.innerText),i.type=o,o==="img"&&(i.type="image"),Array.from(n).forEach(function(s){var l=Nfe(s),u=e.getAttribute(s);try{if(l==="style"||l==="attrs"){var c=jD(u);r=ee(ee({},r),c)}else i[l]=jD(u)}catch(f){if(l==="style")throw f;i[l]=u}}),i.attrs=r,t&&t.style&&i.name&&cC(t.style[i.name])==="object"&&(i.attrs=ee(ee({},i.attrs),t.style[i.name])),t&&t.style&&i.keyshape&&(i.attrs=ee(ee({},i.attrs),t.style)),a.length&&(i.children=a),i}function Dfe(e,t,r){var n=e.attrs,a=n===void 0?{}:n,i={x:t.x||0,y:t.y||0,width:r.width||0,height:r.height||0},o,s;switch(e.type){case"maker":case"circle":a.r&&(s=2*a.r,o=2*a.r);break;case"text":a.text&&(s=$G(a.text,a.fontSize||12)[0],o=16,i.y+=o,i.height=o,i.width=s,e.attrs=ee({fontSize:12,fill:"#000"},a));break;default:a.width&&(s=a.width),a.height&&(o=a.height)}return o>=0&&(i.height=o),s>=0&&(i.width=s),a.marginTop&&(i.y+=a.marginTop),a.marginLeft&&(i.x+=a.marginLeft),i}function Dj(e,t){var r;t===void 0&&(t={x:0,y:0});var n=ee({x:0,y:0,width:0,height:0},t);if(!((r=e.children)===null||r===void 0)&&r.length){var a=e.attrs,i=a===void 0?{}:a,o=i.marginTop,s=ee({},t);o&&(s.y+=o);for(var l=0;l<e.children.length;l++){e.children[l].attrs.key="".concat(i.key||"root"," -").concat(l," ");var u=Dj(e.children[l],s);if(u.bbox){var c=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,c.width+c.x>n.width&&(n.width=c.width+c.x),c.height+c.y>n.height&&(n.height=c.height+c.y)}}}return e.bbox=Dfe(e,t,n),e.attrs=ee(ee({},e.attrs),e.bbox),e}function Rj(e,t){var r,n,a,i,o=(e||{}).type,s=((t==null?void 0:t.attrs)||{}).key;if(s&&e&&(e.attrs.key=s),!e&&t)return{action:"delete",val:t,type:o,key:s};if(e&&!t)return{action:"add",val:e,type:o};if(!e&&!t)return{action:"same",type:o};var l=[];if(((r=e.children)===null||r===void 0?void 0:r.length)>0||((n=t.children)===null||n===void 0?void 0:n.length)>0)for(var u=Math.max((a=e.children)===null||a===void 0?void 0:a.length,(i=t.children)===null||i===void 0?void 0:i.length),c=t.children||[],f=e.children||[],d=0;d<u;d+=1)l.push(Rj(f[d],c[d]));var h=Object.keys(t.attrs),v=Object.keys(e.attrs);return t.type!==e.type?{action:"restructure",nowTarget:e,formerTarget:t,key:s,children:l}:h.filter(function(p){return p!=="children"}).some(function(p){return e.attrs[p]!==t.attrs[p]||!v.includes(p)})?{action:"change",val:e,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function VD(e){var t={},r=function(a){var i=typeof e=="function"?e(a):e,o=Pfe(i)(a),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=Dj(Pj(l,a));return s.remove(),u};return{draw:function(a,i){var o=r(a),s=i,l=function u(c){var f=c.attrs,d=f===void 0?{}:f,h=c.bbox,v=c.type,p=c.children,m=Ga(c,["attrs","bbox","type","children"]);if(c.type!=="group"){var g=i.addShape(c.type,ee({attrs:d,origin:{bbox:h,type:v,children:p}},m));c.keyshape&&(s=g)}c.children&&c.children.forEach(function(b){return u(b)})};return l(o),t[a.id]=[o],s},update:function(a,i){t[a.id]||(t[a.id]=[]);var o=i.getContainer(),s=o.get("children"),l=r(a),u=t[a.id].pop(),c=Rj(l,u),f=function v(p){var m;p.type!=="group"&&o.addShape(p.type,{attrs:p.attrs}),!((m=p.children)===null||m===void 0)&&m.length&&p.children.map(function(g){return v(g)})},d=function v(p){var m,g=s.find(function(b){return b.attrs.key===p.attrs.key});g&&o.removeChild(g),!((m=p.children)===null||m===void 0)&&m.length&&p.children.map(function(b){return v(b)})},h=function v(p){var m=p.key;if(p.type!=="group"){var g=s.find(function(y){return y.attrs.key===m});switch(p.action){case"change":if(g){var b=p.val.keyshape?i.getOriginStyle():{};g.attr(ee(ee({},b),p.val.attrs))}break;case"add":f(p.val);break;case"delete":d(p.val);break;case"restructure":d(p.formerTarget),f(p.nowTarget);break}}p.children&&p.children.forEach(function(y){return v(y)})};h(c),t[a.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var W_={};function UD(e){return W_[e]||(W_[e]=Xh(e)),W_[e]}var Rfe={defaultShapeType:"defaultType",className:null,getShape:function(t){var r=this,n=r[t]||r[r.defaultShapeType]||r["simple-circle"];return n},draw:function(t,r,n){var a=this.getShape(t);n.shapeMap={};var i=a.draw(r,n);return a.afterDraw&&a.afterDraw(r,n,i),i},baseUpdate:function(t,r,n,a){var i,o,s=this.getShape(t);s.update&&(s.mergeStyle=(i=s.getOptions)===null||i===void 0?void 0:i.call(s,r,a),(o=s.update)===null||o===void 0||o.call(s,r,n,a)),s.afterUpdate&&s.afterUpdate(r,n)},setState:function(t,r,n,a){var i=this.getShape(t);i.setState(r,n,a)},shouldUpdate:function(t){var r=this.getShape(t);return!!r.update},getControlPoints:function(t,r){var n=this.getShape(t);return n.getControlPoints(r)},getAnchorPoints:function(t,r){var n=this.getShape(t);return n.getAnchorPoints(r)}},H_={options:{},draw:function(t,r){return this.drawShape(t,r)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var r=this.options.anchorPoints,n=t.anchorPoints||r;return n}},Gn=function(){function e(){}return e.registerFactory=function(t,r){var n=UD(t),a=Rfe,i=ee(ee({},a),r);return e[n]=i,i.className=n,i},e.getFactory=function(t){var r=UD(t);return e[r]},e.registerNode=function(t,r,n){var a=e.Node,i;if(typeof r=="string"||typeof r=="function"){var o=VD(r);i=ee(ee({},a.getShape("single-node")),o)}else if(r.jsx){var s=r.jsx,o=VD(s);i=ee(ee(ee({},a.getShape("single-node")),o),r)}else{a.getShape(n);var l=n?a.getShape(n):H_;i=ee(ee({},l),r)}return i.type=t,i.itemType="node",a[t]=i,i},e.registerEdge=function(t,r,n){var a=e.Edge,i=n?a.getShape(n):H_,o=ee(ee({},i),r);return o.type=t,o.itemType="edge",a[t]=o,o},e.registerCombo=function(t,r,n){var a=e.Combo,i=n?a.getShape(n):H_,o=ee(ee({},i),r);return o.type=t,o.itemType="combo",a[t]=o,o},e}();Gn.registerFactory("node",{defaultShapeType:"circle"});Gn.registerFactory("edge",{defaultShapeType:"line"});Gn.registerFactory("combo",{defaultShapeType:"circle"});var Y_="bboxCache",K_="bboxCanvasCache",$j=function(){function e(t){this._cfg={},this.destroyed=!1,this.optimize=!1;var r={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(r,this.getDefaultCfg(),t);var n=this.get("model"),a=n.id,i=this.get("type");typeof a>"u"?a=uC(i):typeof a!="string"&&(a=String(a)),this.get("model").id=a,this.set("id",a);var o=t.group;o&&(o.set("item",this),o.set("id",a)),this.init(),this.draw();var s=n.shape||n.type||(i==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var c=this.get("styles")||n.stateStyles;c=zn({},u.stateStyles,c),this.set("styles",c)}}}return e.prototype.calculateBBox=function(){var t=this.get("keyShape"),r=this.get("group"),n=Bb(t,r);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),r=this.get("group"),n=Bb(t,r);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},e.prototype.drawInner=function(){var t=this,r=t.get("shapeFactory"),n=t.get("group"),a=t.get("model");n.clear();var i=a.visible;if(i!==void 0&&!i&&t.changeVisibility(i),!!r){t.updatePosition(a);var o=t.getShapeCfg(a),s=o.type,l=r.draw(s,o,n);l&&(t.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(r,s)}},e.prototype.setOriginStyle=function(){var t=this.get("group"),r=t.get("children"),n=this.getKeyShape(),a=this,i=n.get("name");if(this.get("originStyle")){var h=this.get("originStyle");i&&!h[i]&&(h[i]={});for(var v=this.getCurrentStatesStyle(),p=function(g){var b=r[g],y=b.get("name"),w=b.attr();if(y&&y!==i){var _=v[y];h[y]||(h[y]={}),_?Object.keys(w).forEach(function(C){var T=w[C];T!==_[C]&&(h[y][C]=T)}):h[y]=b.get("type")!=="image"?un(w):a.getShapeStyleByName(y)}else{var x=b.attr(),S={};Object.keys(v).forEach(function(C){var T=v[C];(C===i||!ii(T))&&(S[C]=T)}),Object.keys(x).forEach(function(C){var T=x[C];S[C]!==T&&(i?h[i][C]=T:h[C]=T)})}},s=0;s<r.length;s++)p(s);delete h.path,delete h.matrix,delete h.x,delete h.y,h[i]&&(delete h[i].x,delete h[i].y,delete h[i].matrix,delete h[i].path),a.set("originStyle",h)}else{for(var o={},s=0;s<r.length;s++){var l=r[s],u=l.get("type"),c=l.get("name");if(c&&c!==i)o[c]=u!=="image"?un(l.attr()):a.getShapeStyleByName(c),u==="text"&&o[c]&&(delete o[c].x,delete o[c].y,delete o[c].matrix);else{var f=a.getShapeStyleByName();if(delete f.path,delete f.matrix,!i)Object.assign(o,f);else if(c)o[i]=f;else{var d=uC("shape");l.set("name",d),t.shapeMap[d]=l,o[d]=u!=="image"?un(l.attr()):a.getShapeStyleByName(c)}}}a.set("originStyle",o)}},e.prototype.restoreStates=function(t,r){var n=this,a=n.get("states");pt(a,function(i){t.setState(r,i,!0,n)})},e.prototype.init=function(){var t=Gn.getFactory(this.get("type"));this.set("shapeFactory",t)},e.prototype.get=function(t){return this._cfg[t]},e.prototype.set=function(t,r){ii(t)?this._cfg=ee(ee({},this._cfg),t):this._cfg[t]=r},e.prototype.getDefaultCfg=function(){return{}},e.prototype.clearCache=function(){this.set(Y_,null),this.set(K_,null)},e.prototype.beforeDraw=function(){},e.prototype.afterDraw=function(){},e.prototype.afterUpdate=function(){},e.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},e.prototype.getShapeStyleByName=function(t){var r=this.get("group"),n;if(t?n=r.shapeMap[t]||r.find(function(i){return i.get("name")===t}):n=this.getKeyShape(),n){var a={};return pt(n.attr(),function(i,o){(o!=="img"||Lt(i))&&(a[o]=i)}),a}return{}},e.prototype.getShapeCfg=function(t,r){var n=this.get("styles");if(n){var a=t;return a.style=ee(ee({},n),t.style),a}return t},e.prototype.getStateStyle=function(t){var r=this.get("styles"),n=r&&r[t];return n},e.prototype.getOriginStyle=function(){return this.get("originStyle")},e.prototype.getCurrentStatesStyle=function(){var t=this,r={},n=t.getStates();return!n||!n.length?this.get("originStyle"):(pt(t.getStates(),function(a){r=Object.assign(r,t.getStateStyle(a))}),r)},e.prototype.setState=function(t,r){var n=this.get("states"),a=this.get("shapeFactory"),i=t,o=t;Lt(r)&&(i="".concat(t,":").concat(r),o="".concat(t,":"));var s=n;if(S0(r)){var l=n.indexOf(o);if(r){if(l>-1)return;n.push(i)}else l>-1&&n.splice(l,1)}else if(Lt(r)){var u=n.filter(function(d){return d.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(d){return!d.includes(o)}),s.push(i),this.set("states",s)}if(a){var c=this.get("model"),f=c.type;a.setState(f,t,r,this)}},e.prototype.clearStates=function(t){var r=this,n=r.getStates(),a=r.get("shapeFactory"),i=r.get("model"),o=i.type;t||(t=n),Lt(t)&&(t=[t]);var s=n.filter(function(l){return t.indexOf(l)===-1});r.set("states",s),t.forEach(function(l){a.setState(o,l,!1,r)})},e.prototype.setOptimize=function(t){this.optimize=t},e.prototype.getContainer=function(){return this.get("group")},e.prototype.getKeyShape=function(){return this.get("keyShape")},e.prototype.getModel=function(){return this.get("model")},e.prototype.getType=function(){return this.get("type")},e.prototype.getID=function(){return this.get("id")},e.prototype.isItem=function(){return!0},e.prototype.getStates=function(){return this.get("states")},e.prototype.hasState=function(t){var r=this.getStates();return r.indexOf(t)>=0},e.prototype.refresh=function(t){var r=this.get("model");this.updatePosition(r),this.updateShape(t),this.afterUpdate(),this.clearCache()},e.prototype.getUpdateType=function(t){},e.prototype.update=function(t,r){r===void 0&&(r=void 0);var n=this.get("model");if(r==="move")this.updatePosition(t);else{var a=n.visible,i=t.visible;a!==i&&i!==void 0&&this.changeVisibility(i);var o={x:n.x,y:n.y};t.x=isNaN(+t.x)?n.x:+t.x,t.y=isNaN(+t.y)?n.y:+t.y;var s=this.get("styles");if(t.stateStyles){var l=t.stateStyles;Cr(s,l),delete t.stateStyles}Object.assign(n,t),(o.x!==t.x||o.y!==t.y)&&this.updatePosition(t),this.updateShape(r)}this.afterUpdate(),this.clearCache()},e.prototype.updateShape=function(t){var r=this.get("shapeFactory"),n=this.get("model"),a=n.type;if(r.shouldUpdate(a)&&a===this.get("currentShape")){var i=this.getShapeCfg(n,t);r.baseUpdate(a,i,this,t),t!=="move"&&this.setOriginStyle()}else this.draw();this.restoreStates(r,a)},e.prototype.updatePosition=function(t){var r=this.get("model"),n=isNaN(+t.x)?+r.x:+t.x,a=isNaN(+t.y)?+r.y:+t.y,i=this.get("group");if(isNaN(n)||isNaN(a))return!1;r.x=n,r.y=a;var o=i.getMatrix();return o&&o[6]===n&&o[7]===a?!1:(i.resetMatrix(),MG(i,{x:n,y:a}),this.clearCache(),!0)},e.prototype.getBBox=function(){var t=this.get(Y_);return t||(t=this.calculateBBox(),this.set(Y_,t)),t},e.prototype.getCanvasBBox=function(){var t=this.get(K_);return t||(t=this.calculateCanvasBBox(),this.set(K_,t)),t},e.prototype.toFront=function(){var t=this.get("group");t.toFront()},e.prototype.toBack=function(){var t=this.get("group");t.toBack()},e.prototype.show=function(){this.changeVisibility(!0)},e.prototype.hide=function(){this.changeVisibility(!1)},e.prototype.changeVisibility=function(t){var r=this.get("group");t?r.show():r.hide(),this.set("visible",t)},e.prototype.isVisible=function(){return this.get("visible")},e.prototype.enableCapture=function(t){var r=this.get("group");r&&r.set("capture",t)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),r=this.get("group");t&&r.stopAnimate(),r.shapeMap={},this.clearCache(),r.remove(),this._cfg=null,this.destroyed=!0}},e}(),vy={source:"start",target:"end"},Qs="Node",Yd="Point",$fe="Anchor",Bj=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},t.prototype.setEnd=function(r,n){var a=vy[r]+Yd,i=r+Qs,o=this.get(i);o&&!o.destroyed&&o.removeEdge(this),ii(n)?(this.set(a,n),this.set(i,null)):n&&(n.addEdge(this),this.set(i,n),this.set(a,null))},t.prototype.getLinkPoint=function(r,n,a){var i=vy[r]+Yd,o=r+Qs,s=this.get(i);if(!s){var l=this.get(o),u=r+$fe,c=this.getPrePoint(r,a),f=n[u];hr(f)||(s=l.getLinkPointByAnchor(f)),s=s||l.getLinkPoint(c),hr(s.index)||this.set("".concat(r,"AnchorIndex"),s.index)}return s},t.prototype.getPrePoint=function(r,n){if(n&&n.length){var a=r==="source"?0:n.length-1;return n[a]}var i=r==="source"?"target":"source";return this.getEndPoint(i)},t.prototype.getEndPoint=function(r){var n=r+Qs,a=vy[r]+Yd,i=this.get(n);return i&&!i.destroyed?i.get("model"):this.get(a)},t.prototype.getControlPointsByCenter=function(r){var n=this.getEndPoint("source"),a=this.getEndPoint("target"),i=this.get("shapeFactory"),o=r.type;return i.getControlPoints(o,{startPoint:n,endPoint:a})},t.prototype.getEndCenter=function(r){var n=r+Qs,a=vy[r]+Yd,i=this.get(n);if(i){var o=i.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(a)},t.prototype.init=function(){e.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},t.prototype.getShapeCfg=function(r,n){var a=this,i=a.get("linkCenter"),o=n!=null&&n.includes("move")?r:e.prototype.getShapeCfg.call(this,r);if(i)o.startPoint=a.getEndCenter("source"),o.endPoint=a.getEndCenter("target");else{var s=o.controlPoints||a.getControlPointsByCenter(o);o.startPoint=a.getLinkPoint("source",r,s),o.endPoint=a.getLinkPoint("target",r,s)}return o.sourceNode=a.get("sourceNode"),o.targetNode=a.get("targetNode"),o},t.prototype.getModel=function(){var r=this.get("model"),n=this.get("source".concat(Qs)),a=this.get("target".concat(Qs));return n?delete r["source".concat(Qs)]:r.source=this.get("start".concat(Yd)),a?delete r["target".concat(Qs)]:r.target=this.get("end".concat(Yd)),!Lt(r.source)&&!ii(r.source)&&(r.source=r.source.getID()),!Lt(r.target)&&!ii(r.target)&&(r.target=r.target.getID()),r},t.prototype.setSource=function(r){this.setEnd("source",r),this.set("source",r)},t.prototype.setTarget=function(r){this.setEnd("target",r),this.set("target",r)},t.prototype.getSource=function(){return this.get("source")},t.prototype.getTarget=function(){return this.get("target")},t.prototype.updatePosition=function(){return!1},t.prototype.update=function(r,n){n===void 0&&(n=void 0);var a=this.get("model"),i=a.visible,o=r.visible;i!==o&&o!==void 0&&this.changeVisibility(o);var s=this.get("source"),l=this.get("target");if(!(!s||s.destroyed||!l||l.destroyed)){var u=this.get("styles");if(r.stateStyles){var c=r.stateStyles;Cr(u,c),delete r.stateStyles}Object.assign(a,r),this.updateShape(n),this.afterUpdate(),this.clearCache()}},t.prototype.destroy=function(){var r=this.get("source".concat(Qs)),n=this.get("target".concat(Qs));r&&!r.destroyed&&r.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),e.prototype.destroy.call(this)},t}($j),X_="anchorPointsCache",Bfe="bboxCache",Bk=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getNearestPoint=function(r,n){for(var a=0,i=r[0],o=Rb(r[0],n),s=0;s<r.length;s++){var l=r[s],u=Rb(l,n);u<o&&(i=l,o=u,a=s)}return i.anchorIndex=a,i},t.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getInEdges=function(){var r=this;return this.get("edges").filter(function(n){return n.get("target")===r})},t.prototype.getOutEdges=function(){var r=this;return this.get("edges").filter(function(n){return n.get("source")===r})},t.prototype.getNeighbors=function(r){var n=this,a=this.get("edges");if(r==="target"){var i=function(u){return u.getSource()===n};return a.filter(i).map(function(l){return l.getTarget()})}if(r==="source"){var o=function(u){return u.getTarget()===n};return a.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===n?u.getTarget():u.getSource()};return a.map(s)},t.prototype.getLinkPointByAnchor=function(r){var n=this.getAnchorPoints();return n[r]},t.prototype.getLinkPoint=function(r){var n=this.get("keyShape"),a=n.get("type"),i=this.get("type"),o,s,l=this.getBBox();i==="combo"?(o=l.centerX||(l.maxX+l.minX)/2,s=l.centerY||(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),c;switch(a){case"circle":c=xG({x:o,y:s,r:l.width/2},r);break;case"ellipse":c=SG({x:o,y:s,rx:l.width/2,ry:l.height/2},r);break;default:c=_G(l,r)}var f=c;return u.length&&(f||(f=r),f=this.getNearestPoint(u,f)),f||(f={x:o,y:s}),f},t.prototype.getAnchorPoints=function(){var r=this.get(X_);if(!r){r=[];var n=this.get("shapeFactory"),a=this.getBBox(),i=this.get("model"),o=this.getShapeCfg(i),s=i.type,l=n.getAnchorPoints(s,o)||[];pt(l,function(u,c){var f={x:a.minX+u[0]*a.width,y:a.minY+u[1]*a.height,anchorIndex:c};r.push(f)}),this.set(X_,r)}return r},t.prototype.addEdge=function(r){this.get("edges").push(r)},t.prototype.lock=function(){this.set("locked",!0)},t.prototype.unlock=function(){this.set("locked",!1)},t.prototype.hasLocked=function(){return this.get("locked")},t.prototype.removeEdge=function(r){var n=this.getEdges(),a=n.indexOf(r);a>-1&&n.splice(a,1)},t.prototype.clearCache=function(){this.set(Bfe,null),this.set(X_,null)},t.prototype.getUpdateType=function(r){var n,a,i,o,s;if(r){var l=!hr(r.x),u=!hr(r.y),c=Object.keys(r);if(c.length===1&&(l||u)||c.length===2&&l&&u)return"move";if(pr(r.x)||pr(r.y)||r.type||r.anchorPoints||r.size||r!=null&&r.style&&(!((n=r==null?void 0:r.style)===null||n===void 0)&&n.r||!((a=r==null?void 0:r.style)===null||a===void 0)&&a.width||!((i=r==null?void 0:r.style)===null||i===void 0)&&i.height||!((o=r==null?void 0:r.style)===null||o===void 0)&&o.rx||!((s=r==null?void 0:r.style)===null||s===void 0)&&s.ry))return"bbox|label";var f=c.includes("label")||c.includes("labelCfg");return f?"style|label":"style"}},t.prototype.setState=function(r,n){var a=this;if(this.optimize){e.prototype.setState.call(this,r,n);return}this.runWithBBoxAffected(function(){return e.prototype.setState.call(a,r,n)})},t.prototype.clearStates=function(r){var n=this;if(this.optimize){e.prototype.clearStates.call(this,r);return}this.runWithBBoxAffected(function(){return e.prototype.clearStates.call(n,r)})},t.prototype.runWithBBoxAffected=function(r){var n=["r","width","height","rx","ry","lineWidth"],a=this.getKeyShape().attr(),i={};Object.keys(this.getKeyShape().attr()).forEach(function(u){n.includes(u)&&(i[u]=a[u])}),r();for(var o=this.getKeyShape().attr(),s=0;s<n.length;s++){var l=n[s];if(o[l]!==i[l]){this.clearCache(),this.getEdges().forEach(function(u){return u.refresh()});break}}},t}($j),WD="bboxCache",HD="bboxCanvasCache",py="sizeCache",YD="anchorPointsCache",Fj=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},t.prototype.getShapeCfg=function(r){var n=this.get("styles"),a=this.get("bbox");if(n&&a){var i=r,o=pr(r.size)?[r.size,r.size]:r.size,s=pr(r.fixSize)?[r.fixSize,r.fixSize]:r.fixSize,l=o||s||dr.defaultCombo.size,u={r:(Math.max(a.width,a.height)||Math.max(l[0],l[1]))/2,width:a.width||l[0],height:a.height||l[1]};i.style=ee(ee(ee({},n),r.style),u);var c=r.padding||dr.defaultCombo.padding;return pr(c)?(u.r+=c,u.width+=c*2,u.height+=c*2):(u.r=u.r+Math.max.apply(Math,c),u.width+=c[1]+c[3]||c[1]*2,u.height+=c[0]+c[2]||c[0]*2),this.set(py,u),i}return r},t.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var r=this.get("keyShape"),n=this.get("group"),a=this.get(WD)||{},i=a.x,o=a.x,s=this.get(py),l=Bb(r,n);if(l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,s){s.width=Math.max(s.width,l.width),s.height=Math.max(s.height,l.height),this.set(py,s);var u=r.get("type");u==="circle"?(l.width=s.r*2,l.height=s.r*2):(l.width=s.width,l.height=s.height),l.minX=l.centerX-l.width/2,l.minY=l.centerY-l.height/2,l.maxX=l.centerX+l.width/2,l.maxY=l.centerY+l.height/2}else l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2;return l.x=l.minX,l.y=l.minY,(l.x!==i||l.y!==o)&&this.set(YD,null),l}},t.prototype.getChildren=function(){var r=this;return{nodes:r.getNodes(),combos:r.getCombos()}},t.prototype.getNodes=function(){var r=this;return r.get("nodes")},t.prototype.getCombos=function(){var r=this;return r.get("combos")},t.prototype.addChild=function(r){var n=this,a=r.getType();switch(a){case"node":n.addNode(r);break;case"combo":n.addCombo(r);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.addCombo=function(r){var n=this;return n.get("combos").push(r),!0},t.prototype.addNode=function(r){var n=this;return n.get("nodes").push(r),!0},t.prototype.removeChild=function(r){var n=this,a=r.getType();switch(a){case"node":n.removeNode(r);break;case"combo":n.removeCombo(r);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},t.prototype.removeCombo=function(r){if(r){var n=this.getCombos(),a=n.indexOf(r);return a>-1?(n.splice(a,1),!0):!1}},t.prototype.removeNode=function(r){if(r){var n=this.getNodes(),a=n.indexOf(r);return a>-1?(n.splice(a,1),!0):!1}},t.prototype.getUpdateType=function(r){},t.prototype.getBBox=function(){this.set(HD,null);var r=this.calculateCanvasBBox();return r},t.prototype.clearCache=function(){this.set(WD,null),this.set(HD,null),this.set(YD,null)},t.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),n=this.get("group");r&&n.stopAnimate(),n.shapeMap={},this.clearCache(),this.set(py,null),this.set("bbox",null),n.remove(),this._cfg=null,this.destroyed=!0}},t}(Bk),gy="node",my="edge",KD="vedge",dp="combo",Ffe="default",XD="Mapper",jl="stateStyles",zfe=function(){function e(t){var r=this;this.edgeToBeUpdateMap={},this.throttleRefresh=Ng(function(n){var a=r.graph;if(!(!a||a.get("destroyed"))){var i=r.edgeToBeUpdateMap;if(i){var o=Object.values(i);o.length&&(o.forEach(function(s){var l=s.edge;if(!(!l||l.destroyed)){var u=l.getSource(),c=l.getTarget();!u||u.destroyed||!c||c.destroyed||l.refresh(s.updateType)}}),r.edgeToBeUpdateMap={})}}},16,{trailing:!0,leading:!0}),this.graph=t,this.destroyed=!1}return e.prototype.addItem=function(t,r){var n=this.graph,a=t===KD?my:t,i=n.get("".concat(a,"Group"))||n.get("group"),o=Xh(a),s=null,l=n.get(a+Xh(jl))||{},u=n.get(Ffe+o);r[jl]&&(l=r[jl]),u&&pt(u,function(x,S){si(x)&&!wr(x)?r[S]=zn({},x,r[S]):wr(x)?r[S]=r[S]||un(u[S]):r[S]=r[S]||u[S]});var c=n.get(a+XD);if(c){var f=c(r);f[jl]&&(l=f[jl],delete f[jl]),pt(f,function(x,S){si(x)&&!wr(x)?r[S]=zn({},r[S],x):r[S]=f[S]||r[S]})}if(n.emit("beforeadditem",{type:t,model:r}),t===my||t===KD){var d=void 0,h=void 0;if(d=r.source,h=r.target,d&&Lt(d)&&(d=n.findById(d)),h&&Lt(h)&&(h=n.findById(h)),!d||!h){console.warn("The source or target node of edge ".concat(r.id," does not exist!"));return}d.getType&&d.getType()==="combo"&&(r.isComboEdge=!0),h.getType&&h.getType()==="combo"&&(r.isComboEdge=!0),s=new Bj({model:r,source:d,target:h,styles:l,linkCenter:n.get("linkCenter"),group:i.addGroup()})}else if(t===gy)s=new Bk({model:r,styles:l,group:i.addGroup()});else if(t===dp){var v=r.children,p=I1(v,n),m=void 0,g=void 0;if(isNaN(p.x)?isNaN(r.x)&&(m=Math.random()*100):m=p.x,isNaN(p.y)?isNaN(r.y)&&(g=Math.random()*100):g=p.y,isNaN(r.x)||isNaN(r.y))r.x=m,r.y=g;else{var b=r.x-m,y=r.y-g;this.updateComboSucceeds(r.id,b,y,v)}var w=i.addGroup();w.setZIndex(r.depth),s=new Fj({model:r,styles:l,animate:n.get("animate"),bbox:r.collapsed?I1([],n):p,group:w}),!r.collapsed&&s.getKeyShape().get("type")==="circle"&&(p.width=Math.hypot(p.height,p.width),p.height=p.width,s.set("bbox",p),s.refresh());var _=s.getModel();(v||[]).forEach(function(x){var S=n.findById(x.id);s.addChild(S),x.depth=_.depth+2})}if(s)return s.setOptimize(n.getNodes().length>n.get("optimizeThreshold")),n.get("".concat(t,"s")).push(s),n.get("itemMap")[s.get("id")]=s,n.emit("afteradditem",{item:s,model:r}),s},e.prototype.updateItem=function(t,r){var n=this,a,i,o=this.graph;if(Lt(t)&&(t=o.findById(t)),!(!t||t.destroyed)){var s="";t.getType&&(s=t.getType());var l=o.get(s+XD),u=t.getModel(),c=u.x,f=u.y,d=t.getUpdateType(r);if(l){var h=zn({},u,r),v=l(h),p=zn({},u,v,r);v[jl]&&(t.set("styles",p[jl]),delete p[jl]),pt(p,function(M,k){r[k]=M})}else pt(r,function(M,k){u[k]&&si(M)&&!wr(M)&&(r[k]=ee(ee({},u[k]),r[k]))});if(o.emit("beforeupdateitem",{item:t,cfg:r}),s===my){if(r.source){var m=r.source;Lt(m)&&(m=o.findById(m)),t.setSource(m)}if(r.target){var g=r.target;Lt(g)&&(g=o.findById(g)),t.setTarget(g)}t.update(r)}else if(s===gy){t.update(r,d);var b=t.getEdges();d==="move"?pt(b,function(M){n.edgeToBeUpdateMap[M.getID()]={edge:M,updateType:d},n.throttleRefresh()}):d!=null&&d.includes("bbox")&&pt(b,function(M){M.refresh(d)})}else if(s===dp){if(t.update(r,d),!isNaN(r.x)||!isNaN(r.y)){var y=r.x-c||0,w=r.y-f||0;this.updateComboSucceeds(u.id,y,w)}var _=t.getEdges(),x=(d==null?void 0:d.includes("bbox"))||d==="move";if(x&&s===dp){var S=t.get("shapeFactory"),C=u.type||"circle",T=u.animate===void 0||r.animate===void 0?(i=(a=S[C])===null||a===void 0?void 0:a.options)===null||i===void 0?void 0:i.animate:u.animate||r.animate;T?setTimeout(function(){if(!(!t||t.destroyed)){var M=t.getKeyShape();!M||M.destroyed||pt(_,function(k){k&&!k.destroyed&&k.refresh()})}},201):pt(_,function(M){M.refresh()})}}t.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:t,cfg:r})}},e.prototype.updateCombo=function(t,r,n){var a=this,i,o,s=this.graph;if(Lt(t)&&(t=s.findById(t)),!(!t||t.destroyed)){var l=t.getModel(),u=I1(r,s,t),c=u.x,f=u.y;t.set("bbox",u);var d=c,h=f;n?(d=isNaN(l.x)?c:l.x,h=isNaN(l.y)?f:l.y):(d=isNaN(c)?l.x:c,h=isNaN(f)?l.y:f),t.update({x:d,y:h});var v=t.get("shapeFactory"),p=l.type||"circle",m=l.animate===void 0?(o=(i=v[p])===null||i===void 0?void 0:i.options)===null||o===void 0?void 0:o.animate:l.animate;m?setTimeout(function(){if(!(!t||t.destroyed)){var g=t.getKeyShape();!g||g.destroyed||(t.getShapeCfg(l),a.updateComboEdges(t))}},201):this.updateComboEdges(t)}},e.prototype.updateComboEdges=function(t){for(var r,n,a=t.getEdges()||[],i=0;i<a.length;i++){var o=a[i];!(o!=null&&o.destroyed)&&!(!((r=o==null?void 0:o.getSource())===null||r===void 0)&&r.destroyed)&&!(!((n=o==null?void 0:o.getTarget())===null||n===void 0)&&n.destroyed)&&o.refresh()}},e.prototype.collapseCombo=function(t,r){r===void 0&&(r=!0);var n=this.graph;Lt(t)&&(t=n.findById(t));var a=t.getChildren();a.nodes.forEach(function(i){n.hideItem(i,r)}),a.combos.forEach(function(i){n.hideItem(i,r)})},e.prototype.updateComboSucceeds=function(t,r,n,a){var i=this;a===void 0&&(a=[]);var o=this.graph;if(!(!r&&!n)){var s=a;if(!(s!=null&&s.length)){var l=o.get("comboTrees");l==null||l.forEach(function(u){xi(u,function(c){return c.id===t?(s=c.children,!1):!0})})}s==null||s.forEach(function(u){var c=o.findById(u.id);if(c){var f=c.getModel();i.updateItem(u.id,{x:(f.x||0)+r,y:(f.y||0)+n})}})}},e.prototype.expandCombo=function(t,r){r===void 0&&(r=!0);var n=this.graph;Lt(t)&&(t=n.findById(t));var a=t.getChildren(),i=new Set;a.nodes.forEach(function(o){n.showItem(o,r),o.getEdges().forEach(function(s){return i.add(s)})}),a.combos.forEach(function(o){o.getModel().collapsed?o.show():n.showItem(o,r),o.getEdges().forEach(function(s){return i.add(s)})}),i.forEach(function(o){return o.refresh()})},e.prototype.removeItem=function(t){var r=this,n=this.graph;if(Lt(t)&&(t=n.findById(t)),!(!t||t.destroyed)){var a=un(t.getModel()),i="";t.getType&&(i=t.getType()),n.emit("beforeremoveitem",{item:a,type:i});var o=n.get("".concat(i,"s")),s=o.indexOf(t);if(s>-1&&o.splice(s,1),i===my){var l=n.get("v".concat(i,"s")),u=l.indexOf(t);u>-1&&l.splice(u,1)}var c=t.get("id"),f=n.get("itemMap");delete f[c];var d=n.get("comboTrees"),h=t.get("id");if(i===gy){var v=t.getModel().comboId;if(d&&v){var p=d,m=!1;d.forEach(function(x){m||xi(x,function(S){if(S.id===h&&p){var C=p.indexOf(S);return p.splice(C,1),m=!0,!1}return p=S.children,!0})})}for(var g=t.getEdges(),b=g.length-1;b>=0;b--)n.removeItem(g[b],!1);v&&n.updateCombo(v)}else if(i===dp){var y=t.getModel().parentId,w,_=!1;(d||[]).forEach(function(S){_||xi(S,function(C){return C.id===h?(w=C,_=!0,!1):!0})}),w.removed=!0,w&&w.children&&w.children.forEach(function(S){r.removeItem(S.id)});for(var g=t.getEdges(),b=g.length;b>=0;b--)n.removeItem(g[b],!1);y&&n.updateCombo(y)}t.destroy(),n.emit("afterremoveitem",{item:a,type:i})}},e.prototype.setItemState=function(t,r,n){var a=this.graph,i=r;Lt(n)&&(i="".concat(r,":").concat(n)),!(t.hasState(i)===n&&n||Lt(n)&&t.hasState(i))&&(a.emit("beforeitemstatechange",{item:t,state:i,enabled:n}),t.setState(r,n),a.autoPaint(),a.emit("afteritemstatechange",{item:t,state:i,enabled:n}))},e.prototype.priorityState=function(t,r){var n=this.graph,a=t;Lt(t)&&(a=n.findById(t)),this.setItemState(a,r,!1),this.setItemState(a,r,!0)},e.prototype.clearItemStates=function(t,r){var n=this.graph;Lt(t)&&(t=n.findById(t)),n.emit("beforeitemstatesclear",{item:t,states:r}),t.clearStates(r),n.emit("afteritemstatesclear",{item:t,states:r})},e.prototype.refreshItem=function(t){var r=this.graph;Lt(t)&&(t=r.findById(t)),r.emit("beforeitemrefresh",{item:t}),t.refresh(),r.emit("afteritemrefresh",{item:t})},e.prototype.addCombos=function(t,r){var n=this,a=this.graph;(t||[]).forEach(function(o){il(o,function(s){var l;return r.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&n.addItem("combo",l),!0})});var i=a.get("comboGroup");i&&i.sort()},e.prototype.changeItemVisibility=function(t,r){var n=this,a=this.graph;if(Lt(t)&&(t=a.findById(t)),!t){console.warn("The item to be shown or hidden does not exist!");return}if(a.emit("beforeitemvisibilitychange",{item:t,visible:r}),t.changeVisibility(r),t.getType&&t.getType()===gy){var i=t.getEdges();pt(i,function(c){r&&!(c.get("source").isVisible()&&c.get("target").isVisible())||n.changeItemVisibility(c,r)})}else if(t.getType&&t.getType()===dp){var o=a.get("comboTrees"),s=t.get("id"),l=[],u=!1;(o||[]).forEach(function(f){u||!f.children||f.children.length===0||xi(f,function(d){return d.id===s?(l=d.children,u=!0,!1):!0})}),l&&(!r||r&&!t.getModel().collapsed)&&l.forEach(function(f){var d=a.findById(f.id);n.changeItemVisibility(d,r)});var i=t.getEdges();pt(i,function(f){r&&!(f.get("source").isVisible()&&f.get("target").isVisible())||n.changeItemVisibility(f,r)})}return a.emit("afteritemvisibilitychange",{item:t,visible:r}),t},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),Gfe=function(){function e(t){this.graph=t,this.destroyed=!1}return e.prototype.updateState=function(t,r,n){var a=this.graph.get("states"),i=r;Lt(n)&&(i="".concat(r,":").concat(n)),a[i]||(a[i]=[]),n?a[i].push(t):a[i]=a[i].filter(function(o){return o!==t}),this.graph.set("states",a),this.graph.emit("graphstatechange",{states:a})},e.prototype.updateStates=function(t,r,n){var a=this.graph.get("states"),i=Lt(r)?[r]:r;i.forEach(function(o){var s=o;a[s]||(a[s]=[]),Lt(n)&&(s="".concat(o,":").concat(n)),n?a[s].push(t):a[s]=a[s].filter(function(l){return l!==t})}),this.graph.set("states",a),this.graph.emit("graphstatechange",{states:r})},e.prototype.destroy=function(){this.graph=null,this.destroyed=!0},e}(),jfe=function(t,r){return!t||!r?t:t.replace(/\\?\{([^{}]+)\}/g,function(n,a){if(n.charAt(0)==="\\")return n.slice(1);var i=r[a];return i===0&&(i="0"),i||""})},zj=function(t){var r=[];if(t.length<2)throw new Error("point length must largn than 2, now it's ".concat(t.length));for(var n=0,a=t;n<a.length;n++){var i=a[n],o=i.x,s=i.y;r.push(o),r.push(s)}var l=Mj(r);return l.unshift(["M",t[0].x,t[0].y]),l},Ub=function(t,r,n,a){n===void 0&&(n=0),a===void 0&&(a=0);var i={x:(1-n)*t.x+n*r.x,y:(1-n)*t.y+n*r.y},o=[0,0];bc(o,[r.x-t.x,r.y-t.y]),(!o||!o[0]&&!o[1])&&(o=[0,0]);var s=[-o[1]*a,o[0]*a];return i.x+=s[0],i.y+=s[1],i},Vfe=function(t,r){var n=t.length;if(!n)return"";for(var a="",i="",o=0;o<n;o++){var s=t[o];o===0?i="M{x} {y}":i="L{x} {y}",a+=jfe(i,s)}return r&&(a+="Z"),a},fC=function(t){var r=[];return t.forEach(function(n){var a=n[0];if(a!=="A")for(var i=1;i<n.length;i=i+2)r.push([n[i],n[i+1]]);else{var o=n.length;r.push([n[o-2],n[o-1]])}}),r},dC=function(t){if(t.length<2)throw new Error("point length must larger than 2, now it's ".concat(t.length));var r=t[0],n=t[1],a=t[t.length-1],i=t[t.length-2];t.unshift(a),t.unshift(i),t.push(r),t.push(n);for(var o=[],s=1;s<t.length-2;s+=1){var l=t[s-1].x,u=t[s-1].y,c=t[s].x,f=t[s].y,d=t[s+1].x,h=t[s+1].y,v=s!==t.length-2?t[s+2].x:d,p=s!==t.length-2?t[s+2].y:h,m=c+(d-l)/6,g=f+(h-u)/6,b=d-(v-c)/6,y=h-(p-f)/6;o.push(["C",m,g,b,y,d,h])}return o.unshift(["M",a.x,a.y]),o},qD=function(t,r){return Ci([0,0],bc([0,0],t),r)},ZD=function(t,r){var n=[t[1]-r[1],r[0]-t[0]],a=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(a===0)throw new Error("p0 should not be equal to p1");return[n[0]/a,n[1]/a]},QD=function(t,r){return[r[0]-t[0],r[1]-t[1]]};function hC(e,t){var r=function(f){var d=[f[0][0],f[0][1]-t],h=[f[0][0],f[0][1]+t];return"M ".concat(d," A ").concat(t,",").concat(t,",0,0,0,").concat(h," A ").concat(t,",").concat(t,",0,0,0,").concat(d)},n=function(f){var d=Ci([0,0],ZD(f[0],f[1]),t),h=Ci([0,0],d,-1),v=ai([0,0],f[0],d),p=ai([0,0],f[1],d),m=ai([0,0],f[1],h),g=ai([0,0],f[0],h);return"M ".concat(v," L ").concat(p," A ").concat([t,t,"0,0,0",m].join(",")," L ").concat(g," A ").concat([t,t,"0,0,0",v].join(","))};if(!e||e.length<1)return"";if(e.length===1)return r(e);if(e.length===2)return n(e);for(var a=new Array(e.length),i=0;i<a.length;++i){var o=i===0?e[e.length-1]:e[i-1],s=e[i],l=Ci([0,0],ZD(o,s),t);a[i]=[ai([0,0],o,l),ai([0,0],s,l)]}var u="A ".concat([t,t,"0,0,0,"].join(","));return a=a.map(function(c,f){var d="";return f===0&&(d="M ".concat(a[a.length-1][1]," ")),d+="".concat(u+c[0]," L ").concat(c[1]),d}),a.join(" ")}function Gj(e,t){var r=e.length,n=function(c){var f=[c[0][0],c[0][1]-t],d=[c[0][0],c[0][1]+t];return"M ".concat(f," A ").concat([t,t,"0,0,0",d].join(",")," A ").concat([t,t,"0,0,0",f].join(","))},a=function(c){var f=QD(c[0],c[1]),d=qD(f,t),h=ai([0,0],c[0],Ci([0,0],d,-1)),v=ai([0,0],c[1],d),p=1.2*t,m=qD(bc([0,0],f),p),g=Ci([0,0],m,-1),b=ai([0,0],h,g),y=ai([0,0],v,g),w=ai([0,0],h,m);return"M ".concat(h," C ").concat([b,y,v].join(",")," S ").concat([w,h].join(",")," Z")};if(!e||r<1)return"";if(r===1)return n(e);if(r===2)return a(e);for(var i=e.map(function(u,c){var f=e[(c+1)%r];return{p:u,v:bc([0,0],QD(u,f))}}),o=0;o<i.length;++o){var s=o>0?o-1:r-1,l=bc([0,0],ai([0,0],i[s].v,Ci([0,0],i[o].v,-1)));i[o].p=ai([0,0],i[o].p,Ci([0,0],l,t))}return i.map(function(u){var c=u.p;return{x:c[0],y:c[1]}})}var Ufe=function(t,r){for(var n=[],a=0;a<5;a++){var i=Math.cos((18+72*a)/180*Math.PI)*t,o=Math.sin((18+72*a)/180*Math.PI)*t,s=Math.cos((54+72*a)/180*Math.PI)*r,l=Math.sin((54+72*a)/180*Math.PI)*r;a===0?n.push(["M",i,-o]):n.push(["L",i,-o]),n.push(["L",s,-l])}return n.push(["Z"]),n};const Wfe=Object.freeze(Object.defineProperty({__proto__:null,getClosedSpline:dC,getControlPoint:Ub,getSpline:zj,getStarPath:Ufe,paddedHull:Gj,pathToPoints:fC,pointsToPolygon:Vfe,roundedHull:hC},Symbol.toStringTag,{value:"Module"}));var JD=function(t,r,n){return(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y)},e3=function(t){var r=t.map(function(f){return{x:f.getModel().x,y:f.getModel().y}});r.sort(function(f,d){return f.x===d.x?f.y-d.y:f.x-d.x});for(var n={},a=r.length-1;a>=0;a--){var i=r[a],o=i.x,s=i.y;n["".concat(o,"-").concat(s)]&&r.splice(a,1),n["".concat(o,"-").concat(s)]=!0}if(r.length===1)return r;for(var l=[],a=0;a<r.length;a++){for(;l.length>=2&&JD(l[l.length-2],l[l.length-1],r[a])<=0;)l.pop();l.push(r[a])}for(var u=[],a=r.length-1;a>=0;a--){for(;u.length>=2&&JD(u[u.length-2],u[u.length-1],r[a])<=0;)u.pop();u.push(r[a])}u.pop(),l.pop();var c=l.concat(u);return c},Hfe={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Yfe(e,t,r){var n=!1,a=function(l,u){return t.cells[l+u*t.width]},i=function(l,u){var c=0;return a(l-1,u-1)>=r&&(c+=1),a(l,u-1)>r&&(c+=2),a(l-1,u)>r&&(c+=4),a(l,u)>r&&(c+=8),c},o=function(l,u){for(var c=l,f=u,d,h,v=0;v<t.width*t.height;v++){if(d=c,h=f,e.findIndex(function(m){return m.x===c&&m.y===f})>-1){if(!(e[0].x!==c||e[0].y!==f))return!0}else e.push({x:c,y:f});var p=i(c,f);switch(p){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:c++;break;case 12:case 14:case 4:c--;break;case 6:d===0&&(h===-1?c-=1:c+=1);break;case 1:case 13:case 5:f--;break;case 9:d===1&&(h===0?f-=1:f+=1);break;case 10:case 8:case 11:f++;break;default:return console.warn("Marching squares invalid state: ".concat(p)),!0}}};this.march=function(){for(var s=0;s<t.width&&!n;s+=1)for(var l=0;l<t.height&&!n;l+=1)a(s,l)>r&&i(s,l)!==15&&(n=o(s,l));return n}}var Kfe=function(t,r,n){var a=Math.ceil(t/n),i=Math.ceil(r/n),o=new Float32Array(Math.max(0,a*i)).fill(0);return{cells:o,width:a,height:i}},Xfe=function(t,r,n){var a=null,i=Number.POSITIVE_INFINITY;return r.forEach(function(o){var s={x:t.getModel().x,y:t.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=$b(s,l),c=new nd(s.x,s.y,l.x,l.y),f=n.reduce(function(d,h){return Tk(h,c)>0?d+1:d},0);u*Math.pow(f+1,2)<i&&(a=o,i=u*Math.pow(f+1,2))}),a},jj=function(t,r){var n=Number.POSITIVE_INFINITY,a=null;return t.forEach(function(i){var o=Tk(i,r);o>=0&&o<n&&(a=i,n=o)}),a},qfe=function(t,r,n,a){var i=[],o=[];o.push(t);for(var s=!0,l=0,u=function(h,v){var p=!1;return v.forEach(function(m){p||(FS(h,{x:m.x1,y:m.y1})||FS(h,{x:m.x2,y:m.y2}))&&(p=!0)}),p},c=function(h,v){for(var p=0,m=v;p<m.length;p++){var g=m[p],b=g.getBBox(),y=[[b.x,b.y],[b.x+b.width,b.y],[b.x,b.y+b.height],[b.x+b.width,b.y+b.height]];if(Rg(y,h.x,h.y))return!0}return!1};s&&l<n;){s=!1;for(var f=function(){var h=o.pop(),v=jj(r,h);if(v){var p=AG(v,h),m=p[0],g=p[1];if(g===2){var b=function(w){for(var _=a,x=t3(v,_,m,w),S=u(x,o)||u(x,i),C=c(x,r);!S&&C&&_>=1;)_/=1.5,x=t3(v,_,m,w),S=u(x,o)||u(x,i),C=c(x,r);x&&!S&&(!w||!C)&&(o.push(new nd(h.x1,h.y1,x.x,x.y)),o.push(new nd(x.x,x.y,h.x2,h.y2)),s=!0)};b(!0),s||b(!1)}}s||i.push(h),l+=1};!s&&o.length;)f()}for(;o.length;)i.push(o.pop());return i};function Zfe(e,t,r,n,a){var i=Xfe(e,r,t);if(i===null)return[];var o=function(f){for(var d=[];f.length>0;){var h=f.pop();if(f.length===0){d.push(h);break}var v=f.pop(),p=new nd(h.x1,h.y1,v.x2,v.y2),m=jj(t,p);m?(d.push(h),f.push(v)):f.push(p)}return d},s=new nd(e.getModel().x,e.getModel().y,i.getModel().x,i.getModel().y),l=qfe(s,t,n,a),u=o(l);return u}var Qfe=function(t,r,n){var a=Object.assign(Hfe,n),i=IG(t.map(function(b){return{x:b.getModel().x,y:b.getModel().y}}));t=t.sort(function(b,y){return $b({x:b.getModel().x,y:b.getModel().y},i)-$b({x:y.getModel().x,y:y.getModel().y},i)});var o=[],s=[];t.forEach(function(b){var y=Zfe(b,r,o,a.maxRoutingIterations,a.morphBuffer);y.forEach(function(w){s.push(w)}),o.push(b)});for(var l=Jfe(t,s,a.nodeR0),u=Kfe(l.width,l.height,a.pixelGroupSize),c=[],f=[],d=0;d<a.maxMarchingIterations;d++)if(ede(t,r,s,l,u,a),c=[],f=[],!!new Yfe(c,u,a.threshold).march()){var h=c.map(function(b){return{x:Math.round(b.x*a.pixelGroupSize+l.minX),y:Math.round(b.y*a.pixelGroupSize+l.minY)}});if(h){var v=h.length;if(a.skip>1)for(v=Math.floor(h.length/a.skip);v<3&&a.skip>1;)a.skip-=1,v=Math.floor(h.length/a.skip);for(var p=0,m=0;m<v;m+=1,p+=a.skip)f.push({x:h[p].x,y:h[p].y})}var g=function(){for(var y=0,w=t;y<w.length;y++){var _=w[y],x=f.map(function(S){return[S.x,S.y]});if(!Rg(x,_.getBBox().centerX,_.getBBox().centerY))return!1}return!0};if(f&&g())return f;if(a.threshold*=.9,d<=a.maxMarchingIterations*.5)a.memberInfluenceFactor*=1.2,a.edgeInfluenceFactor*=1.2;else if(a.nonMemberInfluenceFactor!==0&&r.length>0)a.nonMemberInfluenceFactor*=.8;else break}return f};function Jfe(e,t,r){var n={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},a=[];e.forEach(function(l){a.push(l.getBBox())}),t.forEach(function(l){a.push(l.getBBox())});for(var i=0,o=a;i<o.length;i++){var s=o[i];n.minX=(s.minX<n.minX?s.minX:n.minX)-r,n.minY=(s.minY<n.minY?s.minY:n.minY)-r,n.maxX=(s.maxX>n.maxX?s.maxX:n.maxX)+r,n.maxY=(s.maxY>n.maxY?s.maxY:n.maxY)+r}return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.x=n.minX,n.y=n.minY,n}function ede(e,t,r,n,a,i){function o(h,v){var p=Math.floor((h-v)/i.pixelGroupSize);return p<0?0:p}function s(h,v){return h*i.pixelGroupSize+v}var l=(i.nodeR0-i.nodeR1)*(i.nodeR0-i.nodeR1),u=(i.edgeR0-i.edgeR1)*(i.edgeR0-i.edgeR1),c=function(v,p){var m=Math.min(o(v.minX,p+n.minX),a.width),g=Math.min(o(v.minY,p+n.minY),a.height),b=Math.min(o(v.maxX,-p+n.minX),a.width),y=Math.min(o(v.maxY,-p+n.minY),a.height);return[m,g,b,y]},f=function(v,p){for(var m=v.getBBox(),g=c(m,i.nodeR1),b=g[0],y=g[1],w=g[2],_=g[3],x=y;x<_;x+=1)for(var S=b;S<w;S+=1)if(!(p<0&&a[S+x*a.width]<=0)){var C=s(S,n.minX),T=s(x,n.minY),M=LG({x:C,y:T},{x:m.minX,y:m.minY,width:m.width,height:m.height});if(M<Math.pow(i.nodeR1,2)){var k=Math.sqrt(M)-i.nodeR1;a.cells[S+x*a.width]+=p*k*k}}},d=function(v,p){for(var m=v.getBBox(),g=c(m,i.edgeR1),b=g[0],y=g[1],w=g[2],_=g[3],x=y;x<_;x+=1)for(var S=b;S<w;S+=1)if(!(p<0&&a.cells[S+x*a.width]<=0)){var C=s(S,n.minX),T=s(x,n.minY),M=OG({x:C,y:T},v);if(M<Math.pow(i.edgeR1,2)){var k=Math.sqrt(M)-i.edgeR1;a.cells[S+x*a.width]+=p*k*k}}};i.nodeInfluenceFactor&&e.forEach(function(h){f(h,i.nodeInfluenceFactor/l)}),i.edgeInfluenceFactor&&r.forEach(function(h){d(h,i.edgeInfluenceFactor/u)}),i.negativeNodeInfluenceFactor&&t.forEach(function(h){f(h,i.negativeNodeInfluenceFactor/l)})}function t3(e,t,r,n){var a=e.getBBox(),i=r[0],o=r[1],s=r[2],l=r[3],u={topLeft:{x:a.minX-t,y:a.minY-t},topRight:{x:a.maxX+t,y:a.minY-t},bottomLeft:{x:a.minX-t,y:a.maxY+t},bottomRight:{x:a.maxX+t,y:a.maxY+t}},c=a.height*a.width;function f(v,p){return a.width*((v.y-a.minY+(p.y-a.minY))*.5)}if(o){if(i)return n?u.topLeft:u.bottomRight;if(s)return n?u.bottomLeft:u.topRight;var d=f(o,l);return d<c*.5?o.y>l.y?n?u.topLeft:u.bottomRight:n?u.topRight:u.bottomLeft:o.y<l.y?n?u.bottomLeft:u.topRight:n?u.bottomRight:u.topLeft}if(l){if(i)return n?u.topRight:u.bottomLeft;if(s)return n?u.bottomRight:u.topLeft}var h=f(i,s);return h<c*.5?i.x>s.x?n?u.topLeft:u.bottomRight:n?u.bottomLeft:u.topRight:i.x<s.x?n?u.topRight:u.bottomLeft:n?u.bottomRight:u.topLeft}var Vj=function(){function e(t,r){this.cfg=zn(this.getDefaultCfg(),r),this.graph=t,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(n){return Lt(n)?t.findById(n):n}),this.nonMembers=this.cfg.nonMembers.map(function(n){return Lt(n)?t.findById(n):n}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return e.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},e.prototype.setPadding=function(){var t=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+t:10+t,this.cfg.bubbleCfg={nodeR0:this.padding-t,nodeR1:this.padding-t,morphBuffer:this.padding-t}},e.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},e.prototype.calcPath=function(t,r){var n,a,i;switch(this.type){case"round-convex":n=e3(t),i=hC(n.map(function(o){return[o.x,o.y]}),this.padding),a=oC(i);break;case"smooth-convex":n=e3(t),n.length===2?(i=hC(n.map(function(o){return[o.x,o.y]}),this.padding),a=oC(i)):n.length>2&&(i=Gj(n.map(function(o){return[o.x,o.y]}),this.padding),a=dC(i));break;case"bubble":n=Qfe(t,r,this.cfg.bubbleCfg),a=n.length>=2&&dC(n);break}return a},e.prototype.render=function(){this.group.addShape("path",{attrs:ee({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},e.prototype.addMember=function(t){if(t){Lt(t)&&(t=this.graph.findById(t)),this.members.push(t);var r=this.nonMembers.indexOf(t);return r>-1&&this.nonMembers.splice(r,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.addNonMember=function(t){if(t){Lt(t)&&(t=this.graph.findById(t)),this.nonMembers.push(t);var r=this.members.indexOf(t);return r>-1&&this.members.splice(r,1),this.updateData(this.members,this.nonMembers),!0}},e.prototype.removeMember=function(t){if(t){Lt(t)&&(t=this.graph.findById(t));var r=this.members.indexOf(t);return r>-1?(this.members.splice(r,1),this.updateData(this.members,this.nonMembers),!0):!1}},e.prototype.removeNonMember=function(t){if(t){Lt(t)&&(t=this.graph.findById(t));var r=this.nonMembers.indexOf(t);return r>-1?(this.nonMembers.splice(r,1),this.updateData(this.members,this.nonMembers),!0):!1}},e.prototype.updateData=function(t,r){var n=this;this.group.findById(this.id).remove(),t&&(this.members=t.map(function(a){return Lt(a)?n.graph.findById(a):a})),r&&(this.nonMembers=r.map(function(a){return Lt(a)?n.graph.findById(a):a})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.updateStyle=function(t){var r=this.group.findById(this.id);r.attr(ee({},t))},e.prototype.updateCfg=function(t){var r=this;this.cfg=zn(this.cfg,t),this.id=this.cfg.id,this.group=this.cfg.group,t.members&&(this.members=this.cfg.members.map(function(n){return Lt(n)?r.graph.findById(n):n})),t.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(n){return Lt(n)?r.graph.findById(n):n})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},e.prototype.contain=function(t){var r=this,n;Lt(t)?n=this.graph.findById(t):n=t;var a,i=n.getKeyShape();if(n.get("type")==="path")a=fC(i.attr("path"));else{var o=i.getCanvasBBox();a=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return a=a.map(function(s){var l=r.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),kG(a,fC(this.path))},e.prototype.destroy=function(){this.group.remove(),this.cfg=null},e}(),hp=vs,tde="node",Uj=function(e){jr(t,e);function t(r){var n=e.call(this)||this;return n.sortCombos=C0(function(){var a=n.get("comboSorted");if(!(!n||n.destroyed||a)){n.set("comboSorted",!0);var i=[],o={},s=n.get("comboTrees");(s||[]).forEach(function(u){xi(u,function(c){return i[c.depth]?i[c.depth].push(c.id):i[c.depth]=[c.id],o[c.id]=c.depth,!0})});var l=n.getEdges().concat(n.get("vedges"));(l||[]).forEach(function(u){var c=u.getModel(),f=o[c.source]||0,d=o[c.target]||0,h=Math.max(f,d);i[h]?i[h].push(c.id):i[h]=[c.id]}),i.forEach(function(u){if(!(!u||!u.length))for(var c=u.length-1;c>=0;c--){var f=n.findById(u[c]);f&&f.toFront()}})}},500,!1),n.cfg=zn(n.getDefaultCfg(),r),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new Eh(n.cfg.maxStep),n.redoStack=new Eh(n.cfg.maxStep)),n}return t.prototype.init=function(){this.initCanvas();var r=new Lfe(this),n=new Kle(this),a=new zfe(this),i=new Gfe(this);this.set({viewController:r,modeController:n,itemController:a,stateController:i}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},t.prototype.initGroups=function(){var r=this.get("canvas");if(r){var n=r.get("el"),a=(n||{}).id,i=a===void 0?"g6":a,o=r.addGroup({id:"".concat(i,"-root"),className:dr.rootContainerClassName});if(this.get("groupByTypes")){var s=o.addGroup({id:"".concat(i,"-edge"),className:dr.edgeContainerClassName}),l=o.addGroup({id:"".concat(i,"-node"),className:dr.nodeContainerClassName}),u=o.addGroup({id:"".concat(i,"-combo"),className:dr.comboContainerClassName});u.toBack(),this.set({nodeGroup:l,edgeGroup:s,comboGroup:u})}var c=o.addGroup({id:"".concat(i,"-delegate"),className:dr.delegateContainerClassName});this.set({delegateGroup:c}),this.set("group",o)}},t.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},t.prototype.set=function(r,n){return ii(r)?this.cfg=ee(ee({},this.cfg),r):this.cfg[r]=n,r==="enabledStack"&&n&&!this.undoStack&&!this.redoStack&&(this.undoStack=new Eh(this.cfg.maxStep),this.redoStack=new Eh(this.cfg.maxStep)),this},t.prototype.get=function(r){var n;return(n=this.cfg)===null||n===void 0?void 0:n[r]},t.prototype.getGroup=function(){return this.get("group")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.getMinZoom=function(){return this.get("minZoom")},t.prototype.setMinZoom=function(r){return this.set("minZoom",r)},t.prototype.getMaxZoom=function(){return this.get("maxZoom")},t.prototype.setMaxZoom=function(r){return this.set("maxZoom",r)},t.prototype.getWidth=function(){return this.get("width")},t.prototype.getHeight=function(){return this.get("height")},t.prototype.clearItemStates=function(r,n){Lt(r)&&(r=this.findById(r));var a=this.get("itemController");n||(n=r.get("states")),a.clearItemStates(r,n);var i=this.get("stateController");i.updateStates(r,n,!1)},t.prototype.node=function(r){typeof r=="function"&&this.set("nodeMapper",r)},t.prototype.edge=function(r){typeof r=="function"&&this.set("edgeMapper",r)},t.prototype.combo=function(r){typeof r=="function"&&this.set("comboMapper",r)},t.prototype.findById=function(r){return this.get("itemMap")[r]},t.prototype.find=function(r,n){var a,i=this.get("".concat(r,"s"));return pt(i,function(o,s){if(n(o,s))return a=o,a}),a},t.prototype.findAll=function(r,n){var a=[];return pt(this.get("".concat(r,"s")),function(i,o){n(i,o)&&a.push(i)}),a},t.prototype.findAllByState=function(r,n,a){return a?this.findAll(r,function(i){return i.hasState(n)&&a(i)}):this.findAll(r,function(i){return i.hasState(n)})},t.prototype.translate=function(r,n,a,i){var o=this,s=this.get("group"),l=un(s.getMatrix());if(l||(l=[1,0,0,0,1,0,0,0,1]),a){var u=$g({animateCfg:i,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:s.getMatrix()})}});BS(s,{x:s.getCanvasBBox().x+r,y:s.getCanvasBBox().y+n},a,u||{duration:500,easing:"easeCubic"})}else l=hp(l,[["t",r,n]]),s.setMatrix(l),this.emit("viewportchange",{action:"translate",matrix:l}),this.autoPaint()},t.prototype.moveTo=function(r,n,a,i){var o=this.get("group");BS(o,{x:r,y:n},a,i||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},t.prototype.fitView=function(r,n,a,i){r&&this.set("fitViewPadding",r);var o=this.get("viewController");n?o.fitViewByRules(n,a,i):o.fitView(a,i),this.autoPaint()},t.prototype.fitCenter=function(r,n){var a=this.get("viewController");a.fitCenter(r,n),this.autoPaint()},t.prototype.addBehaviors=function(r,n){var a=this.get("modeController");return a.manipulateBehaviors(r,n,!0),this},t.prototype.removeBehaviors=function(r,n){var a=this.get("modeController");return a.manipulateBehaviors(r,n,!1),this},t.prototype.updateBehavior=function(r,n,a){var i=this.get("modeController");return i.updateBehavior(r,n,a),this},t.prototype.zoom=function(r,n,a,i){var o=this,s=this.get("group"),l=un(s.getMatrix())||[1,0,0,0,1,0,0,0,1],u=this.get("minZoom"),c=this.get("maxZoom"),f=this.getZoom()||1,d=f*r,h=r,v=!1;if(u&&d<u?(h=u/f,v=!0):c&&d>c&&(h=c/f,v=!0),n?l=hp(l,[["t",-n.x,-n.y],["s",h,h],["t",n.x,n.y]]):l=hp(l,[["s",h,h]]),a){var p=un(s.getMatrix());p||(p=[1,0,0,0,1,0,0,0,1]);var m=p[0],g=m*h,b=$g({animateCfg:i,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:s.getMatrix()})}});s.animate(function(y){if(y===1)p=l;else{var w=kk(m,g,y)/p[0];n?p=hp(p,[["t",-n.x,-n.y],["s",w,w],["t",n.x,n.y]]):p=hp(p,[["s",w,w]])}return{matrix:p}},b)}else s.setMatrix(l),this.emit("viewportchange",{action:"zoom",matrix:l}),this.autoPaint();return!v},t.prototype.zoomTo=function(r,n,a,i){var o=r/this.getZoom();return this.zoom(o,n,a,i)},t.prototype.focusItem=function(r,n,a){var i=this.get("viewController"),o=!1;n?o=!0:n===void 0&&(o=this.get("animate"));var s={};a?s=a:a===void 0&&(s=this.get("animateCfg")),i.focus(r,o,s),this.autoPaint()},t.prototype.focusItems=function(r,n,a,i){var o=this.get("viewController");o.focusItems(r,n,a,i)},t.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},t.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},t.prototype.getPointByClient=function(r,n){var a=this.get("viewController");return a.getPointByClient(r,n)},t.prototype.getClientByPoint=function(r,n){var a=this.get("viewController");return a.getClientByPoint(r,n)},t.prototype.getPointByCanvas=function(r,n){var a=this.get("viewController");return a.getPointByCanvas(r,n)},t.prototype.getCanvasByPoint=function(r,n){var a=this.get("viewController");return a.getCanvasByPoint(r,n)},t.prototype.getGraphCenterPoint=function(){var r=this.get("group").getCanvasBBox();return{x:(r.minX+r.maxX)/2,y:(r.minY+r.maxY)/2}},t.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},t.prototype.showItem=function(r,n){n===void 0&&(n=!0);var a=this.get("itemController"),i=a.changeItemVisibility(r,!0);if(n&&this.get("enabledStack")){var o=i.getID(),s=i.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break}this.pushStack("visible",{before:l,after:u})}},t.prototype.hideItem=function(r,n){n===void 0&&(n=!0);var a=this.get("itemController"),i=a.changeItemVisibility(r,!1);if(n&&this.get("enabledStack")){var o=i.getID(),s=i.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break}this.pushStack("visible",{before:l,after:u})}},t.prototype.refreshItem=function(r){var n=this.get("itemController");n.refreshItem(r)},t.prototype.setAutoPaint=function(r){var n=this;n.set("autoPaint",r);var a=n.get("canvas");a.set("autoDraw",r)},t.prototype.remove=function(r,n){n===void 0&&(n=!0),this.removeItem(r,n)},t.prototype.removeItem=function(r,n){n===void 0&&(n=!0);var a=r;if(Lt(r)&&(a=this.findById(r)),!a&&Lt(r))console.warn("The item ".concat(r," to be removed does not exist!"));else if(a){var i="";if(a.getType&&(i=a.getType()),n&&this.get("enabledStack")){var o=ee(ee({},a.getModel()),{itemType:i}),s={};switch(i){case"node":{s.nodes=[o],s.edges=[];for(var l=a.getEdges(),u=l.length-1;u>=0;u--)s.edges.push(ee(ee({},l[u].getModel()),{itemType:"edge"}));break}case"edge":s.edges=[o];break;case"combo":s.combos=[o];break}this.pushStack("delete",{before:s,after:{}})}if(i==="node"){var c=a.getModel();c.comboId&&this.updateComboTree(a,void 0,!1)}var f=this.get("itemController");if(f.removeItem(a),i==="combo"){var d=US(this.get("comboTrees"));this.set("comboTrees",d)}}},t.prototype.innerAddItem=function(r,n,a){if(!Yle(r,n))return!1;if(n.id&&this.findById(n.id)){console.warn("This item exists already. Be sure the id %c".concat(n.id,"%c is unique."),"font-size: 20px; color: red;","");return}var i,o=this.get("comboTrees")||[];if(r==="combo"){var s=this.get("itemMap"),l=!1;if(o.forEach(function(v){l||il(v,function(p){if(n.parentId===p.id){l=!0;var m=ee({id:n.id,depth:p.depth+2},n);p.children?p.children.push(m):p.children=[m],n.depth=m.depth,i=a.addItem(r,n)}var g=s[p.id];return l&&g&&g.getType&&g.getType()==="combo"&&a.updateCombo(g,p.children),!0})}),!l){var u=ee({id:n.id,depth:0},n);n.depth=u.depth,o.push(u),i=a.addItem(r,n)}this.set("comboTrees",o),n.collapsed&&(this.collapseCombo(i,!1),this.updateCombo(i))}else if(r==="node"&&Lt(n.comboId)&&o){var c=this.findById(n.comboId);c&&c.getType&&c.getType()!=="combo"&&console.warn("'".concat(n.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),i=a.addItem(r,n);var f=this.get("itemMap"),d=!1,h=!1;o.forEach(function(v){h||d||il(v,function(p){if(p.id===n.id)return h=!0,!1;if(n.comboId===p.id&&!h){d=!0;var m=un(n);m.itemType="node",p.children?p.children.push(m):p.children=[m],m.depth=p.depth+1}return d&&f[p.id].getType&&f[p.id].getType()==="combo"&&a.updateCombo(f[p.id],p.children),!0})})}else i=a.addItem(r,n);if(r==="node"&&n.comboId||r==="combo"&&n.parentId){var c=this.findById(n.comboId||n.parentId);c&&c.getType&&c.getType()==="combo"&&c.addChild(i)}return i},t.prototype.addItem=function(r,n,a,i){a===void 0&&(a=!0),i===void 0&&(i=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!i);var s=this.get("itemController"),l=this.innerAddItem(r,n,s);if(l===!1||l===!0)return l;var u=this.get("combos");if(u&&u.length>0&&this.sortCombos(),this.autoPaint(),a&&this.get("enabledStack")){var c=ee(ee({},l.getModel()),{itemType:r}),f={};switch(r){case"node":f.nodes=[c];break;case"edge":f.edges=[c];break;case"combo":f.combos=[c];break}this.pushStack("add",{before:{},after:f})}return l},t.prototype.addItems=function(r,n,a){r===void 0&&(r=[]),n===void 0&&(n=!0),a===void 0&&(a=!0);var i=this.get("comboSorted");this.set("comboSorted",i&&!a);for(var o=this.get("itemController"),s=[],l=0;l<r.length;l++){var u=r[l];u.type!=="edge"&&u.type!=="vedge"?s.push(this.innerAddItem(u.type,u.model,o)):s.push(void 0)}for(var l=0;l<r.length;l++){var u=r[l];(u.type==="edge"||u.type==="vedge")&&(s[l]=this.innerAddItem(u.type,u.model,o))}if(a){var c=this.get("combos");c&&c.length>0&&this.sortCombos()}if(this.autoPaint(),n&&this.get("enabledStack")){for(var f={nodes:[],edges:[],combos:[]},l=0;l<r.length;l++){var d=r[l].type,h=s[l];if(h&&h!==!0){var v=ee(ee({},h.getModel()),{itemType:d});switch(d){case"node":f.nodes.push(v);break;case"edge":f.edges.push(v);break;case"combo":f.combos.push(v);break}}}this.pushStack("addItems",{before:{},after:f})}return s},t.prototype.add=function(r,n,a,i){return a===void 0&&(a=!0),i===void 0&&(i=!0),this.addItem(r,n,a,i)},t.prototype.updateItem=function(r,n,a){var i=this;a===void 0&&(a=!0);var o=this.get("itemController"),s;Lt(r)?s=this.findById(r):s=r;var l=a&&this.get("enabledStack"),u;l&&(u=un(s.getModel()));var c="";s.getType&&(c=s.getType());var f=Oo([],s.getStates(),!0);if(c==="combo"&&pt(f,function(p){return i.setItemState(s,p,!1)}),o.updateItem(s,n),c==="combo"&&pt(f,function(p){return i.setItemState(s,p,!0)}),l){var d={nodes:[],edges:[],combos:[]},h={nodes:[],edges:[],combos:[]},v=ee({id:u.id},n);switch(c){case"node":d.nodes.push(u),h.nodes.push(v);break;case"edge":d.edges.push(u),h.edges.push(v);break;case"combo":d.combos.push(u),h.combos.push(v);break}this.pushStack("update",{before:d,after:h})}},t.prototype.update=function(r,n,a){a===void 0&&(a=!0),this.updateItem(r,n,a)},t.prototype.setItemState=function(r,n,a){Lt(r)&&(r=this.findById(r));var i=this.get("itemController");i.setItemState(r,n,a);var o=this.get("stateController");o.updateState(r,n,a)},t.prototype.priorityState=function(r,n){var a=this.get("itemController");a.priorityState(r,n)},t.prototype.data=function(r){YP(r),this.set("data",r)},t.prototype.render=function(){var r=this;this.set("comboSorted",!1);var n=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!n)throw new Error("data must be defined first");var a=n.nodes,i=a===void 0?[]:a,o=n.edges,s=o===void 0?[]:o,l=n.combos,u=l===void 0?[]:l;if(this.clear(!0),this.emit("beforerender"),r.addItems(i.map(function(m){return{type:"node",model:m}}),!1,!1),(u==null?void 0:u.length)!==0){var c=VS(u,i);this.set("comboTrees",c),r.addCombos(u)}r.addItems(s.map(function(m){return{type:"edge",model:m}}),!1,!1);var f=r.get("animate");(r.get("fitView")||r.get("fitCenter"))&&r.set("animate",!1);var d=r.get("layoutController");if(d){if(d.layout(h),this.destroyed)return}else h();function h(){(r.get("comboTrees")||[]).forEach(function(m){il(m,function(g){var b=r.findById(g.id);return b.getType()==="combo"&&g.collapsed&&(r.collapseCombo(g.id,!1),r.updateCombo(b)),!0})}),r.get("fitView")?r.fitView():r.get("fitCenter")&&r.fitCenter(),r.autoPaint(),r.emit("afterrender"),(r.get("fitView")||r.get("fitCenter"))&&r.set("animate",f),setTimeout(function(){var m;(m=r.getCombos())===null||m===void 0||m.forEach(function(g){g.set("animate",!0)})},0)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(n.nodes&&n.edges&&n.nodes.length<n.edges.length){var v=this.getNodes();v.forEach(function(m){m.toFront()})}else{var p=this.getEdges();p.forEach(function(m){m.toBack()})}},t.prototype.read=function(r){this.data(r),this.render()},t.prototype.diffItems=function(r,n,a){var i=this,o,s=this.get("itemMap");pt(a,function(l){if(o=s[l.id],o){if(i.get("animate")&&r===tde){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}i.updateItem(o,l,!1)}else o=i.addItem(r,l,!1);o&&n["".concat(r,"s")].push(o)})},t.prototype.changeData=function(r,n){var a=this,i;n===void 0&&(n=!0);var o=this,s=r||o.get("data");if(!YP(s))return this;this.emit("beforechangedata"),n&&this.get("enabledStack")&&this.pushStack("changedata",{before:o.save(),after:s}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(w){return o.clearItemStates(w)}),this.getEdges().map(function(w){return o.clearItemStates(w)});var l=this.get("canvas"),u=l.get("localRefresh");l.set("localRefresh",!1),o.get("data")||(o.data(s),o.render());var c=this.get("itemMap"),f={nodes:[],edges:[]},d=s.combos;if(d){var h=VS(d,s.nodes);this.set("comboTrees",h)}else this.set("comboTrees",[]);this.diffItems("node",f,s.nodes),pt(c,function(w,_){c[_].getModel().depth=0,!(w.getType&&w.getType()==="edge")&&(w.getType&&w.getType()==="combo"?(delete c[_],w.destroy()):f.nodes.indexOf(w)<0&&(delete c[_],o.remove(w,!1)))});for(var v=this.getCombos(),p=v.length,m=p-1;m>=0;m--)v[m].destroyed&&v.splice(m,1);d&&(o.addCombos(d),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",f,s.edges),pt(c,function(w,_){w.getType&&(w.getType()==="node"||w.getType()==="combo")||f.edges.indexOf(w)<0&&(delete c[_],o.remove(w,!1))}),(this.get("comboTrees")||[]).forEach(function(w){il(w,function(_){var x=a.findById(_.id);return x.getType()==="combo"&&_.collapsed&&a.collapseCombo(_.id,!1),!0})}),this.set({nodes:f.nodes,edges:f.edges});var g=(this.get("layout")||{}).relayoutAtChangeData,b=g===void 0?!0:g,y=this.get("layoutController");return b&&y&&(y.changeData(function(){setTimeout(function(){var w;(w=o.getCombos())===null||w===void 0||w.forEach(function(_){_.set("animate",!0)})},0)}),o.get("animate")&&!y.getLayoutType()?(o.positionsAnimate(),(i=o.getCombos())===null||i===void 0||i.forEach(function(w){return w.set("animate",!0)})):o.autoPaint()),setTimeout(function(){l.set("localRefresh",u)},16),this.set("data",s),this.emit("afterchangedata"),this},t.prototype.addCombos=function(r){var n=this,a=n.get("comboTrees"),i=this.get("itemController");i.addCombos(a,r)},t.prototype.createCombo=function(r,n,a){var i=this;a===void 0&&(a=!0);var o=this.get("itemController");this.set("comboSorted",!1);var s="",l;if(r){if(Lt(r))s=r,l={id:r};else{if(s=r.id,!s){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}l=r}var u=a&&this.get("enabledStack"),c={nodes:[],combos:[]};u&&n.forEach(function(g){var b=i.findById(g),y=b.getType();if(!(y!=="node"&&y!=="combo")){var w=b.getModel();c["".concat(y,"s")].push({id:g,parentId:y==="node"?w.comboId:w.parentId})}});var f=this.get("comboTrees"),d=new Set(n),h=new Map;f&&(f.forEach(function(g){il(g,function(b,y,w){if(d.has(b.id)){if(y){var _=i.findById(y.id),x=i.findById(b.id);y.children.splice(w,1),_.removeChild(x),o.updateCombo(_,y.children)}b.itemType==="combo"&&h.set(b.id,b)}return!0})}),f=f.filter(function(g){return!d.has(g.id)}),this.set("comboTrees",f));var v={nodes:[],combos:[]},p=n.map(function(g){var b=i.findById(g),y=b.getModel(),w="";b.getType&&(w=b.getType());var _=h.get(g)||{id:b.getID(),itemType:w};return w==="combo"?(_.parentId=s,y.parentId=s):w==="node"&&(_.comboId=s,y.comboId=s),u&&v["".concat(w,"s")].push({id:y.id,parentId:s}),_});l.children=p,this.addItem("combo",l,!1),this.set("comboSorted",!1),f&&(f.forEach(function(g){xi(g,function(b){return b.id===s?(b.itemType="combo",b.children=p,!1):!0})}),this.sortCombos()),u&&(v.combos.push(l),this.pushStack("createCombo",{before:c,after:v}));var m=this.findById(s);!m.getModel().parentId&&m.getChildren().combos.length&&this.updateComboTree(m,void 0,!1),setTimeout(function(){m.set("animate",!0)},0)}},t.prototype.uncombo=function(r,n){var a=this,i,o;n===void 0&&(n=!0);var s=this,l=r;if(Lt(r)&&(l=this.findById(r)),!l||l.getType&&l.getType()!=="combo"){console.warn("The item is not a combo!");return}var u=l.getModel(),c=l.getModel().parentId,f=s.get("comboTrees");f||(f=[]);var d=this.get("itemMap"),h=l.get("id"),v,p=[],m=this.get("combos"),g=this.findById(c),b=n&&this.get("enabledStack"),y={};if(b&&(y=un(u),y.children=[]),f.forEach(function(S){v||il(S,function(C){var T;if(C.id===h){v=C;var M=l.getEdges().map(function(O){return O.getID()});M.forEach(function(O){a.removeItem(O,!1)});var k=m.indexOf(l);m.splice(k,1),delete d[h];var A=un(l.getModel());l.destroy(),a.emit("afterremoveitem",{item:A,type:"combo"})}if(c&&v&&C.id===c){g.removeCombo(l),p=C.children;var k=p.indexOf(v);return k!==-1&&p.splice(k,1),(T=v.children)===null||T===void 0||T.forEach(function(P){var R=a.findById(P.id),N=R.getModel();R.getType&&R.getType()==="combo"?(P.parentId=c,delete P.comboId,N.parentId=c,delete N.comboId):R.getType&&R.getType()==="node"&&(P.comboId=c,N.comboId=c),g.addChild(R),p.push(P)}),a.updateCombo(g),!1}return!0})}),!c&&v){var w=f.indexOf(v);f.splice(w,1),(i=v.children)===null||i===void 0||i.forEach(function(S){S.parentId=void 0;var C=a.findById(S.id).getModel();delete C.parentId,delete C.comboId,S.itemType!=="node"&&f.push(S)})}if(b){var _={nodes:[],combos:[]},x={nodes:[],combos:[]};(o=v.children)===null||o===void 0||o.forEach(function(S){var C=a.findById(S.id),T=C.getType();T!=="node"&&T!=="combo"||(_["".concat(T,"s")].push({id:S.id,parentId:h}),x["".concat(T,"s")].push({id:S.id,parentId:c}))}),_.combos.push(y),this.pushStack("uncombo",{before:_,after:x})}},t.prototype.updateCombos=function(r){var n=this;r===void 0&&(r=!1);var a=this,i=this.get("comboTrees"),o=a.get("itemController"),s=a.get("itemMap");(i||[]).forEach(function(l){il(l,function(u){var c;if(!u)return!0;var f=s[u.id];if(((c=f==null?void 0:f.getType)===null||c===void 0?void 0:c.call(f))==="combo"){var d=Oo([],f.getStates(),!0);pt(d,function(h){return n.setItemState(f,h,!1)}),o.updateCombo(f,u.children,r),pt(d,function(h){return n.setItemState(f,h,!0)})}return!0})}),a.sortCombos()},t.prototype.updateCombo=function(r){var n=this,a=this,i=r,o;if(Lt(r)&&(i=this.findById(r)),!i||i.getType&&i.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=i.get("id");var s=this.get("comboTrees"),l=a.get("itemController"),u=a.get("itemMap");(s||[]).forEach(function(c){il(c,function(f){if(!f)return!0;var d=u[f.id];if(o===f.id&&d&&d.getType&&d.getType()==="combo"){var h=Oo([],d.getStates(),!0);pt(h,function(v){d.getStateStyle(v)&&n.setItemState(d,v,!1)}),l.updateCombo(d,f.children),pt(h,function(v){d.getStateStyle(v)&&n.setItemState(d,v,!0)}),o&&(o=f.parentId)}return!0})})},t.prototype.updateComboTree=function(r,n,a){a===void 0&&(a=!0);var i=this;this.set("comboSorted",!1);var o;Lt(r)?o=i.findById(r):o=r;var s=o.getModel(),l=s.comboId||s.parentId,u="";if(o.getType&&(u=o.getType()),n&&u==="combo"){var c=this.get("comboTrees"),f=!0,d;if((c||[]).forEach(function(b){d||xi(b,function(y){if(!d)return y.id===o.getID()&&(d=y),!0})}),xi(d,function(b){return b.id===n?(f=!1,!1):!0}),!f){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(a&&this.get("enabledStack")){var h={},v={};u==="combo"?(h.combos=[{id:s.id,parentId:s.parentId}],v.combos=[{id:s.id,parentId:n}]):u==="node"&&(h.nodes=[{id:s.id,parentId:s.comboId}],v.nodes=[{id:s.id,parentId:n}]),this.pushStack("updateComboTree",{before:h,after:v})}if(s.parentId||s.comboId){var p=this.findById(s.parentId||s.comboId);p&&p.removeChild(o)}if(u==="combo"?s.parentId=n:u==="node"&&(s.comboId=n),n){var m=this.findById(n);m&&m.addChild(o)}if(l){var m=this.findById(l);m&&m.removeChild(o)}var g=US(this.get("comboTrees"),s.id,n);this.set("comboTrees",g),this.updateCombos()},t.prototype.save=function(){var r=[],n=[],a=[];return pt(this.get("nodes"),function(i){r.push(i.getModel())}),pt(this.get("edges"),function(i){n.push(i.getModel())}),pt(this.get("combos"),function(i){a.push(i.getModel())}),{nodes:r,edges:n,combos:a}},t.prototype.changeSize=function(r,n){var a=this.get("viewController");return a.changeSize(r,n),this},t.prototype.refresh=function(){var r=this;if(r.emit("beforegraphrefresh"),r.get("animate"))r.positionsAnimate();else{var n=r.get("nodes"),a=r.get("edges"),i=r.get("edges");pt(n,function(o){o.refresh()}),pt(a,function(o){o.refresh()}),pt(i,function(o){o.refresh()})}r.emit("aftergraphrefresh"),r.autoPaint()},t.prototype.getNodes=function(){return this.get("nodes")},t.prototype.getEdges=function(){return this.get("edges")},t.prototype.getCombos=function(){return this.get("combos")},t.prototype.getComboChildren=function(r){if(Lt(r)&&(r=this.findById(r)),!r||r.getType&&r.getType()!=="combo"){console.warn("The combo does not exist!");return}return r.getChildren()},t.prototype.positionsAnimate=function(r){var n=this;n.emit("beforeanimate");var a=n.get("animateCfg"),i=a.onFrame,o=r?n.getNodes().concat(n.getCombos()):n.getNodes(),s=o.map(function(u){var c=u.getModel();return{id:c.id,x:c.x,y:c.y}});n.stopAnimate();var l=n.get("canvas");n.animating=!0,setTimeout(function(){l.animate(function(u){pt(s,function(c){var f=n.findById(c.id);if(!(!f||f.destroyed)){var d=f.get("originAttrs"),h=f.get("model"),v=f.getContainer().getMatrix();if(d==null&&(v&&(d={x:v[6],y:v[7]}),f.set("originAttrs",d||0)),i){var p=i(f,u,c,d||{x:0,y:0});f.set("model",Object.assign(h,p))}else d?(h.x=d.x+(c.x-d.x)*u,h.y=d.y+(c.y-d.y)*u):(h.x=c.x,h.y=c.y)}}),n.refreshPositions(r)},{duration:a.duration,easing:a.easing,callback:function(){pt(o,function(c){c.set("originAttrs",null)}),a.callback&&a.callback(),n.emit("afteranimate"),n.animating=!1}})},0)},t.prototype.refreshPositions=function(r){var n=this;n.emit("beforegraphrefreshposition");var a=n.get("nodes"),i=n.get("edges"),o=n.get("vedges"),s=n.get("combos"),l,u={},c=function(d){pt(d,function(h){l=h.getModel();var v=h.get("originAttrs");if(!(v&&l.x===v.x&&l.y===v.y)){var p=h.updatePosition({x:l.x,y:l.y});u[l.id]=p,l.comboId&&(u[l.comboId]=u[l.comboId]||p),l.parentId&&(u[l.parentId]=u[l.parentId]||p)}})};c(s),c(a),s&&s.length!==0&&(r&&c(s),n.updateCombos()),pt(i,function(f){var d=f.getSource().getModel(),h=f.getTarget();if(!ii(h)){var v=h.getModel();(u[d.id]||u[v.id]||f.getModel().isComboEdge)&&f.refresh()}}),pt(o,function(f){f.refresh()}),n.emit("aftergraphrefreshposition"),n.autoPaint()},t.prototype.stopAnimate=function(){var r=this.get("canvas"),n=r.cfg.timeline;n&&n.stopAllAnimations()},t.prototype.isAnimating=function(){return this.animating},t.prototype.getZoom=function(){var r=this.get("group").getMatrix();return r?r[0]:1},t.prototype.getCurrentMode=function(){var r=this.get("modeController");return r.getMode()},t.prototype.setMode=function(r){var n=this.get("modeController");return n.setMode(r),this},t.prototype.clear=function(r){var n;return r===void 0&&(r=!1),(n=this.get("canvas"))===null||n===void 0||n.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),r||this.emit("afterrender"),this},t.prototype.updateLayout=function(r,n,a,i){var o=this;r===void 0&&(r={}),i===void 0&&(i=!0);var s=this.get("layoutController");if(Lt(r)&&(r={type:r}),n){var l=a;l||(n==="begin"?l={x:0,y:0}:l={x:this.getWidth()/2,y:this.getHeight()/2}),l=this.getPointByCanvas(l.x,l.y);var u=["force","gForce","fruchterman","force2"];u.includes(r.type)||!r.type&&u.includes(s==null?void 0:s.layoutType)?r.center=[l.x,l.y]:this.once("afterlayout",function(d){var h=o.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];l.x=l.x*h[0]+h[6],l.y=l.y*h[0]+h[7];var v=o.getGroup().getCanvasBBox(),p=v.minX,m=v.maxX,g=v.minY,b=v.maxY,y={x:(p+m)/2,y:(g+b)/2};n==="begin"&&(y.x=p,y.y=g),o.translate(l.x-y.x,l.y-y.y)})}var c=ee({},this.get("layout")),f={};Object.assign(f,c,r),r.pipes&&!r.type?delete f.type:!r.pipes&&f.type&&delete f.pipes,this.set("layout",f),s&&(s.isLayoutTypeSame(f)&&f.gpuEnabled===c.gpuEnabled?s.updateLayoutCfg(f):s.changeLayout(f),i&&this.get("enabledStack")&&this.pushStack("layout",{before:c,after:f}))},t.prototype.destroyLayout=function(){var r=this.get("layoutController");r==null||r.destroyLayout()},t.prototype.layout=function(){var r,n=this.get("layoutController"),a=this.get("layout");if(!(!a||!n)){if(a.workerEnabled){n.layout();return}!((r=n.layoutMethods)===null||r===void 0)&&r.length?n.relayout(!0):n.layout()}},t.prototype.collapseCombo=function(r,n){var a=this;if(n===void 0&&(n=!0),!this.destroyed){if(Lt(r)&&(r=this.findById(r)),!r){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"collapse",item:r});var i=r.getModel(),o=this.get("itemController");o.collapseCombo(r,n),i.collapsed=!0;var s=this.getEdges().concat(this.get("vedges")),l=[],u=this.get("comboTrees"),c=!1;(u||[]).forEach(function(d){c||xi(d,function(h){if(c&&h.depth<=i.depth)return!1;if(i.id===h.id&&(c=!0),c){var v=a.findById(h.id);v&&v.getType&&v.getType()==="combo"&&(l=l.concat(v.getNodes()),l=l.concat(v.getCombos()))}return!0})});var f={};s.forEach(function(d){var h=d.getModel(),v=h.isVEdge,p=h.size,m=p===void 0?1:p;if(!(d.isVisible()&&!v)){var g=d.getSource(),b=d.getTarget(),y=null,w;if(g.getModel().id===i.id||l.includes(g)&&!l.includes(b)?(y=b,w=!1):(b.getModel().id===i.id||!l.includes(g)&&l.includes(b))&&(y=g,w=!0),y){if(v){a.removeItem(d,!1);return}for(var _=y.getModel();!y.isVisible();){var x=_.parentId,S=_.comboId,C=x||S;if(y=a.findById(C),!y||!C)return;_=y.getModel()}var T=_.id,M=w?{source:T,target:i.id,size:m,isVEdge:!0}:{source:i.id,target:T,size:m,isVEdge:!0},k="".concat(M.source,"-").concat(M.target);if(f[k]){f[k].size+=m;return}f[k]=M}}}),this.addItems(Object.values(f).map(function(d){return{type:"vedge",model:d}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:r})}},t.prototype.expandCombo=function(r,n){var a=this;if(n===void 0&&(n=!0),Lt(r)&&(r=this.findById(r)),!r||r.getType&&r.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:r});var i=r.getModel(),o=this.get("itemController");o.expandCombo(r,n),i.collapsed=!1;var s=this.getEdges().concat(this.get("vedges")),l=[],u=this.get("comboTrees"),c=!1;(u||[]).forEach(function(d){c||xi(d,function(h){if(c&&h.depth<=i.depth)return!1;if(i.id===h.id&&(c=!0),c){var v=a.findById(h.id);v&&v.getType&&v.getType()==="combo"&&(l=l.concat(v.getNodes()),l=l.concat(v.getCombos()))}return!0})});var f={};s.forEach(function(d){if(!(d.isVisible()&&!d.getModel().isVEdge)){var h=d.getSource(),v=d.getTarget(),p=h.get("id"),m=v.get("id"),g=null,b;if(p===i.id||l.includes(h)&&!l.includes(v)?(g=v,b=!1):m===i.id||!l.includes(h)&&l.includes(v)?(g=h,b=!0):l.includes(h)&&l.includes(v)&&h.isVisible()&&v.isVisible()&&d.show(),g){var y=d.getModel(),w=y.isVEdge,_=y.size,x=_===void 0?1:_;if(w){a.removeItem(d,!1);return}for(var S=g.getModel();!g.isVisible();){var C=S.parentId,T=S.comboId,M=C||T;if(g=a.findById(M),!g||!M)return;S=g.getModel()}for(var k=S.id,A=b?v:h,O=A.getModel();!A.isVisible();){var P=O.parentId,R=O.comboId,N=P||R;if(A=a.findById(N),!A||!N)return;if(O.comboId===i.id||O.parentId===i.id)break;O=A.getModel()}var L=O.id;if(k){var B=b?{source:k,target:L,isVEdge:!0,size:x}:{source:L,target:k,isVEdge:!0,size:x},I="".concat(B.source,"-").concat(B.target);if(f[I]){f[I].size+=x;return}f[I]=B}}}}),this.addItems(Object.values(f).map(function(d){return{type:"vedge",model:d}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:r})},t.prototype.collapseExpandCombo=function(r,n){if(n===void 0&&(n=!0),Lt(r)&&(r=this.findById(r)),!(!r||r.getType&&r.getType()!=="combo")){for(var a=r.getModel(),i=this.findById(a.parentId);i;){var o=i.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),i=void 0;return}i=this.findById(o.parentId)}var s=a.collapsed;s?this.expandCombo(r,n):this.collapseCombo(r,n),this.updateCombo(r)}},t.prototype.getNeighbors=function(r,n){var a=r;return Lt(r)&&(a=this.findById(r)),a.getNeighbors(n)},t.prototype.getNodeDegree=function(r,n,a){n===void 0&&(n=void 0),a===void 0&&(a=!1);var i=r;Lt(r)&&(i=this.findById(r));var o=this.get("degrees");(!o||a)&&(o=gu(this.save()),this.set("degrees",o));var s=o[i.getID()],l=0;if(!s)return 0;switch(n){case"in":l=s.inDegree;break;case"out":l=s.outDegree;break;case"all":l=s;break;default:l=s.degree;break}return l},t.prototype.getUndoStack=function(){return this.undoStack},t.prototype.getRedoStack=function(){return this.redoStack},t.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},t.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},t.prototype.pushStack=function(r,n,a){if(r===void 0&&(r="update"),a===void 0&&(a="undo"),!this.get("enabledStack")){console.warn("请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !");return}var i=n?un(n):{before:{},after:un(this.save())};a==="redo"?this.redoStack.push({action:r,data:i}):this.undoStack.push({action:r,data:i}),this.emit("stackchange",{action:r,stackType:a,undoStack:this.undoStack,redoStack:this.redoStack})},t.prototype.getAdjMatrix=function(r,n){r===void 0&&(r=!0),n===void 0&&(n=this.get("directed"));var a=this.get("adjMatrix");return(!a||!r)&&(a=rd(this.save(),n),this.set("adjMatrix",a)),a},t.prototype.getShortestPathMatrix=function(r,n){r===void 0&&(r=!0),n===void 0&&(n=this.get("directed"));var a=this.get("adjMatrix"),i=this.get("shortestPathMatrix");return(!a||!r)&&(a=rd(this.save(),n),this.set("adjMatrix",a)),(!i||!r)&&(i=Dg(this.save(),n),this.set("shortestPathMatrix",i)),i},t.prototype.on=function(r,n,a){return e.prototype.on.call(this,r,n,a)},t.prototype.destroy=function(){var r,n,a,i,o;this.emit("beforedestroy"),this.clear(),this.clearStack(),(r=this.get("itemController"))===null||r===void 0||r.destroy(),(n=this.get("modeController"))===null||n===void 0||n.destroy(),(a=this.get("viewController"))===null||a===void 0||a.destroy(),(i=this.get("stateController"))===null||i===void 0||i.destroy(),(o=this.get("canvas"))===null||o===void 0||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null,this.emit("afterdestroy")},t.prototype.createHull=function(r){if(!r.members||r.members.length<1){console.warn("Create hull failed! The members is empty.");return}var n=this.get("hullGroup"),a=this.get("hullMap");if(a||(a={},this.set("hullMap",a)),(!n||n.get("destroyed"))&&(n=this.get("group").addGroup({id:"hullGroup"}),n.toBack(),this.set("hullGroup",n)),a[r.id])return console.warn("Existed hull id."),a[r.id];var i=n.addGroup({id:"".concat(r.id,"-container")}),o=new Vj(this,ee(ee({},r),{group:i})),s=o.id;return a[s]=o,o},t.prototype.getHulls=function(){return this.get("hullMap")},t.prototype.getHullById=function(r){return this.get("hullMap")[r]},t.prototype.removeHull=function(r){var n,a;Lt(r)?a=this.getHullById(r):a=r,(n=this.get("hullMap"))===null||n===void 0||delete n[a.id],a.destroy()},t.prototype.removeHulls=function(){var r=this.getHulls();!r||!Object.keys(r).length||(Object.keys(r).forEach(function(n){var a=r[n];a.destroy()}),this.set("hullMap",{}))},t}(G8);function vC(e){"@babel/helpers - typeof";return vC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vC(e)}var Kd=vs,r3="-shape",q_="-label",yy=["startArrow","endArrow"],n3={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},rde={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},by={edge:rde,node:n3,combo:n3},pC="-label-bg",Fk={options:{labelCfg:{style:{fontFamily:dr.windowFontFamily}},descriptionCfg:{style:{fontFamily:dr.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(t){return{}},getOptions:function(t,r){return r==="move"||r!=null&&r.includes("bbox")?t:zn({},this.options,this.getCustomConfig(t)||{},t)},draw:function(t,r){r.shapeMap={},this.mergeStyle=this.getOptions(t);var n=this.drawShape(t,r);if(n.set("className",this.itemType+r3),r.shapeMap[this.itemType+r3]=n,t.label){var a=this.drawLabel(t,r);a.set("className",this.itemType+q_),r.shapeMap[this.itemType+q_]=a}return n},afterDraw:function(t,r,n){},drawShape:function(t,r){return null},drawLabel:function(t,r){var n=(this.mergeStyle||this.getOptions(t)||{}).labelCfg,a=n||{},i=this.getLabelStyle(t,a,r),o=i.rotate;delete i.rotate;var s=r.addShape("text",{attrs:i,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(r.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""){var l=s.getBBox(),u=[1,0,0,0,1,0,0,0,1];if(i.rotateCenter)switch(i.rotateCenter){case"center":u=Kd(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=Kd(u,[["t",-i.x,-i.y],["r",o],["t",i.x,i.y]]);break;case"leftcenter":u=Kd(u,[["t",-i.x,-i.y-l.height/2],["r",o],["t",i.x,i.y+l.height/2]]);break;default:u=Kd(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=Kd(u,[["t",-i.x,-i.y-l.height/2],["r",o],["t",i.x,i.y+l.height/2]]);s.setMatrix(u)}if(i.background){var c=this.drawLabelBg(t,r,s),f=this.itemType+pC;c.set("classname",f),r.shapeMap[f]=c,s.toFront()}return s},drawLabelBg:function(t,r,n){var a=this.options.labelCfg,i=Cr({},a,t.labelCfg),o=this.getLabelBgStyleByPosition(n,i),s=r.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return r.shapeMap["text-bg-shape"]=s,s},getLabelStyleByPosition:function(t,r,n){return{text:t.label}},getLabelBgStyleByPosition:function(t,r){return{}},getLabelStyle:function(t,r,n){var a=this.getLabelStyleByPosition(t,r,n),i="".concat(this.itemType,"Label"),o=dr[i]?dr[i].style:null;return ee(ee(ee({},o),a),r.style)},getShapeStyle:function(t){return t.style},update:function(t,r,n){this.updateShapeStyle(t,r,n),this.updateLabel(t,r,n)},updateShapeStyle:function(t,r,n){var a,i=r.getContainer(),o=r.getKeyShape(),s=Cr({},o.attr(),t.style),l=function(f){var d,h=s[f];if(ii(h)){var v=((a=i.shapeMap)===null||a===void 0?void 0:a[f])||i.find(function(p){return p.get("name")===f});v==null||v.attr(h)}else o.attr((d={},d[f]=h,d))};for(var u in s)l(u)},updateLabel:function(t,r,n){var a,i,o=r.getContainer(),s=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,l=s===void 0?{}:s,u=this.itemType+q_,c=o.shapeMap[u]||o.find(function(w){return w.get("className")===u}),f=this.itemType+pC,d=o.shapeMap[f]||o.find(function(w){return w.get("className")===f});if(c&&t.label===void 0&&(o.removeChild(c),delete o.shapeMap[u],d&&(o.removeChild(d),delete o.shapeMap[f])),t.label||t.label==="")if(c){(!n||n==="bbox|label"||this.itemType==="edge"&&n!=="style")&&(l=zn(l,t.labelCfg));var v=this.getLabelStyleByPosition(t,l,o),p=(a=t.labelCfg)===null||a===void 0?void 0:a.style,m=ee(ee({},v),p),g=m.rotate;if(delete m.rotate,!isNaN(g)&&g!==""){var b=[1,0,0,0,1,0,0,0,1];b=Kd(b,[["t",-m.x,-m.y],["r",g],["t",m.x,m.y]]),m.matrix=b,c.attr(m)}else((i=c.getMatrix())===null||i===void 0?void 0:i[4])!==1&&c.resetMatrix(),c.attr(m);if(!d)m.background&&(d=this.drawLabelBg(t,o,c),d.set("classname",f),o.shapeMap[f]=d,c.toFront());else if(m.background){var y=this.getLabelBgStyleByPosition(c,l);d.attr(y)}else o.removeChild(d)}else{var h=this.drawLabel(t,o);h.set("className",u),o.shapeMap[u]=h}},afterUpdate:function(t,r){},setState:function(t,r,n){var a,i,o,s=n.get("keyShape");if(!(!s||s.destroyed)){var l=n.getType(),u=S0(r)?t:"".concat(t,":").concat(r),c=this.getStateStyle(u,n),f=n.getStateStyle(u);if(!(!f&&!c)){var d=Cr({},f||c),h=n.getContainer(),v={x:1,y:1,cx:1,cy:1,matrix:1};if(l==="combo"&&(v.r=1,v.width=1,v.height=1),r){var p=function(N){var L,B=d[N];if(ii(B)&&!yy.includes(N)){var I=((o=h.shapeMap)===null||o===void 0?void 0:o[N])||h.find(function(D){return D.get("name")===N});I==null||I.attr(B)}else s.attr((L={},L[N]=B,L))};for(var m in d)p(m)}else{var g=O1(n.getCurrentStatesStyle()),b=n.getModel(),y=Cr({},b.style,O1(n.getOriginStyle())),w=s.get("name"),_=s.attr(),x={};Object.keys(_).forEach(function(R){if(R!=="img"){var N=_[R];N&&vC(N)==="object"?x[R]=un(N):x[R]=N}});var S={},C=function(N){var L=d[N];if(ii(L)&&!yy.includes(N)){var B=h.shapeMap[N]||h.find(function(z){return z.get("name")===N});if(B){var I=O1(B.attr());pt(L,function(z,U){if(N===w&&x[U]&&!v[U]){delete x[U];var H=y[N][U]||by[l][U];s.attr(U,H)}else if(I[U]||I[U]===0){delete I[U];var Y=y[N][U]||by[l][U];B.attr(U,Y)}}),S[N]=I}}else if(x[N]&&!v[N]){delete x[N];var D=y[N]||(y[w]?y[w][N]:void 0)||by[l][N];s.attr(N,D)}};for(var T in d)C(T);w?S[w]=x:Cr(S,x);for(var m in g)if(!v[m]){var M=g[m];(!ii(M)||yy.includes(m))&&(w?(Cr(y[w],(i={},i[m]=M,i)),delete y[m]):Cr(y,(a={},a[m]=M,a)),delete g[m])}var k={};zn(k,y,S,g);var A=!1,O=function(N){var L,B,I=k[N];if(ii(I)&&!yy.includes(N)){var D=h.shapeMap[N]||h.find(function(U){return U.get("name")===N});D&&((D.get("type")==="text"||D.get("labelRelated"))&&(delete I.x,delete I.y,delete I.matrix),N===w&&(l==="combo"&&(delete I.r,delete I.width,delete I.height),A=!0),D.attr(I))}else if(!A){var z=I||by[l][N];l==="combo"?w||s.attr((L={},L[N]=z,L)):s.attr((B={},B[N]=z,B))}};for(var P in k)O(P)}}}},getStateStyle:function(t,r){var n=r.getModel(),a=r.getType(),i=this.getOptions(n),o=i.stateStyles,s=i.style,l=s===void 0?{}:s,u=n.stateStyles?n.stateStyles[t]:o&&o[t];return a==="combo"?un(u):Cr({},l,u)},getControlPoints:function(t){return t.controlPoints},getAnchorPoints:function(t){var r,n,a=(t==null?void 0:t.anchorPoints)||((r=this.getCustomConfig(t))===null||r===void 0?void 0:r.anchorPoints)||((n=this.options)===null||n===void 0?void 0:n.anchorPoints);return a}},nde={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:dr.nodeLabel.offset,getSize:function(t){var r,n=((r=this.mergeStyle)===null||r===void 0?void 0:r.size)||t.size||this.getOptions({}).size||dr.defaultNode.size;return wr(n)&&n.length===1&&(n=[n[0],n[0]]),wr(n)||(n=[n,n]),n},getLabelStyleByPosition:function(t,r){var n=r.maxLength,a=t.label;n&&(a=BG(a,n));var i=r.position||this.labelPosition;if(i==="center")return{x:0,y:0,text:a,textBaseline:"middle",textAlign:"center"};var o=r.offset;hr(o)&&(o=this.offset);var s=this.getSize(t),l;switch(i){case"top":l={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":l={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":l={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:l={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"};break}return l.text=a,l},getLabelBgStyleByPosition:function(t,r){var n;if(!t)return{};var a=(n=r.style)===null||n===void 0?void 0:n.background;if(!a)return{};var i=t.getBBox(),o=$k(a.padding),s=i.width+o[1]+o[3],l=i.height+o[0]+o[2];return ee(ee({x:i.minX-o[3],y:i.minY-o[0]},a),{width:s,height:l})},drawShape:function(t,r){var n=this.shapeType,a=this.getShapeStyle(t),i=r.addShape(n,{attrs:a,draggable:!0,name:"node-shape"});return r.shapeMap["node-shape"]=i,i},updateLinkPoints:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,a=r.shapeMap["link-point-left"]||r.find(function(k){return k.get("className")==="link-point-left"}),i=r.shapeMap["link-point-right"]||r.find(function(k){return k.get("className")==="link-point-right"}),o=r.shapeMap["link-point-top"]||r.find(function(k){return k.get("className")==="link-point-top"}),s=r.shapeMap["link-point-bottom"]||r.find(function(k){return k.get("className")==="link-point-bottom"}),l;a&&(l=a.attr()),i&&!l&&(l=i.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=n);var u=Cr({},l,t.linkPoints),c=u.fill,f=u.stroke,d=u.lineWidth,h=u.size/2;h||(h=u.r);var v=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=v.left,m=v.right,g=v.top,b=v.bottom,y=this.getSize(t),w=y[0],_=y[1],x={r:h,fill:c,stroke:f,lineWidth:d};if(a)!p&&p!==void 0?(a.remove(),delete r.shapeMap["link-point-left"]):a.attr(ee(ee({},x),{x:-w/2,y:0}));else if(p){var S="link-point-left";r.shapeMap[S]=r.addShape("circle",{attrs:ee(ee({},x),{x:-w/2,y:0}),className:S,name:S,isAnchorPoint:!0})}if(i)!m&&m!==void 0&&(i.remove(),delete r.shapeMap["link-point-right"]),i.attr(ee(ee({},x),{x:w/2,y:0}));else if(m){var C="link-point-right";r.shapeMap[C]=r.addShape("circle",{attrs:ee(ee({},x),{x:w/2,y:0}),className:C,name:C,isAnchorPoint:!0})}if(o)!g&&g!==void 0&&(o.remove(),delete r.shapeMap["link-point-top"]),o.attr(ee(ee({},x),{x:0,y:-_/2}));else if(g){var T="link-point-top";r.shapeMap[T]=r.addShape("circle",{attrs:ee(ee({},x),{x:0,y:-_/2}),className:T,name:T,isAnchorPoint:!0})}if(s)!b&&b!==void 0?(s.remove(),delete r.shapeMap["link-point-bottom"]):s.attr(ee(ee({},x),{x:0,y:_/2}));else if(b){var M="link-point-bottom";r.shapeMap[M]=r.addShape("circle",{attrs:ee(ee({},x),{x:0,y:_/2}),className:M,name:M,isAnchorPoint:!0})}},updateShape:function(t,r,n,a,i){var o=r.get("keyShape");o.attr(ee({},n)),this.updateLabel(t,r,i),a&&this.updateIcon(t,r)},updateIcon:function(t,r){var n=this,a=r.getContainer(),i=(this.mergeStyle||this.getOptions(t)).icon,o=t.icon?t.icon:{show:void 0,text:void 0},s=o.show,l=o.text,u=a.shapeMap["".concat(this.type,"-icon")]||a.find(function(g){return g.get("name")==="".concat(n.type,"-icon")});if(u)if(s||s===void 0){var c=Cr({},u.attr(),i),f=c.width,d=f===void 0?20:f,h=c.height,v=h===void 0?20:h;(c.fontFamily==="iconfont"||c.hasOwnProperty("text"))&&(d=0,v=0),u.attr(ee(ee({},c),{x:-d/2,y:-v/2}))}else u.remove(),delete a.shapeMap["".concat(this.type,"-icon")];else if(s){var p="".concat(this.type,"-icon");if(l)a.shapeMap[p]=a.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:p,name:p});else{var d=i.width,v=i.height;a.shapeMap[p]=a.addShape("image",{attrs:ee(ee({},i),{x:-d/2,y:-v/2}),className:p,name:p})}var m=a.shapeMap["node-label"]||a.find(function(g){return g.get("name")==="node-label"});m&&m.toFront()}}},ade=ee(ee({},Fk),nde);Gn.registerNode("single-node",ade);var wy="edge-shape";function ide(e){var t=e;return e==="start"?t="end":e==="end"&&(t="start"),t}var ode={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:dr.defaultEdge.size,style:{x:0,y:0,stroke:dr.defaultEdge.style.stroke,lineAppendWidth:dr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:dr.edgeLabel.style.fill,fontSize:dr.edgeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},stateStyles:ee({},dr.edgeStateStyles)},getPath:function(t){var r=[];return pt(t,function(n,a){a===0?r.push(["M",n.x,n.y]):r.push(["L",n.x,n.y])}),r},getShapeStyle:function(t){var r=this.options.style,n={stroke:t.color},a=Cr({},r,n,t.style),i=t.size||dr.defaultEdge.size;t=this.getPathPoints(t);var o=t.startPoint,s=t.endPoint,l=this.getControlPoints(t),u=[o];l&&(u=u.concat(l)),u.push(s);var c=this.getPath(u),f=Cr({},dr.defaultEdge.style,{stroke:dr.defaultEdge.color,lineWidth:i,path:c},a);return f},updateShapeStyle:function(t,r,n){var a,i=r.getContainer(),o=((a=r.getKeyShape)===null||a===void 0?void 0:a.call(r))||i.shapeMap["edge-shape"],s=t.size;t=this.getPathPoints(t);var l=t.startPoint,u=t.endPoint,c=this.getControlPoints(t),f=[l];c&&(f=f.concat(c)),f.push(u);var d=o.attr(),h=t.style||{};h.stroke===void 0&&(h.stroke=t.color);var v=t.sourceNode,p=t.targetNode,m={radius:h.radius};c||(m={source:v,target:p,offset:h.offset,radius:h.radius});var g=this.getPath(f,m),b={};n==="move"?b={path:g}:(d.endArrow&&h.endArrow===!1&&(t.style.endArrow={path:""}),d.startArrow&&h.startArrow===!1&&(t.style.startArrow={path:""}),b=ee({},t.style),b.lineWidth===void 0&&(b.lineWidth=(pr(s)?s:s==null?void 0:s[0])||d.lineWidth),b.path===void 0&&(b.path=g),b.stroke===void 0&&(b.stroke=d.stroke||t.color)),o&&o.attr(b)},getLabelStyleByPosition:function(t,r,n){var a=r.position||this.labelPosition,i={},o=n==null?void 0:n.shapeMap[wy],s;a==="start"?s=0:a==="end"?s=1:s=.5;var l=r.refX||this.refX,u=r.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return i.x=t.startPoint.x+l,i.y=t.startPoint.y+u,i.text=t.label,i;var c;hr(r.autoRotate)?c=this.labelAutoRotate:c=r.autoRotate;var f=DG(o,s,l,u,c);return i.x=f.x,i.y=f.y,i.rotate=f.rotate,i.textAlign=this._getTextAlign(a,f.angle),i.text=t.label,i},getLabelBgStyleByPosition:function(t,r){if(!t)return{};var n=t.getBBox(),a=r.style&&r.style.background;if(!a)return{};var i=a.padding,o=n.width+i[1]+i[3],s=n.height+i[0]+i[2],l=ee(ee({},a),{width:o,height:s,x:n.minX-i[3],y:n.minY-i[0],matrix:[1,0,0,0,1,0,0,0,1]}),u;return hr(r.autoRotate)?u=this.labelAutoRotate:u=r.autoRotate,u&&(l.matrix=t.attr("matrix")||[1,0,0,0,1,0,0,0,1]),l},_getTextAlign:function(t,r){var n="center";return r?(r=r%(Math.PI*2),t!=="center"&&(r>=0&&r<=Math.PI/2||r>=3/2*Math.PI&&r<2*Math.PI?n=t:n=ide(t)),n):t},getControlPoints:function(t){return t.controlPoints},getPathPoints:function(t){return t},drawShape:function(t,r){var n=this.getShapeStyle(t),a=r.addShape("path",{className:wy,name:wy,attrs:n});return r.shapeMap[wy]=a,a},drawLabel:function(t,r){var n=this.options.labelCfg,a=zn({},n,t.labelCfg),i=this.getLabelStyle(t,a,r),o=i.rotate;delete i.rotate;var s=r.addShape("text",{attrs:i,name:"text-shape",labelRelated:!0,draggable:!0});if(r.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""&&s.rotateAtStart(o),i.background){var l=this.drawLabelBg(t,r,s,i,o),u=this.itemType+pC;l.set("classname",u),r.shapeMap[u]=l,s.toFront()}return s},drawLabelBg:function(t,r,n,a,i){var o=this.options.labelCfg,s=zn({},o,t.labelCfg),l=this.getLabelBgStyleByPosition(n,s),u=r.addShape("rect",{name:"text-bg-shape",attrs:l,labelRelated:!0});return r.shapeMap["text-bg-shape"]=u,u}},sde=ee(ee({},Fk),ode);Gn.registerEdge("single-edge",sde);Gn.registerEdge("line",{getControlPoints:function(){}},"single-edge");Gn.registerEdge("spline",{getPath:function(t){var r=zj(t);return r}},"single-edge");Gn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(t){var r=t.startPoint,n=t.endPoint,a={x:(r.x+n.x)/2,y:(r.y+n.y)/2},i,o;if(t.controlPoints!==void 0){if(o=t.controlPoints[0],i=$S(r,o,n),r.x<=n.x&&r.y>n.y?this.clockwise=i.x>o.x?0:1:r.x<=n.x&&r.y<n.y?this.clockwise=i.x>o.x?1:0:r.x>n.x&&r.y<=n.y?this.clockwise=i.y<o.y?0:1:this.clockwise=i.y<o.y?1:0,(o.x-r.x)/(o.y-r.y)===(n.x-r.x)/(n.y-r.y))return[]}else{t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),wr(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),t.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:n.x-r.x,y:n.y-r.y},l=Math.atan2(s.y,s.x);o={x:t.curveOffset*Math.cos(-Math.PI/2+l)+a.x,y:t.curveOffset*Math.sin(-Math.PI/2+l)+a.y},i=$S(r,o,n)}var u=Rb(r,i),c=[{x:u,y:u}];return c},getPath:function(t){var r=[];return r.push(["M",t[0].x,t[0].y]),t.length===2?r.push(["L",t[1].x,t[1].y]):r.push(["A",t[1].x,t[1].y,0,0,this.clockwise,t[2].x,t[2].y]),r}},"single-edge");Gn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(t){var r=t.controlPoints;if(!r||!r.length){var n=t.startPoint,a=t.endPoint;t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),wr(t.curveOffset)&&(t.curveOffset=t.curveOffset[0]),wr(t.curvePosition)&&(t.curvePosition=t.curveOffset[0]);var i=Ub(n,a,t.curvePosition,t.curveOffset);r=[i]}return r},getPath:function(t){var r=[];return r.push(["M",t[0].x,t[0].y]),r.push(["Q",t[1].x,t[1].y,t[2].x,t[2].y]),r}},"single-edge");Gn.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(t){var r=t.controlPoints;if(t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),pr(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),pr(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]),!r||!r.length||r.length<2){var n=t.startPoint,a=t.endPoint,i=Ub(n,a,t.curvePosition[0],t.curveOffset[0]),o=Ub(n,a,t.curvePosition[1],t.curveOffset[1]);r=[i,o]}return r},getPath:function(t){var r=[];return r.push(["M",t[0].x,t[0].y]),r.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),r}},"single-edge");Gn.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var r=t.startPoint,n=t.endPoint;t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.minCurveOffset===void 0&&(t.minCurveOffset=this.minCurveOffset),pr(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),pr(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),pr(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var a=n.y-r.y,i=[0,0];t.curveOffset?i=t.curveOffset:Math.abs(a)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset);var o={x:r.x,y:r.y+a*this.curvePosition[0]+i[0]},s={x:n.x,y:n.y-a*this.curvePosition[1]+i[1]};return[o,s]}},"cubic");Gn.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(t){var r=t.startPoint,n=t.endPoint;t.curvePosition===void 0&&(t.curvePosition=this.curvePosition),t.curveOffset===void 0&&(t.curveOffset=this.curveOffset),t.minCurveOffset===void 0&&(t.minCurveOffset=this.minCurveOffset),pr(t.curveOffset)&&(t.curveOffset=[t.curveOffset,-t.curveOffset]),pr(t.minCurveOffset)&&(t.minCurveOffset=[t.minCurveOffset,-t.minCurveOffset]),pr(t.curvePosition)&&(t.curvePosition=[t.curvePosition,1-t.curvePosition]);var a=n.x-r.x,i=[0,0];t.curveOffset?i=t.curveOffset:Math.abs(a)<Math.abs(t.minCurveOffset[0])&&(i=t.minCurveOffset);var o={x:r.x+a*this.curvePosition[0]+i[0],y:r.y},s={x:n.x-a*this.curvePosition[1]+i[1],y:n.y},l=[o,s];return l}},"cubic");Gn.registerEdge("loop",{getPathPoints:function(t){return PG(t)},getControlPoints:function(t){return t.controlPoints},afterDraw:function(t){t.controlPoints=void 0},afterUpdate:function(t){t.controlPoints=void 0}},"cubic");var lde={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:dr.comboLabel.refX,refY:dr.comboLabel.refY,options:{style:{stroke:dr.defaultCombo.style.stroke,fill:dr.defaultCombo.style.fill,lineWidth:dr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:dr.comboLabel.style.fill,fontSize:dr.comboLabel.style.fontSize,fontFamily:dr.windowFontFamily}},stateStyles:ee({},dr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(t){var r=un(t.size||this.options.size||dr.defaultCombo.size);return wr(r)&&r.length===1&&(r=[r[0],r[0]]),wr(r)||(r=[r,r]),r},getLabelStyleByPosition:function(t,r){var n=r.position||this.labelPosition,a=t.style,i=t.padding||this.options.padding;wr(i)&&(i=Math.max.apply(Math,i));var o=r.refX,s=r.refY;hr(o)&&(o=this.refX),hr(s)&&(s=this.refY);var l=this.getSize(t),u=Math.max(a.r,l[0]/2)||l[0]/2,c=u+i,f;switch(n){case"top":f={x:0,y:-c-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":f={x:0,y:c+s,textBaseline:"bottom",textAlign:"center"};break;case"left":f={x:-c+o,y:0,textAlign:"left"};break;case"center":f={x:0,y:0,text:t.label,textAlign:"center"};break;default:f={x:c+o,y:0,textAlign:"right"};break}return f.text=t.label,f},drawShape:function(t,r){var n=this.shapeType,a=this.getShapeStyle(t),i=r.addShape(n,{attrs:a,draggable:!0,name:"combo-shape"});return i},updateCollapsedIcon:function(t,r,n){var a=t.collapsed,i=t.collapsedSubstituteIcon,o=i===void 0?{}:i,s=Object.assign({},this.options.collapsedSubstituteIcon,o),l=s.show,u=s.img,c=s.width,f=s.height,d=r.getContainer(),h=d.find(function(g){return g.get("name")==="combo-collapsed-substitute-icon"}),v=h&&!h.destroyed,p=r.get("keyShape");if(a&&l){if(v)h.show();else{var m={width:c||n.r*2||n.width,height:f||n.r*2||n.height};h=d.addShape("image",{attrs:ee({img:u,x:-m.width/2,y:-m.height/2},m),name:"combo-collapsed-substitute-icon",draggable:!0})}p.hide()}else v&&(h.hide(),p.show())},updateShape:function(t,r,n){var a=this,i=r.get("keyShape"),o=r.get("animate"),s=o&&(t.animate===void 0?this.options.animate:t.animate);s&&i.animate?(t.collapsed||this.updateCollapsedIcon(t,r,n),i.animate(n,{duration:200,easing:"easeLinear",callback:function(){t.collapsed&&a.updateCollapsedIcon(t,r,n)}})):(i.attr(ee({},n)),this.updateCollapsedIcon(t,r,n)),this.updateLabel(t,r)}},ude=ee(ee({},Fk),lde);Gn.registerCombo("single-combo",ude);Gn.registerCombo("circle",{options:{size:[dr.defaultCombo.size[0],dr.defaultCombo.size[0]],padding:Math.max.apply(Math,dr.defaultCombo.padding),animate:!0,style:{stroke:dr.defaultCombo.style.stroke,fill:dr.defaultCombo.style.fill,lineWidth:dr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:dr.comboLabel.style.fill,fontSize:dr.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:ee({},dr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(t,r){var n=this.getShapeStyle(t);delete n.height,delete n.width;var a=r.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0});return a},getShapeStyle:function(t){var r=this.options.style,n=t.padding||this.options.padding;wr(n)&&(n=Math.max.apply(Math,n));var a={stroke:t.color},i=Cr({},r,a,t.style),o=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize,s;if(o)s=pr(o)?o/2:o[0]/2;else{var l=this.getSize(t);!pr(i.r)||isNaN(i.r)?s=l[0]/2||dr.defaultCombo.style.r:s=Math.max(i.r,l[0]/2)||l[0]/2}i.r=s+n;var u=ee({x:0,y:0},i);return t.style?t.style.r=s:t.style={r:s},u},update:function(t,r){var n=this.getSize(t),a=t.padding||this.options.padding;wr(a)&&(a=Math.max.apply(Math,a));var i=un(t.style),o=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize,s;o?s=pr(o)?o/2:o[0]/2:s=Math.max(i.r,n[0]/2)||n[0]/2,i.r=s+a;var l=r.get("sizeCache");l&&(l.r=i.r);var u={stroke:t.color},c=r.get("keyShape"),f=Cr({},c.attr(),u,i);t.style?t.style.r=s:t.style={r:s},this.updateShape(t,r,f,!0)}},"single-combo");Gn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:dr.defaultCombo.style.stroke,fill:dr.defaultCombo.style.fill,lineWidth:dr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:dr.comboLabel.style.fill,fontSize:dr.comboLabel.style.fontSize,fontFamily:dr.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:ee({},dr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(t,r){var n=this.getShapeStyle(t),a=r.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0});return a},getLabelStyleByPosition:function(t,r){var n=r.position||this.labelPosition,a=t.style,i=t.padding||this.options.padding;pr(i)&&(i=[i,i,i,i]);var o=r.refX,s=r.refY;hr(o)&&(o=this.refX),hr(s)&&(s=this.refY);var l=-a.width/2-i[3],u=a.width/2+i[1],c=-a.height/2-i[0],f=a.height/2+i[2],d;switch(n){case"top":d={x:l+o,y:c+s,textBaseline:"top",textAlign:"left"};break;case"bottom":d={x:0,y:f+s,textBaseline:"top",textAlign:"center"};break;case"left":d={x:l+s,y:0,textAlign:"left"};break;case"center":d={x:0,y:0,text:t.label,textAlign:"center"};break;case"top-center":d={x:0,y:c+s,textBaseline:"top",textAlign:"center"};break;default:d={x:u+o,y:0,textAlign:"right"};break}return d.text=t.label,d},getShapeStyle:function(t){var r=this.options.style,n=t.padding||this.options.padding;pr(n)&&(n=[n,n,n,n]);var a={stroke:t.color},i=Cr({},r,a,t.style),o=this.getSize(t),s,l,u=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;u?pr(u)?(s=u,l=u):(s=u[0],l=u[1]):(!pr(i.width)||isNaN(i.width)?s=o[0]||dr.defaultCombo.style.width:s=Math.max(i.width,o[0])||o[0],!pr(i.height)||isNaN(i.height)?l=o[1]||dr.defaultCombo.style.height:l=Math.max(i.height,o[1])||o[1]);var c=-s/2-n[3],f=-l/2-n[0];i.width=s+n[1]+n[3],i.height=l+n[0]+n[2];var d=ee({x:c,y:f},i);return t.style?(t.style.width=s,t.style.height=l):t.style={width:s,height:l},d},update:function(t,r){var n=this.getSize(t),a=t.padding||this.options.padding;pr(a)&&(a=[a,a,a,a]);var i=un(t.style),o,s,l=t.collapsed&&t.fixCollapseSize?t.fixCollapseSize:t.fixSize;l?pr(l)?(o=l,s=l):(o=l[0],s=l[1]):(o=Math.max(i.width,n[0])||n[0],s=Math.max(i.height,n[1])||n[1]),i.width=o+a[1]+a[3],i.height=s+a[0]+a[2];var u=r.get("sizeCache");u&&(u.width=i.width,u.height=i.height),i.x=-o/2-a[3],i.y=-s/2-a[0];var c={stroke:t.color},f=r.get("keyShape"),d=Cr({},f.attr(),c,i);t.style?(t.style.width=o,t.style.height=s):t.style={width:o,height:s},this.updateShape(t,r,d,!1)}},"single-combo");Gn.registerNode("simple-circle",{options:{size:dr.defaultNode.size,style:{x:0,y:0,stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},stateStyles:ee({},dr.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(t,r){var n=this.getShapeStyle(t),a="".concat(this.type,"-keyShape"),i=r.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:a,draggable:!0});return r.shapeMap[a]=i,i},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=zn({},r,n),i=this.getSize(t),o=i[0]/2,s=ee({x:0,y:0,r:o},a);return s},update:function(t,r,n){var a=this.getSize(t),i={stroke:t.color,r:a[0]/2},o=r.get("keyShape"),s=zn({},o.attr(),i,t.style);this.updateShape(t,r,s,!0,n)}},"single-node");Gn.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:dr.defaultNode.style.stroke,fill:dr.defaultNode.style.fill,lineWidth:dr.defaultNode.style.lineWidth},labelCfg:{style:{fill:dr.nodeLabel.style.fill,fontSize:dr.nodeLabel.style.fontSize,fontFamily:dr.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:ee({},dr.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(t,r){var n=this.getShapeStyle(t),a=r.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return a},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=Cr({},r,n),i=this.getSize(t),o=a.width||i[0],s=a.height||i[1],l=ee({x:-o/2,y:-s/2,width:o,height:s},a);return l},update:function(t,r,n){r.getContainer();var a=(this.mergeStyle||this.getOptions(t)).style,i=this.getSize(t),o=r.get("keyShape");t.size||(i[0]=o.attr("width")||a.width,i[1]=o.attr("height")||a.height);var s={stroke:t.color,x:-i[0]/2,y:-i[1]/2,width:i[0],height:i[1]},l=Cr({},a,o.attr(),s);l=Cr(l,t.style),this.updateShape(t,r,l,!1,n)}},"single-node");Gn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:dr.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(t,r){var n=this.shapeType,a=this.getShapeStyle(t);delete a.fill;var i=r.addShape(n,{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(t,i),i},drawClip:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).clipCfg;if(n.show){var a=n.type,i=n.x,o=n.y,s=n.style;if(a==="circle"){var l=n.r;r.setClip({type:"circle",attrs:ee({r:l,x:i,y:o},s)})}else if(a==="rect"){var u=n.width,c=n.height,f=i-u/2,d=o-c/2;r.setClip({type:"rect",attrs:ee({x:f,y:d,width:u,height:c},s)})}else if(a==="ellipse"){var h=n.rx,v=n.ry;r.setClip({type:"ellipse",attrs:ee({x:i,y:o,rx:h,ry:v},s)})}else if(a==="polygon"){var p=n.points;r.setClip({type:"polygon",attrs:ee({points:p},s)})}else if(a==="path"){var m=n.path;r.setClip({type:"path",attrs:ee({path:m},s)})}}},getShapeStyle:function(t){var r=this.mergeStyle||this.getOptions(t),n=r.style,a=r.img,i=this.getSize(t),o=i[0],s=i[1];n&&(o=n.width||i[0],s=n.height||i[1]);var l=ee({x:-o/2,y:-s/2,width:o,height:s,img:a},n);return l},updateShapeStyle:function(t,r){var n=r.getContainer(),a="".concat(this.itemType,"-shape"),i=n.shapeMap[a]||n.find(function(s){return s.get("className")===a})||r.getKeyShape(),o=this.getShapeStyle(t);i&&!i.destroyed&&i.attr(o)}},"single-node");const Wj={triangle:function(t,r,n){t===void 0&&(t=10),r===void 0&&(r=15),n===void 0&&(n=0);var a=n*2,i="M ".concat(a,",0 L ").concat(a+r,",-").concat(t/2," L ").concat(a+r,",").concat(t/2," Z");return i},vee:function(t,r,n){t===void 0&&(t=15),r===void 0&&(r=20),n===void 0&&(n=0);var a=n*2,i="M ".concat(a,",0 L ").concat(a+r,",-").concat(t/2,`
        L `).concat(a+2*r/3,",0 L ").concat(a+r,",").concat(t/2," Z");return i},circle:function(t,r){t===void 0&&(t=5),r===void 0&&(r=0);var n=r*2,a="M ".concat(n,`, 0
            a `).concat(t,",").concat(t," 0 1,0 ").concat(t*2,`,0
            a `).concat(t,",").concat(t," 0 1,0 ").concat(-t*2,",0");return a},rect:function(t,r,n){t===void 0&&(t=10),r===void 0&&(r=10),n===void 0&&(n=0);var a=n*2,i="M ".concat(a,",").concat(-t/2,` 
        L `).concat(a+r,",").concat(-t/2,` 
        L `).concat(a+r,",").concat(t/2,` 
        L `).concat(a,",").concat(t/2," Z");return i},diamond:function(t,r,n){t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=0);var a=n*2,i="M ".concat(a,`,0 
        L `).concat(a+r/2,",").concat(-t/2,` 
        L `).concat(a+r,`,0 
        L `).concat(a+r/2,",").concat(t/2," Z");return i},triangleRect:function(t,r,n,a,i,o){t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=15),a===void 0&&(a=3),i===void 0&&(i=5),o===void 0&&(o=0);var s=o*2,l=s+r+i,u="M ".concat(s,",0 L ").concat(s+r,",-").concat(t/2," L ").concat(s+r,",").concat(t/2,` Z
            M `).concat(l,", -").concat(n/2,`
            L `).concat(l+a," -").concat(n/2,`
            L `).concat(l+a," ").concat(n/2,`
            L `).concat(l," ").concat(n/2,`
            Z`);return u}},Hj={collapse:function(t,r,n){return[["M",t-n,r],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0],["M",t-n+4,r],["L",t+n-4,r]]},expand:function(t,r,n){return[["M",t-n,r],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0],["M",t-n+4,r],["L",t-n+2*n-4,r],["M",t-n+n,r-n+4],["L",t,r+n-4]]},upTriangle:function(t,r,n){var a=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-a,r+i],["L",t+a,r+i],["L",t,r-n],["Z"]]},downTriangle:function(t,r,n){var a=n*Math.cos(Math.PI/6),i=n*Math.sin(Math.PI/6);return[["M",t-a,r-i],["L",t+a,r-i],["L",t,r+n],["Z"]]}};var cde=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"];const fde=Object.freeze(Object.defineProperty({__proto__:null,defaultSubjectColors:cde},Symbol.toStringTag,{value:"Module"}));var Yj=function(t){return t==="force"||t==="g6force"||t==="gForce"||t==="force2"};const dde=Object.freeze(Object.defineProperty({__proto__:null,isForce:Yj},Symbol.toStringTag,{value:"Module"}));var hde=vs,yi=ee(ee(ee(ee(ee(ee(ee({},Mfe),Hle),Wfe),$le),fde),dde),{transform:hde,mat3:K8}),Kj=function(){function e(t){this.graph=t,this.layoutCfg=t.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return e.prototype.initLayout=function(){},e.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},e.prototype.getLayoutCfgType=function(t){var r=t.type;if(r)return r;var n=t.pipes;return Array.isArray(n)?n.map(function(a){return(a==null?void 0:a.type)||""}):null},e.prototype.isLayoutTypeSame=function(t){var r=this.getLayoutCfgType(t),n=Array.isArray(this.layoutType),a=Array.isArray(r);return n&&a?this.layoutType.every(function(i,o){return i===r[o]}):Array.isArray(r)||Array.isArray(this.layoutType)?!1:(t==null?void 0:t.type)===this.layoutType},e.prototype.refreshLayout=function(){var t=this,r=t.graph,n=t.layoutType,a=t.layoutCfg,i=a===void 0?{}:a;if(r){var o=i.animate,s=o===void 0&&(n==="force"||n==="force2"),l=Yj(n)&&(o||s);r.get("animate")&&!l?r.positionsAnimate(n==="comboCombined"):r.refreshPositions(n==="comboCombined")}},e.prototype.changeLayout=function(t){var r=t.disableTriggerLayout,n=Ga(t,["disableTriggerLayout"]);this.layoutCfg=n,this.layoutType=n.type||this.layoutType,!r&&this.layout()},e.prototype.changeData=function(t){this.layout(t)},e.prototype.destoryLayoutMethods=function(){var t=this.layoutMethods,r=[];return t==null||t.forEach(function(n){var a,i=(a=n.getType)===null||a===void 0?void 0:a.call(n);i&&r.push(i),n.destroy()}),this.layoutMethods=[],r},e.prototype.destroyLayout=function(){this.destoryLayoutMethods();var t=this.graph;t&&!t.get("destroyed")&&t.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},e.prototype.setDataFromGraph=function(){for(var t,r=[],n=[],a=[],i=[],o=[],s=[],l=[],u=this.graph.getNodes(),c=this.graph.getEdges(),f=this.graph.getCombos(),d=u.length,h=0;h<d;h++){var v=u[h];if(!(!v||v.destroyed)){var p=v.getModel();if(!v.isVisible()){n.push(p);continue}r.push(p)}}for(var m=c.length,h=0;h<m;h++){var g=c[h];if(!(!g||g.destroyed)){var p=g.getModel();if(!g.isVisible()){i.push(p);continue}p.isComboEdge?o.push(p):a.push(p)}}for(var b=f.length,h=0;h<b;h++){var y=f[h];if(!y.destroyed){var p=y.getModel();if(!y.isVisible()){l.push(p);continue}s.push(p)}}return{nodes:r,hiddenNodes:n,edges:a,hiddenEdges:i,combos:s,hiddenCombos:l,comboEdges:o,vedges:(t=this.graph.get("vedges"))===null||t===void 0?void 0:t.map(function(w){return w.getModel()})}},e.prototype.relayout=function(t){var r=this,n=this,a=n.graph,i=n.layoutMethods,o=n.layoutCfg;if(!(!a||a.get("destroyed"))){var s=Promise.resolve();if(t){this.data=this.setDataFromGraph();var l=this.data.nodes;if(!l)return!1;s=this.initPositions(o.center,l)}a.emit("beforelayout"),i==null||i.forEach(function(u,c){var f=o[c]||o;s=s.then(function(){var d,h=r.execLayoutMethod(f,c);return c===i.length-1&&((d=o.onAllLayoutEnd)===null||d===void 0||d.call(o)),h})})}},e.prototype.filterLayoutData=function(t,r){var n=t.nodes,a=t.edges,i=Ga(t,["nodes","edges"]);if(!n)return t;var o,s;ta(r==null?void 0:r.nodesFilter)?o=r.nodesFilter:o=function(){return!0};var l=n.filter(o);if(ta(r==null?void 0:r.edgesFilter))s=r.edgesFilter;else{var u=l.reduce(function(c,f){return c[f.id]=!0,c},{});s=function(f){return u[f.source]&&u[f.target]}}return ee({nodes:l,edges:a.filter(s)},i)},e.prototype.getLayoutBBox=function(t){var r=this.graph,n=Ob(r.getNodes(),function(o){return o.getModel().layoutOrder}),a=Object.values(n).map(function(o){var s=Aj(o);return s.size=[s.width,s.height],s}),i=Object.values(Ob(t,"layoutOrder"));return{groupNodes:i,layoutNodes:a}},e.prototype.layoutAnimate=function(){},e.prototype.moveToZero=function(){var t=this.graph,r=t.get("data"),n=r.nodes;if(!(n[0].x===void 0||n[0].x===null||ul(n[0].x))){for(var a=[0,0],i=n.length,o=0;o<i;o++){var s=n[o];a[0]+=s.x,a[1]+=s.y}a[0]/=n.length,a[1]/=n.length;for(var o=0;o<i;o++){var s=n[o];s.x-=a[0],s.y-=a[1]}}},e.prototype.initPositions=function(t,r){var n;return wo(this,void 0,void 0,function(){var a,i,o;return Eo(this,function(s){return a=this.graph,r!=null&&r.length?(i=r.filter(function(l){return ul(l.x)||ul(l.y)}),o=i?i.length:0,o?[2,(n=this.initWithPreset)===null||n===void 0?void 0:n.call(this,function(){},function(){var l=a.get("width")*.85,u=a.get("height")*.85,c=Math.ceil(Math.sqrt(o)*(l/u)),f=Math.ceil(o/c),d=l/(c-1),h=u/(f-1);(!isFinite(d)||!d)&&(d=0),(!isFinite(h)||!d)&&(h=0);for(var v=t[0]-l/2,p=t[1]-u/2,m=0;m<o;m++){var g=i[m];ul(+g.x)&&(g.x=m%c*d+v),ul(+g.y)&&(g.y=Math.floor(m/c)*h+p)}})]:[2]):[2,Promise.resolve()]})})},e.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},e}(),Xj=function(){function e(t){this.graph=t,this.destroyed=!1,this.initEvents()}return e}(),xu=Gn.registerNode,qj=Gn.registerEdge,vde=Gn.registerCombo,Zj=tk.registerBehavior,qt=dr;dr.version,Gn.registerNode,Gn.registerEdge,Gn.registerCombo,tk.registerBehavior;var zk={},vn={},fE={},kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.MESSAGE=kc.ALGORITHM=void 0;var pde={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};kc.ALGORITHM=pde;var gde={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};kc.MESSAGE=gde;var dE={},Qj={},wd={};Object.defineProperty(wd,"__esModule",{value:!0});wd.default=void 0;var mde=function(t,r){var n=t.nodes,a=t.edges,i=[],o={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(s,l){o[s.id]=l;var u=[];i.push(u)}),a&&a.forEach(function(s){var l=s.source,u=s.target,c=o[l],f=o[u];!c&&c!==0||!f&&f!==0||(i[c][f]=1,r||(i[f][c]=1))}),i},yde=mde;wd.default=yde;var hE={},vE={},Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.default=Qh.LinkedListNode=void 0;var bde=function(t,r){return t===r},gC=function(){function e(t,r){r===void 0&&(r=null),this.value=t,this.next=r}return e.prototype.toString=function(t){return t?t(this.value):"".concat(this.value)},e}();Qh.LinkedListNode=gC;var wde=function(){function e(t){t===void 0&&(t=bde),this.head=null,this.tail=null,this.compare=t}return e.prototype.prepend=function(t){var r=new gC(t,this.head);return this.head=r,this.tail||(this.tail=r),this},e.prototype.append=function(t){var r=new gC(t);return this.head?(this.tail.next=r,this.tail=r,this):(this.head=r,this.tail=r,this)},e.prototype.delete=function(t){if(!this.head)return null;for(var r=null;this.head&&this.compare(this.head.value,t);)r=this.head,this.head=this.head.next;var n=this.head;if(n!==null)for(;n.next;)this.compare(n.next.value,t)?(r=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,t)&&(this.tail=n),r},e.prototype.find=function(t){var r=t.value,n=r===void 0?void 0:r,a=t.callback,i=a===void 0?void 0:a;if(!this.head)return null;for(var o=this.head;o;){if(i&&i(o.value)||n!==void 0&&this.compare(o.value,n))return o;o=o.next}return null},e.prototype.deleteTail=function(){var t=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,t;for(var r=this.head;r.next;)r.next.next?r=r.next:r.next=null;return this.tail=r,t},e.prototype.deleteHead=function(){if(!this.head)return null;var t=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),t},e.prototype.fromArray=function(t){var r=this;return t.forEach(function(n){return r.append(n)}),this},e.prototype.toArray=function(){for(var t=[],r=this.head;r;)t.push(r),r=r.next;return t},e.prototype.reverse=function(){for(var t=this.head,r=null,n=null;t;)n=t.next,t.next=r,r=t,t=n;this.tail=this.head,this.head=r},e.prototype.toString=function(t){return t===void 0&&(t=void 0),this.toArray().map(function(r){return r.toString(t)}).toString()},e}(),Ede=wde;Qh.default=Ede;Object.defineProperty(vE,"__esModule",{value:!0});vE.default=void 0;var _de=xde(Qh);function xde(e){return e&&e.__esModule?e:{default:e}}var Sde=function(){function e(){this.linkedList=new _de.default}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(t){this.linkedList.append(t)},e.prototype.dequeue=function(){var t=this.linkedList.deleteHead();return t?t.value:null},e.prototype.toString=function(t){return this.linkedList.toString(t)},e}(),Cde=Sde;vE.default=Cde;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.uniqueId=Na.getOutEdgesNodeId=Na.getNeighbors=Na.getEdgesByNodeId=void 0;var Mde=function(t,r,n){r===void 0&&(r=[]);var a=r.filter(function(l){return l.source===t||l.target===t});if(n==="target"){var i=function(u){return u.source===t};return a.filter(i).map(function(l){return l.target})}if(n==="source"){var o=function(u){return u.target===t};return a.filter(o).map(function(l){return l.source})}var s=function(u){return u.source===t?u.target:u.source};return a.map(s)};Na.getNeighbors=Mde;var Tde=function(t,r){return r.filter(function(n){return n.source===t})};Na.getOutEdgesNodeId=Tde;var kde=function(t,r){return r.filter(function(n){return n.source===t||n.target===t})};Na.getEdgesByNodeId=kde;var Ade=function(t){t===void 0&&(t=0);var r="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(t,"-").concat(r).concat(n)};Na.uniqueId=Ade;Object.defineProperty(hE,"__esModule",{value:!0});hE.default=void 0;var Ide=Lde(vE),Ode=Na;function Lde(e){return e&&e.__esModule?e:{default:e}}function Nde(e){e===void 0&&(e={});var t=e,r=function(){},n=function(){var a={};return function(i){var o=i.next,s=o;return a[s]?!1:(a[s]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||n,t.enter=e.enter||r,t.leave=e.leave||r,t}var Pde=function(t,r,n,a){a===void 0&&(a=!0);var i=Nde(n),o=new Ide.default,s=t.edges,l=s===void 0?[]:s;o.enqueue(r);for(var u="",c=function(){var d=o.dequeue();i.enter({current:d,previous:u}),(0,Ode.getNeighbors)(d,l,a?"target":void 0).forEach(function(h){i.allowTraversal({previous:u,current:d,next:h})&&o.enqueue(h)}),i.leave({current:d,previous:u}),u=d};!o.isEmpty();)c()},Dde=Pde;hE.default=Dde;var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.default=Rde;Ac.detectStrongConnectComponents=Ac.detectConnectedComponents=void 0;var Jj=Na,eV=function(t){for(var r=t.nodes,n=r===void 0?[]:r,a=t.edges,i=a===void 0?[]:a,o=[],s={},l=[],u=function h(v){l.push(v),s[v.id]=!0;for(var p=(0,Jj.getNeighbors)(v.id,i),m=function(y){var w=p[y];if(!s[w]){var _=n.filter(function(x){return x.id===w});_.length>0&&h(_[0])}},g=0;g<p.length;++g)m(g)},c=0;c<n.length;c++){var f=n[c];if(!s[f.id]){u(f);for(var d=[];l.length>0;)d.push(l.pop());o.push(d)}}return o};Ac.detectConnectedComponents=eV;var tV=function(t){for(var r=t.nodes,n=r===void 0?[]:r,a=t.edges,i=a===void 0?[]:a,o=[],s={},l={},u={},c=[],f=0,d=function m(g){l[g.id]=f,u[g.id]=f,f+=1,o.push(g),s[g.id]=!0;for(var b=(0,Jj.getNeighbors)(g.id,i,"target").filter(function(S){return n.map(function(C){return C.id}).indexOf(S)>-1}),y=function(C){var T=b[C];if(!l[T]&&l[T]!==0){var M=n.filter(function(k){return k.id===T});M.length>0&&m(M[0]),u[g.id]=Math.min(u[g.id],u[T])}else s[T]&&(u[g.id]=Math.min(u[g.id],l[T]))},w=0;w<b.length;w++)y(w);if(u[g.id]===l[g.id]){for(var _=[];o.length>0;){var x=o.pop();if(s[x.id]=!1,_.push(x),x===g)break}_.length>0&&c.push(_)}},h=0,v=n;h<v.length;h++){var p=v[h];!l[p.id]&&l[p.id]!==0&&d(p)}return c};Ac.detectStrongConnectComponents=tV;function Rde(e,t){return t?tV(e):eV(e)}var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.getOutDegree=cu.getInDegree=cu.default=void 0;var Vg=function(t){var r={},n=t.nodes,a=n===void 0?[]:n,i=t.edges,o=i===void 0?[]:i;return a.forEach(function(s){r[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){r[s.source].degree++,r[s.source].outDegree++,r[s.target].degree++,r[s.target].inDegree++}),r},$de=Vg;cu.default=$de;var Bde=function(t,r){var n=Vg(t);return n[r]?Vg(t)[r].inDegree:0};cu.getInDegree=Bde;var Fde=function(t,r){var n=Vg(t);return n[r]?Vg(t)[r].outDegree:0};cu.getOutDegree=Fde;var hl={},pE={};Object.defineProperty(pE,"__esModule",{value:!0});pE.default=jde;var zde=Na;function Gde(e){e===void 0&&(e={});var t=e,r=function(){},n=function(){var a={};return function(i){var o=i.next;return a[o]?!1:(a[o]=!0,!0)}}();return t.allowTraversal=e.allowTraversal||n,t.enter=e.enter||r,t.leave=e.leave||r,t}function rV(e,t,r,n,a){a===void 0&&(a=!0),n.enter({current:t,previous:r});var i=e.edges,o=i===void 0?[]:i;(0,zde.getNeighbors)(t,o,a?"target":void 0).forEach(function(s){n.allowTraversal({previous:r,current:t,next:s})&&rV(e,s,t,n,a)}),n.leave({current:t,previous:r})}function jde(e,t,r,n){n===void 0&&(n=!0),rV(e,t,"",Gde(r),n)}function mC(e){"@babel/helpers - typeof";return mC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mC(e)}Object.defineProperty(hl,"__esModule",{value:!0});hl.detectAllUndirectedCycle=hl.detectAllDirectedCycle=hl.detectAllCycles=hl.default=void 0;var Vde=Wde(pE),nV=Ude(Ac),aV=Na;function iV(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(iV=function(a){return a?r:t})(e)}function Ude(e,t){if(e&&e.__esModule)return e;if(e===null||mC(e)!=="object"&&typeof e!="function")return{default:e};var r=iV(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function Wde(e){return e&&e.__esModule?e:{default:e}}var Hde=function(t){var r=null,n=t.nodes,a=n===void 0?[]:n,i={},o={},s={},l={};a.forEach(function(f){o[f.id]=f});for(var u={enter:function(d){var h=d.current,v=d.previous;if(s[h]){r={};for(var p=h,m=v;m!==h;)r[p]=m,p=m,m=i[m];r[p]=m}else s[h]=h,delete o[h],i[h]=v},leave:function(d){var h=d.current;l[h]=h,delete s[h]},allowTraversal:function(d){var h=d.next;return r?!1:!l[h]}};Object.keys(o).length;){var c=Object.keys(o)[0];(0,Vde.default)(t,c,u)}return r},oV=function(t,r,n){var a,i;n===void 0&&(n=!0);for(var o=[],s=(0,nV.default)(t,!1),l=0,u=s;l<u.length;l++){var c=u[l];if(c.length)for(var f=c[0],d=f.id,h=[f],v=(a={},a[d]=f,a),p=(i={},i[d]=new Set,i);h.length>0;)for(var m=h.pop(),g=m.id,b=(0,aV.getNeighbors)(g,t.edges),y=function(x){var S,C=b[x],T=t.nodes.find(function(R){return R.id===C});if(C===g)o.push((S={},S[C]=m,S));else if(!(C in p))v[C]=m,h.push(T),p[C]=new Set([m]);else if(!p[g].has(T)){for(var M=!0,k=[T,m],A=v[g];p[C].size&&!p[C].has(A)&&(k.push(A),A!==v[A.id]);)A=v[A.id];if(k.push(A),r&&n?(M=!1,k.findIndex(function(R){return r.indexOf(R.id)>-1})>-1&&(M=!0)):r&&!n&&k.findIndex(function(R){return r.indexOf(R.id)>-1})>-1&&(M=!1),M){for(var O={},P=1;P<k.length;P+=1)O[k[P-1].id]=k[P];k.length&&(O[k[k.length-1].id]=k[0]),o.push(O)}p[C].add(m)}},w=0;w<b.length;w+=1)y(w)}return o};hl.detectAllUndirectedCycle=oV;var sV=function(t,r,n){n===void 0&&(n=!0);for(var a=[],i=new Set,o=[],s=[],l={},u={},c=function(A){for(var O=[A];O.length>0;){var P=O.pop();i.has(P)&&(i.delete(P),o[P.id].forEach(function(R){O.push(R)}),o[P.id].clear())}},f=function k(A,O,P){var R=!1;if(r&&n===!1&&r.indexOf(A.id)>-1)return R;a.push(A),i.add(A);for(var N=P[A.id],L=0;L<N.length;L+=1){var B=l[N[L]];if(B===O){for(var I={},D=1;D<a.length;D+=1)I[a[D-1].id]=a[D];a.length&&(I[a[a.length-1].id]=a[0]),s.push(I),R=!0}else i.has(B)||k(B,O,P)&&(R=!0)}if(R)c(A);else for(var L=0;L<N.length;L+=1){var B=l[N[L]];o[B.id].has(A)||o[B.id].add(A)}return a.pop(),R},d=t.nodes,h=d===void 0?[]:d,v=0;v<h.length;v+=1){var p=h[v],m=p.id;u[m]=v,l[v]=p}if(r&&n)for(var g=function(A){var O=r[A];u[h[A].id]=u[O],u[O]=0,l[0]=h.find(function(P){return P.id===O}),l[u[h[A].id]]=h[A]},v=0;v<r.length;v++)g(v);for(var b=function(A){for(var O,P,R=1/0,N=0;N<A.length;N+=1)for(var L=A[N],B=0;B<L.length;B++){var I=u[L[B].id];I<R&&(R=I,P=N)}for(var D=A[P],z=[],N=0;N<D.length;N+=1){var U=D[N];z[U.id]=[];for(var H=0,Y=(0,aV.getNeighbors)(U.id,t.edges,"target").filter(function(re){return D.map(function(oe){return oe.id}).indexOf(re)>-1});H<Y.length;H++){var ie=Y[H];ie===U.id&&!(n===!1&&r.indexOf(U.id)>-1)?s.push((O={},O[U.id]=U,O)):z[U.id].push(u[ie])}}return{component:D,adjList:z,minIdx:R}},y=0;y<h.length;){var w=h.filter(function(k){return u[k.id]>=y}),_=(0,nV.detectStrongConnectComponents)({nodes:w,edges:t.edges}).filter(function(k){return k.length>1});if(_.length===0)break;var x=b(_),S=x.minIdx,C=x.adjList,T=x.component;if(T.length>1){T.forEach(function(k){o[k.id]=new Set});var M=l[S];if(r&&n&&r.indexOf(M.id)===-1)return s;f(M,M,C),y=S+1}else break}return s};hl.detectAllDirectedCycle=sV;var Yde=function(t,r,n,a){return a===void 0&&(a=!0),r?sV(t,n,a):oV(t,n,a)};hl.detectAllCycles=Yde;var Kde=Hde;hl.default=Kde;var Nv={};const lV=Nl(zte),T0=Nl(Qre);Object.defineProperty(Nv,"__esModule",{value:!0});Nv.default=void 0;var a3=lV,Xde=T0,i3=Na,qde=function(t,r,n){for(var a=1/0,i,o=0;o<r.length;o++){var s=r[o].id;!n[s]&&t[s]<=a&&(a=t[s],i=r[o])}return i},Zde=function(t,r,n,a){var i=t.nodes,o=i===void 0?[]:i,s=t.edges,l=s===void 0?[]:s,u={},c={},f={};o.forEach(function(b,y){var w=b.id;c[w]=1/0,w===r&&(c[w]=0)});for(var d=o.length,h=function(y){var w=qde(c,o,u),_=w.id;if(u[_]=!0,c[_]===1/0)return"continue";var x=[];n?x=(0,i3.getOutEdgesNodeId)(_,l):x=(0,i3.getEdgesByNodeId)(_,l),x.forEach(function(S){var C=S.target,T=S.source,M=C===_?T:C,k=a&&S[a]?S[a]:1;c[M]>c[w.id]+k?(c[M]=c[w.id]+k,f[M]=[w.id]):c[M]===c[w.id]+k&&f[M].push(w.id)})},v=0;v<d;v++)h();f[r]=[r];var p={};for(var m in c)c[m]!==1/0&&uV(r,m,f,p);var g={};for(var m in p)g[m]=p[m][0];return{length:c,path:g,allPath:p}},Qde=Zde;Nv.default=Qde;function uV(e,t,r,n){if(e===t)return[e];if(n[t])return n[t];for(var a=[],i=0,o=r[t];i<o.length;i++){var s=o[i],l=uV(e,s,r,n);if(!l)return;for(var u=0,c=l;u<c.length;u++){var f=c[u];(0,Xde.isArray)(f)?a.push((0,a3.__spreadArray)((0,a3.__spreadArray)([],f,!0),[t],!1)):a.push([f,t])}}return n[t]=a,n[t]}var Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.findShortestPath=Jh.findAllPath=void 0;var Jde=ehe(Nv),Ey=Na;function ehe(e){return e&&e.__esModule?e:{default:e}}var the=function(t,r,n,a,i){var o=(0,Jde.default)(t,r,a,i),s=o.length,l=o.path,u=o.allPath;return{length:s[n],path:l[n],allPath:u[n]}};Jh.findShortestPath=the;var rhe=function(t,r,n,a){var i;if(r===n)return[[r]];var o=t.edges,s=o===void 0?[]:o,l=[r],u=(i={},i[r]=!0,i),c=[],f=[],d=a?(0,Ey.getNeighbors)(r,s,"target"):(0,Ey.getNeighbors)(r,s);for(c.push(d);l.length>0&&c.length>0;){var h=c[c.length-1];if(h.length){var v=h.shift();v&&(l.push(v),u[v]=!0,d=a?(0,Ey.getNeighbors)(v,s,"target"):(0,Ey.getNeighbors)(v,s),c.push(d.filter(function(g){return!u[g]})))}else{var p=l.pop();u[p]=!1,c.pop();continue}if(l[l.length-1]===n){var m=l.map(function(b){return b});f.push(m);var p=l.pop();u[p]=!1,c.pop()}}return f};Jh.findAllPath=rhe;var k0={};Object.defineProperty(k0,"__esModule",{value:!0});k0.default=void 0;var nhe=ahe(wd);function ahe(e){return e&&e.__esModule?e:{default:e}}var ihe=function(t,r){for(var n=(0,nhe.default)(t,r),a=[],i=n.length,o=0;o<i;o+=1){a[o]=[];for(var s=0;s<i;s+=1)o===s?a[o][s]=0:n[o][s]===0||!n[o][s]?a[o][s]=1/0:a[o][s]=n[o][s]}for(var l=0;l<i;l+=1)for(var o=0;o<i;o+=1)for(var s=0;s<i;s+=1)a[o][s]>a[o][l]+a[l][s]&&(a[o][s]=a[o][l]+a[l][s]);return a},ohe=ihe;k0.default=ohe;var gE={};Object.defineProperty(gE,"__esModule",{value:!0});gE.default=void 0;var she=uhe(wd),lhe=Na;function uhe(e){return e&&e.__esModule?e:{default:e}}var che=function(t,r,n,a){r===void 0&&(r=!1),n===void 0&&(n="weight"),a===void 0&&(a=1e3);var i=t.nodes,o=i===void 0?[]:i,s=t.edges,l=s===void 0?[]:s,u={},c={};o.forEach(function(y,w){var _=(0,lhe.uniqueId)();y.clusterId=_,u[_]={id:_,nodes:[y]},c[y.id]={node:y,idx:w}});var f=(0,she.default)(t,r),d={};f.forEach(function(y,w){var _=o[w].id;d[_]={},y.forEach(function(x,S){if(x){var C=o[S].id;d[_][C]=x}})});for(var h=0,v=function(){var w=!1;if(o.forEach(function(_){var x={};Object.keys(d[_.id]).forEach(function(P){var R=d[_.id][P],N=c[P].node,L=N.clusterId;x[L]||(x[L]=0),x[L]+=R});var S=-1/0,C=[];if(Object.keys(x).forEach(function(P){S<x[P]?(S=x[P],C=[P]):S===x[P]&&C.push(P)}),!(C.length===1&&C[0]===_.clusterId)){var T=C.indexOf(_.clusterId);if(T>=0&&C.splice(T,1),C&&C.length){w=!0;var M=u[_.clusterId],k=M.nodes.indexOf(_);M.nodes.splice(k,1);var A=Math.floor(Math.random()*C.length),O=u[C[A]];O.nodes.push(_),_.clusterId=O.id}}}),!w)return"break";h++};h<a;){var p=v();if(p==="break")break}Object.keys(u).forEach(function(y){var w=u[y];(!w.nodes||!w.nodes.length)&&delete u[y]});var m=[],g={};l.forEach(function(y){var w=y.source,_=y.target,x=y[n]||1,S=c[w].node.clusterId,C=c[_].node.clusterId,T="".concat(S,"---").concat(C);if(g[T])g[T].weight+=x,g[T].count++;else{var M={source:S,target:C,weight:x,count:1};g[T]=M,m.push(M)}});var b=[];return Object.keys(u).forEach(function(y){b.push(u[y])}),{clusters:b,clusterEdges:m}},fhe=che;gE.default=fhe;var mE={},A0={};Object.defineProperty(A0,"__esModule",{value:!0});A0.default=void 0;var dhe=T0,hhe=function(){function e(t){this.arr=t}return e.prototype.getArr=function(){return this.arr||[]},e.prototype.add=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length))return new e(n);if(!(n!=null&&n.length))return new e(this.arr);if(this.arr.length===n.length){var a=[];for(var i in this.arr)a[i]=this.arr[i]+n[i];return new e(a)}},e.prototype.subtract=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length))return new e(n);if(!(n!=null&&n.length))return new e(this.arr);if(this.arr.length===n.length){var a=[];for(var i in this.arr)a[i]=this.arr[i]-n[i];return new e(a)}},e.prototype.avg=function(t){var r=[];if(t!==0)for(var n in this.arr)r[n]=this.arr[n]/t;return new e(r)},e.prototype.negate=function(){var t=[];for(var r in this.arr)t[r]=-this.arr[r];return new e(t)},e.prototype.squareEuclideanDistance=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var a=0;for(var i in this.arr)a+=Math.pow(this.arr[i]-t.arr[i],2);return a}},e.prototype.euclideanDistance=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var a=0;for(var i in this.arr)a+=Math.pow(this.arr[i]-t.arr[i],2);return Math.sqrt(a)}else console.error("The two vectors are unequal in length.")},e.prototype.normalize=function(){var t=[],r=(0,dhe.clone)(this.arr);r.sort(function(o,s){return o-s});var n=r[r.length-1],a=r[0];for(var i in this.arr)t[i]=(this.arr[i]-a)/(n-a);return new e(t)},e.prototype.norm2=function(){var t;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return 0;var r=0;for(var n in this.arr)r+=Math.pow(this.arr[n],2);return Math.sqrt(r)},e.prototype.dot=function(t){var r,n=t.arr;if(!(!((r=this.arr)===null||r===void 0)&&r.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var a=0;for(var i in this.arr)a+=this.arr[i]*t.arr[i];return a}else console.error("The two vectors are unequal in length.")},e.prototype.equal=function(t){var r,n=t.arr;if(((r=this.arr)===null||r===void 0?void 0:r.length)!==(n==null?void 0:n.length))return!1;for(var a in this.arr)if(this.arr[a]!==n[a])return!1;return!0},e}(),vhe=hhe;A0.default=vhe;var vl={},ev={};Object.defineProperty(ev,"__esModule",{value:!0});ev.secondReg=ev.dateReg=void 0;var phe=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;ev.secondReg=phe;var ghe=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;ev.dateReg=ghe;Object.defineProperty(vl,"__esModule",{value:!0});vl.getPropertyWeight=vl.getAllSortProperties=vl.getAllProperties=vl.default=void 0;var o3=ev,Gk=function(t,r){t===void 0&&(t=[]),r===void 0&&(r=100);var n={};t.forEach(function(i){i.properties&&Object.keys(i.properties).forEach(function(o){if(o==="id"||!"".concat(i.properties[o]).match(o3.secondReg)&&!"".concat(i.properties[o]).match(o3.dateReg)&&isNaN(Number(i.properties[o]))){n.hasOwnProperty(o)&&delete n[o];return}n.hasOwnProperty(o)?n[o]+=1:n[o]=1})});var a=Object.keys(n).sort(function(i,o){return n[o]-n[i]});return a.length<r?a:a.slice(0,r)};vl.getAllSortProperties=Gk;var mhe=function(t,r){return r.map(function(n){return t.hasOwnProperty(n)?t[n]:0})},cV=function(t){for(var r=Gk(t),n=[],a=0;a<t.length;a++)n[a]=mhe(t[a].properties,r);return n};vl.getPropertyWeight=cV;var fV=function(t,r){r===void 0&&(r=void 0);var n=[];return t.forEach(function(a){r===void 0&&n.push(a),a[r]!==void 0&&n.push(a[r])}),n};vl.getAllProperties=fV;var yhe={getAllSortProperties:Gk,getPropertyWeight:cV,getAllProperties:fV};vl.default=yhe;var pl={},I0={};Object.defineProperty(I0,"__esModule",{value:!0});I0.DistanceType=void 0;var yC;I0.DistanceType=yC;(function(e){e.EuclideanDistance="euclideanDistance"})(yC||(I0.DistanceType=yC={}));Object.defineProperty(pl,"__esModule",{value:!0});pl.oneHot=pl.getDistance=pl.getAllKeyValueMap=pl.default=void 0;var s3=T0,l3=I0,u3=bhe(A0);function bhe(e){return e&&e.__esModule?e:{default:e}}var jk=function(t,r,n){var a=[];r!=null&&r.length?a=r:(t.forEach(function(o){a=a.concat(Object.keys(o))}),a=(0,s3.uniq)(a));var i={};return a.forEach(function(o){var s=[];t.forEach(function(l){l[o]!==void 0&&l[o]!==""&&s.push(l[o])}),s.length&&!(n!=null&&n.includes(o))&&(i[o]=(0,s3.uniq)(s))}),i};pl.getAllKeyValueMap=jk;var dV=function(t,r,n){var a=jk(t,r,n),i=[];if(!Object.keys(a).length)return i;var o=Object.values(a),s=o.every(function(l){return l.every(function(u){return typeof u=="number"})});return t.forEach(function(l,u){var c=[];Object.keys(a).forEach(function(f){var d=l[f],h=a[f],v=h.findIndex(function(g){return d===g}),p=[];if(s)p.push(d);else for(var m=0;m<h.length;m++)m===v?p.push(1):p.push(0);c=c.concat(p)}),i[u]=c}),i};pl.oneHot=dV;var hV=function(t,r,n,a){n===void 0&&(n=l3.DistanceType.EuclideanDistance);var i=0;switch(n){case l3.DistanceType.EuclideanDistance:i=new u3.default(t).euclideanDistance(new u3.default(r));break}return i};pl.getDistance=hV;var whe={getAllKeyValueMap:jk,oneHot:dV,getDistance:hV};pl.default=whe;Object.defineProperty(mE,"__esModule",{value:!0});mE.default=void 0;var Ehe=T0,_he=vV(wd),vp=vV(A0),xhe=vl,She=pl;function vV(e){return e&&e.__esModule?e:{default:e}}var c3=function(t,r,n,a){for(var i=r.length,o=2*a,s=0,l=0;l<i;l++)for(var u=t[l].clusterId,c=0;c<i;c++){var f=t[c].clusterId;if(u===f){var d=r[l][c]||0,h=n[l]||0,v=n[c]||0;s+=d-h*v/o}}return s*=1/o,s},Z_=function(t,r){t===void 0&&(t=[]);for(var n=t.length,a=new vp.default([]),i=0;i<n;i++)a=a.add(new vp.default(r[i]));var o=a.avg(n);o.normalize();for(var s=0,i=0;i<n;i++){var l=new vp.default(r[i]),u=l.squareEuclideanDistance(o);s+=u}var c=[];t.forEach(function(){c.push([])});for(var i=0;i<n;i++){var l=new vp.default(r[i]);t[i].clusterInertial=0;for(var f=0;f<n;f++){if(i===f){c[i][f]=0;continue}var d=new vp.default(r[f]);c[i][f]=l.squareEuclideanDistance(d),t[i].clusterInertial+=c[i][f]}}for(var h=0,v=2*n*s,i=0;i<n;i++)for(var p=t[i].clusterId,f=0;f<n;f++){var m=t[f].clusterId;if(!(i===f||p!==m)){var g=t[i].clusterInertial*t[f].clusterInertial/Math.pow(v,2)-c[i][f]/v;h+=g}}return Number(h.toFixed(4))},Che=function(t,r,n,a,i,o,s,l,u){r===void 0&&(r=!1),n===void 0&&(n="weight"),a===void 0&&(a=1e-4),i===void 0&&(i=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),l===void 0&&(l=["id"]),u===void 0&&(u=1);var c=t.nodes,f=c===void 0?[]:c,d=t.edges,h=d===void 0?[]:d,v=[];if(i){f.forEach(function(I,D){I.properties=I.properties||{},I.originIndex=D});var p=[];f.every(function(I){return I.hasOwnProperty("nodeType")})&&(p=Array.from(new Set(f.map(function(I){return I.nodeType}))),f.forEach(function(I){I.properties.nodeType=p.findIndex(function(D){return D===I.nodeType})}));var m=(0,xhe.getAllProperties)(f,o);v=(0,She.oneHot)(m,s,l)}var g=1,b={},y={};f.forEach(function(I,D){var z=String(g++);I.clusterId=z,b[z]={id:z,nodes:[I]},y[I.id]={node:I,idx:D}});var w=(0,_he.default)(t,r),_=[],x={},S=0;w.forEach(function(I,D){var z=0,U=f[D].id;x[U]={},I.forEach(function(H,Y){if(H){z+=H;var ie=f[Y].id;x[U][ie]=H,S+=H}}),_.push(z)}),S/=2;for(var C=1/0,T=1/0,M=0,k=[],A={};;){i&&f.every(function(I){return I.hasOwnProperty("properties")})?C=c3(f,w,_,S)+Z_(f,v)*u:C=c3(f,w,_,S),M===0&&(T=C,k=f,A=b);var O=C>0&&C>T&&C-T<a;if(C>T&&(k=f.map(function(I){return{node:I,clusterId:I.clusterId}}),A=(0,Ehe.clone)(b),T=C),O||M>100)break;M++,Object.keys(b).forEach(function(I){var D=0;h.forEach(function(z){var U=z.source,H=z.target,Y=y[U].node.clusterId,ie=y[H].node.clusterId;(Y===I&&ie!==I||ie===I&&Y!==I)&&(D=D+(z[n]||1))}),b[I].sumTot=D}),f.forEach(function(I,D){var z=b[I.clusterId],U=0,H,Y=_[D]/(2*S),ie=0,X=z.nodes;X.forEach(function(Ae){var Ve=y[Ae.id].idx;ie+=w[D][Ve]||0});var re=ie-z.sumTot*Y,oe=X.filter(function(Ae){return Ae.id!==I.id});oe.forEach(function(Ae,Ve){v[Ae.originIndex]});var Ne=Z_(oe,v)*u,me=x[I.id];if(Object.keys(me).forEach(function(Ae){var Ve=y[Ae].node,Ie=Ve.clusterId;if(Ie!==I.clusterId){var De=b[Ie],Ge=De.nodes;if(!(!Ge||!Ge.length)){var Qe=0;Ge.forEach(function(fe){var ge=y[fe.id].idx;Qe+=w[D][ge]||0});var ke=Qe-De.sumTot*Y,q=Ge.concat([I]);q.forEach(function(fe,ge){v[fe.originIndex]});var j=Z_(q,v)*u,Ce=ke-re;i&&(Ce=ke+j-(re+Ne)),Ce>U&&(U=Ce,H=De)}}}),U>0){H.nodes.push(I);var xe=I.clusterId;I.clusterId=H.id;var ze=z.nodes.indexOf(I);z.nodes.splice(ze,1);var te=0,le=0;h.forEach(function(Ae){var Ve=Ae.source,Ie=Ae.target,De=y[Ve].node.clusterId,Ge=y[Ie].node.clusterId;(De===H.id&&Ge!==H.id||Ge===H.id&&De!==H.id)&&(te=te+(Ae[n]||1)),(De===xe&&Ge!==xe||Ge===xe&&De!==xe)&&(le=le+(Ae[n]||1))}),H.sumTot=te,z.sumTot=le}})}var P={},R=0;Object.keys(A).forEach(function(I){var D=A[I];if(!D.nodes||!D.nodes.length){delete A[I];return}var z=String(R+1);z!==I&&(D.id=z,D.nodes=D.nodes.map(function(U){return{id:U.id,clusterId:z}}),A[z]=D,P[I]=z,delete A[I],R++)}),k.forEach(function(I){var D=I.node,z=I.clusterId;D&&(D.clusterId=z,D.clusterId&&P[D.clusterId]&&(D.clusterId=P[D.clusterId]))});var N=[],L={};h.forEach(function(I){var D=I.source,z=I.target,U=I[n]||1,H=y[D].node.clusterId,Y=y[z].node.clusterId;if(!(!H||!Y)){var ie="".concat(H,"---").concat(Y);if(L[ie])L[ie].weight+=U,L[ie].count++;else{var X={source:H,target:Y,weight:U,count:1};L[ie]=X,N.push(X)}}});var B=[];return Object.keys(A).forEach(function(I){B.push(A[I])}),{clusters:B,clusterEdges:N}},Mhe=Che;mE.default=Mhe;var yE={},bE={};Object.defineProperty(bE,"__esModule",{value:!0});bE.default=void 0;var The=function(){function e(t){this.count=t.length,this.parent={};for(var r=0,n=t;r<n.length;r++){var a=n[r];this.parent[a]=a}}return e.prototype.find=function(t){for(;this.parent[t]!==t;)t=this.parent[t];return t},e.prototype.union=function(t,r){var n=this.find(t),a=this.find(r);n!==a&&(n<a?(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]):(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]))},e.prototype.connected=function(t,r){return this.find(t)===this.find(r)},e}(),khe=The;bE.default=khe;var wE={};Object.defineProperty(wE,"__esModule",{value:!0});wE.default=void 0;var Ahe=function(t,r){return t-r},Ihe=function(){function e(t){t===void 0&&(t=Ahe),this.compareFn=t,this.list=[]}return e.prototype.getLeft=function(t){return 2*t+1},e.prototype.getRight=function(t){return 2*t+2},e.prototype.getParent=function(t){return t===0?null:Math.floor((t-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var t=this.top(),r=this.list.pop();return this.list.length>0&&(this.list[0]=r,this.moveDown(0)),t},e.prototype.insert=function(t){if(t!==null){this.list.push(t);var r=this.list.length-1;return this.moveUp(r),!0}return!1},e.prototype.moveUp=function(t){for(var r=this.getParent(t);t&&t>0&&this.compareFn(this.list[r],this.list[t])>0;){var n=this.list[r];this.list[r]=this.list[t],this.list[t]=n,t=r,r=this.getParent(t)}},e.prototype.moveDown=function(t){var r,n=t,a=this.getLeft(t),i=this.getRight(t),o=this.list.length;a!==null&&a<o&&this.compareFn(this.list[n],this.list[a])>0?n=a:i!==null&&i<o&&this.compareFn(this.list[n],this.list[i])>0&&(n=i),t!==n&&(r=[this.list[n],this.list[t]],this.list[t]=r[0],this.list[n]=r[1],this.moveDown(n))},e}(),Ohe=Ihe;wE.default=Ohe;Object.defineProperty(yE,"__esModule",{value:!0});yE.default=void 0;var Lhe=pV(bE),Nhe=pV(wE),Q_=Na;function pV(e){return e&&e.__esModule?e:{default:e}}var Phe=function(t,r){var n=[],a=t.nodes,i=a===void 0?[]:a,o=t.edges,s=o===void 0?[]:o;if(i.length===0)return n;var l=i[0],u=new Set;u.add(l);var c=function(m,g){return r?m.weight-g.weight:0},f=new Nhe.default(c);for((0,Q_.getEdgesByNodeId)(l.id,s).forEach(function(p){f.insert(p)});!f.isEmpty();){var d=f.delMin(),h=d.source,v=d.target;u.has(h)&&u.has(v)||(n.push(d),u.has(h)||(u.add(h),(0,Q_.getEdgesByNodeId)(h,s).forEach(function(p){f.insert(p)})),u.has(v)||(u.add(v),(0,Q_.getEdgesByNodeId)(v,s).forEach(function(p){f.insert(p)})))}return n},f3=function(t,r){var n=[],a=t.nodes,i=a===void 0?[]:a,o=t.edges,s=o===void 0?[]:o;if(i.length===0)return n;var l=s.map(function(h){return h});r&&l.sort(function(h,v){return h.weight-v.weight});for(var u=new Lhe.default(i.map(function(h){return h.id}));l.length>0;){var c=l.shift(),f=c.source,d=c.target;u.connected(f,d)||(n.push(c),u.union(f,d))}return n},Dhe=function(t,r,n){var a={prim:Phe,kruskal:f3};return n?a[n](t,r):f3(t,r)},Rhe=Dhe;yE.default=Rhe;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});EE.default=void 0;var $he=Fhe(cu),Bhe=Na;function Fhe(e){return e&&e.__esModule?e:{default:e}}var zhe=function(t,r,n){typeof r!="number"&&(r=1e-6),typeof n!="number"&&(n=.85);for(var a=1,i=0,o=1e3,s=t.nodes,l=s===void 0?[]:s,u=t.edges,c=u===void 0?[]:u,f=l.length,d,h={},v={},p=0;p<f;++p){var m=l[p],g=m.id;h[g]=1/f,v[g]=1/f}for(var b=(0,$he.default)(t);o>0&&a>r;){i=0;for(var p=0;p<f;++p){var m=l[p],g=m.id;if(d=0,b[m.id].inDegree===0)h[g]=0;else{for(var y=(0,Bhe.getNeighbors)(g,c,"source"),w=0;w<y.length;++w){var _=y[w],x=b[_].outDegree;x>0&&(d+=v[_]/x)}h[g]=n*d,i+=h[g]}}i=(1-i)/f,a=0;for(var p=0;p<f;++p){var m=l[p],g=m.id;d=h[g]+i,a+=Math.abs(d-v[g]),v[g]=d}o-=1}return v},Ghe=zhe;EE.default=Ghe;var _E={},xE={},La={};Object.defineProperty(La,"__esModule",{value:!0});La.VACANT_NODE_LABEL=La.VACANT_NODE_ID=La.VACANT_GRAPH_ID=La.VACANT_EDGE_LABEL=La.VACANT_EDGE_ID=La.Node=La.Graph=La.Edge=La.AUTO_EDGE_ID=void 0;var gV=-1;La.VACANT_EDGE_ID=gV;var Ug=-1;La.VACANT_NODE_ID=Ug;var mV="-1";La.VACANT_EDGE_LABEL=mV;var yV="-1";La.VACANT_NODE_LABEL=yV;var jhe=-1;La.VACANT_GRAPH_ID=jhe;var Vhe="-1";La.AUTO_EDGE_ID=Vhe;var bC=function(){function e(t,r,n,a){t===void 0&&(t=gV),r===void 0&&(r=Ug),n===void 0&&(n=Ug),a===void 0&&(a=mV),this.id=t,this.from=r,this.to=n,this.label=a}return e}();La.Edge=bC;var bV=function(){function e(t,r){t===void 0&&(t=Ug),r===void 0&&(r=yV),this.id=t,this.label=r,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(t){this.edges.push(t),this.edgeMap[t.id]=t},e}();La.Node=bV;var Uhe=function(){function e(t,r,n){t===void 0&&(t=Ug),r===void 0&&(r=!0),n===void 0&&(n=!1),this.id=t,this.edgeIdAutoIncrease=r,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(t,r){if(!this.nodeMap[t]){var n=new bV(t,r);this.nodes.push(n),this.nodeMap[t]=n,this.nodeLabelMap[r]||(this.nodeLabelMap[r]=[]),this.nodeLabelMap[r].push(t)}},e.prototype.addEdge=function(t,r,n,a){if((this.edgeIdAutoIncrease||t===void 0)&&(t=this.counter++),!(this.nodeMap[r]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[t])){var i=new bC(t,r,n,a);if(this.edges.push(i),this.edgeMap[t]=i,this.nodeMap[r].addEdge(i),this.edgeLabelMap[a]||(this.edgeLabelMap[a]=[]),this.edgeLabelMap[a].push(i),!this.directed){var o=new bC(t,n,r,a);this.nodeMap[n].addEdge(o),this.edgeLabelMap[a].push(o)}}},e}();La.Graph=Uhe;Object.defineProperty(xE,"__esModule",{value:!0});xE.default=void 0;var Whe=T0,Ji=La,Ef=function(){function e(t,r,n,a,i){this.fromNode=t,this.toNode=r,this.nodeEdgeNodeLabel={nodeLabel1:n||Ji.VACANT_NODE_LABEL,edgeLabel:a||Ji.VACANT_EDGE_LABEL,nodeLabel2:i||Ji.VACANT_NODE_LABEL}}return e.prototype.equalTo=function(t){return this.fromNode===t.formNode&&this.toNode===t.toNode&&this.nodeEdgeNodeLabel===t.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(t){return!this.equalTo(t)},e}(),d3=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(t){var r=this.dfsEdgeList.length,n=t.length;if(r!==n)return!1;for(var a=0;a<r;a++)if(this.dfsEdgeList[a]!==t[a])return!1;return!0},e.prototype.notEqualTo=function(t){return!this.equalTo(t)},e.prototype.pushBack=function(t,r,n,a,i){return this.dfsEdgeList.push(new Ef(t,r,n,a,i)),this.dfsEdgeList},e.prototype.toGraph=function(t,r){t===void 0&&(t=Ji.VACANT_GRAPH_ID),r===void 0&&(r=!1);var n=new Ji.Graph(t,!0,r);return this.dfsEdgeList.forEach(function(a){var i=a.fromNode,o=a.toNode,s=a.nodeEdgeNodeLabel,l=s.nodeLabel1,u=s.edgeLabel,c=s.nodeLabel2;l!==Ji.VACANT_NODE_LABEL&&n.addNode(i,l),c!==Ji.VACANT_NODE_LABEL&&n.addNode(o,c),l!==Ji.VACANT_NODE_LABEL&&c!==l&&n.addEdge(void 0,i,o,u)}),n},e.prototype.buildRmpath=function(){this.rmpath=[];for(var t=void 0,r=this.dfsEdgeList.length,n=r-1;n>=0;n--){var a=this.dfsEdgeList[n],i=a.fromNode,o=a.toNode;i<o&&(t===void 0||o===t)&&(this.rmpath.push(n),t=i)}return this.rmpath},e.prototype.getNodeNum=function(){var t={};return this.dfsEdgeList.forEach(function(r){t[r.fromNode]||(t[r.fromNode]=!0),t[r.toNode]||(t[r.toNode]=!0)}),Object.keys(t).length},e}(),_y=function(){function e(t){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!t){for(;t;){var r=t.edge;this.edges.push(r),this.nodesUsed[r.from]=1,this.nodesUsed[r.to]=1,this.edgesUsed[r.id]=1,t=t.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(t){return this.nodesUsed[t.id]===1},e.prototype.hasEdge=function(t){return this.edgesUsed[t.id]===1},e}(),Hhe=function(){function e(t){var r=t.graphs,n=t.minSupport,a=n===void 0?2:n,i=t.minNodeNum,o=i===void 0?1:i,s=t.maxNodeNum,l=s===void 0?4:s,u=t.top,c=u===void 0?10:u,f=t.directed,d=f===void 0?!1:f,h=t.verbose,v=h===void 0?!1:h;this.graphs=r,this.dfsCode=new d3,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=a,this.top=c,this.directed=d,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=v,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(t,r){var n=this,a=[],i=t.nodeMap;return r.edges.forEach(function(o){(n.directed||r.label<=i[o.to].label)&&a.push(o)}),a},e.prototype.findBackwardEdge=function(t,r,n,a){if(!this.directed&&r===n)return null;for(var i=t.nodeMap,o=i[n.to],s=o.edges,l=s.length,u=0;u<l;u++){var c=s[u];if(!(a.hasEdge(c)||c.to!==r.from)){if(this.directed){if(i[r.from].label<i[n.to].label||i[r.from].label===i[n.to].label&&r.label<=c.label)return c}else if(r.label<c.label||r.label===c.label&&i[r.to].label<=i[n.to].label)return c}}return null},e.prototype.findForwardPureEdges=function(t,r,n,a){for(var i=[],o=r.to,s=t.nodeMap[o].edges,l=s.length,u=0;u<l;u++){var c=s[u],f=t.nodeMap[c.to];n<=f.label&&!a.hasNode(f)&&i.push(c)}return i},e.prototype.findForwardRmpathEdges=function(t,r,n,a){for(var i=[],o=t.nodeMap,s=o[r.to].label,l=o[r.from],u=l.edges,c=u.length,f=0;f<c;f++){var d=u[f],h=o[d.to].label;r.to===d.to||n>h||a.hasNode(o[d.to])||(r.label<d.label||r.label===d.label&&s<=h)&&i.push(d)}return i},e.prototype.getSupport=function(t){var r={};return t.forEach(function(n){r[n.graphId]||(r[n.graphId]=!0)}),Object.keys(r).length},e.prototype.findMinLabel=function(t){var r=void 0;return Object.keys(t).forEach(function(n){var a=t[n],i=a.nodeLabel1,o=a.edgeLabel,s=a.nodeLabel2;if(!r){r={nodeLabel1:i,edgeLabel:o,nodeLabel2:s};return}(i<r.nodeLabel1||i===r.nodeLabel1&&o<r.edgeLabel||i===r.nodeLabel1&&o===r.edgeLabel&&s<r.nodeLabel2)&&(r={nodeLabel1:i,edgeLabel:o,nodeLabel2:s})}),r},e.prototype.isMin=function(){var t=this,r=this.dfsCode;if(this.verbose&&console.log("isMin checking",r),r.dfsEdgeList.length===1)return!0;var n=this.directed,a=r.toGraph(Ji.VACANT_GRAPH_ID,n),i=a.nodeMap,o=new d3,s={};a.nodes.forEach(function(f){var d=t.findForwardRootEdges(a,f);d.forEach(function(h){var v=i[h.to],p="".concat(f.label,"-").concat(h.label,"-").concat(v.label);s[p]||(s[p]={projected:[],nodeLabel1:f.label,edgeLabel:h.label,nodeLabel2:v.label});var m={graphId:a.id,edge:h,preNode:null};s[p].projected.push(m)})});var l=this.findMinLabel(s);if(l){o.dfsEdgeList.push(new Ef(0,1,l.nodeLabel1,l.edgeLabel,l.nodeLabel2));var u=function f(d){for(var h=o.buildRmpath(),v=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,p=o.dfsEdgeList[h[0]].toNode,m={},g=!1,b=0,y=n?-1:0,w=function(L){if(g)return"break";d.forEach(function(B){var I=new _y(B),D=t.findBackwardEdge(a,I.edges[h[L]],I.edges[h[0]],I);D&&(m[D.label]||(m[D.label]={projected:[],edgeLabel:D.label}),m[D.label].projected.push({graphId:a.id,edge:m,preNode:B}),b=o.dfsEdgeList[h[L]].fromNode,g=!0)})},_=h.length-1;_>y;_--){var x=w(_);if(x==="break")break}if(g){var S=t.findMinLabel(m);o.dfsEdgeList.push(new Ef(p,b,Ji.VACANT_NODE_LABEL,S.edgeLabel,Ji.VACANT_NODE_LABEL));var C=o.dfsEdgeList.length-1;return t.dfsCode.dfsEdgeList[C]!==o.dfsEdgeList[C]?!1:f(m[S.edgeLabel].projected)}var T={};g=!1;var M=0;d.forEach(function(N){var L=new _y(N),B=t.findForwardPureEdges(a,L.edges[h[0]],v,L);B.length>0&&(g=!0,M=p,B.forEach(function(I){var D="".concat(I.label,"-").concat(i[I.to].label);T[D]||(T[D]={projected:[],edgeLabel:I.label,nodeLabel2:i[I.to].label}),T[D].projected.push({graphId:a.id,edge:I,preNode:N})}))});for(var k=h.length,A=function(L){if(g)return"break";var B=h[L];d.forEach(function(I){var D=new _y(I),z=t.findForwardRmpathEdges(a,D.edges[B],v,D);z.length>0&&(g=!0,M=o.dfsEdgeList[B].fromNode,z.forEach(function(U){var H="".concat(U.label,"-").concat(i[U.to].label);T[H]||(T[H]={projected:[],edgeLabel:U.label,nodeLabel2:i[U.to].label}),T[H].projected.push({graphId:a.id,edge:U,preNode:I})}))})},_=0;_<k;_++){var O=A(_);if(O==="break")break}if(!g)return!0;var P=t.findMinLabel(T);o.dfsEdgeList.push(new Ef(M,p+1,Ji.VACANT_NODE_LABEL,P.edgeLabel,P.nodeLabel2));var R=o.dfsEdgeList.length-1;return r.dfsEdgeList[R]!==o.dfsEdgeList[R]?!1:f(T["".concat(P.edgeLabel,"-").concat(P.nodeLabel2)].projected)},c="".concat(l.nodeLabel1,"-").concat(l.edgeLabel,"-").concat(l.nodeLabel2);return u(s[c].projected)}},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var t=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,Whe.clone)(t))}},e.prototype.subGraphMining=function(t){var r=this,n=this.getSupport(t);if(!(n<this.minSupport)&&this.isMin()){this.report();var a=this.dfsCode.getNodeNum(),i=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[i[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},u={};t.forEach(function(c){for(var f=r.graphs[c.graphId],d=f.nodeMap,h=new _y(c),v=i.length-1;v>=0;v--){var p=r.findBackwardEdge(f,h.edges[i[v]],h.edges[i[0]],h);if(p){var m="".concat(r.dfsCode.dfsEdgeList[i[v]].fromNode,"-").concat(p.label);u[m]||(u[m]={projected:[],toNodeId:r.dfsCode.dfsEdgeList[i[v]].fromNode,edgeLabel:p.label}),u[m].projected.push({graphId:c.graphId,edge:p,preNode:c})}}if(!(a>=r.maxNodeNum)){var g=r.findForwardPureEdges(f,h.edges[i[0]],s,h);g.forEach(function(y){var w="".concat(o,"-").concat(y.label,"-").concat(d[y.to].label);l[w]||(l[w]={projected:[],fromNodeId:o,edgeLabel:y.label,nodeLabel2:d[y.to].label}),l[w].projected.push({graphId:c.graphId,edge:y,preNode:c})});for(var b=function(w){var _=r.findForwardRmpathEdges(f,h.edges[i[w]],s,h);_.forEach(function(x){var S="".concat(r.dfsCode.dfsEdgeList[i[w]].fromNode,"-").concat(x.label,"-").concat(d[x.to].label);l[S]||(l[S]={projected:[],fromNodeId:r.dfsCode.dfsEdgeList[i[w]].fromNode,edgeLabel:x.label,nodeLabel2:d[x.to].label}),l[S].projected.push({graphId:c.graphId,edge:x,preNode:c})})},v=0;v<i.length;v++)b(v)}}),Object.keys(u).forEach(function(c){var f=u[c],d=f.toNodeId,h=f.edgeLabel;r.dfsCode.dfsEdgeList.push(new Ef(o,d,"-1",h,"-1")),r.subGraphMining(u[c].projected),r.dfsCode.dfsEdgeList.pop()}),Object.keys(l).forEach(function(c){var f=l[c],d=f.fromNodeId,h=f.edgeLabel,v=f.nodeLabel2;r.dfsCode.dfsEdgeList.push(new Ef(d,o+1,Ji.VACANT_NODE_LABEL,h,v)),r.subGraphMining(l[c].projected),r.dfsCode.dfsEdgeList.pop()})}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var t=this.graphs,r=this.directed,n=this.minSupport,a=this.frequentSize1Subgraphs,i={},o={},s={};return Object.keys(t).forEach(function(l){var u=t[l],c=u.nodeMap;u.nodes.forEach(function(f,d){var h=f.label,v="".concat(l,"-").concat(h);if(!s[v]){var p=i[h]||0;p++,i[h]=p}s[v]={graphKey:l,label:h},f.edges.forEach(function(m){var g=h,b=c[m.to].label;if(!r&&g>b){var y=b;b=g,g=y}var w=m.label,_="".concat(g,"-").concat(w,"-").concat(b);if(!o[_]){var x=o[_]||0;x++,o[_]=x}})})}),Object.keys(i).forEach(function(l){var u=i[l];if(!(u<n)){var c={nodes:[],edges:[]};c.nodes.push({id:"0",label:l}),a.push(c)}}),a},e.prototype.run=function(){var t=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var r=this.graphs;this.directed;var n={};Object.keys(r).forEach(function(a){var i=r[a],o=i.nodeMap;i.nodes.forEach(function(s){var l=t.findForwardRootEdges(i,s);l.forEach(function(u){var c=o[u.to],f="".concat(s.label,"-").concat(u.label,"-").concat(c.label);n[f]||(n[f]={projected:[],nodeLabel1:s.label,edgeLabel:u.label,nodeLabel2:c.label});var d={graphId:a,edge:u,preNode:null};n[f].projected.push(d)})})}),Object.keys(n).forEach(function(a){var i=n[a],o=i.projected,s=i.nodeLabel1,l=i.edgeLabel,u=i.nodeLabel2;t.dfsCode.dfsEdgeList.push(new Ef(0,1,s,l,u)),t.subGraphMining(o),t.dfsCode.dfsEdgeList.pop()})}},e}(),Yhe=function(t,r,n,a){var i={};return Object.keys(t).forEach(function(o,s){var l=t[o],u=new Ji.Graph(s,!0,r),c={};l.nodes.forEach(function(f,d){u.addNode(d,f[n]),c[f.id]=d}),l.edges.forEach(function(f,d){var h=c[f.source],v=c[f.target];u.addEdge(-1,h,v,f[a])}),u&&u.getNodeNum()&&(i[u.id]=u)}),i},Khe=function(t,r,n){var a=[];return t.forEach(function(i){var o={nodes:[],edges:[]};i.nodes.forEach(function(s){var l;o.nodes.push((l={id:"".concat(s.id)},l[r]=s.label,l))}),i.edges.forEach(function(s){var l;o.edges.push((l={source:"".concat(s.from),target:"".concat(s.to)},l[n]=s.label,l))}),a.push(o)}),a},h3="cluster",Xhe=function(t){var r=t.graphs,n=t.directed,a=n===void 0?!1:n,i=t.nodeLabelProp,o=i===void 0?h3:i,s=t.edgeLabelProp,l=s===void 0?h3:s,u=Yhe(r,a,o,l),c=t.minSupport,f=t.maxNodeNum,d=t.minNodeNum,h=t.verbose,v=t.top,p={graphs:u,minSupport:c,maxNodeNum:f,minNodeNum:d,top:v,verbose:h,directed:a},m=new Hhe(p);m.run();var g=Khe(m.frequentSubgraphs,o,l);return g},qhe=Xhe;xE.default=qhe;Object.defineProperty(_E,"__esModule",{value:!0});_E.default=void 0;var v3=lV,p3=Vk(k0),Zhe=Vk(xE),g3=Vk(Nv),Qhe=Na;function Vk(e){return e&&e.__esModule?e:{default:e}}var m3=function(t,r,n,a){n===void 0&&(n="cluster"),a===void 0&&(a=2);var i=[],o=t.nodes;return r.forEach(function(s,l){i.push(wV(o,s,l,n,a))}),i},wV=function(t,r,n,a,i){var o=[n],s=[],l={};return r.forEach(function(u,c){if(u<=i&&n!==c){o.push(c),s.push(t[c]);var f=t[c][a];l[f]?(l[f].count++,l[f].dists.push(u)):l[f]={count:1,dists:[u]}}}),Object.keys(l).forEach(function(u){l[u].dists=l[u].dists.sort(function(c,f){return c-f})}),{nodeIdx:n,nodeId:t[n].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:l}},Jhe=function(t,r,n,a,i){var o=Math.ceil(n/r),s={},l=0;return a.forEach(function(u,c){for(var f=0,d=0,h=u.nodeIdxs,v=u.neighborNum-1;f<o;){for(var p=h[1+Math.floor(Math.random()*v)],m=0;(s["".concat(c,"-").concat(p)]||s["".concat(p,"-").concat(c)])&&(p=Math.floor(Math.random()*r),m++,!(m>2*r)););if(m<2*r&&(s["".concat(c,"-").concat(p)]={start:c,end:p,distance:i[c][p]},f++,l++,l>=n))return s;if(d++,d>2*r)break}if(f<o){var g=o-f;o=(o+g)/(r-c-1)}}),s},N1=function(t,r,n,a){var i=n.nodes;return a||(a={}),Object.keys(t).forEach(function(o){var s,l;if(!(a&&a[o])){a[o]={nodes:[],edges:[]};var u=t[o],c=(s=r[u.start])===null||s===void 0?void 0:s.nodeIdxs,f=(l=r[u.end])===null||l===void 0?void 0:l.nodeIdxs;if(!(!c||!f)){var d=new Set(f),h=c.filter(function(b){return d.has(b)});if(!(!h||!h.length)){for(var v={},p=h.length,m=0;m<p;m++){var g=i[h[m]];a[o].nodes.push(g),v[g.id]=!0}n.edges.forEach(function(b){v[b.source]&&v[b.target]&&a[o].edges.push(b)})}}}}),a},P1=function(t,r,n,a){var i,o,s={};t.nodes.forEach(function(u){s[u.id]=u});var l=0;return!(!((i=r==null?void 0:r.edges)===null||i===void 0)&&i.length)||((o=r==null?void 0:r.nodes)===null||o===void 0?void 0:o.length)<2?0:(t.edges.forEach(function(u){var c=s[u.source][n],f=s[u.target][n],d=r==null?void 0:r.nodes[0][n],h=r==null?void 0:r.nodes[1][n],v=r==null?void 0:r.edges[0][a];u[a]===v&&(c===d&&f===h||c===h&&f===d)&&l++}),l)},eve=function(t,r,n){for(var a=1/0,i=0,o=function(u){var c=t[u],f=Object.keys(c).sort(function(b,y){return c[b]-c[y]}),d=10,h=[];f.forEach(function(b,y){h[y%d]||(h[y%d]={graphs:[],totalCount:0,aveCount:0}),h[y%d].graphs.push(b),h[y%d].totalCount+=c[b]});var v=0,p=[];h.forEach(function(b){var y=b.totalCount/b.graphs.length;b.aveCount=y,p.push(y);var w=0,_=b.length;b.graphs.forEach(function(x,S){var C=c[x];b.graphs.forEach(function(T,M){S!==M&&(w+=Math.abs(C-c[T]))})}),w/=_*(_-1)/2,v+=w}),v/=h.length;var m=0;p.forEach(function(b,y){p.forEach(function(w,_){y!==_&&(m+=Math.abs(b-w))}),m/=p.length*(p.length-1)/2});var g=m-v;a<g&&(a=g,i=u)},s=0;s<r;s++)o(s);return{structure:n[i],structureCountMap:t[i]}},y3=function(t,r){var n={},a={};return t.forEach(function(i,o){n[i.id]={idx:o,node:i,degree:0,inDegree:0,outDegree:0};var s=i[r];a[s]||(a[s]=[]),a[s].push(i)}),{nodeMap:n,nodeLabelMap:a}},b3=function(t,r,n){var a={},i={};return t.forEach(function(o,s){a["".concat(Qhe.uniqueId)]={idx:s,edge:o};var l=o[r];i[l]||(i[l]=[]),i[l].push(o);var u=n[o.source];u&&(u.degree++,u.outDegree++);var c=n[o.target];c&&(c.degree++,c.inDegree++)}),{edgeMap:a,edgeLabelMap:i}},w3=function(t,r,n){var a=r.length,i={};return r.forEach(function(o,s){for(var l=n?0:s+1,u=t[s].id,c=l;c<a;c++)if(s!==c){var f=t[c].id,d=o[c];i["".concat(u,"-").concat(f)]=d,n||(i["".concat(f,"-").concat(u)]=d)}}),i},tve=function(t,r,n,a,i,o,s,l,u,c,f){var d,h="".concat(r.id,"-").concat(n.id);if(c&&c[h])return c[h];var v=f?f[h]:void 0;if(!v){var p=(d={},d[h]={start:a[r.id].idx,end:a[n.id].idx,distance:i},d);f=N1(p,o,t,f),v=f[h]}return P1(v,s,l,u)},E3=function(t,r,n,a){var i,o,s,l=(i=t[r])===null||i===void 0?void 0:i.degree,u=(o=t[r])===null||o===void 0?void 0:o.inDegree,c=(s=t[r])===null||s===void 0?void 0:s.outDegree;return t[r]===void 0&&(l=1/0,u=1/0,c=1/0,a[r].forEach(function(f){var d=n[f.id].degree;l>d&&(l=d);var h=n[f.id].inDegree;u>h&&(u=h);var v=n[f.id].outDegree;c>v&&(c=v)}),t[r]={degree:l,inDegree:u,outDegree:c}),{minPatternNodeLabelDegree:l,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:c}},rve=function(t,r,n,a,i,o,s){var l;if(n===void 0&&(n=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!t||!t.nodes)){var u=t.nodes.length;if(u){var c=(0,p3.default)(t,n),f=(0,p3.default)(r,n),d=w3(t.nodes,c,n),h=w3(r.nodes,f,n),v=y3(t.nodes,o),p=v.nodeMap,m=v.nodeLabelMap,g=y3(r.nodes,o),b=g.nodeMap,y=g.nodeLabelMap;b3(t.edges,s,p);var w=b3(r.edges,s,b).edgeLabelMap,_=[];f==null||f.forEach(function(ke){_=_.concat(ke)}),i||(i=Math.max.apply(Math,(0,v3.__spreadArray)((0,v3.__spreadArray)([],_,!1),[2],!1))),a||(a=i);var x=m3(t,c,o,a),S=m3(r,f,o,a),C=Math.min(100,u*(u-1)/2),T=Jhe(a,u,C,x,c),M=N1(T,x,t),k=10,A=1,O=1,P=4,R={graphs:M,nodeLabelProp:o,edgeLabelProp:s,minSupport:A,minNodeNum:O,maxNodeNum:P,directed:n},N=(0,Zhe.default)(R).slice(0,k),L=N.length,B=[];N.forEach(function(ke,q){B[q]={},Object.keys(M).forEach(function(j){var Ce=M[j],fe=P1(Ce,ke,o,s);B[q][j]=fe})});var I=eve(B,L,N),D=I.structure,z=I.structureCountMap,U=r.nodes[0],H=[],Y=(l=r.nodes[0])===null||l===void 0?void 0:l[o],ie=-1/0;r.nodes.forEach(function(ke){var q=ke[o],j=m[q];(j==null?void 0:j.length)>ie&&(ie=j.length,H=j,Y=q,U=ke)});var X={},re={},oe={},Ne={},me={},xe={};Object.keys(y).forEach(function(ke,q){me[ke]=[],n&&(xe[ke]=[]);var j=y[ke],Ce={};j.forEach(function(ot){var Ye=h["".concat(U.id,"-").concat(ot.id)];if(Ye&&me[ke].push(Ye),Ce["".concat(U.id,"-").concat(ot.id)]={start:0,end:b[ot.id].idx,distance:Ye},n){var we=h["".concat(ot.id,"-").concat(U.id)];we&&xe[ke].push(we)}}),me[ke]=me[ke].sort(function(ot,Ye){return ot-Ye}),n&&(xe[ke]=xe[ke].sort(function(ot,Ye){return ot-Ye})),re=N1(Ce,S,r,re);var fe=[];if(Object.keys(Ce).forEach(function(ot){if(oe[ot]){fe.push(oe[ot]);return}var Ye=re[ot];oe[ot]=P1(Ye,D,o,s),fe.push(oe[ot])}),fe=fe.sort(function(ot,Ye){return Ye-ot}),Ne["".concat(U.id,"-").concat(ke)]=fe,ke!==Y)for(var ge=(H==null?void 0:H.length)||0,Ue=function(Ye){var we=H[Ye],qe=x[p[we.id].idx],Be=qe.nodeLabelCountMap[ke],pe=y[ke].length;if(!Be||Be.count<pe)return H.splice(Ye,1),"continue";for(var Re=!1,ft=0;ft<pe;ft++)if(Be.dists[ft]>me[ke][ft]){Re=!0;break}if(Re)return H.splice(Ye,1),"continue";var Ee={};qe.neighbors.forEach(function(lr){var Wr=d["".concat(we.id,"-").concat(lr.id)];Ee["".concat(we.id,"-").concat(lr.id)]={start:p[we.id].idx,end:p[lr.id].idx,distance:Wr}}),M=N1(Ee,x,t,M);var wt=[];Object.keys(Ee).forEach(function(lr){if(z[lr]){wt.push(z[lr]);return}var Wr=M[lr];z[lr]=P1(Wr,D,o,s),wt.push(z[lr])}),wt=wt.sort(function(lr,Wr){return Wr-lr});for(var ar=!1,ft=0;ft<pe;ft++)if(wt[ft]<fe[ft]){ar=!0;break}if(ar)return H.splice(Ye,1),"continue"},tt=ge-1;tt>=0;tt--)Ue(tt)});var ze=[];H==null||H.forEach(function(ke){for(var q=p[ke.id].idx,j=wV(t.nodes,c[q],q,o,i),Ce=j.neighbors,fe=Ce.length,ge=!1,Ue=fe-1;Ue>=0;Ue--){if(Ce.length+1<r.nodes.length){ge=!0;return}var tt=Ce[Ue],ot=tt[o];if(!y[ot]||!y[ot].length){Ce.splice(Ue,1);continue}if(!me[ot]||!me[ot].length){Ce.splice(Ue,1);continue}var Ye="".concat(ke.id,"-").concat(tt.id),we=d[Ye],qe=me[ot].length-1,Be=me[ot][qe];if(we>Be){Ce.splice(Ue,1);continue}if(n){var pe="".concat(tt.id,"-").concat(ke.id),Re=d[pe];qe=xe[ot].length-1;var ft=xe[ot][qe];if(Re>ft){Ce.splice(Ue,1);continue}}var Ee=z[Ye]?z[Ye]:tve(t,ke,tt,p,we,x,D,o,s,z,M),wt="".concat(U.id,"-").concat(ot),ar=Ne[wt][Ne[wt].length-1];if(Ee<ar){Ce.splice(Ue,1);continue}var lr=E3(X,ot,b,y),Wr=lr.minPatternNodeLabelDegree;if(lr.minPatternNodeLabelInDegree,lr.minPatternNodeLabelOutDegree,p[tt.id].degree<Wr){Ce.splice(Ue,1);continue}}ge||ze.push({nodes:[ke].concat(Ce)})});var te=(0,g3.default)(r,U.id,!1).length,le={};n?(Object.keys(te).forEach(function(ke){var q=b[ke].node[o];le[q]?le[q].push(te[ke]):le[q]=[te[ke]]}),Object.keys(le).forEach(function(ke){le[ke].sort(function(q,j){return q-j})})):le=me;for(var Ae=ze.length,Ve=function(q){var j=ze[q],Ce=j.nodes[0],fe={},ge={};j.nodes.forEach(function(Ar,nt){ge[Ar.id]={idx:nt,node:Ar,degree:0,inDegree:0,outDegree:0};var vt=Ar[o];fe[vt]?fe[vt]++:fe[vt]=1});var Ue=[],tt={};t.edges.forEach(function(Ar){ge[Ar.source]&&ge[Ar.target]&&(Ue.push(Ar),tt[Ar[s]]?tt[Ar[s]]++:tt[Ar[s]]=1,ge[Ar.source].degree++,ge[Ar.target].degree++,ge[Ar.source].outDegree++,ge[Ar.target].inDegree++)});for(var ot=Object.keys(w).length,Ye=!1,we=0;we<ot;we++){var qe=Object.keys(w)[we];if(!tt[qe]||tt[qe]<w[qe].length){Ye=!0;break}}if(Ye)return ze.splice(q,1),"continue";var Be=Ue.length;if(Be<r.edges.length)return ze.splice(q,1),"break";for(var pe=!1,Re=function(nt){var vt=Ue[nt],Br=vt[s],sn=w[Br];if(!sn||!sn.length)return tt[Br]--,sn&&tt[Br]<sn.length?(pe=!0,"break"):(Ue.splice(nt,1),ge[vt.source].degree--,ge[vt.target].degree--,ge[vt.source].outDegree--,ge[vt.target].inDegree--,"continue");var Aa=ge[vt.source].node[o],Ra=ge[vt.target].node[o],Za=!1;if(sn.forEach(function(Ia){var na=b[Ia.source].node,Hi=b[Ia.target].node;na[o]===Aa&&Hi[o]===Ra&&(Za=!0),!n&&na[o]===Ra&&Hi[o]===Aa&&(Za=!0)}),!Za)return tt[Br]--,sn&&tt[Br]<sn.length?(pe=!0,"break"):(Ue.splice(nt,1),ge[vt.source].degree--,ge[vt.target].degree--,ge[vt.source].outDegree--,ge[vt.target].inDegree--,"continue")},we=Be-1;we>=0;we--){var ft=Re(we);if(ft==="break")break}if(pe)return ze.splice(q,1),"continue";j.edges=Ue;var Ee=(0,g3.default)(j,j.nodes[0].id,!1).length;if(Object.keys(Ee).reverse().forEach(function(Ar){if(!(Ar===j.nodes[0].id||pe)){if(Ee[Ar]===1/0){var nt=ge[Ar].node[o];if(fe[nt]--,fe[nt]<y[nt].length){pe=!0;return}var vt=j.nodes.indexOf(ge[Ar].node);j.nodes.splice(vt,1),ge[Ar]=void 0;return}var Br=p[Ar].node[o];if(!le[Br]||!le[Br].length||Ee[Ar]>le[Br][le[Br].length-1]){var nt=ge[Ar].node[o];if(fe[nt]--,fe[nt]<y[nt].length){pe=!0;return}var vt=j.nodes.indexOf(ge[Ar].node);j.nodes.splice(vt,1),ge[Ar]=void 0}}}),pe)return ze.splice(q,1),"continue";for(var wt=!0,ar=0;wt&&!pe;){wt=!1;var lr=n?ge[Ce.id].degree<b[U.id].degree||ge[Ce.id].inDegree<b[U.id].inDegree||ge[Ce.id].outDegree<b[U.id].outDegree:ge[Ce.id].degree<b[U.id].degree;if(lr){pe=!0;break}if(fe[Ce[o]]<y[Ce[o]].length){pe=!0;break}for(var Wr=j.nodes.length,In=Wr-1;In>=0;In--){var ir=j.nodes[In],An=ge[ir.id].degree,Ro=ge[ir.id].inDegree,fo=ge[ir.id].outDegree,ra=ir[o],Ea=E3(X,ra,b,y),Wi=Ea.minPatternNodeLabelDegree,$o=Ea.minPatternNodeLabelInDegree,gs=Ea.minPatternNodeLabelOutDegree,Li=n?An<Wi||Ro<$o||fo<gs:An<Wi;if(Li){if(fe[ir[o]]--,fe[ir[o]]<y[ir[o]].length){pe=!0;break}j.nodes.splice(In,1),ge[ir.id]=void 0,wt=!0}}if(pe||!wt&&ar!==0)break;Be=Ue.length;for(var ci=Be-1;ci>=0;ci--){var Vn=Ue[ci];if(!ge[Vn.source]||!ge[Vn.target]){Ue.splice(ci,1);var fi=Vn[s];if(tt[fi]--,ge[Vn.source]&&(ge[Vn.source].degree--,ge[Vn.source].outDegree--),ge[Vn.target]&&(ge[Vn.target].degree--,ge[Vn.target].inDegree--),w[fi]&&tt[fi]<w[fi].length){pe=!0;break}wt=!0}}ar++}if(pe||pe||j.nodes.length<r.nodes.length||Ue.length<r.edges.length)return ze.splice(q,1),"continue"},Ie=Ae-1;Ie>=0;Ie--){var De=Ve(Ie);if(De==="break")break}for(var Ge=ze.length,Qe=function(q){var j=ze[q],Ce={};j.edges.forEach(function(Ue){var tt="".concat(Ue.source,"-").concat(Ue.target,"-").concat(Ue.label);Ce[tt]?Ce[tt]++:Ce[tt]=1});for(var fe=function(tt){var ot=ze[tt],Ye={};ot.edges.forEach(function(qe){var Be="".concat(qe.source,"-").concat(qe.target,"-").concat(qe.label);Ye[Be]?Ye[Be]++:Ye[Be]=1});var we=!0;Object.keys(Ye).length!==Object.keys(Ce).length?we=!1:Object.keys(Ce).forEach(function(qe){Ye[qe]!==Ce[qe]&&(we=!1)}),we&&ze.splice(tt,1)},ge=Ge-1;ge>q;ge--)fe(ge);Ge=ze.length},Ie=0;Ie<=Ge-1;Ie++)Qe(Ie);return ze}}},nve=rve;_E.default=nve;(function(e){function t(w){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},t(w)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDI",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"breadthFirstSearch",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"connectedComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"depthFirstSearch",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"detectCycle",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"dijkstra",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"findAllPath",{enumerable:!0,get:function(){return u.findAllPath}}),Object.defineProperty(e,"findShortestPath",{enumerable:!0,get:function(){return u.findShortestPath}}),Object.defineProperty(e,"floydWarshall",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getAdjMatrix",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"getDegree",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"getInDegree",{enumerable:!0,get:function(){return i.getInDegree}}),Object.defineProperty(e,"getNeighbors",{enumerable:!0,get:function(){return m.getNeighbors}}),Object.defineProperty(e,"getOutDegree",{enumerable:!0,get:function(){return i.getOutDegree}}),Object.defineProperty(e,"labelPropagation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"louvain",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"minimumSpanningTree",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"pageRank",{enumerable:!0,get:function(){return v.default}});var r=y(wd),n=y(hE),a=y(Ac),i=b(cu),o=y(hl),s=y(pE),l=y(Nv),u=Jh,c=y(k0),f=y(gE),d=y(mE),h=y(yE),v=y(EE),p=y(_E),m=Na;function g(w){if(typeof WeakMap!="function")return null;var _=new WeakMap,x=new WeakMap;return(g=function(C){return C?x:_})(w)}function b(w,_){if(w&&w.__esModule)return w;if(w===null||t(w)!=="object"&&typeof w!="function")return{default:w};var x=g(_);if(x&&x.has(w))return x.get(w);var S={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in w)if(T!=="default"&&Object.prototype.hasOwnProperty.call(w,T)){var M=C?Object.getOwnPropertyDescriptor(w,T):null;M&&(M.get||M.set)?Object.defineProperty(S,T,M):S[T]=w[T]}return S.default=w,x&&x.set(w,S),S}function y(w){return w&&w.__esModule?w:{default:w}}})(Qj);function wC(e){"@babel/helpers - typeof";return wC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wC(e)}Object.defineProperty(dE,"__esModule",{value:!0});dE.default=void 0;var J_=ave(Qj),_3=kc;function EV(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(EV=function(a){return a?r:t})(e)}function ave(e,t){if(e&&e.__esModule)return e;if(e===null||wC(e)!=="object"&&typeof e!="function")return{default:e};var r=EV(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var ex=typeof self<"u"?self:{};ex.onmessage=function(e){var t=e.data,r=t._algorithmType,n=t.data;if(r){if(typeof J_[r]=="function"){var a=J_[r].apply(J_,n);ex.postMessage({_algorithmType:_3.MESSAGE.SUCCESS,data:a});return}ex.postMessage({_algorithmType:_3.MESSAGE.FAILURE})}};var ive=null;dE.default=ive;Object.defineProperty(fE,"__esModule",{value:!0});fE.default=void 0;var ove=kc,sve=lve(dE);function lve(e){return e&&e.__esModule?e:{default:e}}var uve=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new Promise(function(a,i){var o=new sve.default;o.postMessage({_algorithmType:t,data:r}),o.onmessage=function(s){var l=s.data,u=l.data,c=l._algorithmType;ove.MESSAGE.SUCCESS===c?a(u):i(),o.terminate()}})}},cve=uve;fE.default=cve;Object.defineProperty(vn,"__esModule",{value:!0});vn.pageRankAsync=vn.minimumSpanningTreeAsync=vn.louvainAsync=vn.labelPropagationAsync=vn.getOutDegreeAsync=vn.getNeighborsAsync=vn.getInDegreeAsync=vn.getDegreeAsync=vn.getAdjMatrixAsync=vn.floydWarshallAsync=vn.findShortestPathAsync=vn.findAllPathAsync=vn.dijkstraAsync=vn.detectCycleAsync=vn.detectAllUndirectedCycleAsync=vn.detectAllDirectedCycleAsync=vn.detectAllCyclesAsync=vn.connectedComponentAsync=vn.GADDIAsync=void 0;var Xa=fve(fE),qa=kc;function fve(e){return e&&e.__esModule?e:{default:e}}var dve=function(t,r){return(0,Xa.default)(qa.ALGORITHM.getAdjMatrix).apply(void 0,[t,r])};vn.getAdjMatrixAsync=dve;var hve=function(t,r){return(0,Xa.default)(qa.ALGORITHM.connectedComponent).apply(void 0,[t,r])};vn.connectedComponentAsync=hve;var vve=function(t){return(0,Xa.default)(qa.ALGORITHM.getDegree)(t)};vn.getDegreeAsync=vve;var pve=function(t,r){return(0,Xa.default)(qa.ALGORITHM.getInDegree)(t,r)};vn.getInDegreeAsync=pve;var gve=function(t,r){return(0,Xa.default)(qa.ALGORITHM.getOutDegree)(t,r)};vn.getOutDegreeAsync=gve;var mve=function(t){return(0,Xa.default)(qa.ALGORITHM.detectCycle)(t)};vn.detectCycleAsync=mve;var yve=function(t){return(0,Xa.default)(qa.ALGORITHM.detectAllCycles)(t)};vn.detectAllCyclesAsync=yve;var bve=function(t){return(0,Xa.default)(qa.ALGORITHM.detectAllDirectedCycle)(t)};vn.detectAllDirectedCycleAsync=bve;var wve=function(t){return(0,Xa.default)(qa.ALGORITHM.detectAllUndirectedCycle)(t)};vn.detectAllUndirectedCycleAsync=wve;var Eve=function(t,r,n,a){return(0,Xa.default)(qa.ALGORITHM.dijkstra).apply(void 0,[t,r,n,a])};vn.dijkstraAsync=Eve;var _ve=function(t,r,n,a){return(0,Xa.default)(qa.ALGORITHM.findAllPath).apply(void 0,[t,r,n,a])};vn.findAllPathAsync=_ve;var xve=function(t,r,n,a,i){return(0,Xa.default)(qa.ALGORITHM.findShortestPath).apply(void 0,[t,r,n,a,i])};vn.findShortestPathAsync=xve;var Sve=function(t,r){return(0,Xa.default)(qa.ALGORITHM.floydWarshall).apply(void 0,[t,r])};vn.floydWarshallAsync=Sve;var Cve=function(t,r,n,a){return a===void 0&&(a=1e3),(0,Xa.default)(qa.ALGORITHM.labelPropagation)(t,r,n,a)};vn.labelPropagationAsync=Cve;var Mve=function(t,r,n,a){return(0,Xa.default)(qa.ALGORITHM.louvain)(t,r,n,a)};vn.louvainAsync=Mve;var Tve=function(t,r,n){return(0,Xa.default)(qa.ALGORITHM.minimumSpanningTree).apply(void 0,[t,r,n])};vn.minimumSpanningTreeAsync=Tve;var kve=function(t,r,n){return(0,Xa.default)(qa.ALGORITHM.pageRank).apply(void 0,[t,r,n])};vn.pageRankAsync=kve;var Ave=function(t,r,n){return(0,Xa.default)(qa.ALGORITHM.getNeighbors).apply(void 0,[t,r,n])};vn.getNeighborsAsync=Ave;var Ive=function(t,r,n,a,i,o,s){return n===void 0&&(n=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),(0,Xa.default)(qa.ALGORITHM.GADDI).apply(void 0,[t,r,n,a,i,o,s])};vn.GADDIAsync=Ive;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GADDIAsync",{enumerable:!0,get:function(){return t.GADDIAsync}}),Object.defineProperty(e,"connectedComponentAsync",{enumerable:!0,get:function(){return t.connectedComponentAsync}}),e.default=void 0,Object.defineProperty(e,"detectAllCyclesAsync",{enumerable:!0,get:function(){return t.detectAllCyclesAsync}}),Object.defineProperty(e,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return t.detectAllDirectedCycleAsync}}),Object.defineProperty(e,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return t.detectAllUndirectedCycleAsync}}),Object.defineProperty(e,"detectCycleAsync",{enumerable:!0,get:function(){return t.detectCycleAsync}}),e.detectDirectedCycleAsync=void 0,Object.defineProperty(e,"dijkstraAsync",{enumerable:!0,get:function(){return t.dijkstraAsync}}),Object.defineProperty(e,"findAllPathAsync",{enumerable:!0,get:function(){return t.findAllPathAsync}}),Object.defineProperty(e,"findShortestPathAsync",{enumerable:!0,get:function(){return t.findShortestPathAsync}}),Object.defineProperty(e,"floydWarshallAsync",{enumerable:!0,get:function(){return t.floydWarshallAsync}}),Object.defineProperty(e,"getAdjMatrixAsync",{enumerable:!0,get:function(){return t.getAdjMatrixAsync}}),Object.defineProperty(e,"getDegreeAsync",{enumerable:!0,get:function(){return t.getDegreeAsync}}),Object.defineProperty(e,"getInDegreeAsync",{enumerable:!0,get:function(){return t.getInDegreeAsync}}),Object.defineProperty(e,"getNeighborsAsync",{enumerable:!0,get:function(){return t.getNeighborsAsync}}),Object.defineProperty(e,"getOutDegreeAsync",{enumerable:!0,get:function(){return t.getOutDegreeAsync}}),Object.defineProperty(e,"labelPropagationAsync",{enumerable:!0,get:function(){return t.labelPropagationAsync}}),Object.defineProperty(e,"louvainAsync",{enumerable:!0,get:function(){return t.louvainAsync}}),Object.defineProperty(e,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return t.minimumSpanningTreeAsync}}),Object.defineProperty(e,"pageRankAsync",{enumerable:!0,get:function(){return t.pageRankAsync}});var t=vn,r=t.detectCycleAsync;e.detectDirectedCycleAsync=r;var n={getAdjMatrixAsync:t.getAdjMatrixAsync,connectedComponentAsync:t.connectedComponentAsync,getDegreeAsync:t.getDegreeAsync,getInDegreeAsync:t.getInDegreeAsync,getOutDegreeAsync:t.getOutDegreeAsync,detectCycleAsync:t.detectCycleAsync,detectDirectedCycleAsync:r,detectAllCyclesAsync:t.detectAllCyclesAsync,detectAllDirectedCycleAsync:t.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:t.detectAllUndirectedCycleAsync,dijkstraAsync:t.dijkstraAsync,findAllPathAsync:t.findAllPathAsync,findShortestPathAsync:t.findShortestPathAsync,floydWarshallAsync:t.floydWarshallAsync,labelPropagationAsync:t.labelPropagationAsync,louvainAsync:t.louvainAsync,minimumSpanningTreeAsync:t.minimumSpanningTreeAsync,pageRankAsync:t.pageRankAsync,getNeighborsAsync:t.getNeighborsAsync,GADDIAsync:t.GADDIAsync};e.default=n})(zk);const Ove=Ka(zk),Lve=uJ({__proto__:null,default:Ove},[zk]);function Nve(){return window?window.devicePixelRatio:1}function _V(e,t,r,n){var a=e-r,i=t-n;return Math.sqrt(a*a+i*i)}function Nf(e,t,r,n,a,i){return a>=e&&a<=e+r&&i>=t&&i<=t+n}function Wg(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function Pve(e,t){return!e||!t?e||t:{minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}}function x3(e,t){return e[0]===t[0]&&e[1]===t[1]}var Dve=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Rve=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,$ve=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,xV=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function SV(e,t){var r=e.match(xV);pt(r,function(n){var a=n.split(":");t.addColorStop(a[0],a[1])})}function Bve(e,t,r){var n=Dve.exec(r),a=parseFloat(n[1])%360*(Math.PI/180),i=n[2],o=t.getBBox(),s,l;a>=0&&a<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=a&&a<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=a&&a<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(a),c=u*u,f=(l.x-s.x+u*(l.y-s.y))/(c+1)+s.x,d=u*(l.x-s.x+u*(l.y-s.y))/(c+1)+s.y,h=e.createLinearGradient(s.x,s.y,f,d);return SV(i,h),h}function Fve(e,t,r){var n=Rve.exec(r),a=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(o===0){var l=s.match(xV);return l[l.length-1].split(":")[1]}var u=t.getBBox(),c=u.maxX-u.minX,f=u.maxY-u.minY,d=Math.sqrt(c*c+f*f)/2,h=e.createRadialGradient(u.minX+c*a,u.minY+f*i,0,u.minX+c/2,u.minY+f/2,o*d);return SV(s,h),h}function zve(e,t,r){if(t.get("patternSource")&&t.get("patternSource")===r)return t.get("pattern");var n,a,i=$ve.exec(r),o=i[1],s=i[2];function l(){n=e.createPattern(a,o),t.set("pattern",n),t.set("patternSource",r)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return a=new Image,s.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=s,a.complete?l():(a.onload=l,a.src=a.src),n}function Gve(e,t,r){var n=t.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return r;if(Lt(r)){if(r[1]==="("||r[2]==="("){if(r[0]==="l")return Bve(e,t,r);if(r[0]==="r")return Fve(e,t,r);if(r[0]==="p")return zve(e,t,r)}return r}if(r instanceof CanvasPattern)return r}function jve(e){var t=0,r=0,n=0,a=0;return wr(e)?e.length===1?t=r=n=a=e[0]:e.length===2?(t=n=e[0],r=a=e[1]):e.length===3?(t=e[0],r=a=e[1],n=e[2]):(t=e[0],r=e[1],n=e[2],a=e[3]):t=r=n=a=e,[t,r,n,a]}function xy(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function EC(e,t){return xy(e)*xy(t)?(e[0]*t[0]+e[1]*t[1])/(xy(e)*xy(t)):1}function S3(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(EC(e,t))}function C3(e,t){var r=t[1],n=t[2],a=nE(aE(t[3]),Math.PI*2),i=t[4],o=t[5],s=e[0],l=e[1],u=t[6],c=t[7],f=Math.cos(a)*(s-u)/2+Math.sin(a)*(l-c)/2,d=-1*Math.sin(a)*(s-u)/2+Math.cos(a)*(l-c)/2,h=f*f/(r*r)+d*d/(n*n);h>1&&(r*=Math.sqrt(h),n*=Math.sqrt(h));var v=r*r*(d*d)+n*n*(f*f),p=v?Math.sqrt((r*r*(n*n)-v)/v):1;i===o&&(p*=-1),isNaN(p)&&(p=0);var m=n?p*r*d/n:0,g=r?p*-n*f/r:0,b=(s+u)/2+Math.cos(a)*m-Math.sin(a)*g,y=(l+c)/2+Math.sin(a)*m+Math.cos(a)*g,w=[(f-m)/r,(d-g)/n],_=[(-1*f-m)/r,(-1*d-g)/n],x=S3([1,0],w),S=S3(w,_);return EC(w,_)<=-1&&(S=Math.PI),EC(w,_)>=1&&(S=0),o===0&&S>0&&(S=S-2*Math.PI),o===1&&S<0&&(S=S+2*Math.PI),{cx:b,cy:y,rx:x3(e,[u,c])?0:r,ry:x3(e,[u,c])?0:n,startAngle:x,endAngle:x+S,xRotation:a,arcFlag:i,sweepFlag:o}}var Wb=Math.sin,Hb=Math.cos,Uk=Math.atan2,Sy=Math.PI;function CV(e,t,r,n,a,i,o){var s=t.stroke,l=t.lineWidth,u=r-a,c=n-i,f=Uk(c,u),d=new Kk({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Hb(Sy/6)+","+10*Wb(Sy/6)+" L0,0 L"+10*Hb(Sy/6)+",-"+10*Wb(Sy/6),stroke:s,lineWidth:l}});d.translate(a,i),d.rotateAtPoint(a,i,f),e.set(o?"startArrowShape":"endArrowShape",d)}function MV(e,t,r,n,a,i,o){var s=t.startArrow,l=t.endArrow,u=t.stroke,c=t.lineWidth,f=o?s:l,d=f.d,h=f.fill,v=f.stroke,p=f.lineWidth,m=Ga(f,["d","fill","stroke","lineWidth"]),g=r-a,b=n-i,y=Uk(b,g);d&&(a=a-Hb(y)*d,i=i-Wb(y)*d);var w=new Kk({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:ee(ee({},m),{stroke:v||u,lineWidth:p||c,fill:h})});w.translate(a,i),w.rotateAtPoint(a,i,y),e.set(o?"startArrowShape":"endArrowShape",w)}function Uf(e,t,r,n,a){var i=Uk(n-t,r-e);return{dx:Hb(i)*a,dy:Wb(i)*a}}function Wk(e,t,r,n,a,i){typeof t.startArrow=="object"?MV(e,t,r,n,a,i,!0):t.startArrow?CV(e,t,r,n,a,i,!0):e.set("startArrowShape",null)}function Hk(e,t,r,n,a,i){typeof t.endArrow=="object"?MV(e,t,r,n,a,i,!1):t.endArrow?CV(e,t,r,n,a,i,!1):e.set("startArrowShape",null)}var M3={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function tv(e,t){var r=t.attr();for(var n in r){var a=r[n],i=M3[n]?M3[n]:n;i==="matrix"&&a?e.transform(a[0],a[1],a[3],a[4],a[6],a[7]):i==="lineDash"&&e.setLineDash?wr(a)&&e.setLineDash(a):(i==="strokeStyle"||i==="fillStyle"?a=Gve(e,t,a):i==="globalAlpha"&&(a=a*e.globalAlpha),e[i]=a)}}function _C(e,t,r){for(var n=0;n<t.length;n++){var a=t[n];a.cfg.visible?a.draw(e,r):a.skipDraw()}}function Vve(e,t,r){var n=e.get("refreshElements");pt(n,function(a){if(a!==e)for(var i=a.cfg.parent;i&&i!==e&&!i.cfg.refresh;)i.cfg.refresh=!0,i=i.cfg.parent}),n[0]===e?Yk(t):xC(t,r)}function xC(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&Yk(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&xC(n.cfg.children,t);else{var a=Uve(n,t);n.cfg.refresh=a,a&&n.isGroup()&&xC(n.cfg.children,t)}}}function TV(e){for(var t=0;t<e.length;t++){var r=e[t];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&TV(r.cfg.children)}}function Yk(e,t){for(var r=0;r<e.length;r++){var n=e[r];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&Yk(n.get("children")))}}function Uve(e,t){var r=e.cfg.cacheCanvasBBox,n=e.cfg.isInView&&r&&Wg(r,t);return n}function kV(e,t,r,n){var a=r.path,i=r.startArrow,o=r.endArrow;if(a){var s=[0,0],l=[0,0],u={dx:0,dy:0};t.beginPath();for(var c=0;c<a.length;c++){var f=a[c],d=f[0];if(c===0&&i&&i.d){var h=e.getStartTangent();u=Uf(h[0][0],h[0][1],h[1][0],h[1][1],i.d)}else if(c===a.length-2&&a[c+1][0]==="Z"&&o&&o.d){var v=a[c+1];if(v[0]==="Z"){var h=e.getEndTangent();u=Uf(h[0][0],h[0][1],h[1][0],h[1][1],o.d)}}else if(c===a.length-1&&o&&o.d&&a[0]!=="Z"){var h=e.getEndTangent();u=Uf(h[0][0],h[0][1],h[1][0],h[1][1],o.d)}var p=u.dx,m=u.dy;switch(d){case"M":t.moveTo(f[1]-p,f[2]-m),l=[f[1],f[2]];break;case"L":t.lineTo(f[1]-p,f[2]-m);break;case"Q":t.quadraticCurveTo(f[1],f[2],f[3]-p,f[4]-m);break;case"C":t.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-p,f[6]-m);break;case"A":{var g=void 0;n?(g=n[c],g||(g=C3(s,f),n[c]=g)):g=C3(s,f);var b=g.cx,y=g.cy,w=g.rx,_=g.ry,x=g.startAngle,S=g.endAngle,C=g.xRotation,T=g.sweepFlag;if(t.ellipse)t.ellipse(b,y,w,_,C,x,S,1-T);else{var M=w>_?w:_,k=w>_?1:w/_,A=w>_?_/w:1;t.translate(b,y),t.rotate(C),t.scale(k,A),t.arc(0,0,M,x,S,1-T),t.scale(1/k,1/A),t.rotate(-C),t.translate(-b,-y)}break}case"Z":t.closePath();break}if(d==="Z")s=l;else{var O=f.length;s=[f[O-2],f[O-1]]}}}}function AV(e,t){var r=e.get("canvas");r&&(t==="remove"&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(r.refreshElement(e,t,r),r.get("autoDraw")&&r.draw())))}function Wve(e){var t;if(e.destroyed)t=e._cacheCanvasBBox;else{var r=e.get("cacheCanvasBBox"),n=r&&!!(r.width&&r.height),a=e.getCanvasBBox(),i=a&&!!(a.width&&a.height);n&&i?t=Pve(r,a):n?t=r:i&&(t=a)}return t}function Hve(e){if(!e.length)return null;var t=[],r=[],n=[],a=[];return pt(e,function(i){var o=Wve(i);o&&(t.push(o.minX),r.push(o.minY),n.push(o.maxX),a.push(o.maxY))}),{minX:Cl(t),minY:Cl(r),maxX:Sl(n),maxY:Sl(a)}}function Yve(e,t){return!e||!t||!Wg(e,t)?null:{minX:Math.max(e.minX,t.minX),minY:Math.max(e.minY,t.minY),maxX:Math.min(e.maxX,t.maxX),maxY:Math.min(e.maxY,t.maxY)}}var IV=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onCanvasChange=function(r){AV(this,r)},t.prototype.getShapeBase=function(){return MT},t.prototype.getGroupBase=function(){return t},t.prototype._applyClip=function(r,n){n&&(r.save(),tv(r,n),n.createPath(r),r.restore(),r.clip(),n._afterDraw())},t.prototype.cacheCanvasBBox=function(){var r=this.cfg.children,n=[],a=[];pt(r,function(d){var h=d.cfg.cacheCanvasBBox;h&&d.cfg.isInView&&(n.push(h.minX,h.maxX),a.push(h.minY,h.maxY))});var i=null;if(n.length){var o=Cl(n),s=Sl(n),l=Cl(a),u=Sl(a);i={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var c=this.cfg.canvas;if(c){var f=c.getViewRange();this.set("isInView",Wg(i,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",i)},t.prototype.draw=function(r,n){var a=this.cfg.children,i=n?this.cfg.refresh:!0;a.length&&i&&(r.save(),tv(r,this),this._applyClip(r,this.getClip()),_C(r,a,n),r.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},t}(fj),Fs=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.getShapeBase=function(){return MT},t.prototype.getGroupBase=function(){return IV},t.prototype.onCanvasChange=function(r){AV(this,r)},t.prototype.calculateBBox=function(){var r=this.get("type"),n=this.getHitLineWidth(),a=vj(r),i=a(this),o=n/2,s=i.x-o,l=i.y-o,u=i.x+i.width+o,c=i.y+i.height+o;return{x:s,minX:s,y:l,minY:l,width:i.width+n,height:i.height+n,maxX:u,maxY:c}},t.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},t.prototype.isStroke=function(){return!!this.attrs.stroke},t.prototype._applyClip=function(r,n){n&&(r.save(),tv(r,n),n.createPath(r),r.restore(),r.clip(),n._afterDraw())},t.prototype.draw=function(r,n){var a=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var i=this.getCanvasBBox();if(!Wg(n,i)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}r.save(),tv(r,this),this._applyClip(r,a),this.drawPath(r),r.restore(),this._afterDraw()},t.prototype.getCanvasViewBox=function(){var r=this.cfg.canvas;return r?r.getViewRange():null},t.prototype.cacheCanvasBBox=function(){var r=this.getCanvasViewBox();if(r){var n=this.getCanvasBBox(),a=Wg(n,r);this.set("isInView",a),a?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},t.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},t.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},t.prototype.drawPath=function(r){this.createPath(r),this.strokeAndFill(r),this.afterDrawPath(r)},t.prototype.fill=function(r){r.fill()},t.prototype.stroke=function(r){r.stroke()},t.prototype.strokeAndFill=function(r){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&(!hr(s)&&s!==1?(r.globalAlpha=s,this.fill(r),r.globalAlpha=i):this.fill(r)),this.isStroke()&&a>0&&(!hr(o)&&o!==1&&(r.globalAlpha=o),this.stroke(r)),this.afterDrawPath(r)},t.prototype.createPath=function(r){},t.prototype.afterDrawPath=function(r){},t.prototype.isInShape=function(r,n){var a=this.isStroke(),i=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(r,n,a,i,o)},t.prototype.isInStrokeOrPath=function(r,n,a,i,o){return!1},t.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var r=this.attrs;return r.lineWidth+r.lineAppendWidth},t}(dj),Kve=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,r:0})},t.prototype.isInStrokeOrPath=function(r,n,a,i,o){var s=this.attr(),l=s.x,u=s.y,c=s.r,f=o/2,d=_V(l,u,r,n);return i&&a?d<=c+f:i?d<=c:a?d>=c-f&&d<=c+f:!1},t.prototype.createPath=function(r){var n=this.attr(),a=n.x,i=n.y,o=n.r;r.beginPath(),r.arc(a,i,o,0,Math.PI*2,!1),r.closePath()},t}(Fs);function Cy(e,t,r,n){return e/(r*r)+t/(n*n)}var Xve=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,rx:0,ry:0})},t.prototype.isInStrokeOrPath=function(r,n,a,i,o){var s=this.attr(),l=o/2,u=s.x,c=s.y,f=s.rx,d=s.ry,h=(r-u)*(r-u),v=(n-c)*(n-c);return i&&a?Cy(h,v,f+l,d+l)<=1:i?Cy(h,v,f,d)<=1:a?Cy(h,v,f-l,d-l)>=1&&Cy(h,v,f+l,d+l)<=1:!1},t.prototype.createPath=function(r){var n=this.attr(),a=n.x,i=n.y,o=n.rx,s=n.ry;if(r.beginPath(),r.ellipse)r.ellipse(a,i,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,c=o>s?s/o:1;r.save(),r.translate(a,i),r.scale(u,c),r.arc(0,0,l,0,Math.PI*2),r.restore(),r.closePath()}},t}(Fs);function T3(e){return e instanceof HTMLElement&&Lt(e.nodeName)&&e.nodeName.toUpperCase()==="CANVAS"}var qve=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,width:0,height:0})},t.prototype.initAttrs=function(r){this._setImage(r.img)},t.prototype.isStroke=function(){return!1},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var r=this.get("canvas");r?r.draw():this.createPath(this.get("context"))}},t.prototype._setImage=function(r){var n=this,a=this.attrs;if(Lt(r)){var i=new Image;i.onload=function(){if(n.destroyed)return!1;n.attr("img",i),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},i.crossOrigin="Anonymous",i.src=r,this.set("loading",!0)}else r instanceof Image?(a.width||(a.width=r.width),a.height||(a.height=r.height)):T3(r)&&(a.width||(a.width=Number(r.getAttribute("width"))),a.height||(a.height,Number(r.getAttribute("height"))))},t.prototype.onAttrChange=function(r,n,a){e.prototype.onAttrChange.call(this,r,n,a),r==="img"&&this._setImage(n)},t.prototype.createPath=function(r){if(this.get("loading")){this.set("toDraw",!0),this.set("context",r);return}var n=this.attr(),a=n.x,i=n.y,o=n.width,s=n.height,l=n.sx,u=n.sy,c=n.swidth,f=n.sheight,d=n.img;(d instanceof Image||T3(d))&&(!hr(l)&&!hr(u)&&!hr(c)&&!hr(f)?r.drawImage(d,l,u,c,f,a,i,o,s):r.drawImage(d,a,i,o,s))},t}(Fs);function cc(e,t,r,n,a,i,o){var s=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),c=Math.max(t,n),f=a/2;return i>=s-f&&i<=l+f&&o>=u-f&&o<=c+f?oi.pointToLine(e,t,r,n,i,o)<=a/2:!1}var Zve=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(r){this.setArrow()},t.prototype.onAttrChange=function(r,n,a){e.prototype.onAttrChange.call(this,r,n,a),this.setArrow()},t.prototype.setArrow=function(){var r=this.attr(),n=r.x1,a=r.y1,i=r.x2,o=r.y2,s=r.startArrow,l=r.endArrow;s&&Wk(this,r,i,o,n,a),l&&Hk(this,r,n,a,i,o)},t.prototype.isInStrokeOrPath=function(r,n,a,i,o){if(!a||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,c=s.x2,f=s.y2;return cc(l,u,c,f,o,r,n)},t.prototype.createPath=function(r){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2,l=n.startArrow,u=n.endArrow,c={dx:0,dy:0},f={dx:0,dy:0};l&&l.d&&(c=Uf(a,i,o,s,n.startArrow.d)),u&&u.d&&(f=Uf(a,i,o,s,n.endArrow.d)),r.beginPath(),r.moveTo(a+c.dx,i+c.dy),r.lineTo(o-f.dx,s-f.dy)},t.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(r),a&&a.draw(r)},t.prototype.getTotalLength=function(){var r=this.attr(),n=r.x1,a=r.y1,i=r.x2,o=r.y2;return oi.length(n,a,i,o)},t.prototype.getPoint=function(r){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2;return oi.pointAt(a,i,o,s,r)},t}(Fs),Qve={circle:function(e,t,r){return[["M",e-r,t],["A",r,r,0,1,0,e+r,t],["A",r,r,0,1,0,e-r,t]]},square:function(e,t,r){return[["M",e-r,t-r],["L",e+r,t-r],["L",e+r,t+r],["L",e-r,t+r],["Z"]]},diamond:function(e,t,r){return[["M",e-r,t],["L",e,t-r],["L",e+r,t],["L",e,t+r],["Z"]]},triangle:function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t+n],["L",e,t-n],["L",e+r,t+n],["Z"]]},"triangle-down":function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t-n],["L",e+r,t-n],["L",e,t+n],["Z"]]}},Jve=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.initAttrs=function(r){this._resetParamsCache()},t.prototype._resetParamsCache=function(){this.set("paramsCache",{})},t.prototype.onAttrChange=function(r,n,a){e.prototype.onAttrChange.call(this,r,n,a),["symbol","x","y","r","radius"].indexOf(r)!==-1&&this._resetParamsCache()},t.prototype.isOnlyHitBox=function(){return!0},t.prototype._getR=function(r){return hr(r.r)?r.radius:r.r},t.prototype._getPath=function(){var r=this.attr(),n=r.x,a=r.y,i=r.symbol||"circle",o=this._getR(r),s,l;if(ta(i))s=i,l=s(n,a,o),l=Tj(l);else{if(s=t.Symbols[i],!s)return console.warn(i+" marker is not supported."),null;l=s(n,a,o)}return l},t.prototype.createPath=function(r){var n=this._getPath(),a=this.get("paramsCache");kV(this,r,{path:n},a)},t.Symbols=Qve,t}(Fs);function OV(e,t,r){var n=xj();return e.createPath(n),n.isPointInPath(t,r)}var epe=1e-6;function tx(e){return Math.abs(e)<epe?0:e<0?-1:1}function tpe(e,t,r){return(r[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(r[1]-e[1])&&Math.min(e[0],t[0])<=r[0]&&r[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=r[1]&&r[1]<=Math.max(e[1],t[1])}function LV(e,t,r){var n=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],s=e[(i+1)%a];if(tpe(o,s,[t,r]))return!0;tx(o[1]-r)>0!=tx(s[1]-r)>0&&tx(t-(r-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function zp(e,t,r,n,a,i,o,s){var l=(Math.atan2(s-t,o-e)+Math.PI*2)%(Math.PI*2);if(l<n||l>a)return!1;var u={x:e+r*Math.cos(l),y:t+r*Math.sin(l)};return _V(u.x,u.y,o,s)<=i/2}var rpe=vs;function npe(e){for(var t=!1,r=e.length,n=0;n<r;n++){var a=e[n],i=a[0];if(i==="C"||i==="A"||i==="Q"){t=!0;break}}return t}function ape(e,t,r,n,a){for(var i=!1,o=t/2,s=0;s<e.length;s++){var l=e[s],u=l.currentPoint,c=l.params,f=l.prePoint,d=l.box;if(!(d&&!Nf(d.x-o,d.y-o,d.width+t,d.height+t,r,n))){switch(l.command){case"L":case"Z":i=cc(f[0],f[1],u[0],u[1],t,r,n);break;case"Q":var h=bj.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],r,n);i=h<=t/2;break;case"C":var v=ng.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],r,n,a);i=v<=t/2;break;case"A":var p=l.arcParams,m=p.cx,g=p.cy,b=p.rx,y=p.ry,w=p.startAngle,_=p.endAngle,x=p.xRotation,S=[r,n,1],C=b>y?b:y,T=b>y?1:b/y,M=b>y?y/b:1,k=rpe(null,[["t",-m,-g],["r",-x],["s",1/T,1/M]]);oE(S,S,k),i=zp(0,0,C,w,_,t,S[0],S[1]);break}if(i)break}}return i}function ipe(e){for(var t=e.length,r=[],n=[],a=[],i=0;i<t;i++){var o=e[i],s=o[0];s==="M"?(a.length&&(n.push(a),a=[]),a.push([o[1],o[2]])):s==="Z"?a.length&&(r.push(a),a=[]):a.push([o[1],o[2]])}return a.length>0&&n.push(a),{polygons:r,polylines:n}}const My=ee({hasArc:npe,extractPolygons:ipe,isPointInStroke:ape},fue);function k3(e,t,r){for(var n=!1,a=0;a<e.length;a++){var i=e[a];if(n=LV(i,t,r),n)break}return n}var Kk=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(r){this._setPathArr(r.path),this.setArrow()},t.prototype.onAttrChange=function(r,n,a){e.prototype.onAttrChange.call(this,r,n,a),r==="path"&&this._setPathArr(n),this.setArrow()},t.prototype._setPathArr=function(r){this.attrs.path=Tj(r);var n=My.hasArc(r);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},t.prototype.getSegments=function(){var r=this.get("segements");return r||(r=kj(this.attr("path")),this.set("segments",r)),r},t.prototype.setArrow=function(){var r=this.attr(),n=r.startArrow,a=r.endArrow;if(n){var i=this.getStartTangent();Wk(this,r,i[0][0],i[0][1],i[1][0],i[1][1])}if(a){var i=this.getEndTangent();Hk(this,r,i[0][0],i[0][1],i[1][0],i[1][1])}},t.prototype.isInStrokeOrPath=function(r,n,a,i,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(a){var c=this.getTotalLength();u=My.isPointInStroke(s,o,r,n,c)}if(!u&&i)if(l)u=OV(this,r,n);else{var f=this.attr("path"),d=My.extractPolygons(f);u=k3(d.polygons,r,n)||k3(d.polylines,r,n)}return u},t.prototype.createPath=function(r){var n=this.attr(),a=this.get("paramsCache");kV(this,r,n,a)},t.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(r),a&&a.draw(r)},t.prototype.getTotalLength=function(){var r=this.get("totalLength");return hr(r)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):r},t.prototype.getPoint=function(r){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var a,i,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;pt(n,function(c,f){r>=c[0]&&r<=c[1]&&(a=(r-c[0])/(c[1]-c[0]),i=f)});var s=o[i];if(hr(s)||hr(i))return null;var l=s.length,u=o[i+1];return ng.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],a)},t.prototype._calculateCurve=function(){var r=this.attr().path;this.set("curve",My.pathToCurve(r))},t.prototype._setTcache=function(){var r=0,n=0,a=[],i,o,s,l,u=this.get("curve");if(u){if(pt(u,function(c,f){s=u[f+1],l=c.length,s&&(r+=ng.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",r),r===0){this.set("tCache",[]);return}pt(u,function(c,f){s=u[f+1],l=c.length,s&&(i=[],i[0]=n/r,o=ng.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),n+=o||0,i[1]=n/r,a.push(i))}),this.set("tCache",a)}},t.prototype.getStartTangent=function(){var r=this.getSegments(),n;if(r.length>1){var a=r[0].currentPoint,i=r[1].currentPoint,o=r[1].startTangent;n=[],o?(n.push([a[0]-o[0],a[1]-o[1]]),n.push([a[0],a[1]])):(n.push([i[0],i[1]]),n.push([a[0],a[1]]))}return n},t.prototype.getEndTangent=function(){var r=this.getSegments(),n=r.length,a;if(n>1){var i=r[n-2].currentPoint,o=r[n-1].currentPoint,s=r[n-1].endTangent;a=[],s?(a.push([o[0]-s[0],o[1]-s[1]]),a.push([o[0],o[1]])):(a.push([i[0],i[1]]),a.push([o[0],o[1]]))}return a},t}(Fs);function NV(e,t,r,n,a){var i=e.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var s=e[o][0],l=e[o][1],u=e[o+1][0],c=e[o+1][1];if(cc(s,l,u,c,t,r,n))return!0}if(a){var f=e[0],d=e[i-1];if(cc(f[0],f[1],d[0],d[1],t,r,n))return!0}return!1}var ope=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.isInStrokeOrPath=function(r,n,a,i,o){var s=this.attr().points,l=!1;return a&&(l=NV(s,o,r,n,!0)),!l&&i&&(l=LV(s,r,n)),l},t.prototype.createPath=function(r){var n=this.attr(),a=n.points;if(!(a.length<2)){r.beginPath();for(var i=0;i<a.length;i++){var o=a[i];i===0?r.moveTo(o[0],o[1]):r.lineTo(o[0],o[1])}r.closePath()}},t}(Fs),spe=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{startArrow:!1,endArrow:!1})},t.prototype.initAttrs=function(r){this.setArrow()},t.prototype.onAttrChange=function(r,n,a){e.prototype.onAttrChange.call(this,r,n,a),this.setArrow(),["points"].indexOf(r)!==-1&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.setArrow=function(){var r=this.attr(),n=this.attrs,a=n.points,i=n.startArrow,o=n.endArrow,s=a.length,l=a[0][0],u=a[0][1],c=a[s-1][0],f=a[s-1][1];i&&Wk(this,r,a[1][0],a[1][1],l,u),o&&Hk(this,r,a[s-2][0],a[s-2][1],c,f)},t.prototype.isFill=function(){return!1},t.prototype.isInStrokeOrPath=function(r,n,a,i,o){if(!a||!o)return!1;var s=this.attr().points;return NV(s,o,r,n,!1)},t.prototype.isStroke=function(){return!0},t.prototype.createPath=function(r){var n=this.attr(),a=n.points,i=n.startArrow,o=n.endArrow,s=a.length;if(!(a.length<2)){var l=a[0][0],u=a[0][1],c=a[s-1][0],f=a[s-1][1];if(i&&i.d){var d=Uf(l,u,a[1][0],a[1][1],i.d);l+=d.dx,u+=d.dy}if(o&&o.d){var d=Uf(a[s-2][0],a[s-2][1],c,f,o.d);c-=d.dx,f-=d.dy}r.beginPath(),r.moveTo(l,u);for(var h=0;h<s-1;h++){var v=a[h];r.lineTo(v[0],v[1])}r.lineTo(c,f)}},t.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(r),a&&a.draw(r)},t.prototype.getTotalLength=function(){var r=this.attr().points,n=this.get("totalLength");return hr(n)?(this.set("totalLength",_j.length(r)),this.get("totalLength")):n},t.prototype.getPoint=function(r){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return pt(a,function(s,l){r>=s[0]&&r<=s[1]&&(i=(r-s[0])/(s[1]-s[0]),o=l)}),oi.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},t.prototype._setTcache=function(){var r=this.attr().points;if(!(!r||r.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,s;pt(r,function(l,u){r[u+1]&&(o=[],o[0]=a/n,s=oi.length(l[0],l[1],r[u+1][0],r[u+1][1]),a+=s,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},t.prototype.getStartTangent=function(){var r=this.attr().points,n=[];return n.push([r[1][0],r[1][1]]),n.push([r[0][0],r[0][1]]),n},t.prototype.getEndTangent=function(){var r=this.attr().points,n=r.length-1,a=[];return a.push([r[n-1][0],r[n-1][1]]),a.push([r[n][0],r[n][1]]),a},t}(Fs);function lpe(e,t,r,n,a,i,o){var s=a/2;return Nf(e-s,t-s,r,a,i,o)||Nf(e+r-s,t-s,a,n,i,o)||Nf(e+s,t+n-s,r,a,i,o)||Nf(e-s,t+s,a,n,i,o)}function upe(e,t,r,n,a,i,o,s){return cc(e+a,t,e+r-a,t,i,o,s)||cc(e+r,t+a,e+r,t+n-a,i,o,s)||cc(e+r-a,t+n,e+a,t+n,i,o,s)||cc(e,t+n-a,e,t+a,i,o,s)||zp(e+r-a,t+a,a,1.5*Math.PI,2*Math.PI,i,o,s)||zp(e+r-a,t+n-a,a,0,.5*Math.PI,i,o,s)||zp(e+a,t+n-a,a,.5*Math.PI,Math.PI,i,o,s)||zp(e+a,t+a,a,Math.PI,1.5*Math.PI,i,o,s)}var cpe=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.isInStrokeOrPath=function(r,n,a,i,o){var s=this.attr(),l=s.x,u=s.y,c=s.width,f=s.height,d=s.radius;if(d){var v=!1;return a&&(v=upe(l,u,c,f,d,o,r,n)),!v&&i&&(v=OV(this,r,n)),v}else{var h=o/2;if(i&&a)return Nf(l-h,u-h,c+h,f+h,r,n);if(i)return Nf(l,u,c,f,r,n);if(a)return lpe(l,u,c,f,o,r,n)}},t.prototype.createPath=function(r){var n=this.attr(),a=n.x,i=n.y,o=n.width,s=n.height,l=n.radius;if(r.beginPath(),l===0)r.rect(a,i,o,s);else{var u=jve(l),c=u[0],f=u[1],d=u[2],h=u[3];r.moveTo(a+c,i),r.lineTo(a+o-f,i),f!==0&&r.arc(a+o-f,i+f,f,-Math.PI/2,0),r.lineTo(a+o,i+s-d),d!==0&&r.arc(a+o-d,i+s-d,d,0,Math.PI/2),r.lineTo(a+h,i+s),h!==0&&r.arc(a+h,i+s-h,h,Math.PI/2,Math.PI),r.lineTo(a,i+c),c!==0&&r.arc(a+c,i+c,c,Math.PI,Math.PI*1.5),r.closePath()}},t}(Fs),fpe=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.isOnlyHitBox=function(){return!0},t.prototype.initAttrs=function(r){this._assembleFont(),r.text&&this._setText(r.text)},t.prototype._assembleFont=function(){var r=this.attrs;r.font=Cj(r)},t.prototype._setText=function(r){var n=null;Lt(r)&&r.indexOf(`
`)!==-1&&(n=r.split(`
`)),this.set("textArr",n)},t.prototype.onAttrChange=function(r,n,a){e.prototype.onAttrChange.call(this,r,n,a),r.startsWith("font")&&this._assembleFont(),r==="text"&&this._setText(n)},t.prototype._getSpaceingY=function(){var r=this.attrs,n=r.lineHeight,a=r.fontSize*1;return n?n-a:a*.14},t.prototype._drawTextArr=function(r,n,a){var i=this.attrs,o=i.textBaseline,s=i.x,l=i.y,u=i.fontSize*1,c=this._getSpaceingY(),f=Sj(i.text,i.fontSize,i.lineHeight),d;pt(n,function(h,v){d=l+v*(c+u)-f+u,o==="middle"&&(d+=f-u-(f-u)/2),o==="top"&&(d+=f-u),hr(h)||(a?r.fillText(h,s,d):r.strokeText(h,s,d))})},t.prototype._drawText=function(r,n){var a=this.attr(),i=a.x,o=a.y,s=this.get("textArr");if(s)this._drawTextArr(r,s,n);else{var l=a.text;hr(l)||(n?r.fillText(l,i,o):r.strokeText(l,i,o))}},t.prototype.strokeAndFill=function(r){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&a>0&&(!hr(o)&&o!==1&&(r.globalAlpha=i),this.stroke(r)),this.isFill()&&(!hr(s)&&s!==1?(r.globalAlpha=s,this.fill(r),r.globalAlpha=i):this.fill(r)),this.afterDrawPath(r)},t.prototype.fill=function(r){this._drawText(r,!0)},t.prototype.stroke=function(r){this._drawText(r,!1)},t}(Fs);function dpe(e,t){if(t){var r=KG(t);return Of(r,e)}return e}function PV(e,t,r){var n=e.getTotalMatrix();if(n){var a=dpe([t,r,1],n),i=a[0],o=a[1];return[i,o]}return[t,r]}function A3(e,t,r){if(e.isCanvas&&e.isCanvas())return!0;if(!qS(e)||e.cfg.isInView===!1)return!1;if(e.cfg.clipShape){var n=PV(e,t,r),a=n[0],i=n[1];if(e.isClipped(a,i))return!1}var o=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return t>=o.minX&&t<=o.maxX&&r>=o.minY&&r<=o.maxY}function DV(e,t,r){if(!A3(e,t,r))return null;for(var n=null,a=e.getChildren(),i=a.length,o=i-1;o>=0;o--){var s=a[o];if(s.isGroup())n=DV(s,t,r);else if(A3(s,t,r)){var l=s,u=PV(s,t,r),c=u[0],f=u[1];l.isInShape(c,f)&&(n=s)}if(n)break}return n}var tu=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getDefaultCfg=function(){var r=e.prototype.getDefaultCfg.call(this);return r.renderer="canvas",r.autoDraw=!0,r.localRefresh=!0,r.refreshElements=[],r.clipView=!0,r.quickHit=!1,r},t.prototype.onCanvasChange=function(r){(r==="attr"||r==="sort"||r==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},t.prototype.getShapeBase=function(){return MT},t.prototype.getGroupBase=function(){return IV},t.prototype.getPixelRatio=function(){var r=this.get("pixelRatio")||Nve();return r>=1?Math.ceil(r):1},t.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},t.prototype.createDom=function(){var r=document.createElement("canvas"),n=r.getContext("2d");return this.set("context",n),r},t.prototype.setDOMSize=function(r,n){e.prototype.setDOMSize.call(this,r,n);var a=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*r,i.height=o*n,o>1&&a.scale(o,o)},t.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var r=this.get("context"),n=this.get("el");r.clearRect(0,0,n.width,n.height)},t.prototype.getShape=function(r,n){var a;return this.get("quickHit")?a=DV(this,r,n):a=e.prototype.getShape.call(this,r,n,null),a},t.prototype._getRefreshRegion=function(){var r=this.get("refreshElements"),n=this.getViewRange(),a;if(r.length&&r[0]===this)a=n;else if(a=Hve(r),a){a.minX=Math.floor(a.minX),a.minY=Math.floor(a.minY),a.maxX=Math.ceil(a.maxX),a.maxY=Math.ceil(a.maxY),a.maxY+=1;var i=this.get("clipView");i&&(a=Yve(a,n))}return a},t.prototype.refreshElement=function(r){var n=this.get("refreshElements");n.push(r)},t.prototype._clearFrame=function(){var r=this.get("drawFrame");r&&(R8(r),this.set("drawFrame",null),this.set("refreshElements",[]))},t.prototype.draw=function(){var r=this.get("drawFrame");this.get("autoDraw")&&r||this._startDraw()},t.prototype._drawAll=function(){var r=this.get("context"),n=this.get("el"),a=this.getChildren();r.clearRect(0,0,n.width,n.height),tv(r,this),_C(r,a),this.set("refreshElements",[])},t.prototype._drawRegion=function(){var r=this.get("context"),n=this.get("refreshElements"),a=this.getChildren(),i=this._getRefreshRegion();i?(r.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),r.save(),r.beginPath(),r.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),r.clip(),tv(r,this),Vve(this,a,i),_C(r,a,i),r.restore()):n.length&&TV(n),pt(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},t.prototype._startDraw=function(){var r=this,n=this.get("drawFrame"),a=this.get("drawFrameCallback");n||(n=D8(function(){r.get("localRefresh")?r._drawRegion():r._drawAll(),r.set("drawFrame",null),a&&a()}),this.set("drawFrame",n))},t.prototype.skipDraw=function(){},t.prototype.removeDom=function(){var r=this.get("el");r.width=0,r.height=0,r.parentNode.removeChild(r)},t}(cj),SC={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},xn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function os(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function RV(e){var t=SC[e.type],r=e.getParent();if(!t)throw new Error("the type "+e.type+" is not supported by svg");var n=os(t);if(e.get("id")&&(n.id=e.get("id")),e.set("el",n),e.set("attrs",{}),r){var a=r.get("el");a||(a=r.createDom(),r.set("el",a)),a.appendChild(n)}return n}function $V(e,t){var r=e.get("el"),n=z8(r.children).sort(t),a=document.createDocumentFragment();n.forEach(function(i){a.appendChild(i)}),r.appendChild(a)}function hpe(e,t){var r=e.parentNode,n=Array.from(r.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),a=n[t],i=n.indexOf(e);if(a){if(i>t)r.insertBefore(e,a);else if(i<t){var o=n[t+1];o?r.insertBefore(e,o):r.appendChild(e)}}else r.appendChild(e)}function vpe(e,t){var r=e.cfg.el,n=e.attr(),a={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!a.dx&&!a.dy&&!a.blur&&!a.color)r.removeAttribute("filter");else{var i=t.find("filter",a);i||(i=t.addShadow(a)),r.setAttribute("filter","url(#"+i+")")}}function O0(e){var t=e.attr().matrix;if(t){for(var r=e.cfg.el,n=[],a=0;a<9;a+=3)n.push(t[a]+","+t[a+1]);n=n.join(","),n.indexOf("NaN")===-1?r.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",t)}}function Hg(e,t){var r=e.getClip(),n=e.get("el");if(!r)n.removeAttribute("clip-path");else if(r&&!n.hasAttribute("clip-path")){RV(r),r.createPath(t);var a=t.addClip(r);n.setAttribute("clip-path","url(#"+a+")")}}function BV(e,t){t.forEach(function(r){r.draw(e)})}function FV(e,t){var r=e.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context"),a=e.getParent(),i=a?a.getChildren():[r],o=e.get("el");if(t==="remove"){var s=e.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(t==="show")o.setAttribute("visibility","visible");else if(t==="hide")o.setAttribute("visibility","hidden");else if(t==="zIndex")hpe(o,i.indexOf(e));else if(t==="sort"){var c=e.get("children");c&&c.length&&$V(e,function(f,d){return c.indexOf(f)-c.indexOf(d)?1:0})}else t==="clear"?o&&(o.innerHTML=""):t==="matrix"?O0(e):t==="clip"?Hg(e,n):t==="attr"||t==="add"&&e.draw(n)}}var zV=function(e){jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.isEntityGroup=function(){return!0},t.prototype.createDom=function(){var r=os("g");this.set("el",r);var n=this.getParent();if(n){var a=n.get("el");a||(a=n.createDom(),n.set("el",a)),a.appendChild(r)}return r},t.prototype.afterAttrsChange=function(r){e.prototype.afterAttrsChange.call(this,r);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.createPath(a,r)}},t.prototype.onCanvasChange=function(r){FV(this,r)},t.prototype.getShapeBase=function(){return TT},t.prototype.getGroupBase=function(){return t},t.prototype.draw=function(r){var n=this.getChildren(),a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||this.createDom(),Hg(this,r),this.createPath(r),n.length&&BV(r,n))},t.prototype.createPath=function(r,n){var a=this.attr(),i=this.get("el");pt(n||a,function(o,s){xn[s]&&i.setAttribute(xn[s],o)}),O0(this)},t}(fj),ps=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="svg",r.canFill=!1,r.canStroke=!1,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},t.prototype.afterAttrsChange=function(r){e.prototype.afterAttrsChange.call(this,r);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.draw(a,r)}},t.prototype.getShapeBase=function(){return TT},t.prototype.getGroupBase=function(){return zV},t.prototype.onCanvasChange=function(r){FV(this,r)},t.prototype.calculateBBox=function(){var r=this.get("el"),n=null;if(r)n=r.getBBox();else{var a=vj(this.get("type"));a&&(n=a(this))}if(n){var i=n.x,o=n.y,s=n.width,l=n.height,u=this.getHitLineWidth(),c=u/2,f=i-c,d=o-c,h=i+s+c,v=o+l+c;return{x:f,y:d,minX:f,minY:d,maxX:h,maxY:v,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},t.prototype.isFill=function(){var r=this.attr(),n=r.fill,a=r.fillStyle;return(n||a||this.isClipShape())&&this.canFill},t.prototype.isStroke=function(){var r=this.attr(),n=r.stroke,a=r.strokeStyle;return(n||a)&&this.canStroke},t.prototype.draw=function(r,n){var a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||RV(this),Hg(this,r),this.createPath(r,n),this.shadow(r,n),this.strokeAndFill(r,n),this.transform(n))},t.prototype.createPath=function(r,n){},t.prototype.strokeAndFill=function(r,n){var a=n||this.attr(),i=a.fill,o=a.fillStyle,s=a.stroke,l=a.strokeStyle,u=a.fillOpacity,c=a.strokeOpacity,f=a.lineWidth,d=this.get("el");this.canFill&&(n?"fill"in a?this._setColor(r,"fill",i):"fillStyle"in a&&this._setColor(r,"fill",o):this._setColor(r,"fill",i||o),u&&d.setAttribute(xn.fillOpacity,u)),this.canStroke&&f>0&&(n?"stroke"in a?this._setColor(r,"stroke",s):"strokeStyle"in a&&this._setColor(r,"stroke",l):this._setColor(r,"stroke",s||l),c&&d.setAttribute(xn.strokeOpacity,c),f&&d.setAttribute(xn.lineWidth,f))},t.prototype._setColor=function(r,n,a){var i=this.get("el");if(!a){i.setAttribute(xn[n],"none");return}if(a=a.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(a)){var o=r.find("gradient",a);o||(o=r.addGradient(a)),i.setAttribute(xn[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(a)){var o=r.find("pattern",a);o||(o=r.addPattern(a)),i.setAttribute(xn[n],"url(#"+o+")")}else i.setAttribute(xn[n],a)},t.prototype.shadow=function(r,n){var a=this.attr(),i=n||a,o=i.shadowOffsetX,s=i.shadowOffsetY,l=i.shadowBlur,u=i.shadowColor;(o||s||l||u)&&vpe(this,r)},t.prototype.transform=function(r){var n=this.attr(),a=(r||n).matrix;a&&O0(this)},t.prototype.isInShape=function(r,n){return this.isPointInPath(r,n)},t.prototype.isPointInPath=function(r,n){var a=this.get("el"),i=this.get("canvas"),o=i.get("el").getBoundingClientRect(),s=r+o.left,l=n+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(a))},t.prototype.getHitLineWidth=function(){var r=this.attrs,n=r.lineWidth,a=r.lineAppendWidth;return this.isStroke()?n+a:0},t}(dj),ppe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="circle",r.canFill=!0,r.canStroke=!0,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,r:0})},t.prototype.createPath=function(r,n){var a=this.attr(),i=this.get("el");pt(n||a,function(o,s){s==="x"||s==="y"?i.setAttribute("c"+s,o):xn[s]&&i.setAttribute(xn[s],o)})},t}(ps),gpe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dom",r.canFill=!1,r.canStroke=!1,r}return t.prototype.createPath=function(r,n){var a=this.attr(),i=this.get("el");if(pt(n||a,function(u,c){xn[c]&&i.setAttribute(xn[c],u)}),typeof a.html=="function"){var o=a.html.call(this,a);if(o instanceof Element||o instanceof HTMLDocument){for(var s=i.childNodes,l=s.length-1;l>=0;l--)i.removeChild(s[l]);i.appendChild(o)}else i.innerHTML=o}else i.innerHTML=a.html},t}(ps),mpe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="ellipse",r.canFill=!0,r.canStroke=!0,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,rx:0,ry:0})},t.prototype.createPath=function(r,n){var a=this.attr(),i=this.get("el");pt(n||a,function(o,s){s==="x"||s==="y"?i.setAttribute("c"+s,o):xn[s]&&i.setAttribute(xn[s],o)})},t}(ps),ype=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="image",r.canFill=!1,r.canStroke=!1,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,width:0,height:0})},t.prototype.createPath=function(r,n){var a=this,i=this.attr(),o=this.get("el");pt(n||i,function(s,l){l==="img"?a._setImage(i.img):xn[l]&&o.setAttribute(xn[l],s)})},t.prototype.setAttr=function(r,n){this.attrs[r]=n,r==="img"&&this._setImage(n)},t.prototype._setImage=function(r){var n=this.attr(),a=this.get("el");if(Lt(r))a.setAttribute("href",r);else if(r instanceof window.Image)n.width||(a.setAttribute("width",r.width),this.attr("width",r.width)),n.height||(a.setAttribute("height",r.height),this.attr("height",r.height)),a.setAttribute("href",r.src);else if(r instanceof HTMLElement&&Lt(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS")a.setAttribute("href",r.toDataURL());else if(r instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+r.width),i.setAttribute("height",""+r.height),i.getContext("2d").putImageData(r,0,0),n.width||(a.setAttribute("width",""+r.width),this.attr("width",r.width)),n.height||(a.setAttribute("height",""+r.height),this.attr("height",r.height)),a.setAttribute("href",i.toDataURL())}},t}(ps),bpe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="line",r.canFill=!1,r.canStroke=!0,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},t.prototype.createPath=function(r,n){var a=this.attr(),i=this.get("el");pt(n||a,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=si(o)?r.addArrow(a,xn[s]):r.getDefaultArrow(a,xn[s]);i.setAttribute(xn[s],"url(#"+l+")")}else i.removeAttribute(xn[s]);else xn[s]&&i.setAttribute(xn[s],o)})},t.prototype.getTotalLength=function(){var r=this.attr(),n=r.x1,a=r.y1,i=r.x2,o=r.y2;return oi.length(n,a,i,o)},t.prototype.getPoint=function(r){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,s=n.y2;return oi.pointAt(a,i,o,s,r)},t}(ps),Ty={circle:function(e,t,r){return[["M",e,t],["m",-r,0],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0]]},square:function(e,t,r){return[["M",e-r,t-r],["L",e+r,t-r],["L",e+r,t+r],["L",e-r,t+r],["Z"]]},diamond:function(e,t,r){return[["M",e-r,t],["L",e,t-r],["L",e+r,t],["L",e,t+r],["Z"]]},triangle:function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t+n],["L",e,t-n],["L",e+r,t+n],["z"]]},triangleDown:function(e,t,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",e-r,t-n],["L",e+r,t-n],["L",e,t+n],["Z"]]}};const I3={get:function(e){return Ty[e]},register:function(e,t){Ty[e]=t},remove:function(e){delete Ty[e]},getAll:function(){return Ty}};var wpe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="marker",r.canFill=!0,r.canStroke=!0,r}return t.prototype.createPath=function(r){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},t.prototype._assembleMarker=function(){var r=this._getPath();return wr(r)?r.map(function(n){return n.join(" ")}).join(""):r},t.prototype._getPath=function(){var r=this.attr(),n=r.x,a=r.y,i=r.r||r.radius,o=r.symbol||"circle",s;return ta(o)?s=o:s=I3.get(o),s?s(n,a,i):(console.warn(s+" symbol is not exist."),null)},t.symbolsFactory=I3,t}(ps),Epe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="path",r.canFill=!0,r.canStroke=!0,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{startArrow:!1,endArrow:!1})},t.prototype.createPath=function(r,n){var a=this,i=this.attr(),o=this.get("el");pt(n||i,function(s,l){if(l==="path"&&wr(s))o.setAttribute("d",a._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=si(s)?r.addArrow(i,xn[l]):r.getDefaultArrow(i,xn[l]);o.setAttribute(xn[l],"url(#"+u+")")}else o.removeAttribute(xn[l]);else xn[l]&&o.setAttribute(xn[l],s)})},t.prototype._formatPath=function(r){var n=r.map(function(a){return a.join(" ")}).join("");return~n.indexOf("NaN")?"":n},t.prototype.getTotalLength=function(){var r=this.get("el");return r?r.getTotalLength():null},t.prototype.getPoint=function(r){var n=this.get("el"),a=this.getTotalLength();if(a===0)return null;var i=n?n.getPointAtLength(r*a):null;return i?{x:i.x,y:i.y}:null},t}(ps),_pe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="polygon",r.canFill=!0,r.canStroke=!0,r}return t.prototype.createPath=function(r,n){var a=this.attr(),i=this.get("el");pt(n||a,function(o,s){s==="points"&&wr(o)&&o.length>=2?i.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):xn[s]&&i.setAttribute(xn[s],o)})},t}(ps),xpe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="polyline",r.canFill=!0,r.canStroke=!0,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{startArrow:!1,endArrow:!1})},t.prototype.onAttrChange=function(r,n,a){e.prototype.onAttrChange.call(this,r,n,a),["points"].indexOf(r)!==-1&&this._resetCache()},t.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},t.prototype.createPath=function(r,n){var a=this.attr(),i=this.get("el");pt(n||a,function(o,s){s==="points"&&wr(o)&&o.length>=2?i.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):xn[s]&&i.setAttribute(xn[s],o)})},t.prototype.getTotalLength=function(){var r=this.attr().points,n=this.get("totalLength");return hr(n)?(this.set("totalLength",_j.length(r)),this.get("totalLength")):n},t.prototype.getPoint=function(r){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return pt(a,function(s,l){r>=s[0]&&r<=s[1]&&(i=(r-s[0])/(s[1]-s[0]),o=l)}),oi.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},t.prototype._setTcache=function(){var r=this.attr().points;if(!(!r||r.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,s;pt(r,function(l,u){r[u+1]&&(o=[],o[0]=a/n,s=oi.length(l[0],l[1],r[u+1][0],r[u+1][1]),a+=s,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},t.prototype.getStartTangent=function(){var r=this.attr().points,n=[];return n.push([r[1][0],r[1][1]]),n.push([r[0][0],r[0][1]]),n},t.prototype.getEndTangent=function(){var r=this.attr().points,n=r.length-1,a=[];return a.push([r[n-1][0],r[n-1][1]]),a.push([r[n][0],r[n][1]]),a},t}(ps);function Spe(e){var t=0,r=0,n=0,a=0;return wr(e)?e.length===1?t=r=n=a=e[0]:e.length===2?(t=n=e[0],r=a=e[1]):e.length===3?(t=e[0],r=a=e[1],n=e[2]):(t=e[0],r=e[1],n=e[2],a=e[3]):t=r=n=a=e,{r1:t,r2:r,r3:n,r4:a}}var Cpe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="rect",r.canFill=!0,r.canStroke=!0,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,width:0,height:0,radius:0})},t.prototype.createPath=function(r,n){var a=this,i=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];pt(n||i,function(u,c){l.indexOf(c)!==-1&&!s?(o.setAttribute("d",a._assembleRect(i)),s=!0):l.indexOf(c)===-1&&xn[c]&&o.setAttribute(xn[c],u)})},t.prototype._assembleRect=function(r){var n=r.x,a=r.y,i=r.width,o=r.height,s=r.radius;if(!s)return"M "+n+","+a+" l "+i+",0 l 0,"+o+" l"+-i+" 0 z";var l=Spe(s);wr(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(n+l.r1)+","+a],["l "+(i-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-i)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},t}(ps),O3=.3,Mpe={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Tpe={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},kpe={left:"left",start:"left",center:"middle",right:"end",end:"end"},Ape=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="text",r.canFill=!0,r.canStroke=!0,r}return t.prototype.getDefaultAttrs=function(){var r=e.prototype.getDefaultAttrs.call(this);return ee(ee({},r),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},t.prototype.createPath=function(r,n){var a=this,i=this.attr(),o=this.get("el");this._setFont(),pt(n||i,function(s,l){l==="text"?a._setText(""+s):l==="matrix"&&s?O0(a):xn[l]&&o.setAttribute(xn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},t.prototype._setFont=function(){var r=this.get("el"),n=this.attr(),a=n.textBaseline,i=n.textAlign,o=YG();o&&o.name==="firefox"?r.setAttribute("dominant-baseline",Tpe[a]||"alphabetic"):r.setAttribute("alignment-baseline",Mpe[a]||"baseline"),r.setAttribute("text-anchor",kpe[i]||"left")},t.prototype._setText=function(r){var n=this.get("el"),a=this.attr(),i=a.x,o=a.textBaseline,s=o===void 0?"bottom":o;if(!r)n.innerHTML="";else if(~r.indexOf(`
`)){var l=r.split(`
`),u=l.length-1,c="";pt(l,function(f,d){d===0?s==="alphabetic"?c+='<tspan x="'+i+'" dy="'+-u+'em">'+f+"</tspan>":s==="top"?c+='<tspan x="'+i+'" dy="0.9em">'+f+"</tspan>":s==="middle"?c+='<tspan x="'+i+'" dy="'+-(u-1)/2+'em">'+f+"</tspan>":s==="bottom"?c+='<tspan x="'+i+'" dy="-'+(u+O3)+'em">'+f+"</tspan>":s==="hanging"&&(c+='<tspan x="'+i+'" dy="'+(-(u-1)-O3)+'em">'+f+"</tspan>"):c+='<tspan x="'+i+'" dy="1em">'+f+"</tspan>"}),n.innerHTML=c}else n.innerHTML=r},t}(ps),Ipe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ope=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Lpe=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function GV(e){var t=e.match(Lpe);if(!t)return"";var r="";return t.sort(function(n,a){return n=n.split(":"),a=a.split(":"),Number(n[0])-Number(a[0])}),pt(t,function(n){n=n.split(":"),r+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),r}function Npe(e,t){var r=Ipe.exec(e),n=nE(aE(parseFloat(r[1])),Math.PI*2),a=r[2],i,o;n>=0&&n<.5*Math.PI?(i={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(i={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(i={x:1,y:1},o={x:0,y:0}):(i={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),l=s*s,u=(o.x-i.x+s*(o.y-i.y))/(l+1)+i.x,c=s*(o.x-i.x+s*(o.y-i.y))/(l+1)+i.y;t.setAttribute("x1",i.x),t.setAttribute("y1",i.y),t.setAttribute("x2",u),t.setAttribute("y2",c),t.innerHTML=GV(a)}function Ppe(e,t){var r=Ope.exec(e),n=parseFloat(r[1]),a=parseFloat(r[2]),i=parseFloat(r[3]),o=r[4];t.setAttribute("cx",n),t.setAttribute("cy",a),t.setAttribute("r",i),t.innerHTML=GV(o)}var Dpe=function(){function e(t){this.cfg={};var r=null,n=Ml("gradient_");return t.toLowerCase()[0]==="l"?(r=os("linearGradient"),Npe(t,r)):(r=os("radialGradient"),Ppe(t,r)),r.setAttribute("id",n),this.el=r,this.id=n,this.cfg=t,this}return e.prototype.match=function(t,r){return this.cfg===r},e}(),Rpe={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},$pe={x:"-40%",y:"-40%",width:"200%",height:"200%"},Bpe=function(){function e(t){this.type="filter",this.cfg={},this.type="filter";var r=os("filter");return pt($pe,function(n,a){r.setAttribute(a,n)}),this.el=r,this.id=Ml("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,r),this}return e.prototype.match=function(t,r){if(this.type!==t)return!1;var n=!0,a=this.cfg;return pt(Object.keys(a),function(i){if(a[i]!==r[i])return n=!1,!1}),n},e.prototype.update=function(t,r){var n=this.cfg;return n[Rpe[t]]=r,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(t,r){var n=`<feDropShadow
      dx="`+(t.dx||0)+`"
      dy="`+(t.dy||0)+`"
      stdDeviation="`+(t.blur?t.blur/10:0)+`"
      flood-color="`+(t.color?t.color:"#000")+`"
      flood-opacity="`+(t.opacity?t.opacity:1)+`"
      />`;r.innerHTML=n},e}(),L3=function(){function e(t,r){this.cfg={};var n=os("marker"),a=Ml("marker_");n.setAttribute("id",a);var i=os("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=a;var o=t[r==="marker-start"?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",o===!0?this._setDefaultPath(r,i):(this.cfg=o,this._setMarker(t.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(t,r){var n=this.el;r.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(t,r){var n=this.el,a=this.cfg.path,i=this.cfg.d;wr(a)&&(a=a.map(function(o){return o.join(" ")}).join("")),r.setAttribute("d",a),n.appendChild(r),i&&n.setAttribute("refX",""+i/t)},e.prototype.update=function(t){var r=this.child;r.attr?r.attr("fill",t):r.setAttribute("fill",t)},e}(),Fpe=function(){function e(t){this.type="clip",this.cfg={};var r=os("clipPath");this.el=r,this.id=Ml("clip_"),r.id=this.id;var n=t.cfg.el;return r.appendChild(n),this.cfg=t,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},e}(),zpe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Gpe=function(){function e(t){this.cfg={};var r=os("pattern");r.setAttribute("patternUnits","userSpaceOnUse");var n=os("image");r.appendChild(n);var a=Ml("pattern_");r.id=a,this.el=r,this.id=a,this.cfg=t;var i=zpe.exec(t),o=i[2];n.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){r.setAttribute("width",""+s.width),r.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return e.prototype.match=function(t,r){return this.cfg===r},e}(),jpe=function(){function e(t){var r=os("defs"),n=Ml("defs_");r.id=n,t.appendChild(r),this.children=[],this.defaultArrow={},this.el=r,this.canvas=t}return e.prototype.find=function(t,r){for(var n=this.children,a=null,i=0;i<n.length;i++)if(n[i].match(t,r)){a=n[i].id;break}return a},e.prototype.findById=function(t){for(var r=this.children,n=null,a=0;a<r.length;a++)if(r[a].id===t){n=r[a];break}return n},e.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.prototype.getDefaultArrow=function(t,r){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var a=new L3(t,r);return this.defaultArrow[n]=a,this.el.appendChild(a.el),this.add(a),a.id},e.prototype.addGradient=function(t){var r=new Dpe(t);return this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addArrow=function(t,r){var n=new L3(t,r);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(t){var r=new Bpe(t);return this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addPattern=function(t){var r=new Gpe(t);return this.el.appendChild(r.el),this.add(r),r.id},e.prototype.addClip=function(t){var r=new Fpe(t);return this.el.appendChild(r.el),this.add(r),r.id},e}(),ig=function(e){jr(t,e);function t(r){return e.call(this,ee(ee({},r),{autoDraw:!0,renderer:"svg"}))||this}return t.prototype.getShapeBase=function(){return TT},t.prototype.getGroupBase=function(){return zV},t.prototype.getShape=function(r,n,a){var i=a.target||a.srcElement;if(!SC[i.tagName]){for(var o=i.parentNode;o&&!SC[o.tagName];)o=o.parentNode;i=o}return this.find(function(s){return s.get("el")===i})},t.prototype.createDom=function(){var r=os("svg"),n=new jpe(r);return r.setAttribute("width",""+this.get("width")),r.setAttribute("height",""+this.get("height")),this.set("context",n),r},t.prototype.onCanvasChange=function(r){var n=this.get("context"),a=this.get("el");if(r==="sort"){var i=this.get("children");i&&i.length&&$V(this,function(s,l){return i.indexOf(s)-i.indexOf(l)?1:0})}else if(r==="clear"){if(a){a.innerHTML="";var o=n.el;o.innerHTML="",a.appendChild(o)}}else r==="matrix"?O0(this):r==="clip"?Hg(this,n):r==="changeSize"&&(a.setAttribute("width",""+this.get("width")),a.setAttribute("height",""+this.get("height")))},t.prototype.draw=function(){var r=this.get("context"),n=this.getChildren();Hg(this,r),n.length&&BV(r,n)},t}(cj);function ky(e,t,r){if(e){if(typeof e.addEventListener=="function")return e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}};if(typeof e.attachEvent=="function")return e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}}}var Gp,rx,jV,CC;function Vpe(){Gp=document.createElement("table"),rx=document.createElement("tr"),jV=/^\s*<(\w+|!)[^>]*>/,CC={tr:document.createElement("tbody"),tbody:Gp,thead:Gp,tfoot:Gp,td:rx,th:rx,"*":document.createElement("div")}}function Kn(e){Gp||Vpe();var t=jV.test(e)&&RegExp.$1;(!t||!(t in CC))&&(t="*");var r=CC[t];e=typeof e=="string"?e.replace(/(^\s*)|(\s*$)/g,""):e,r.innerHTML=""+e;var n=r.childNodes[0];return n&&r.contains(n)&&r.removeChild(n),n}function on(e,t){if(e)for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r]);return e}var VV={exports:{}},UV={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},WV={exports:{}},Upe=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Wpe=Upe,Hpe=Array.prototype.concat,Ype=Array.prototype.slice,N3=WV.exports=function(t){for(var r=[],n=0,a=t.length;n<a;n++){var i=t[n];Wpe(i)?r=Hpe.call(r,Ype.call(i)):r.push(i)}return r};N3.wrap=function(e){return function(){return e(N3(arguments))}};var Kpe=WV.exports,og=UV,L0=Kpe,HV=Object.hasOwnProperty,YV=Object.create(null);for(var nx in og)HV.call(og,nx)&&(YV[og[nx]]=nx);var To=VV.exports={to:{},get:{}};To.get=function(e){var t=e.substring(0,3).toLowerCase(),r,n;switch(t){case"hsl":r=To.get.hsl(e),n="hsl";break;case"hwb":r=To.get.hwb(e),n="hwb";break;default:r=To.get.rgb(e),n="rgb";break}return r?{model:n,value:r}:null};To.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^(\w+)$/,o=[0,0,0,1],s,l,u;if(s=e.match(r)){for(u=s[2],s=s[1],l=0;l<3;l++){var c=l*2;o[l]=parseInt(s.slice(c,c+2),16)}u&&(o[3]=parseInt(u,16)/255)}else if(s=e.match(t)){for(s=s[1],u=s[3],l=0;l<3;l++)o[l]=parseInt(s[l]+s[l],16);u&&(o[3]=parseInt(u+u,16)/255)}else if(s=e.match(n)){for(l=0;l<3;l++)o[l]=parseInt(s[l+1],0);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else if(s=e.match(a)){for(l=0;l<3;l++)o[l]=Math.round(parseFloat(s[l+1])*2.55);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else return(s=e.match(i))?s[1]==="transparent"?[0,0,0,0]:HV.call(og,s[1])?(o=og[s[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=wc(o[l],0,255);return o[3]=wc(o[3],0,1),o};To.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),a=(parseFloat(r[1])%360+360)%360,i=wc(parseFloat(r[2]),0,100),o=wc(parseFloat(r[3]),0,100),s=wc(isNaN(n)?1:n,0,1);return[a,i,o,s]}return null};To.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),a=(parseFloat(r[1])%360+360)%360,i=wc(parseFloat(r[2]),0,100),o=wc(parseFloat(r[3]),0,100),s=wc(isNaN(n)?1:n,0,1);return[a,i,o,s]}return null};To.to.hex=function(){var e=L0(arguments);return"#"+Ay(e[0])+Ay(e[1])+Ay(e[2])+(e[3]<1?Ay(Math.round(e[3]*255)):"")};To.to.rgb=function(){var e=L0(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};To.to.rgb.percent=function(){var e=L0(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"};To.to.hsl=function(){var e=L0(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};To.to.hwb=function(){var e=L0(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};To.to.keyword=function(e){return YV[e.slice(0,3)]};function wc(e,t,r){return Math.min(Math.max(t,e),r)}function Ay(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var Xpe=VV.exports,KV={exports:{}},Wf=UV,XV={};for(var ax in Wf)Wf.hasOwnProperty(ax)&&(XV[Wf[ax]]=ax);var Lr=KV.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var Xi in Lr)if(Lr.hasOwnProperty(Xi)){if(!("channels"in Lr[Xi]))throw new Error("missing channels property: "+Xi);if(!("labels"in Lr[Xi]))throw new Error("missing channel labels property: "+Xi);if(Lr[Xi].labels.length!==Lr[Xi].channels)throw new Error("channel and label counts mismatch: "+Xi);var qpe=Lr[Xi].channels,Zpe=Lr[Xi].labels;delete Lr[Xi].channels,delete Lr[Xi].labels,Object.defineProperty(Lr[Xi],"channels",{value:qpe}),Object.defineProperty(Lr[Xi],"labels",{value:Zpe})}Lr.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=i-a,s,l,u;return i===a?s=0:t===i?s=(r-n)/o:r===i?s=2+(n-t)/o:n===i&&(s=4+(t-r)/o),s=Math.min(s*60,360),s<0&&(s+=360),u=(a+i)/2,i===a?l=0:u<=.5?l=o/(i+a):l=o/(2-i-a),[s,l*100,u*100]};Lr.rgb.hsv=function(e){var t,r,n,a,i,o=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(o,s,l),c=u-Math.min(o,s,l),f=function(d){return(u-d)/6/c+1/2};return c===0?a=i=0:(i=c/u,t=f(o),r=f(s),n=f(l),o===u?a=n-r:s===u?a=1/3+t-n:l===u&&(a=2/3+r-t),a<0?a+=1:a>1&&(a-=1)),[a*360,i*100,u*100]};Lr.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2],a=Lr.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[a,i*100,n*100]};Lr.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a,i,o,s;return s=Math.min(1-t,1-r,1-n),a=(1-t-s)/(1-s)||0,i=(1-r-s)/(1-s)||0,o=(1-n-s)/(1-s)||0,[a*100,i*100,o*100,s*100]};function Qpe(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}Lr.rgb.keyword=function(e){var t=XV[e];if(t)return t;var r=1/0,n;for(var a in Wf)if(Wf.hasOwnProperty(a)){var i=Wf[a],o=Qpe(e,i);o<r&&(r=o,n=a)}return n};Lr.keyword.rgb=function(e){return Wf[e]};Lr.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var a=t*.4124+r*.3576+n*.1805,i=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[a*100,i*100,o*100]};Lr.rgb.lab=function(e){var t=Lr.rgb.xyz(e),r=t[0],n=t[1],a=t[2],i,o,s;return r/=95.047,n/=100,a/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,i=116*n-16,o=500*(r-n),s=200*(n-a),[i,o,s]};Lr.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,a,i,o,s,l;if(r===0)return l=n*255,[l,l,l];n<.5?i=n*(1+r):i=n+r-n*r,a=2*n-i,s=[0,0,0];for(var u=0;u<3;u++)o=t+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?l=a+(i-a)*6*o:2*o<1?l=i:3*o<2?l=a+(i-a)*(2/3-o)*6:l=a,s[u]=l*255;return s};Lr.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,a=r,i=Math.max(n,.01),o,s;return n*=2,r*=n<=1?n:2-n,a*=i<=1?i:2-i,s=(n+r)/2,o=n===0?2*a/(i+a):2*r/(n+r),[t,o*100,s*100]};Lr.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,a=Math.floor(t)%6,i=t-Math.floor(t),o=255*n*(1-r),s=255*n*(1-r*i),l=255*n*(1-r*(1-i));switch(n*=255,a){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}};Lr.hsv.hsl=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,a=Math.max(n,.01),i,o,s;return s=(2-r)*n,i=(2-r)*a,o=r*a,o/=i<=1?i:2-i,o=o||0,s/=2,[t,o*100,s*100]};Lr.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,a=r+n,i,o,s,l;a>1&&(r/=a,n/=a),i=Math.floor(6*t),o=1-n,s=6*t-i,i&1&&(s=1-s),l=r+s*(o-r);var u,c,f;switch(i){default:case 6:case 0:u=o,c=l,f=r;break;case 1:u=l,c=o,f=r;break;case 2:u=r,c=o,f=l;break;case 3:u=r,c=l,f=o;break;case 4:u=l,c=r,f=o;break;case 5:u=o,c=r,f=l;break}return[u*255,c*255,f*255]};Lr.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,a=e[3]/100,i,o,s;return i=1-Math.min(1,t*(1-a)+a),o=1-Math.min(1,r*(1-a)+a),s=1-Math.min(1,n*(1-a)+a),[i*255,o*255,s*255]};Lr.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,a,i,o;return a=t*3.2406+r*-1.5372+n*-.4986,i=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[a*255,i*255,o*255]};Lr.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2],a,i,o;return t/=95.047,r/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,a=116*r-16,i=500*(t-r),o=200*(r-n),[a,i,o]};Lr.lab.xyz=function(e){var t=e[0],r=e[1],n=e[2],a,i,o;i=(t+16)/116,a=r/500+i,o=i-n/200;var s=Math.pow(i,3),l=Math.pow(a,3),u=Math.pow(o,3);return i=s>.008856?s:(i-16/116)/7.787,a=l>.008856?l:(a-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,a*=95.047,i*=100,o*=108.883,[a,i,o]};Lr.lab.lch=function(e){var t=e[0],r=e[1],n=e[2],a,i,o;return a=Math.atan2(n,r),i=a*360/2/Math.PI,i<0&&(i+=360),o=Math.sqrt(r*r+n*n),[t,o,i]};Lr.lch.lab=function(e){var t=e[0],r=e[1],n=e[2],a,i,o;return o=n/360*2*Math.PI,a=r*Math.cos(o),i=r*Math.sin(o),[t,a,i]};Lr.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],a=1 in arguments?arguments[1]:Lr.rgb.hsv(e)[2];if(a=Math.round(a/50),a===0)return 30;var i=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return a===2&&(i+=60),i};Lr.hsv.ansi16=function(e){return Lr.rgb.ansi16(Lr.hsv.rgb(e),e[2])};Lr.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var a=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return a};Lr.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=(~~(e>50)+1)*.5,n=(t&1)*r*255,a=(t>>1&1)*r*255,i=(t>>2&1)*r*255;return[n,a,i]};Lr.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var r,n=Math.floor(e/36)/5*255,a=Math.floor((r=e%36)/6)/5*255,i=r%6/5*255;return[n,a,i]};Lr.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};Lr.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];t[0].length===3&&(r=r.split("").map(function(s){return s+s}).join(""));var n=parseInt(r,16),a=n>>16&255,i=n>>8&255,o=n&255;return[a,i,o]};Lr.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(Math.max(t,r),n),i=Math.min(Math.min(t,r),n),o=a-i,s,l;return o<1?s=i/(1-o):s=0,o<=0?l=0:a===t?l=(r-n)/o%6:a===r?l=2+(n-t)/o:l=4+(t-r)/o+4,l/=6,l%=1,[l*360,o*100,s*100]};Lr.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,a=0;return r<.5?n=2*t*r:n=2*t*(1-r),n<1&&(a=(r-.5*n)/(1-n)),[e[0],n*100,a*100]};Lr.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],n*100,a*100]};Lr.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];var a=[0,0,0],i=t%1*6,o=i%1,s=1-o,l=0;switch(Math.floor(i)){case 0:a[0]=1,a[1]=o,a[2]=0;break;case 1:a[0]=s,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=o;break;case 3:a[0]=0,a[1]=s,a[2]=1;break;case 4:a[0]=o,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=s}return l=(1-r)*n,[(r*a[0]+l)*255,(r*a[1]+l)*255,(r*a[2]+l)*255]};Lr.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t),a=0;return n>0&&(a=t/n),[e[0],a*100,n*100]};Lr.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t,a=0;return n>0&&n<.5?a=t/(2*n):n>=.5&&n<1&&(a=t/(2*(1-n))),[e[0],a*100,n*100]};Lr.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};Lr.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1-r,a=n-t,i=0;return a<1&&(i=(n-a)/(1-a)),[e[0],a*100,i*100]};Lr.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Lr.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Lr.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Lr.gray.hsl=Lr.gray.hsv=function(e){return[0,0,e[0]]};Lr.gray.hwb=function(e){return[0,100,e[0]]};Lr.gray.cmyk=function(e){return[0,0,0,e[0]]};Lr.gray.lab=function(e){return[e[0],0,0]};Lr.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};Lr.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]};var qV=KV.exports,Yb=qV;function Jpe(){for(var e={},t=Object.keys(Yb),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function ege(e){var t=Jpe(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),a=Object.keys(Yb[n]),i=a.length,o=0;o<i;o++){var s=a[o],l=t[s];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(s))}return t}function tge(e,t){return function(r){return t(e(r))}}function rge(e,t){for(var r=[t[e].parent,e],n=Yb[t[e].parent][e],a=t[e].parent;t[a].parent;)r.unshift(t[a].parent),n=tge(Yb[t[a].parent][a],n),a=t[a].parent;return n.conversion=r,n}var nge=function(e){for(var t=ege(e),r={},n=Object.keys(t),a=n.length,i=0;i<a;i++){var o=n[i],s=t[o];s.parent!==null&&(r[o]=rge(o,t))}return r},MC=qV,age=nge,ch={},ige=Object.keys(MC);function oge(e){var t=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function sge(e){var t=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=e(r);if(typeof n=="object")for(var a=n.length,i=0;i<a;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}ige.forEach(function(e){ch[e]={},Object.defineProperty(ch[e],"channels",{value:MC[e].channels}),Object.defineProperty(ch[e],"labels",{value:MC[e].labels});var t=age(e),r=Object.keys(t);r.forEach(function(n){var a=t[n];ch[e][n]=sge(a),ch[e][n].raw=oge(a)})});var lge=ch,jp=Xpe,So=lge,Xk=[].slice,ZV=["keyword","gray","hex"],TC={};Object.keys(So).forEach(function(e){TC[Xk.call(So[e].labels).sort().join("")]=e});var Kb={};function hi(e,t){if(!(this instanceof hi))return new hi(e,t);if(t&&t in ZV&&(t=null),t&&!(t in So))throw new Error("Unknown model: "+t);var r,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof hi)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){var a=jp.get(e);if(a===null)throw new Error("Unable to parse color from string: "+e);this.model=a.model,n=So[this.model].channels,this.color=a.value.slice(0,n),this.valpha=typeof a.value[n]=="number"?a.value[n]:1}else if(e.length){this.model=t||"rgb",n=So[this.model].channels;var i=Xk.call(e,0,n);this.color=kC(i,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;var o=Object.keys(e);"alpha"in e&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);var s=o.sort().join("");if(!(s in TC))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=TC[s];var l=So[this.model].labels,u=[];for(r=0;r<l.length;r++)u.push(e[l[r]]);this.color=kC(u)}if(Kb[this.model])for(n=So[this.model].channels,r=0;r<n;r++){var c=Kb[this.model][r];c&&(this.color[r]=c(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}hi.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in jp.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);var r=t.valpha===1?t.color:t.color.concat(this.valpha);return jp.to[t.model](r)},percentString:function(e){var t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:t.color.concat(this.valpha);return jp.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=So[this.model].channels,r=So[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new hi(this.color.map(cge(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new hi(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:ga("rgb",0,Ba(255)),green:ga("rgb",1,Ba(255)),blue:ga("rgb",2,Ba(255)),hue:ga(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:ga("hsl",1,Ba(100)),lightness:ga("hsl",2,Ba(100)),saturationv:ga("hsv",1,Ba(100)),value:ga("hsv",2,Ba(100)),chroma:ga("hcg",1,Ba(100)),gray:ga("hcg",2,Ba(100)),white:ga("hwb",1,Ba(100)),wblack:ga("hwb",2,Ba(100)),cyan:ga("cmyk",0,Ba(100)),magenta:ga("cmyk",1,Ba(100)),yellow:ga("cmyk",2,Ba(100)),black:ga("cmyk",3,Ba(100)),x:ga("xyz",0,Ba(100)),y:ga("xyz",1,Ba(100)),z:ga("xyz",2,Ba(100)),l:ga("lab",0,Ba(100)),a:ga("lab",1),b:ga("lab",2),keyword:function(e){return arguments.length?new hi(e):So[this.model].keyword(this.color)},hex:function(e){return arguments.length?new hi(e):jp.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,t=(e[0]*299+e[1]*587+e[2]*114)/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return hi.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),n=this.rgb(),a=t===void 0?.5:t,i=2*a-1,o=r.alpha()-n.alpha(),s=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,l=1-s;return hi.rgb(s*r.red()+l*n.red(),s*r.green()+l*n.green(),s*r.blue()+l*n.blue(),r.alpha()*a+n.alpha()*(1-a))}};Object.keys(So).forEach(function(e){if(ZV.indexOf(e)===-1){var t=So[e].channels;hi.prototype[e]=function(){if(this.model===e)return new hi(this);if(arguments.length)return new hi(arguments,e);var r=typeof arguments[t]=="number"?t:this.valpha;return new hi(fge(So[this.model][e].raw(this.color)).concat(r),e)},hi[e]=function(r){return typeof r=="number"&&(r=kC(Xk.call(arguments),t)),new hi(r,e)}}});function uge(e,t){return Number(e.toFixed(t))}function cge(e){return function(t){return uge(t,e)}}function ga(e,t,r){return e=Array.isArray(e)?e:[e],e.forEach(function(n){(Kb[n]||(Kb[n]=[]))[t]=r}),e=e[0],function(n){var a;return arguments.length?(r&&(n=r(n)),a=this[e](),a.color[t]=n,a):(a=this[e]().color[t],r&&(a=r(a)),a)}}function Ba(e){return function(t){return Math.max(0,Math.min(e,t))}}function fge(e){return Array.isArray(e)?e:[e]}function kC(e,t){for(var r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}var dge=hi;const sg=Ka(dge);function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}var hge=/^\s+/,vge=/\s+$/;function Nr(e,t){if(e=e||"",t=t||{},e instanceof Nr)return e;if(!(this instanceof Nr))return new Nr(e,t);var r=pge(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Nr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,n,a,i,o,s;return r=t.r/255,n=t.g/255,a=t.b/255,r<=.03928?i=r/12.92:i=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*o+.0722*s},setAlpha:function(t){return this._a=QV(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=D3(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=D3(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+a+"%)":"hsva("+r+", "+n+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=P3(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=P3(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+a+"%)":"hsla("+r+", "+n+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return R3(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return bge(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(oa(this._r,255)*100)+"%",g:Math.round(oa(this._g,255)*100)+"%",b:Math.round(oa(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(oa(this._r,255)*100)+"%, "+Math.round(oa(this._g,255)*100)+"%, "+Math.round(oa(this._b,255)*100)+"%)":"rgba("+Math.round(oa(this._r,255)*100)+"%, "+Math.round(oa(this._g,255)*100)+"%, "+Math.round(oa(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Oge[R3(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+$3(this._r,this._g,this._b,this._a),n=r,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=Nr(t);n="#"+$3(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var r=!!t;t=t||this._format;var n=!1,a=this._a<1&&this._a>=0,i=!r&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Nr(this.toString())},_applyModification:function(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(xge,arguments)},brighten:function(){return this._applyModification(Sge,arguments)},darken:function(){return this._applyModification(Cge,arguments)},desaturate:function(){return this._applyModification(wge,arguments)},saturate:function(){return this._applyModification(Ege,arguments)},greyscale:function(){return this._applyModification(_ge,arguments)},spin:function(){return this._applyModification(Mge,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Age,arguments)},complement:function(){return this._applyCombination(Tge,arguments)},monochromatic:function(){return this._applyCombination(Ige,arguments)},splitcomplement:function(){return this._applyCombination(kge,arguments)},triad:function(){return this._applyCombination(B3,[3])},tetrad:function(){return this._applyCombination(B3,[4])}};Nr.fromRatio=function(e,t){if(Xb(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=Vp(e[n]));e=r}return Nr(e,t)};function pge(e){var t={r:0,g:0,b:0},r=1,n=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=Dge(e)),Xb(e)=="object"&&(Vl(e.r)&&Vl(e.g)&&Vl(e.b)?(t=gge(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Vl(e.h)&&Vl(e.s)&&Vl(e.v)?(n=Vp(e.s),a=Vp(e.v),t=yge(e.h,n,a),o=!0,s="hsv"):Vl(e.h)&&Vl(e.s)&&Vl(e.l)&&(n=Vp(e.s),i=Vp(e.l),t=mge(e.h,n,i),o=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=QV(r),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function gge(e,t,r){return{r:oa(e,255)*255,g:oa(t,255)*255,b:oa(r,255)*255}}function P3(e,t,r){e=oa(e,255),t=oa(t,255),r=oa(r,255);var n=Math.max(e,t,r),a=Math.min(e,t,r),i,o,s=(n+a)/2;if(n==a)i=o=0;else{var l=n-a;switch(o=s>.5?l/(2-n-a):l/(n+a),n){case e:i=(t-r)/l+(t<r?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,l:s}}function mge(e,t,r){var n,a,i;e=oa(e,360),t=oa(t,100),r=oa(r,100);function o(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(t===0)n=a=i=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=o(l,s,e+1/3),a=o(l,s,e),i=o(l,s,e-1/3)}return{r:n*255,g:a*255,b:i*255}}function D3(e,t,r){e=oa(e,255),t=oa(t,255),r=oa(r,255);var n=Math.max(e,t,r),a=Math.min(e,t,r),i,o,s=n,l=n-a;if(o=n===0?0:l/n,n==a)i=0;else{switch(n){case e:i=(t-r)/l+(t<r?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,v:s}}function yge(e,t,r){e=oa(e,360)*6,t=oa(t,100),r=oa(r,100);var n=Math.floor(e),a=e-n,i=r*(1-t),o=r*(1-a*t),s=r*(1-(1-a)*t),l=n%6,u=[r,o,i,i,s,r][l],c=[s,r,r,o,i,i][l],f=[i,i,s,r,r,o][l];return{r:u*255,g:c*255,b:f*255}}function R3(e,t,r,n){var a=[Ls(Math.round(e).toString(16)),Ls(Math.round(t).toString(16)),Ls(Math.round(r).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function bge(e,t,r,n,a){var i=[Ls(Math.round(e).toString(16)),Ls(Math.round(t).toString(16)),Ls(Math.round(r).toString(16)),Ls(JV(n))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function $3(e,t,r,n){var a=[Ls(JV(n)),Ls(Math.round(e).toString(16)),Ls(Math.round(t).toString(16)),Ls(Math.round(r).toString(16))];return a.join("")}Nr.equals=function(e,t){return!e||!t?!1:Nr(e).toRgbString()==Nr(t).toRgbString()};Nr.random=function(){return Nr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function wge(e,t){t=t===0?0:t||10;var r=Nr(e).toHsl();return r.s-=t/100,r.s=SE(r.s),Nr(r)}function Ege(e,t){t=t===0?0:t||10;var r=Nr(e).toHsl();return r.s+=t/100,r.s=SE(r.s),Nr(r)}function _ge(e){return Nr(e).desaturate(100)}function xge(e,t){t=t===0?0:t||10;var r=Nr(e).toHsl();return r.l+=t/100,r.l=SE(r.l),Nr(r)}function Sge(e,t){t=t===0?0:t||10;var r=Nr(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),Nr(r)}function Cge(e,t){t=t===0?0:t||10;var r=Nr(e).toHsl();return r.l-=t/100,r.l=SE(r.l),Nr(r)}function Mge(e,t){var r=Nr(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,Nr(r)}function Tge(e){var t=Nr(e).toHsl();return t.h=(t.h+180)%360,Nr(t)}function B3(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Nr(e).toHsl(),n=[Nr(e)],a=360/t,i=1;i<t;i++)n.push(Nr({h:(r.h+i*a)%360,s:r.s,l:r.l}));return n}function kge(e){var t=Nr(e).toHsl(),r=t.h;return[Nr(e),Nr({h:(r+72)%360,s:t.s,l:t.l}),Nr({h:(r+216)%360,s:t.s,l:t.l})]}function Age(e,t,r){t=t||6,r=r||30;var n=Nr(e).toHsl(),a=360/r,i=[Nr(e)];for(n.h=(n.h-(a*t>>1)+720)%360;--t;)n.h=(n.h+a)%360,i.push(Nr(n));return i}function Ige(e,t){t=t||6;for(var r=Nr(e).toHsv(),n=r.h,a=r.s,i=r.v,o=[],s=1/t;t--;)o.push(Nr({h:n,s:a,v:i})),i=(i+s)%1;return o}Nr.mix=function(e,t,r){r=r===0?0:r||50;var n=Nr(e).toRgb(),a=Nr(t).toRgb(),i=r/100,o={r:(a.r-n.r)*i+n.r,g:(a.g-n.g)*i+n.g,b:(a.b-n.b)*i+n.b,a:(a.a-n.a)*i+n.a};return Nr(o)};Nr.readability=function(e,t){var r=Nr(e),n=Nr(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Nr.isReadable=function(e,t,r){var n=Nr.readability(e,t),a,i;switch(i=!1,a=Rge(r),a.level+a.size){case"AAsmall":case"AAAlarge":i=n>=4.5;break;case"AAlarge":i=n>=3;break;case"AAAsmall":i=n>=7;break}return i};Nr.mostReadable=function(e,t,r){var n=null,a=0,i,o,s,l;r=r||{},o=r.includeFallbackColors,s=r.level,l=r.size;for(var u=0;u<t.length;u++)i=Nr.readability(e,t[u]),i>a&&(a=i,n=Nr(t[u]));return Nr.isReadable(e,n,{level:s,size:l})||!o?n:(r.includeFallbackColors=!1,Nr.mostReadable(e,["#fff","#000"],r))};var AC=Nr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Oge=Nr.hexNames=Lge(AC);function Lge(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function QV(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function oa(e,t){Nge(e)&&(e="100%");var r=Pge(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function SE(e){return Math.min(1,Math.max(0,e))}function mo(e){return parseInt(e,16)}function Nge(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Pge(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Ls(e){return e.length==1?"0"+e:""+e}function Vp(e){return e<=1&&(e=e*100+"%"),e}function JV(e){return Math.round(parseFloat(e)*255).toString(16)}function F3(e){return mo(e)/255}var Es=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Vl(e){return!!Es.CSS_UNIT.exec(e)}function Dge(e){e=e.replace(hge,"").replace(vge,"").toLowerCase();var t=!1;if(AC[e])e=AC[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Es.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Es.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Es.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Es.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Es.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Es.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Es.hex8.exec(e))?{r:mo(r[1]),g:mo(r[2]),b:mo(r[3]),a:F3(r[4]),format:t?"name":"hex8"}:(r=Es.hex6.exec(e))?{r:mo(r[1]),g:mo(r[2]),b:mo(r[3]),format:t?"name":"hex"}:(r=Es.hex4.exec(e))?{r:mo(r[1]+""+r[1]),g:mo(r[2]+""+r[2]),b:mo(r[3]+""+r[3]),a:F3(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=Es.hex3.exec(e))?{r:mo(r[1]+""+r[1]),g:mo(r[2]+""+r[2]),b:mo(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function Rge(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var Iy=2,z3=.16,$ge=.05,Bge=.05,Fge=.15,e9=5,t9=4,zge=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function G3(e,t,r){var n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=r?Math.round(e.h)-Iy*t:Math.round(e.h)+Iy*t:n=r?Math.round(e.h)+Iy*t:Math.round(e.h)-Iy*t,n<0?n+=360:n>=360&&(n-=360),n}function j3(e,t,r){if(e.h===0&&e.s===0)return e.s;var n;return r?n=e.s-z3*t:t===t9?n=e.s+z3:n=e.s+$ge*t,n>1&&(n=1),r&&t===e9&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function V3(e,t,r){var n;return r?n=e.v+Bge*t:n=e.v-Fge*t,n>1&&(n=1),Number(n.toFixed(2))}function qb(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],n=Nr(e),a=e9;a>0;a-=1){var i=n.toHsv(),o=Nr({h:G3(i,a,!0),s:j3(i,a,!0),v:V3(i,a,!0)}).toHexString();r.push(o)}r.push(n.toHexString());for(var s=1;s<=t9;s+=1){var l=n.toHsv(),u=Nr({h:G3(l,s),s:j3(l,s),v:V3(l,s)}).toHexString();r.push(u)}return t.theme==="dark"?zge.map(function(c){var f=c.index,d=c.opacity,h=Nr.mix(t.backgroundColor||"#141414",r[f],d*100).toHexString();return h}):r}var ix={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ox={},sx={};Object.keys(ix).forEach(function(e){ox[e]=qb(ix[e]),ox[e].primary=ox[e][5],sx[e]=qb(ix[e],{theme:"dark",backgroundColor:"#141414"}),sx[e].primary=sx[e][5]});var za=function(t,r,n){var a=sg(t),i=sg(r);return sg([(1-n)*a.red()+n*i.red(),(1-n)*a.green()+n*i.green(),(1-n)*a.blue()+n*i.blue()]).rgb()},Gge=function(t,r,n){r===void 0&&(r="#fff");var a=za(r,t,.05).rgb().toString(),i=za(r,t,.1).rgb().toString(),o=za(r,t,.2).rgb().toString(),s=za(r,t,.4).rgb().toString(),l=za(r,n,.02).rgb().toString(),u=za(r,n,.05).rgb().toString(),c=za(r,n,.1).rgb().toString(),f=za(r,n,.2).rgb().toString(),d=za(r,n,.3).rgb().toString(),h=qb(t,{theme:"default",backgroundColor:r}),v=sg(t).hex().toLowerCase(),p=h.indexOf(v),m=t;return p!==-1&&(m=h[p+1]),{mainStroke:t,mainFill:i,activeStroke:t,activeFill:a,inactiveStroke:s,inactiveFill:a,selectedStroke:t,selectedFill:r,highlightStroke:m,highlightFill:o,disableStroke:d,disableFill:u,edgeMainStroke:d,edgeActiveStroke:t,edgeInactiveStroke:f,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:c,comboMainStroke:d,comboMainFill:l,comboActiveStroke:t,comboActiveFill:a,comboInactiveStroke:d,comboInactiveFill:l,comboSelectedStroke:t,comboSelectedFill:l,comboHighlightStroke:m,comboHighlightFill:l,comboDisableStroke:f,comboDisableFill:u}},jge=function(t,r,n){r===void 0&&(r="#fff");var a=za(r,t,.2).rgb().toString(),i=za(r,t,.3).rgb().toString(),o=za(r,t,.6).rgb().toString(),s=za(r,t,.8).rgb().toString(),l=za(r,n,.2).rgb().toString(),u=za(r,n,.25).rgb().toString(),c=za(r,n,.3).rgb().toString(),f=za(r,n,.4).rgb().toString(),d=za(r,n,.5).rgb().toString(),h=qb(t,{theme:"dark",backgroundColor:r}),v=sg(t).hex().toLowerCase(),p=h.indexOf(v),m=t;return p!==-1&&(m=h[p+1]),{mainStroke:s,mainFill:a,activeStroke:t,activeFill:i,inactiveStroke:s,inactiveFill:a,selectedStroke:t,selectedFill:a,highlightStroke:t,highlightFill:o,disableStroke:d,disableFill:u,edgeMainStroke:n,edgeActiveStroke:t,edgeInactiveStroke:n,edgeSelectedStroke:t,edgeHighlightStroke:t,edgeDisableStroke:c,comboMainStroke:f,comboMainFill:u,comboActiveStroke:t,comboActiveFill:l,comboInactiveStroke:f,comboInactiveFill:u,comboSelectedStroke:t,comboSelectedFill:l,comboHighlightStroke:m,comboHighlightFill:u,comboDisableStroke:f,comboDisableFill:l}},qk=function(t,r,n,a){return r===void 0&&(r="#fff"),n===void 0&&(n="default"),n==="default"?Gge(t,r,"rgb(150, 150, 150)"):jge(t,r,"#777")},Vge=function(t,r,n,a){r===void 0&&(r="#fff"),n===void 0&&(n="default");var i=[];return t.forEach(function(o){i.push(qk(o,r,n))}),i};const Uge=Object.freeze(Object.defineProperty({__proto__:null,getColorSetsBySubjectColors:Vge,getColorsWithSubjectColor:qk,mixColor:za},Symbol.toStringTag,{value:"Module"}));var Wge="rgb(95, 149, 255)",Hge="rgb(255, 255, 255)",U3="rgb(0, 0, 0)",gn=qk(Wge,Hge);const Hf={version:"0.8.23",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:gn.mainStroke,fill:gn.mainFill},size:20,color:gn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:gn.activeFill,stroke:gn.activeStroke}},nodeStateStyles:{active:{fill:gn.activeFill,stroke:gn.activeStroke,lineWidth:2,shadowColor:gn.mainStroke,shadowBlur:10},selected:{fill:gn.selectedFill,stroke:gn.selectedStroke,lineWidth:4,shadowColor:gn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:gn.highlightFill,stroke:gn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:gn.inactiveFill,stroke:gn.inactiveStroke,lineWidth:1},disable:{fill:gn.disableFill,stroke:gn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:U3,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:gn.edgeMainStroke,lineAppendWidth:2},color:gn.edgeMainStroke},edgeStateStyles:{active:{stroke:gn.edgeActiveStroke,lineWidth:1},selected:{stroke:gn.edgeSelectedStroke,lineWidth:2,shadowColor:gn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:gn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:gn.edgeInactiveStroke,lineWidth:1},disable:{stroke:gn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:U3,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:gn.comboMainFill,lineWidth:1,stroke:gn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:gn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:gn.comboActiveStroke,lineWidth:1,fill:gn.comboActiveFill},selected:{stroke:gn.comboSelectedStroke,lineWidth:2,fill:gn.comboSelectedFill,shadowColor:gn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:gn.comboHighlightStroke,lineWidth:2,fill:gn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:gn.comboInactiveStroke,fill:gn.comboInactiveFill,lineWidth:1},disable:{stroke:gn.comboDisableStroke,fill:gn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};var Yge=function(t){var r=t.clone();return Kge(t,r),r},Kge=function e(t,r){var n;t.isGroup()&&r.isGroup()&&((n=t.get("children"))===null||n===void 0||n.forEach(function(s,l){var u=r.get("children")[l];e(s,u)}));var a=t.get("type"),i=r.get("type");if(!(a!=="image"||i!=="image")){var o=t.get("clipShape");o&&r.setClip({type:o.get("type"),attrs:o.attr()})}},Xge=yi.cloneEvent,qge=yi.isViewportChanged,Zge=function(e){jr(t,e);function t(r){var n=e.call(this,r)||this;return n.extendEvents=[],n.dragging=!1,n.mousedown=!1,n.preItem=null,n.destroy(),n.graph=r,n.destroyed=!1,n.initEvents(),n}return t.prototype.initEvents=function(){var r=this,n=r.graph,a=r.extendEvents,i=a===void 0?[]:a,o=n.get("canvas"),s=o.get("el"),l=If(this,"onCanvasEvents"),u=If(this,"onExtendEvents"),c=If(this,"onWheelEvent");o.off("*").on("*",l),this.canvasHandler=l,i.push(ky(s,"wheel",c)),typeof window<"u"&&(i.push(ky(window,"keydown",u)),i.push(ky(window,"keyup",u)),i.push(ky(window,"focus",u))),this.resetHandler&&n.off("afterchangedata",this.resetHandler),this.resetHandler=If(this,"resetStatus"),n.on("afterchangedata",this.resetHandler)},t.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},t.prototype.onCanvasEvents=function(r){var n=this,a=this.graph,i=a.get("canvas"),o=r.target,s=r.type;switch(s){case"drag":this.onCanvasEvents(Object.assign({},r,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},r,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"mouseup":setTimeout(function(){return n.mousedown=!1});break;case"click":if(!this.mousedown)return;break}r.canvasX=r.x,r.canvasY=r.y;var l={x:r.canvasX,y:r.canvasY},u=a.get("group"),c=u.getMatrix();if(c||(c=[1,0,0,0,1,0,0,0,1]),qge(c)&&(l=a.getPointByClient(r.clientX,r.clientY)),r.x=l.x,r.y=l.y,r.currentTarget=a,o===i){(s==="mousemove"||s==="mouseleave")&&this.handleMouseMove(r,"canvas"),r.target=i,r.item=null,a.emit(s,r),a.emit("canvas:".concat(s),r);return}var f=t.getItemRoot(o);if(!f){a.emit(s,r);return}var d=f.get("item");if(!d.destroyed){var h=d.getType();if(r.target=o,r.item=d,r.canvasX===r.x&&r.canvasY===r.y){var v=a.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}r.name&&!r.name.includes(":")?(a.emit("".concat(h,":").concat(s),r),a.emit(s,r)):r.name&&a.emit(r.name,r),s==="dragstart"&&(this.dragging=!0),s==="dragend"&&(this.dragging=!1),s==="mousemove"&&this.handleMouseMove(r,h)}},t.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},t.prototype.onWheelEvent=function(r){hr(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},t.prototype.handleMouseMove=function(r,n){var a=this,i=a.graph,o=a.preItem,s=i.get("canvas"),l=r.target===s?null:r.item;r=Xge(r),o&&o!==l&&!o.destroyed&&(r.item=o,this.emitCustomEvent(o.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(o.getType(),"dragleave",r)),l&&o!==l&&(r.item=l,this.emitCustomEvent(n,"mouseenter",r),this.dragging&&this.emitCustomEvent(n,"dragenter",r)),this.preItem=l},t.prototype.emitCustomEvent=function(r,n,a){a.type=n,this.graph.emit("".concat(r,":").concat(n),a)},t.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},t.prototype.destroy=function(){var r=this,n=r.graph,a=r.canvasHandler,i=r.extendEvents,o=n.get("canvas");o.off("*",a),pt(i,function(s){s.remove()}),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},t}(Xj),fn={},fu={},wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.Base=void 0;var Qge=function(){function e(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return e.prototype.layout=function(t){return this.init(t),this.execute(!0)},e.prototype.init=function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[],this.comboEdges=t.comboEdges||[],this.hiddenNodes=t.hiddenNodes||[],this.hiddenEdges=t.hiddenEdges||[],this.hiddenCombos=t.hiddenCombos||[],this.vedges=t.vedges||[]},e.prototype.execute=function(t){},e.prototype.executeWithWorker=function(){},e.prototype.getDefaultCfg=function(){return{}},e.prototype.updateCfg=function(t){t&&Object.assign(this,t)},e.prototype.getType=function(){return"base"},e.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},e}();wa.Base=Qge;var lx={},rv={};Object.defineProperty(rv,"__esModule",{value:!0});rv.camelize=rv.isString=void 0;var Jge=function(e){return typeof e=="string"};rv.isString=Jge;var e0e=function(e){var t=Object.create(null);return function(r){var n=t[r];return n||(t[r]=e(r))}},t0e=/-(\w)/g;rv.camelize=e0e(function(e){return e.replace(t0e,function(t,r){return r?r.toUpperCase():""})});var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.isArray=void 0;N0.isArray=Array.isArray;var CE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toNumber=e.isNaN=e.isNumber=void 0;var t=function(a){return typeof a=="number"};e.isNumber=t;var r=function(a){return Number.isNaN(Number(a))};e.isNaN=r;var n=function(a){var i=parseFloat(a);return(0,e.isNaN)(i)?a:i};e.toNumber=n})(CE);var ME={},Zk={};(function(e){var t=ht&&ht.__assign||function(){return t=Object.assign||function(a){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a[l]=i[l])}return a},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.isObject=void 0;var r=function(a){return a!==null&&typeof a=="object"};e.isObject=r;var n=function(a){if(a===null)return a;if(a instanceof Date)return new Date(a.getTime());if(a instanceof Array){var i=[];return a.forEach(function(s){i.push(s)}),i.map(function(s){return(0,e.clone)(s)})}if(typeof a=="object"&&Object.keys(a).length){var o=t({},a);return Object.keys(o).forEach(function(s){o[s]=(0,e.clone)(o[s])}),o}return a};e.clone=n})(Zk);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCoreNodeAndRelativeLeafNodes=e.getAvgNodePosition=e.getLayoutBBox=e.traverseTreeUp=e.scaleMatrix=e.getAdjMatrix=e.floydWarshall=e.getDegreeMap=e.getDegree=e.getEdgeTerminal=void 0;var t=N0,r=CE,n=Zk,a=function(b,y){var w=b[y];return(0,n.isObject)(w)?w.cell:w};e.getEdgeTerminal=a;var i=function(b,y,w){for(var _=[],x=0;x<b;x++)_[x]={in:0,out:0,all:0};return w&&w.forEach(function(S){var C=(0,e.getEdgeTerminal)(S,"source"),T=(0,e.getEdgeTerminal)(S,"target");C&&_[y[C]]&&(_[y[C]].out+=1,_[y[C]].all+=1),T&&_[y[T]]&&(_[y[T]].in+=1,_[y[T]].all+=1)}),_};e.getDegree=i;var o=function(b,y){var w={};return b.forEach(function(_){w[_.id]={in:0,out:0,all:0}}),y&&y.forEach(function(_){var x=(0,e.getEdgeTerminal)(_,"source"),S=(0,e.getEdgeTerminal)(_,"target");x&&(w[x].out+=1,w[x].all+=1),S&&(w[S].in+=1,w[S].all+=1)}),w};e.getDegreeMap=o;var s=function(b){for(var y=[],w=b.length,_=0;_<w;_+=1){y[_]=[];for(var x=0;x<w;x+=1)_===x?y[_][x]=0:b[_][x]===0||!b[_][x]?y[_][x]=1/0:y[_][x]=b[_][x]}for(var S=0;S<w;S+=1)for(var _=0;_<w;_+=1)for(var x=0;x<w;x+=1)y[_][x]>y[_][S]+y[S][x]&&(y[_][x]=y[_][S]+y[S][x]);return y};e.floydWarshall=s;var l=function(b,y){var w=b.nodes,_=b.edges,x=[],S={};if(!w)throw new Error("invalid nodes data!");return w&&w.forEach(function(C,T){S[C.id]=T;var M=[];x.push(M)}),_==null||_.forEach(function(C){var T=(0,e.getEdgeTerminal)(C,"source"),M=(0,e.getEdgeTerminal)(C,"target"),k=S[T],A=S[M];k===void 0||A===void 0||(x[k][A]=1,y||(x[A][k]=1))}),x};e.getAdjMatrix=l;var u=function(b,y){var w=[];return b.forEach(function(_){var x=[];_.forEach(function(S){x.push(S*y)}),w.push(x)}),w};e.scaleMatrix=u;var c=function(b,y){if(b&&b.children){for(var w=b.children.length-1;w>=0;w--)if(!c(b.children[w],y))return}return!!y(b)},f=function(b,y){typeof y=="function"&&c(b,y)};e.traverseTreeUp=f;var d=function(b){var y=1/0,w=1/0,_=-1/0,x=-1/0;return b.forEach(function(S){var C=S.size;(0,t.isArray)(C)?C.length===1&&(C=[C[0],C[0]]):(0,r.isNumber)(C)?C=[C,C]:(C===void 0||isNaN(C))&&(C=[30,30]);var T=[C[0]/2,C[1]/2],M=S.x-T[0],k=S.x+T[0],A=S.y-T[1],O=S.y+T[1];y>M&&(y=M),w>A&&(w=A),_<k&&(_=k),x<O&&(x=O)}),{minX:y,minY:w,maxX:_,maxY:x}};e.getLayoutBBox=d;var h=function(b){var y={x:0,y:0};b.forEach(function(_){y.x+=_.x||0,y.y+=_.y||0});var w=b.length||1;return{x:y.x/w,y:y.y/w}};e.getAvgNodePosition=h;var v=function(b,y,w){var _,x;return b==="source"?((_=w==null?void 0:w.find(function(S){return S.target===y.id}))===null||_===void 0?void 0:_.source)||{}:((x=w==null?void 0:w.find(function(S){return S.source===y.id}))===null||x===void 0?void 0:x.target)||{}},p=function(b,y,w){var _=[];switch(b){case"source":_=w==null?void 0:w.filter(function(S){return S.source===y.id}).map(function(S){return S.target});break;case"target":_=w==null?void 0:w.filter(function(S){return S.target===y.id}).map(function(S){return S.source});break;case"both":_=w==null?void 0:w.filter(function(S){return S.source===y.id}).map(function(S){return S.target}).concat(w==null?void 0:w.filter(function(S){return S.target===y.id}).map(function(S){return S.source}));break}var x=new Set(_);return Array.from(x)},m=function(b,y,w,_,x){var S=w[y]||"",C=(_==null?void 0:_.filter(function(T){return T[y]===S}))||[];return b==="leaf"&&(C=C.filter(function(T){var M,k;return((M=x[T.id])===null||M===void 0?void 0:M.in)===0||((k=x[T.id])===null||k===void 0?void 0:k.out)===0})),C},g=function(b,y,w,_,x,S){var C=x[y.id],T=C.in,M=C.out,k=y,A=[];T===0?(k=v("source",y,w),A=p("both",k,w).map(function(P){return S[P]})):M===0&&(k=v("target",y,w),A=p("both",k,w).map(function(P){return S[P]})),A=A.filter(function(P){return x[P.id]&&(x[P.id].in===0||x[P.id].out===0)});var O=m(b,_,y,A,x);return{coreNode:k,relativeLeafNodes:A,sameTypeLeafNodes:O}};e.getCoreNodeAndRelativeLeafNodes=g})(ME);var ux={},W3;function r0e(){return W3||(W3=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getFuncByUnknownType=e.getFunc=e.isFunction=void 0;var t=da(),r=CE,n=function(o){return typeof o=="function"};e.isFunction=n;var a=function(o,s,l){var u;return l?u=l:(0,r.isNumber)(o)?u=function(){return o}:u=function(){return s},u};e.getFunc=a;var i=function(o,s,l){return l===void 0&&(l=!0),!s&&s!==0?function(u){return u.size?(0,t.isArray)(u.size)?u.size[0]>u.size[1]?u.size[0]:u.size[1]:(0,t.isObject)(u.size)?u.size.width>u.size.height?u.size.width:u.size.height:u.size:o}:(0,e.isFunction)(s)?s:(0,r.isNumber)(s)?function(){return s}:(0,t.isArray)(s)?function(){if(l){var u=Math.max.apply(Math,s);return isNaN(u)?o:u}return s}:(0,t.isObject)(s)?function(){if(l){var u=Math.max(s.width,s.height);return isNaN(u)?o:u}return[s.width,s.height]}:function(){return o}};e.getFuncByUnknownType=i}(ux)),ux}var H3;function da(){return H3||(H3=1,function(e){var t=ht&&ht.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=ht&&ht.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(rv,e),r(N0,e),r(CE,e),r(ME,e),r(Zk,e),r(r0e(),e)}(lx)),lx}var n0e=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(fu,"__esModule",{value:!0});fu.getLayoutByName=fu.unRegisterLayout=fu.registerLayout=void 0;var a0e=wa,i0e=da(),fc=new Map,o0e=function(e,t){if(fc.get(e)&&console.warn("The layout with the name ".concat(e," exists already, it will be overridden")),(0,i0e.isObject)(t)){var r=function(n){n0e(a,n);function a(i){var o=this,s;o=n.call(this)||this;var l=o,u={},c=Object.assign({},l.getDefaultCfg(),((s=t.getDefaultCfg)===null||s===void 0?void 0:s.call(t))||{});return Object.assign(u,c,t,i),Object.keys(u).forEach(function(f){var d=u[f];l[f]=d}),o}return a}(a0e.Base);fc.set(e,r)}else fc.set(e,t);return fc.get(e)};fu.registerLayout=o0e;var s0e=function(e){fc.has(e)&&fc.delete(e)};fu.unRegisterLayout=s0e;var l0e=function(e){return fc.has(e)?fc.get(e):null};fu.getLayoutByName=l0e;var cx={},P0={},u0e=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(P0,"__esModule",{value:!0});P0.GridLayout=void 0;var Xd=da(),c0e=wa,f0e=function(e){u0e(t,e);function t(r){var n=e.call(this)||this;return n.begin=[0,0],n.preventOverlap=!0,n.preventOverlapPadding=10,n.condense=!1,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.row=0,n.col=0,n.cellWidth=0,n.cellHeight=0,n.cellUsed={},n.id2manPos={},n.onLayoutEnd=function(){},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},t.prototype.execute=function(){var r=this,n=r.nodes,a=r.edges,i=r.begin,o=n.length;if(o===0)return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:n,edges:a};if(o===1)return n[0].x=i[0],n[0].y=i[1],r.onLayoutEnd&&r.onLayoutEnd(),{nodes:n,edges:a};var s=r.sortBy,l=r.width,u=r.height,c=r.condense,f=r.preventOverlapPadding,d=r.preventOverlap,h=r.nodeSpacing,v=r.nodeSize,p=[];n.forEach(function(A){p.push(A)});var m={};if(p.forEach(function(A,O){m[A.id]=O}),(s==="degree"||!(0,Xd.isString)(s)||p[0][s]===void 0)&&(s="degree",(0,Xd.isNaN)(n[0].degree))){var g=(0,Xd.getDegree)(p.length,m,a);p.forEach(function(A,O){A.degree=g[O].all})}p.sort(function(A,O){return O[s]-A[s]}),!l&&typeof window<"u"&&(l=window.innerWidth),!u&&typeof window<"u"&&(u=window.innerHeight);var b=r.rows,y=r.cols!=null?r.cols:r.columns;if(r.cells=o,b!=null&&y!=null?(r.rows=b,r.cols=y):b!=null&&y==null?(r.rows=b,r.cols=Math.ceil(r.cells/r.rows)):b==null&&y!=null?(r.cols=y,r.rows=Math.ceil(r.cells/r.cols)):(r.splits=Math.sqrt(r.cells*r.height/r.width),r.rows=Math.round(r.splits),r.cols=Math.round(r.width/r.height*r.splits)),r.rows=Math.max(r.rows,1),r.cols=Math.max(r.cols,1),r.cols*r.rows>r.cells){var w=r.small(),_=r.large();(w-1)*_>=r.cells?r.small(w-1):(_-1)*w>=r.cells&&r.large(_-1)}else for(;r.cols*r.rows<r.cells;){var w=r.small(),_=r.large();(_+1)*w>=r.cells?r.large(_+1):r.small(w+1)}if(r.cellWidth=l/r.cols,r.cellHeight=u/r.rows,c&&(r.cellWidth=0,r.cellHeight=0),d||h){var x=(0,Xd.getFuncByUnknownType)(10,h),S=(0,Xd.getFuncByUnknownType)(30,v,!1);p.forEach(function(A){(!A.x||!A.y)&&(A.x=0,A.y=0);var O=S(A)||30,P,R;(0,Xd.isArray)(O)?(P=O[0],R=O[1]):(P=O,R=O);var N=x!==void 0?x(A):f,L=P+N,B=R+N;r.cellWidth=Math.max(r.cellWidth,L),r.cellHeight=Math.max(r.cellHeight,B)})}r.cellUsed={},r.row=0,r.col=0,r.id2manPos={};for(var C=0;C<p.length;C++){var T=p[C],M=void 0;if(r.position&&(M=r.position(T)),M&&(M.row!==void 0||M.col!==void 0)){var k={row:M.row,col:M.col};if(k.col===void 0)for(k.col=0;r.used(k.row,k.col);)k.col++;else if(k.row===void 0)for(k.row=0;r.used(k.row,k.col);)k.row++;r.id2manPos[T.id]=k,r.use(k.row,k.col)}r.getPos(T)}return r.onLayoutEnd&&r.onLayoutEnd(),{edges:a,nodes:p}},t.prototype.small=function(r){var n=this,a,i=n.rows||5,o=n.cols||5;if(r==null)a=Math.min(i,o);else{var s=Math.min(i,o);s===n.rows?n.rows=r:n.cols=r}return a},t.prototype.large=function(r){var n=this,a,i=n.rows||5,o=n.cols||5;if(r==null)a=Math.max(i,o);else{var s=Math.max(i,o);s===n.rows?n.rows=r:n.cols=r}return a},t.prototype.used=function(r,n){var a=this;return a.cellUsed["c-".concat(r,"-").concat(n)]||!1},t.prototype.use=function(r,n){var a=this;a.cellUsed["c-".concat(r,"-").concat(n)]=!0},t.prototype.moveToNextCell=function(){var r=this,n=r.cols||5;r.col++,r.col>=n&&(r.col=0,r.row++)},t.prototype.getPos=function(r){var n=this,a=n.begin,i=n.cellWidth,o=n.cellHeight,s,l,u=n.id2manPos[r.id];if(u)s=u.col*i+i/2+a[0],l=u.row*o+o/2+a[1];else{for(;n.used(n.row,n.col);)n.moveToNextCell();s=n.col*i+i/2+a[0],l=n.row*o+o/2+a[1],n.use(n.row,n.col),n.moveToNextCell()}r.x=s,r.y=l},t.prototype.getType=function(){return"grid"},t}(c0e.Base);P0.GridLayout=f0e;var D0={},d0e=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(D0,"__esModule",{value:!0});D0.RandomLayout=void 0;var h0e=wa,v0e=function(e){d0e(t,e);function t(r){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},t.prototype.execute=function(){var r=this,n=r.nodes,a=.9,i=r.center;return!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight),n&&n.forEach(function(o){o.x=(Math.random()-.5)*a*r.width+i[0],o.y=(Math.random()-.5)*a*r.height+i[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:n,edges:this.edges}},t.prototype.getType=function(){return"random"},t}(h0e.Base);D0.RandomLayout=v0e;var R0={},p0e=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(R0,"__esModule",{value:!0});R0.GForceLayout=void 0;var g0e=wa,wi=da(),fx=function(e,t){var r;return e?(0,wi.isNumber)(e)?r=function(n){return e}:r=e:r=function(n){return t},r},m0e=function(e){p0e(t,e);function t(r){var n=e.call(this)||this;return n.maxIteration=500,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.preventOverlap=!0,n.collideStrength=1,n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.animate=!0,n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var r,n,a=this,i=a.nodes;if(a.timeInterval!==void 0&&typeof window<"u"&&window.clearInterval(a.timeInterval),!i||i.length===0){(r=a.onLayoutEnd)===null||r===void 0||r.call(a);return}!a.width&&typeof window<"u"&&(a.width=window.innerWidth),!a.height&&typeof window<"u"&&(a.height=window.innerHeight),a.center||(a.center=[a.width/2,a.height/2]);var o=a.center;if(i.length===1){i[0].x=o[0],i[0].y=o[1],(n=a.onLayoutEnd)===null||n===void 0||n.call(a);return}var s={},l={};i.forEach(function(v,p){(0,wi.isNumber)(v.x)||(v.x=Math.random()*a.width),(0,wi.isNumber)(v.y)||(v.y=Math.random()*a.height),s[v.id]=v,l[v.id]=p}),a.nodeMap=s,a.nodeIdxMap=l,a.linkDistance=fx(a.linkDistance,1),a.nodeStrength=fx(a.nodeStrength,1),a.edgeStrength=fx(a.edgeStrength,1);var u=a.nodeSize,c;if(a.preventOverlap){var f=a.nodeSpacing,d;(0,wi.isNumber)(f)?d=function(){return f}:(0,wi.isFunction)(f)?d=f:d=function(){return 0},u?(0,wi.isArray)(u)?c=function(v){return Math.max(u[0],u[1])+d(v)}:c=function(v){return u+d(v)}:c=function(v){return v.size?(0,wi.isArray)(v.size)?Math.max(v.size[0],v.size[1])+d(v):(0,wi.isObject)(v.size)?Math.max(v.size.width,v.size.height)+d(v):v.size+d(v):10+d(v)}}a.nodeSize=c;var h=a.edges;a.degrees=(0,wi.getDegree)(i.length,a.nodeIdxMap,h),a.getMass||(a.getMass=function(v){var p=v.mass||a.degrees[a.nodeIdxMap[v.id]].all||1;return p}),a.run()},t.prototype.run=function(){var r,n=this,a=n.maxIteration,i=n.nodes,o=n.workerEnabled,s=n.minMovement,l=n.animate;if(i)if(o||!l){for(var u=0;u<a;u++){var c=n.runOneStep(u);if(n.reachMoveThreshold(i,c,s))break}(r=n.onLayoutEnd)===null||r===void 0||r.call(n)}else{if(typeof window>"u")return;var f=0;this.timeInterval=window.setInterval(function(){var d,h;if(i){var v=n.runOneStep(f)||[];n.reachMoveThreshold(i,v,s)&&((d=n.onLayoutEnd)===null||d===void 0||d.call(n),window.clearInterval(n.timeInterval)),f++,f>=a&&((h=n.onLayoutEnd)===null||h===void 0||h.call(n),window.clearInterval(n.timeInterval))}},0)}},t.prototype.reachMoveThreshold=function(r,n,a){var i=0;return r.forEach(function(o,s){var l=o.x-n[s].x,u=o.y-n[s].y;i+=Math.sqrt(l*l+u*u)}),i/=r.length,i<a},t.prototype.runOneStep=function(r){var n,a=this,i=a.nodes,o=a.edges,s=[],l=[];if(i){i.forEach(function(f,d){s[2*d]=0,s[2*d+1]=0,l[2*d]=0,l[2*d+1]=0}),a.calRepulsive(s,i),o&&a.calAttractive(s,o),a.calGravity(s,i);var u=Math.max(.02,a.interval-r*.002);a.updateVelocity(s,l,u,i);var c=[];return i.forEach(function(f){c.push({x:f.x,y:f.y})}),a.updatePosition(l,u,i),(n=a.tick)===null||n===void 0||n.call(a),c}},t.prototype.calRepulsive=function(r,n){var a=this,i=a.getMass,o=a.factor,s=a.coulombDisScale,l=a.preventOverlap,u=a.collideStrength,c=u===void 0?1:u,f=a.nodeStrength,d=a.nodeSize;n.forEach(function(h,v){var p=i?i(h):1;n.forEach(function(m,g){if(!(v>=g)){var b=h.x-m.x,y=h.y-m.y;b===0&&y===0&&(b=Math.random()*.01,y=Math.random()*.01);var w=b*b+y*y,_=Math.sqrt(w),x=(_+.1)*s,S=b/_,C=y/_,T=(f(h)+f(m))*.5*o/(x*x),M=i?i(m):1;if(r[2*v]+=S*T,r[2*v+1]+=C*T,r[2*g]-=S*T,r[2*g+1]-=C*T,l&&(d(h)+d(m))/2>_){var k=c*(f(h)+f(m))*.5/w;r[2*v]+=S*k/p,r[2*v+1]+=C*k/p,r[2*g]-=S*k/M,r[2*g+1]-=C*k/M}}})})},t.prototype.calAttractive=function(r,n){var a=this,i=a.nodeMap,o=a.nodeIdxMap,s=a.linkDistance,l=a.edgeStrength,u=a.nodeSize,c=a.getMass;n.forEach(function(f,d){var h=(0,wi.getEdgeTerminal)(f,"source"),v=(0,wi.getEdgeTerminal)(f,"target"),p=i[h],m=i[v],g=m.x-p.x,b=m.y-p.y;g===0&&b===0&&(g=Math.random()*.01,b=Math.random()*.01);var y=Math.sqrt(g*g+b*b),w=g/y,_=b/y,x=s(f,p,m)||1+(u(p)+u(m)||0)/2,S=x-y,C=S*l(f),T=o[h],M=o[v],k=c?c(p):1,A=c?c(m):1;r[2*T]-=w*C/k,r[2*T+1]-=_*C/k,r[2*M]+=w*C/A,r[2*M+1]+=_*C/A})},t.prototype.calGravity=function(r,n){for(var a=this,i=a.center,o=a.gravity,s=a.degrees,l=n.length,u=0;u<l;u++){var c=n[u],f=c.x-i[0],d=c.y-i[1],h=o;if(a.getCenter){var v=a.getCenter(c,s[u].all);v&&(0,wi.isNumber)(v[0])&&(0,wi.isNumber)(v[1])&&(0,wi.isNumber)(v[2])&&(f=c.x-v[0],d=c.y-v[1],h=v[2])}h&&(r[2*u]-=h*f,r[2*u+1]-=h*d)}},t.prototype.updateVelocity=function(r,n,a,i){var o=this,s=a*o.damping;i.forEach(function(l,u){var c=r[2*u]*s||.01,f=r[2*u+1]*s||.01,d=Math.sqrt(c*c+f*f);if(d>o.maxSpeed){var h=o.maxSpeed/d;c=h*c,f=h*f}n[2*u]=c,n[2*u+1]=f})},t.prototype.updatePosition=function(r,n,a){a.forEach(function(i,o){if((0,wi.isNumber)(i.fx)&&(0,wi.isNumber)(i.fy)){i.x=i.fx,i.y=i.fy;return}var s=r[2*o]*n,l=r[2*o+1]*n;i.x+=s,i.y+=l})},t.prototype.stop=function(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0},t.prototype.getType=function(){return"gForce"},t}(g0e.Base);R0.GForceLayout=m0e;var $0={},TE={};function y0e(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return r9(this.cover(t,r),t,r,e)}function r9(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var a,i=e._root,o={data:n},s=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,v,p,m,g,b;if(!i)return e._root=o,e;for(;i.length;)if((p=t>=(f=(s+u)/2))?s=f:u=f,(m=r>=(d=(l+c)/2))?l=d:c=d,a=i,!(i=i[g=m<<1|p]))return a[g]=o,e;if(h=+e._x.call(null,i.data),v=+e._y.call(null,i.data),t===h&&r===v)return o.next=i,a?a[g]=o:e._root=o,e;do a=a?a[g]=new Array(4):e._root=new Array(4),(p=t>=(f=(s+u)/2))?s=f:u=f,(m=r>=(d=(l+c)/2))?l=d:c=d;while((g=m<<1|p)===(b=(v>=d)<<1|h>=f));return a[b]=i,a[g]=o,e}function b0e(e){var t,r,n=e.length,a,i,o=new Array(n),s=new Array(n),l=1/0,u=1/0,c=-1/0,f=-1/0;for(r=0;r<n;++r)isNaN(a=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||(o[r]=a,s[r]=i,a<l&&(l=a),a>c&&(c=a),i<u&&(u=i),i>f&&(f=i));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),r=0;r<n;++r)r9(this,o[r],s[r],e[r]);return this}function w0e(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,a=this._x1,i=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,i=(n=Math.floor(t))+1;else{for(var o=a-r||1,s=this._root,l,u;r>e||e>=a||n>t||t>=i;)switch(u=(t<n)<<1|e<r,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:a=r+o,i=n+o;break;case 1:r=a-o,i=n+o;break;case 2:a=r+o,n=i-o;break;case 3:r=a-o,n=i-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._y0=n,this._x1=a,this._y1=i,this}function E0e(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function _0e(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function $i(e,t,r,n,a){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=a}function x0e(e,t,r){var n,a=this._x0,i=this._y0,o,s,l,u,c=this._x1,f=this._y1,d=[],h=this._root,v,p;for(h&&d.push(new $i(h,a,i,c,f)),r==null?r=1/0:(a=e-r,i=t-r,c=e+r,f=t+r,r*=r);v=d.pop();)if(!(!(h=v.node)||(o=v.x0)>c||(s=v.y0)>f||(l=v.x1)<a||(u=v.y1)<i))if(h.length){var m=(o+l)/2,g=(s+u)/2;d.push(new $i(h[3],m,g,l,u),new $i(h[2],o,g,m,u),new $i(h[1],m,s,l,g),new $i(h[0],o,s,m,g)),(p=(t>=g)<<1|e>=m)&&(v=d[d.length-1],d[d.length-1]=d[d.length-1-p],d[d.length-1-p]=v)}else{var b=e-+this._x.call(null,h.data),y=t-+this._y.call(null,h.data),w=b*b+y*y;if(w<r){var _=Math.sqrt(r=w);a=e-_,i=t-_,c=e+_,f=t+_,n=h.data}}return n}function S0e(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,r=this._root,n,a,i,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,f,d,h,v,p,m,g;if(!r)return this;if(r.length)for(;;){if((v=c>=(d=(o+l)/2))?o=d:l=d,(p=f>=(h=(s+u)/2))?s=h:u=h,t=r,!(r=r[m=p<<1|v]))return this;if(!r.length)break;(t[m+1&3]||t[m+2&3]||t[m+3&3])&&(n=t,g=m)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(i=r.next)&&delete r.next,a?(i?a.next=i:delete a.next,this):t?(i?t[m]=i:delete t[m],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[g]=r:this._root=r),this):(this._root=i,this)}function C0e(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function M0e(){return this._root}function T0e(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function k0e(e){var t=[],r,n=this._root,a,i,o,s,l;for(n&&t.push(new $i(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,i=r.x0,o=r.y0,s=r.x1,l=r.y1)&&n.length){var u=(i+s)/2,c=(o+l)/2;(a=n[3])&&t.push(new $i(a,u,c,s,l)),(a=n[2])&&t.push(new $i(a,i,c,u,l)),(a=n[1])&&t.push(new $i(a,u,o,s,c)),(a=n[0])&&t.push(new $i(a,i,o,u,c))}return this}function A0e(e){var t=[],r=[],n;for(this._root&&t.push(new $i(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var a=n.node;if(a.length){var i,o=n.x0,s=n.y0,l=n.x1,u=n.y1,c=(o+l)/2,f=(s+u)/2;(i=a[0])&&t.push(new $i(i,o,s,c,f)),(i=a[1])&&t.push(new $i(i,c,s,l,f)),(i=a[2])&&t.push(new $i(i,o,f,c,u)),(i=a[3])&&t.push(new $i(i,c,f,l,u))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function I0e(e){return e[0]}function O0e(e){return arguments.length?(this._x=e,this):this._x}function L0e(e){return e[1]}function N0e(e){return arguments.length?(this._y=e,this):this._y}function kE(e,t,r){var n=new Qk(t??I0e,r??L0e,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function Qk(e,t,r,n,a,i){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=a,this._y1=i,this._root=void 0}function Y3(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Vi=kE.prototype=Qk.prototype;Vi.copy=function(){var e=new Qk(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=Y3(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var a=0;a<4;++a)(n=t.source[a])&&(n.length?r.push({source:n,target:t.target[a]=new Array(4)}):t.target[a]=Y3(n));return e};Vi.add=y0e;Vi.addAll=b0e;Vi.cover=w0e;Vi.data=E0e;Vi.extent=_0e;Vi.find=x0e;Vi.remove=S0e;Vi.removeAll=C0e;Vi.root=M0e;Vi.size=T0e;Vi.visit=k0e;Vi.visitAfter=A0e;Vi.x=O0e;Vi.y=N0e;const P0e=Object.freeze(Object.defineProperty({__proto__:null,quadtree:kE},Symbol.toStringTag,{value:"Module"})),D0e=Nl(P0e);Object.defineProperty(TE,"__esModule",{value:!0});TE.forceNBody=void 0;var R0e=D0e,$0e=.81,K3=.1;function B0e(e,t,r,n,a){var i=r/n,o=e.map(function(l,u){var c=t[l.id],f=c.data,d=c.x,h=c.y,v=c.size,p=f.layout.force.nodeStrength;return{x:d,y:h,size:v,index:u,vx:0,vy:0,weight:i*p}}),s=(0,R0e.quadtree)(o,function(l){return l.x},function(l){return l.y}).visitAfter(F0e);return o.forEach(function(l){G0e(l,s)}),o.map(function(l,u){var c=t[e[u].id],f=c.data.layout.force.mass,d=f===void 0?1:f;a[2*u]=l.vx/d,a[2*u+1]=l.vy/d}),a}TE.forceNBody=B0e;function F0e(e){var t=0,r=0,n=0;if(e.length){for(var a=0;a<4;a++){var i=e[a];i&&i.weight&&(t+=i.weight,r+=i.x*i.weight,n+=i.y*i.weight)}e.x=r/t,e.y=n/t,e.weight=t}else{var i=e;e.x=i.data.x,e.y=i.data.y,e.weight=i.data.weight}}var z0e=function(e,t,r,n,a,i){var o=i.x-e.x||K3,s=i.y-e.y||K3,l=n-t,u=o*o+s*s,c=Math.sqrt(u)*u;if(l*l*$0e<u){var f=e.weight/c;return i.vx+=o*f,i.vy+=s*f,!0}if(e.length)return!1;if(e.data!==i){var f=e.data.weight/c;i.vx+=o*f,i.vy+=s*f}};function G0e(e,t){t.visit(function(r,n,a,i,o){return z0e(r,n,a,i,o,e)})}var j0e=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xs=ht&&ht.__assign||function(){return xs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xs.apply(this,arguments)};Object.defineProperty($0,"__esModule",{value:!0});$0.Force2Layout=void 0;var V0e=wa,Fa=da(),U0e=TE,dx=function(e,t){var r;return e?(0,Fa.isNumber)(e)?r=function(n){return e}:r=e:r=function(n){return t},r},W0e=function(e){j0e(t,e);function t(r){var n=e.call(this)||this;n.maxIteration=1e3,n.workerEnabled=!1,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=500,n.minMovement=.4,n.interval=.02,n.factor=1,n.linkDistance=200,n.gravity=0,n.clusterNodeStrength=20,n.preventOverlap=!0,n.distanceThresholdMode="mean",n.tick=function(){},n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.judgingDistance=0,n.centripetalOptions={leaf:2,single:2,others:1,center:function(i){return{x:n.width/2,y:n.height/2}}};var a=r.getMass;return n.propsGetMass=a,n.updateCfg(r),n}return t.prototype.getCentripetalOptions=function(){var r=this,n=r.leafCluster,a=r.clustering,i=r.nodeClusterBy,o=r.nodes,s=r.nodeMap,l=r.clusterNodeStrength,u=function(y){return typeof l=="function"?l(y):l},c={},f;if(n){f=this.getSameTypeLeafMap()||{};var d=Array.from(new Set(o==null?void 0:o.map(function(y){return y[i]})))||[];c={single:100,leaf:function(y,w,_){var x=f[y.id]||{},S=x.relativeLeafNodes,C=x.sameTypeLeafNodes;return(C==null?void 0:C.length)===(S==null?void 0:S.length)||(d==null?void 0:d.length)===1?1:u(y)},others:1,center:function(y,w,_){var x,S=(((x=y.data)===null||x===void 0?void 0:x.layout)||{}).degree;if(!S)return{x:100,y:100};var C;if(S===1){var T=(f[y.id]||{}).sameTypeLeafNodes,M=T===void 0?[]:T;M.length===1?C=void 0:M.length>1&&(C=(0,Fa.getAvgNodePosition)(M))}else C=void 0;return{x:C==null?void 0:C.x,y:C==null?void 0:C.y}}}}if(a){f||(f=this.getSameTypeLeafMap());var h=Array.from(new Set(o.map(function(y,w){return y[i]}))).filter(function(y){return y!==void 0}),v={};h.forEach(function(y){var w=o.filter(function(_){return _[i]===y}).map(function(_){return s[_.id]});v[y]=(0,Fa.getAvgNodePosition)(w)}),c={single:function(y){return u(y)},leaf:function(y){return u(y)},others:function(y){return u(y)},center:function(y,w,_){var x=v[y[i]];return{x:x==null?void 0:x.x,y:x==null?void 0:x.y}}}}this.centripetalOptions=xs(xs({},this.centripetalOptions),c);var p=this.centripetalOptions,m=p.leaf,g=p.single,b=p.others;m&&typeof m!="function"&&(this.centripetalOptions.leaf=function(){return m}),g&&typeof g!="function"&&(this.centripetalOptions.single=function(){return g}),b&&typeof b!="function"&&(this.centripetalOptions.others=function(){return b})},t.prototype.updateCfg=function(r){r&&Object.assign(this,r)},t.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},t.prototype.execute=function(){var r=this;r.stop();var n=r.nodes,a=r.edges,i=r.defSpringLen;if(r.judgingDistance=0,!n||n.length===0){r.onLayoutEnd([]);return}!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var o=r.center;if(n.length===1){n[0].x=o[0],n[0].y=o[1],r.onLayoutEnd([xs({},n[0])]);return}r.degreesMap=(0,Fa.getDegreeMap)(n,a),r.propsGetMass?r.getMass=r.propsGetMass:r.getMass=function(h){var v=1;(0,Fa.isNumber)(h.mass)&&(v=h.mass);var p=r.degreesMap[h.id].all;return!p||p<5?v:p*5*v};var s=r.nodeSize,l;if(r.preventOverlap){var u=r.nodeSpacing,c;(0,Fa.isNumber)(u)?c=function(){return u}:(0,Fa.isFunction)(u)?c=u:c=function(){return 0},s?(0,Fa.isArray)(s)?l=function(h){return Math.max(s[0],s[1])+c(h)}:l=function(h){return s+c(h)}:l=function(h){return h.size?(0,Fa.isArray)(h.size)?Math.max(h.size[0],h.size[1])+c(h):(0,Fa.isObject)(h.size)?Math.max(h.size.width,h.size.height)+c(h):h.size+c(h):10+c(h)}}r.nodeSize=l,r.linkDistance=dx(r.linkDistance,1),r.nodeStrength=dx(r.nodeStrength,1),r.edgeStrength=dx(r.edgeStrength,1);var f={},d={};n.forEach(function(h,v){(0,Fa.isNumber)(h.x)||(h.x=Math.random()*r.width),(0,Fa.isNumber)(h.y)||(h.y=Math.random()*r.height);var p=r.degreesMap[h.id];f[h.id]=xs(xs({},h),{data:xs(xs({},h.data),{size:r.nodeSize(h)||30,layout:{inDegree:p.in,outDegree:p.out,degree:p.all,tDegree:p.in,sDegree:p.out,force:{mass:r.getMass(h),nodeStrength:r.nodeStrength(h,a)}}})}),d[h.id]=v}),r.nodeMap=f,r.nodeIdxMap=d,r.edgeInfos=[],a==null||a.forEach(function(h){var v=f[h.source],p=f[h.target];!v||!p?elf.edgeInfos.push({}):r.edgeInfos.push({edgeStrength:r.edgeStrength(h),linkDistance:i?i(xs(xs({},h),{source:v,target:p}),v,p):r.linkDistance(h,v,p)||1+(s(v)+s(v)||0)/2})}),this.getCentripetalOptions(),r.onLayoutEnd=r.onLayoutEnd||function(){},r.run()},t.prototype.run=function(){var r=this,n=r.maxIteration,a=r.nodes,i=r.edges,o=r.workerEnabled,s=r.minMovement,l=r.animate,u=r.nodeMap,c=r.height;if(r.currentMinY=0,r.currentMaxY=c,!!a){var f=[];if(a.forEach(function(g,b){f[2*b]=0,f[2*b+1]=0}),this.defSideCoe&&typeof this.defSideCoe=="function"){var d={};i.forEach(function(g){var b=g.source,y=g.target;d[b]=d[b]||[],d[b].push(g),d[y]=d[y]||[],d[y].push(g)}),this.relatedEdges=d}var h=n,v=!l;if(o||v){for(var p=0;(r.judgingDistance>s||p<1)&&p<h;p++)r.runOneStep(p,f);r.onLayoutEnd(Object.values(u))}else{if(typeof window>"u")return;var m=0;this.timeInterval=window.setInterval(function(){a&&(r.runOneStep(m,f),m++,(m>=h||r.judgingDistance<s)&&(r.onLayoutEnd(Object.values(u)),window.clearInterval(r.timeInterval)))},0)}}},t.prototype.runOneStep=function(r,n){var a,i=this,o=i.nodes,s=i.edges;i.nodeMap;var l=i.monitor,u=[];if(o!=null&&o.length){i.calRepulsive(u),s&&i.calAttractive(u),i.calGravity(u),i.attractToSide(u);var c=i.interval;if(i.updateVelocity(u,n,c),i.updatePosition(n,c),(a=i.tick)===null||a===void 0||a.call(i),l){var f=this.calTotalEnergy(u);l({energy:f,nodes:o,edges:s,iterations:r})}}},t.prototype.calTotalEnergy=function(r){var n=this,a=n.nodes,i=n.nodeMap;if(!(a!=null&&a.length))return 0;var o=0;return a.forEach(function(s,l){var u=r[2*l],c=r[2*l+1],f=u*u+c*c,d=i[s.id].data.layout.force.mass,h=d===void 0?1:d;o+=h*f*.5}),o},t.prototype.calRepulsive=function(r){var n=this,a=n.nodes,i=n.nodeMap,o=n.factor,s=n.coulombDisScale;n.nodeSize,(0,U0e.forceNBody)(a,i,o,s*s,r)},t.prototype.calAttractive=function(r){var n=this,a=n.edges,i=n.nodeMap,o=n.nodeIdxMap,s=n.edgeInfos;n.nodeSize,a.forEach(function(l,u){var c=(0,Fa.getEdgeTerminal)(l,"source"),f=(0,Fa.getEdgeTerminal)(l,"target"),d=i[c],h=i[f];if(!(!d||!h)){var v=h.x-d.x,p=h.y-d.y;!v&&!p&&(v=Math.random()*.01,p=Math.random()*.01);var m=Math.sqrt(v*v+p*p),g=v/m,b=p/m,y=s[u]||{},w=y.linkDistance,_=w===void 0?200:w,x=y.edgeStrength,S=x===void 0?200:x,C=_-m,T=C*S,M=d.data.layout.force.mass||1,k=h.data.layout.force.mass||1,A=1/M,O=1/k,P=g*T,R=b*T,N=2*o[c],L=2*o[f];r[N]-=P*A,r[N+1]-=R*A,r[L]+=P*O,r[L+1]+=R*O}})},t.prototype.calGravity=function(r){var n,a=this,i=a.nodes,o=a.edges,s=o===void 0?[]:o,l=a.nodeMap,u=a.width,c=a.height,f=a.center,d=a.gravity,h=a.degreesMap,v=a.centripetalOptions;if(i)for(var p=i.length,m=0;m<p;m++){var g=2*m,b=l[i[m].id],y=b.data.layout.force.mass,w=y===void 0?1:y,_=0,x=0,S=d,C=h[b.id],T=C.in,M=C.out,k=C.all,A=(n=a.getCenter)===null||n===void 0?void 0:n.call(a,b,k);if(A){var O=A[0],P=A[1],R=A[2];_=b.x-O,x=b.y-P,S=R}else _=b.x-f[0],x=b.y-f[1];if(S&&(r[g]-=S*_/w,r[g+1]-=S*x/w),v){var N=v.leaf,L=v.single,B=v.others,I=v.center,D=(I==null?void 0:I(b,i,s,u,c))||{x:0,y:0,centerStrength:0},z=D.x,U=D.y,H=D.centerStrength;if(!(0,Fa.isNumber)(z)||!(0,Fa.isNumber)(U))continue;var Y=(b.x-z)/w,ie=(b.y-U)/w;if(H&&(r[g]-=H*Y,r[g+1]-=H*ie),k===0){var X=L(b);if(!X)continue;r[g]-=X*Y,r[g+1]-=X*ie;continue}if(T===0||M===0){var re=N(b,i,s);if(!re)continue;r[g]-=re*Y,r[g+1]-=re*ie;continue}var oe=B(b);if(!oe)continue;r[g]-=oe*Y,r[g+1]-=oe*ie}}},t.prototype.attractToSide=function(r){var n=this,a=n.defSideCoe;n.height;var i=n.nodes,o=n.relatedEdges,s=n.currentMinY,l=s===void 0?0:s,u=n.currentMaxY,c=u===void 0?this.height:u;!a||typeof a!="function"||!(i!=null&&i.length)||i.forEach(function(f,d){var h=a(f,o[f.id]||[]);if(h!==0){var v=h<0?l:c,p=Math.abs(h);r[2*d+1]-=p*(f.y-v)}})},t.prototype.updateVelocity=function(r,n,a){var i=this,o=i.nodes,s=i.damping,l=i.maxSpeed;o!=null&&o.length&&o.forEach(function(u,c){var f=(n[2*c]+r[2*c]*a)*s||.01,d=(n[2*c+1]+r[2*c+1]*a)*s||.01,h=Math.sqrt(f*f+d*d);if(h>l){var v=l/h;f=v*f,d=v*d}n[2*c]=f,n[2*c+1]=d})},t.prototype.updatePosition=function(r,n){var a=this,i=a.nodes,o=a.distanceThresholdMode,s=a.nodeMap;if(!(i!=null&&i.length)){this.judgingDistance=0;return}var l=0;o==="max"?a.judgingDistance=-1/0:o==="min"&&(a.judgingDistance=1/0);var u=1/0,c=-1/0;i.forEach(function(f,d){var h=s[f.id];if((0,Fa.isNumber)(f.fx)&&(0,Fa.isNumber)(f.fy)){f.x=f.fx,f.y=f.fy,h.x=f.x,h.y=f.y;return}var v=r[2*d]*n,p=r[2*d+1]*n;f.x+=v,f.y+=p,h.x=f.x,h.y=f.y,f.y<u&&(u=f.y),f.y>c&&(c=f.y);var m=Math.sqrt(v*v+p*p);switch(o){case"max":a.judgingDistance<m&&(a.judgingDistance=m);break;case"min":a.judgingDistance>m&&(a.judgingDistance=m);break;default:l=l+m;break}}),this.currentMinY=u,this.currentMaxY=c,(!o||o==="mean")&&(a.judgingDistance=l/i.length)},t.prototype.stop=function(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0},t.prototype.getType=function(){return"force2"},t.prototype.getSameTypeLeafMap=function(){var r=this,n=r.nodeClusterBy,a=r.nodes,i=r.edges,o=r.nodeMap,s=r.degreesMap;if(a!=null&&a.length){var l={};return a.forEach(function(u,c){var f=s[u.id].all;f===1&&(l[u.id]=(0,Fa.getCoreNodeAndRelativeLeafNodes)("leaf",u,i,n,s,o))}),l}},t}(V0e.Base);$0.Force2Layout=W0e;var Jk={},AE={};function H0e(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function a(){var i,o=r.length,s,l=0,u=0;for(i=0;i<o;++i)s=r[i],l+=s.x,u+=s.y;for(l=(l/o-e)*n,u=(u/o-t)*n,i=0;i<o;++i)s=r[i],s.x-=l,s.y-=u}return a.initialize=function(i){r=i},a.x=function(i){return arguments.length?(e=+i,a):e},a.y=function(i){return arguments.length?(t=+i,a):t},a.strength=function(i){return arguments.length?(n=+i,a):n},a}function Va(e){return function(){return e}}function dc(e){return(e()-.5)*1e-6}function Y0e(e){return e.x+e.vx}function K0e(e){return e.y+e.vy}function X0e(e){var t,r,n,a=1,i=1;typeof e!="function"&&(e=Va(e==null?1:+e));function o(){for(var u,c=t.length,f,d,h,v,p,m,g=0;g<i;++g)for(f=kE(t,Y0e,K0e).visitAfter(s),u=0;u<c;++u)d=t[u],p=r[d.index],m=p*p,h=d.x+d.vx,v=d.y+d.vy,f.visit(b);function b(y,w,_,x,S){var C=y.data,T=y.r,M=p+T;if(C){if(C.index>d.index){var k=h-C.x-C.vx,A=v-C.y-C.vy,O=k*k+A*A;O<M*M&&(k===0&&(k=dc(n),O+=k*k),A===0&&(A=dc(n),O+=A*A),O=(M-(O=Math.sqrt(O)))/O*a,d.vx+=(k*=O)*(M=(T*=T)/(m+T)),d.vy+=(A*=O)*M,C.vx-=k*(M=1-M),C.vy-=A*M)}return}return w>h+M||x<h-M||_>v+M||S<v-M}}function s(u){if(u.data)return u.r=r[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(r=new Array(c),u=0;u<c;++u)f=t[u],r[f.index]=+e(f,u,t)}}return o.initialize=function(u,c){t=u,n=c,l()},o.iterations=function(u){return arguments.length?(i=+u,o):i},o.strength=function(u){return arguments.length?(a=+u,o):a},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Va(+u),l(),o):e},o}function q0e(e){return e.index}function X3(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function Z0e(e){var t=q0e,r=f,n,a=Va(30),i,o,s,l,u,c=1;e==null&&(e=[]);function f(m){return 1/Math.min(s[m.source.index],s[m.target.index])}function d(m){for(var g=0,b=e.length;g<c;++g)for(var y=0,w,_,x,S,C,T,M;y<b;++y)w=e[y],_=w.source,x=w.target,S=x.x+x.vx-_.x-_.vx||dc(u),C=x.y+x.vy-_.y-_.vy||dc(u),T=Math.sqrt(S*S+C*C),T=(T-i[y])/T*m*n[y],S*=T,C*=T,x.vx-=S*(M=l[y]),x.vy-=C*M,_.vx+=S*(M=1-M),_.vy+=C*M}function h(){if(o){var m,g=o.length,b=e.length,y=new Map(o.map((_,x)=>[t(_,x,o),_])),w;for(m=0,s=new Array(g);m<b;++m)w=e[m],w.index=m,typeof w.source!="object"&&(w.source=X3(y,w.source)),typeof w.target!="object"&&(w.target=X3(y,w.target)),s[w.source.index]=(s[w.source.index]||0)+1,s[w.target.index]=(s[w.target.index]||0)+1;for(m=0,l=new Array(b);m<b;++m)w=e[m],l[m]=s[w.source.index]/(s[w.source.index]+s[w.target.index]);n=new Array(b),v(),i=new Array(b),p()}}function v(){if(o)for(var m=0,g=e.length;m<g;++m)n[m]=+r(e[m],m,e)}function p(){if(o)for(var m=0,g=e.length;m<g;++m)i[m]=+a(e[m],m,e)}return d.initialize=function(m,g){o=m,u=g,h()},d.links=function(m){return arguments.length?(e=m,h(),d):e},d.id=function(m){return arguments.length?(t=m,d):t},d.iterations=function(m){return arguments.length?(c=+m,d):c},d.strength=function(m){return arguments.length?(r=typeof m=="function"?m:Va(+m),v(),d):r},d.distance=function(m){return arguments.length?(a=typeof m=="function"?m:Va(+m),p(),d):a},d}var Q0e={value:()=>{}};function n9(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new D1(r)}function D1(e){this._=e}function J0e(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}D1.prototype=n9.prototype={constructor:D1,on:function(e,t){var r=this._,n=J0e(e+"",r),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(e=n[i]).type)&&(a=eme(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=n[i]).type)r[a]=q3(r[a],e.name,t);else if(t==null)for(a in r)r[a]=q3(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new D1(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function eme(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function q3(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=Q0e,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}const tme=1664525,rme=1013904223,Z3=4294967296;function nme(){let e=1;return()=>(e=(tme*e+rme)%Z3)/Z3}function ame(e){return e.x}function ime(e){return e.y}var ome=10,sme=Math.PI*(3-Math.sqrt(5));function lme(e){var t,r=1,n=.001,a=1-Math.pow(n,1/300),i=0,o=.6,s=new Map,l=Ak(f),u=n9("tick","end"),c=nme();e==null&&(e=[]);function f(){d(),u.call("tick",t),r<n&&(l.stop(),u.call("end",t))}function d(p){var m,g=e.length,b;p===void 0&&(p=1);for(var y=0;y<p;++y)for(r+=(i-r)*a,s.forEach(function(w){w(r)}),m=0;m<g;++m)b=e[m],b.fx==null?b.x+=b.vx*=o:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=o:(b.y=b.fy,b.vy=0);return t}function h(){for(var p=0,m=e.length,g;p<m;++p){if(g=e[p],g.index=p,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var b=ome*Math.sqrt(.5+p),y=p*sme;g.x=b*Math.cos(y),g.y=b*Math.sin(y)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function v(p){return p.initialize&&p.initialize(e,c),p}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(e=p,h(),s.forEach(v),t):e},alpha:function(p){return arguments.length?(r=+p,t):r},alphaMin:function(p){return arguments.length?(n=+p,t):n},alphaDecay:function(p){return arguments.length?(a=+p,t):+a},alphaTarget:function(p){return arguments.length?(i=+p,t):i},velocityDecay:function(p){return arguments.length?(o=1-p,t):1-o},randomSource:function(p){return arguments.length?(c=p,s.forEach(v),t):c},force:function(p,m){return arguments.length>1?(m==null?s.delete(p):s.set(p,v(m)),t):s.get(p)},find:function(p,m,g){var b=0,y=e.length,w,_,x,S,C;for(g==null?g=1/0:g*=g,b=0;b<y;++b)S=e[b],w=p-S.x,_=m-S.y,x=w*w+_*_,x<g&&(C=S,g=x);return C},on:function(p,m){return arguments.length>1?(u.on(p,m),t):u.on(p)}}}function ume(){var e,t,r,n,a=Va(-30),i,o=1,s=1/0,l=.81;function u(h){var v,p=e.length,m=kE(e,ame,ime).visitAfter(f);for(n=h,v=0;v<p;++v)t=e[v],m.visit(d)}function c(){if(e){var h,v=e.length,p;for(i=new Array(v),h=0;h<v;++h)p=e[h],i[p.index]=+a(p,h,e)}}function f(h){var v=0,p,m,g=0,b,y,w;if(h.length){for(b=y=w=0;w<4;++w)(p=h[w])&&(m=Math.abs(p.value))&&(v+=p.value,g+=m,b+=m*p.x,y+=m*p.y);h.x=b/g,h.y=y/g}else{p=h,p.x=p.data.x,p.y=p.data.y;do v+=i[p.data.index];while(p=p.next)}h.value=v}function d(h,v,p,m){if(!h.value)return!0;var g=h.x-t.x,b=h.y-t.y,y=m-v,w=g*g+b*b;if(y*y/l<w)return w<s&&(g===0&&(g=dc(r),w+=g*g),b===0&&(b=dc(r),w+=b*b),w<o&&(w=Math.sqrt(o*w)),t.vx+=g*h.value*n/w,t.vy+=b*h.value*n/w),!0;if(h.length||w>=s)return;(h.data!==t||h.next)&&(g===0&&(g=dc(r),w+=g*g),b===0&&(b=dc(r),w+=b*b),w<o&&(w=Math.sqrt(o*w)));do h.data!==t&&(y=i[h.data.index]*n/w,t.vx+=g*y,t.vy+=b*y);while(h=h.next)}return u.initialize=function(h,v){e=h,r=v,c()},u.strength=function(h){return arguments.length?(a=typeof h=="function"?h:Va(+h),c(),u):a},u.distanceMin=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.distanceMax=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function cme(e,t,r){var n,a=Va(.1),i,o;typeof e!="function"&&(e=Va(+e)),t==null&&(t=0),r==null&&(r=0);function s(u){for(var c=0,f=n.length;c<f;++c){var d=n[c],h=d.x-t||1e-6,v=d.y-r||1e-6,p=Math.sqrt(h*h+v*v),m=(o[c]-p)*i[c]*u/p;d.vx+=h*m,d.vy+=v*m}}function l(){if(n){var u,c=n.length;for(i=new Array(c),o=new Array(c),u=0;u<c;++u)o[u]=+e(n[u],u,n),i[u]=isNaN(o[u])?0:+a(n[u],u,n)}}return s.initialize=function(u){n=u,l()},s.strength=function(u){return arguments.length?(a=typeof u=="function"?u:Va(+u),l(),s):a},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Va(+u),l(),s):e},s.x=function(u){return arguments.length?(t=+u,s):t},s.y=function(u){return arguments.length?(r=+u,s):r},s}function fme(e){var t=Va(.1),r,n,a;typeof e!="function"&&(e=Va(e==null?0:+e));function i(s){for(var l=0,u=r.length,c;l<u;++l)c=r[l],c.vx+=(a[l]-c.x)*n[l]*s}function o(){if(r){var s,l=r.length;for(n=new Array(l),a=new Array(l),s=0;s<l;++s)n[s]=isNaN(a[s]=+e(r[s],s,r))?0:+t(r[s],s,r)}}return i.initialize=function(s){r=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Va(+s),o(),i):t},i.x=function(s){return arguments.length?(e=typeof s=="function"?s:Va(+s),o(),i):e},i}function dme(e){var t=Va(.1),r,n,a;typeof e!="function"&&(e=Va(e==null?0:+e));function i(s){for(var l=0,u=r.length,c;l<u;++l)c=r[l],c.vy+=(a[l]-c.y)*n[l]*s}function o(){if(r){var s,l=r.length;for(n=new Array(l),a=new Array(l),s=0;s<l;++s)n[s]=isNaN(a[s]=+e(r[s],s,r))?0:+t(r[s],s,r)}}return i.initialize=function(s){r=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:Va(+s),o(),i):t},i.y=function(s){return arguments.length?(e=typeof s=="function"?s:Va(+s),o(),i):e},i}const hme=Object.freeze(Object.defineProperty({__proto__:null,forceCenter:H0e,forceCollide:X0e,forceLink:Z0e,forceManyBody:ume,forceRadial:cme,forceSimulation:lme,forceX:fme,forceY:dme},Symbol.toStringTag,{value:"Module"})),eA=Nl(hme);var tA={},vme=ht&&ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pme=ht&&ht.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gme=ht&&ht.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vme(t,e,r);return pme(t,e),t};Object.defineProperty(tA,"__esModule",{value:!0});var qd=gme(eA),Oy=da();function mme(){function e(Y){return function(){return Y}}var t=function(Y){return Y.cluster},r=e(1),n=e(-1),a=e(100),i=e(.1),o=[0,0],s=[],l={},u=[],c=100,f=100,d={none:{x:0,y:0}},h=[],v,p="force",m=!0,g=.1;function b(Y){if(!m)return b;v.tick(),C();for(var ie=0,X=s.length,re=void 0,oe=Y*g;ie<X;++ie)re=s[ie],re.vx+=(d[t(re)].x-re.x)*oe,re.vy+=(d[t(re)].y-re.y)*oe}function y(){s&&w()}function w(){if(!(!s||!s.length)){if(t(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Y=_();v=qd.forceSimulation(Y.nodes).force("x",qd.forceX(c).strength(.1)).force("y",qd.forceY(f).strength(.1)).force("collide",qd.forceCollide(function(ie){return ie.r}).iterations(4)).force("charge",qd.forceManyBody().strength(n)).force("links",qd.forceLink(Y.nodes.length?Y.links:[]).distance(a).strength(i)),h=v.nodes(),C()}}function _(){var Y=[],ie=[],X={},re=[],oe={},Ne=[];return oe=x(s),Ne=S(u),re=Object.keys(oe),re.forEach(function(me,xe){var ze=oe[me];Y.push({id:me,size:ze.count,r:Math.sqrt(ze.sumforceNodeSize/Math.PI)}),X[me]=xe}),Ne.forEach(function(me){var xe=(0,Oy.getEdgeTerminal)(me,"source"),ze=(0,Oy.getEdgeTerminal)(me,"target"),te=X[xe],le=X[ze];te!==void 0&&le!==void 0&&ie.push({source:te,target:le,count:me.count})}),{nodes:Y,links:ie}}function x(Y){var ie={};return Y.forEach(function(X){var re=t(X);ie[re]||(ie[re]={count:0,sumforceNodeSize:0})}),Y.forEach(function(X){var re=t(X),oe=r(X),Ne=ie[re];Ne.count=Ne.count+1,Ne.sumforceNodeSize=Ne.sumforceNodeSize+Math.PI*(oe*oe)*1.3,ie[re]=Ne}),ie}function S(Y){var ie={},X=[];Y.forEach(function(oe){var Ne=T(oe),me=0;ie[Ne]!==void 0&&(me=ie[Ne]),me+=1,ie[Ne]=me});var re=Object.entries(ie);return re.forEach(function(oe){var Ne=oe[0],me=oe[1],xe=Ne.split("~")[0],ze=Ne.split("~")[1];xe!==void 0&&ze!==void 0&&X.push({source:xe,target:ze,count:me})}),X}function C(){return d={none:{x:0,y:0}},h.forEach(function(Y){d[Y.id]={x:Y.x-o[0],y:Y.y-o[1]}}),d}function T(Y){var ie=(0,Oy.getEdgeTerminal)(Y,"source"),X=(0,Oy.getEdgeTerminal)(Y,"target"),re=t(l[ie]),oe=t(l[X]);return re<=oe?"".concat(re,"~").concat(oe):"".concat(oe,"~").concat(re)}function M(Y){l={},Y.forEach(function(ie){l[ie.id]=ie})}function k(Y){return arguments.length?(p=Y,y(),b):p}function A(Y){return arguments.length?typeof Y=="string"?(t=function(ie){return ie[Y]},b):(t=Y,b):t}function O(Y){return arguments.length?(m=Y,b):m}function P(Y){return arguments.length?(g=Y,b):g}function R(Y){return arguments.length?(c=Y,b):c}function N(Y){return arguments.length?(f=Y,b):f}function L(Y){return arguments.length?(M(Y||[]),s=Y||[],b):s}function B(Y){return arguments.length?(u=Y||[],y(),b):u}function I(Y){return arguments.length?(typeof Y=="function"?r=Y:r=e(+Y),y(),b):r}function D(Y){return arguments.length?(typeof Y=="function"?n=Y:n=e(+Y),y(),b):n}function z(Y){return arguments.length?(typeof Y=="function"?a=Y:a=e(+Y),y(),b):a}function U(Y){return arguments.length?(typeof Y=="function"?i=Y:i=e(+Y),y(),b):i}function H(Y){return arguments.length?(o=Y,b):o}return b.initialize=function(Y){s=Y,y()},b.template=k,b.groupBy=A,b.enableGrouping=O,b.strength=P,b.centerX=R,b.centerY=N,b.nodes=L,b.links=B,b.forceNodeSize=I,b.nodeSize=b.forceNodeSize,b.forceCharge=D,b.forceLinkDistance=z,b.forceLinkStrength=U,b.offset=H,b.getFocis=C,b}tA.default=mme;var mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.FORCE_LAYOUT_TYPE_MAP=mu.LAYOUT_MESSAGE=void 0;mu.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};mu.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0};var yme=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bme=ht&&ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wme=ht&&ht.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Eme=ht&&ht.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bme(t,e,r);return wme(t,e),t},_me=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AE,"__esModule",{value:!0});AE.ForceLayout=void 0;var Zd=Eme(eA),xme=_me(tA),hf=da(),Sme=wa,Cme=mu,Mme=function(e){yme(t,e);function t(r){var n=e.call(this)||this;return n.center=[0,0],n.nodeStrength=null,n.edgeStrength=null,n.preventOverlap=!1,n.clusterNodeStrength=null,n.clusterEdgeStrength=null,n.clusterEdgeDistance=null,n.clusterNodeSize=null,n.clusterFociStrength=null,n.linkDistance=50,n.alphaDecay=.028,n.alphaMin=.001,n.alpha=.3,n.collideStrength=1,n.workerEnabled=!1,n.tick=function(){},n.onLayoutEnd=function(){},n.ticking=void 0,r&&n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},t.prototype.init=function(r){var n=this;n.nodes=r.nodes||[];var a=r.edges||[];n.edges=a.map(function(i){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(i).forEach(function(l){s.indexOf(l)>-1||(o[l]=i[l])}),o}),n.ticking=!1},t.prototype.execute=function(r){var n=this,a=n.nodes,i=n.edges;if(!n.ticking){var o=n.forceSimulation,s=n.alphaMin,l=n.alphaDecay,u=n.alpha;if(o){if(r){if(n.clustering&&n.clusterForce&&(n.clusterForce.nodes(a),n.clusterForce.links(i)),o.nodes(a),i&&n.edgeForce)n.edgeForce.links(i);else if(i&&!n.edgeForce){var d=Zd.forceLink().id(function(m){return m.id}).links(i);n.edgeStrength&&d.strength(n.edgeStrength),n.linkDistance&&d.distance(n.linkDistance),n.edgeForce=d,o.force("link",d)}}n.preventOverlap&&n.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0}else try{var c=Zd.forceManyBody();if(n.nodeStrength&&c.strength(n.nodeStrength),o=Zd.forceSimulation().nodes(a),n.clustering){var f=(0,xme.default)();f.centerX(n.center[0]).centerY(n.center[1]).template("force").strength(n.clusterFociStrength),i&&f.links(i),a&&f.nodes(a),f.forceLinkDistance(n.clusterEdgeDistance).forceLinkStrength(n.clusterEdgeStrength).forceCharge(n.clusterNodeStrength).forceNodeSize(n.clusterNodeSize),n.clusterForce=f,o.force("group",f)}if(o.force("center",Zd.forceCenter(n.center[0],n.center[1])).force("charge",c).alpha(u).alphaDecay(l).alphaMin(s),n.preventOverlap&&n.overlapProcess(o),i){var d=Zd.forceLink().id(function(p){return p.id}).links(i);n.edgeStrength&&d.strength(n.edgeStrength),n.linkDistance&&d.distance(n.linkDistance),n.edgeForce=d,o.force("link",d)}if(n.workerEnabled&&!kme()&&(n.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!n.workerEnabled)o.on("tick",function(){n.tick()}).on("end",function(){n.ticking=!1,n.onLayoutEnd&&n.onLayoutEnd()}),n.ticking=!0;else{o.stop();for(var h=Tme(o),v=1;v<=h;v++)o.tick(),postMessage({nodes:a,currentTick:v,totalTicks:h,type:Cme.LAYOUT_MESSAGE.TICK},void 0);n.ticking=!1}n.forceSimulation=o,n.ticking=!0}catch(p){n.ticking=!1,console.warn(p)}}},t.prototype.overlapProcess=function(r){var n=this,a=n.nodeSize,i=n.nodeSpacing,o,s,l=n.collideStrength;if((0,hf.isNumber)(i)?s=function(){return i}:(0,hf.isFunction)(i)?s=i:s=function(){return 0},!a)o=function(d){if(d.size){if((0,hf.isArray)(d.size)){var h=d.size[0]>d.size[1]?d.size[0]:d.size[1];return h/2+s(d)}if((0,hf.isObject)(d.size)){var h=d.size.width>d.size.height?d.size.width:d.size.height;return h/2+s(d)}return d.size/2+s(d)}return 10+s(d)};else if((0,hf.isFunction)(a))o=function(d){var h=a(d);return h+s(d)};else if((0,hf.isArray)(a)){var u=a[0]>a[1]?a[0]:a[1],c=u/2;o=function(d){return c+s(d)}}else if((0,hf.isNumber)(a)){var f=a/2;o=function(d){return f+s(d)}}else o=function(){return 10};r.force("collisionForce",Zd.forceCollide(o).strength(l))},t.prototype.updateCfg=function(r){var n=this;n.ticking&&(n.forceSimulation.stop(),n.ticking=!1),n.forceSimulation=null,Object.assign(n,r)},t.prototype.destroy=function(){var r=this;r.ticking&&(r.forceSimulation.stop(),r.ticking=!1),r.nodes=null,r.edges=null,r.destroyed=!0},t}(Sme.Base);AE.ForceLayout=Mme;function Tme(e){var t=e.alphaMin(),r=e.alphaTarget(),n=e.alpha(),a=Math.log((t-r)/(n-r))/Math.log(1-e.alphaDecay()),i=Math.ceil(a);return i}function kme(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}(function(e){var t=ht&&ht.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=ht&&ht.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(AE,e)})(Jk);var B0={},Ame=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(B0,"__esModule",{value:!0});B0.CircularLayout=void 0;var Ime=wa,gl=da();function Ome(e,t,r,n){e.forEach(function(a,i){e[i].children=[],e[i].parent=[]}),n?t.forEach(function(a){var i=(0,gl.getEdgeTerminal)(a,"source"),o=(0,gl.getEdgeTerminal)(a,"target"),s=0;i&&(s=r[i]);var l=0;o&&(l=r[o]);var u=e[s].children,c=e[l].parent;u.push(e[l].id),c.push(e[s].id)}):t.forEach(function(a){var i=(0,gl.getEdgeTerminal)(a,"source"),o=(0,gl.getEdgeTerminal)(a,"target"),s=0;i&&(s=r[i]);var l=0;o&&(l=r[o]);var u=e[s].children,c=e[l].children;u.push(e[l].id),c.push(e[s].id)})}function Lme(e,t,r){for(var n=r.length,a=0;a<n;a++){var i=(0,gl.getEdgeTerminal)(r[a],"source"),o=(0,gl.getEdgeTerminal)(r[a],"target");if(e.id===i&&t.id===o||t.id===i&&e.id===o)return!0}return!1}function Nme(e,t){var r=e.degree,n=t.degree;return r<n?-1:r>n?1:0}var Pme=function(e){Ame(t,e);function t(r){var n=e.call(this)||this;return n.radius=null,n.nodeSize=void 0,n.startRadius=null,n.endRadius=null,n.startAngle=0,n.endAngle=2*Math.PI,n.clockwise=!0,n.divisions=1,n.ordering=null,n.angleRatio=1,n.nodes=[],n.edges=[],n.nodeMap={},n.degrees=[],n.width=300,n.height=300,n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},t.prototype.execute=function(){var r,n=this,a=n.nodes,i=n.edges,o=a.length;if(o===0){n.onLayoutEnd&&n.onLayoutEnd();return}!n.width&&typeof window<"u"&&(n.width=window.innerWidth),!n.height&&typeof window<"u"&&(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var s=n.center;if(o===1){a[0].x=s[0],a[0].y=s[1],n.onLayoutEnd&&n.onLayoutEnd();return}var l=n.radius,u=n.startRadius,c=n.endRadius,f=n.divisions,d=n.startAngle,h=n.endAngle,v=n.angleRatio,p=n.ordering,m=n.clockwise,g=n.nodeSpacing,b=n.nodeSize,y=(h-d)/o,w={};a.forEach(function(N,L){w[N.id]=L}),n.nodeMap=w;var _=(0,gl.getDegree)(a.length,w,i);if(n.degrees=_,g){var x=(0,gl.getFuncByUnknownType)(10,g),S=(0,gl.getFuncByUnknownType)(10,b),C=-1/0;a.forEach(function(N){var L=S(N);C<L&&(C=L)});var T=0;a.forEach(function(N,L){L===0?T+=C||10:T+=(x(N)||0)+(C||10)}),l=T/(2*Math.PI)}else!l&&!u&&!c?l=n.height>n.width?n.width/2:n.height/2:!u&&c?u=c:u&&!c&&(c=u);var M=y*v,k=[];p==="topology"?k=n.topologyOrdering():p==="topology-directed"?k=n.topologyOrdering(!0):p==="degree"?k=n.degreeOrdering():k=a;for(var A=Math.ceil(o/f),O=0;O<o;++O){var P=l;!P&&u!==null&&c!==null&&(P=u+O*(c-u)/(o-1)),P||(P=10+O*100/(o-1));var R=d+O%A*M+2*Math.PI/f*Math.floor(O/A);m||(R=h-O%A*M-2*Math.PI/f*Math.floor(O/A)),k[O].x=s[0]+Math.cos(R)*P,k[O].y=s[1]+Math.sin(R)*P,k[O].weight=_[O].all}return(r=n.onLayoutEnd)===null||r===void 0||r.call(n),{nodes:k,edges:this.edges}},t.prototype.topologyOrdering=function(r){r===void 0&&(r=!1);var n=this,a=n.degrees,i=n.edges,o=n.nodes,s=(0,gl.clone)(o),l=n.nodeMap,u=[s[0]],c=[o[0]],f=[],d=o.length;f[0]=!0,Ome(s,i,l,r);var h=0;return s.forEach(function(v,p){if(p!==0)if((p===d-1||a[p].all!==a[p+1].all||Lme(u[h],v,i))&&!f[p])u.push(v),c.push(o[l[v.id]]),f[p]=!0,h++;else{for(var m=u[h].children,g=!1,b=0;b<m.length;b++){var y=l[m[b]];if(a[y].all===a[p].all&&!f[y]){u.push(s[y]),c.push(o[l[s[y].id]]),f[y]=!0,g=!0;break}}for(var w=0;!g&&(f[w]||(u.push(s[w]),c.push(o[l[s[w].id]]),f[w]=!0,g=!0),w++,w!==d););}}),c},t.prototype.degreeOrdering=function(){var r=this,n=r.nodes,a=[],i=r.degrees;return n.forEach(function(o,s){o.degree=i[s].all,a.push(o)}),a.sort(Nme),a},t.prototype.getType=function(){return"circular"},t}(Ime.Base);B0.CircularLayout=Pme;var Pv={},rA={},nA={},aA={},iA={},oA={};Object.defineProperty(oA,"__esModule",{value:!0});var Dme=function(e,t){if(e!=="next"&&e!=="prev")return t},Q3=function(e){e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev},Rme=function(){function e(){var t={};t.prev=t,t.next=t.prev,this.shortcut=t}return e.prototype.dequeue=function(){var t=this.shortcut,r=t.prev;if(r&&r!==t)return Q3(r),r},e.prototype.enqueue=function(t){var r=this.shortcut;t.prev&&t.next&&Q3(t),t.next=r.next,r.next.prev=t,r.next=t,t.prev=r},e.prototype.toString=function(){for(var t=[],r=this.shortcut,n=r.prev;n!==r;)t.push(JSON.stringify(n,Dme)),n=n==null?void 0:n.prev;return"[".concat(t.join(", "),"]")},e}();oA.default=Rme;var Ph;(function(e){e.DEFAULT_EDGE_NAME="\0",e.GRAPH_NODE="\0",e.EDGE_KEY_DELIM=""})(Ph||(Ph={}));function J3(e,t){var r=e.get(t)||0;e.set(t,r+1)}function eR(e,t){var r=e.get(t);r!==void 0&&(r=r-1,r>0?e.set(t,r):e.delete(t))}function a9(e,t,r,n){var a=String(t),i=String(r);if(!e&&a>i){var o=a;a=i,i=o}return a+Ph.EDGE_KEY_DELIM+i+Ph.EDGE_KEY_DELIM+(n===void 0?Ph.DEFAULT_EDGE_NAME:n)}function tR(e,t,r,n){var a=String(t),i=String(r),o={v:t,w:r};if(!e&&a>i){var s=o.v;o.v=o.w,o.w=s}return n!==void 0&&(o.name=n),o}function hx(e,t){return a9(e,t.v,t.w,t.name)}function rR(e){return typeof e=="function"}var $me=function(t){return t.nodes().map(function(r){var n=t.node(r),a=t.parent(r),i={id:r,value:n,parent:a};return i.value===void 0&&delete i.value,i.parent===void 0&&delete i.parent,i})},Bme=function(t){return t.edges().map(function(r){var n=t.edge(r),a={v:r.v,w:r.w,value:n,name:r.name};return a.name===void 0&&delete a.name,a.value===void 0&&delete a.value,a})},Fme=function(t){var r={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:$me(t),edges:Bme(t),value:t.graph()};return r.value===void 0&&delete r.value,r},zme=function(t){var r=new Ed(t.options);return t.value!==void 0&&r.setGraph(t.value),t.nodes.forEach(function(n){r.setNode(n.id,n.value),n.parent&&r.setParent(n.id,n.parent)}),t.edges.forEach(function(n){r.setEdge(n.v,n.w,n.value,n.name)}),r};function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){Gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gme(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ume(e,t,r){return t&&Vme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wme={compound:!1,multigraph:!1,directed:!0},Ed=function(){function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jme(this,e),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=Ph.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return t.directed},this.isMultigraph=function(){return t.multigraph},this.isCompound=function(){return t.compound},this.setGraph=function(a){return t.label=a,t},this.graph=function(){return t.label},this.setDefaultNodeLabel=function(a){return rR(a)?t.defaultNodeLabelFn=a:t.defaultNodeLabelFn=function(){return a},t},this.nodeCount=function(){return t.nodeCountNum},this.node=function(a){return t.nodesLabelMap.get(a)},this.nodes=function(){return Array.from(t.nodesLabelMap.keys())},this.sources=function(){return t.nodes().filter(function(a){var i;return!(!((i=t.inEdgesMap.get(a))===null||i===void 0)&&i.size)})},this.sinks=function(){return t.nodes().filter(function(a){var i;return!(!((i=t.outEdgesMap.get(a))===null||i===void 0)&&i.size)})},this.setNodes=function(a,i){return a.map(function(o){return t.setNode(o,i)}),t},this.hasNode=function(a){return t.nodesLabelMap.has(a)},this.checkCompound=function(){if(!t.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(a){if(t.isCompound()){var i,o=(i=t.parentMap)===null||i===void 0?void 0:i.get(a);if(o!==t.GRAPH_NODE)return o}},this.removeFromParentsChildList=function(a){var i=t.parentMap.get(a);t.childrenMap.get(i).delete(a)},this.setParent=function(a,i){var o,s;t.checkCompound();for(var l=i===void 0?t.GRAPH_NODE:i,u=t.parent(l);u;){if(a===u)throw new Error("Setting "+i+" as parent of "+a+" would create a cycle");u=t.parent(u)}i&&t.setNode(i),t.setNode(a),t.removeFromParentsChildList(a),(o=t.parentMap)===null||o===void 0||o.set(a,l);var c=t.childrenMap.get(l);return c.set(a,!0),(s=t.childrenMap)===null||s===void 0||s.set(l,c),t},this.children=function(a){var i=a===void 0?t.GRAPH_NODE:a;if(t.isCompound()){var o,s=(o=t.childrenMap)===null||o===void 0?void 0:o.get(i);return s?Array.from(s.keys()):void 0}if(i===t.GRAPH_NODE)return t.nodes();if(a&&t.hasNode(a))return[]},this.predecessors=function(a){var i=t.predecessorsMap.get(a);return i?Array.from(i.keys()):void 0},this.successors=function(a){var i=t.successorsMap.get(a);return i?Array.from(i.keys()):void 0},this.neighbors=function(a){var i;if(t.hasNode(a))return Array.from(new Set((i=t.predecessors(a))===null||i===void 0?void 0:i.concat(t.successors(a))))},this.isLeaf=function(a){var i;if(t.isDirected()){var o;return!(!((o=t.successors(a))===null||o===void 0)&&o.length)}return!(!((i=t.neighbors(a))===null||i===void 0)&&i.length)},this.filterNodes=function(a){var i=t.directed,o=t.multigraph,s=t.compound,l=new e({directed:i,multigraph:o,compound:s});if(l.setGraph(t.graph()),t.nodes().forEach(function(c){a(c)&&l.setNode(c,t.node(c))}),t.edges().forEach(function(c){l.hasNode(c.v)&&l.hasNode(c.w)&&l.setEdgeObj(c,t.edge(c))}),s){var u=function(f){for(var d=t.parent(f);d!==void 0&&!l.hasNode(d);)d=t.parent(d);return d};l.nodes().forEach(function(c){l.setParent(c,u(c))})}return l},this.setDefaultEdgeLabel=function(a){return rR(a)?t.defaultEdgeLabelFn=a:t.defaultEdgeLabelFn=function(){return a},t},this.edgeCount=function(){return t.edgeCountNum},this.setEdgeObj=function(a,i){return t.setEdge(a.v,a.w,i,a.name)},this.setPath=function(a,i){return a.reduce(function(o,s){return t.setEdge(o,s,i),s}),t},this.edgeFromArgs=function(a,i,o){return t.edge({v:a,w:i,name:o})},this.edge=function(a){return t.edgesLabelsMap.get(hx(t.isDirected(),a))},this.hasEdge=function(a,i,o){return t.edgesLabelsMap.has(hx(t.isDirected(),{v:a,w:i,name:o}))},this.removeEdgeObj=function(a){var i=a.v,o=a.w,s=a.name;return t.removeEdge(i,o,s)},this.edges=function(){return Array.from(t.edgesMap.values())},this.inEdges=function(a,i){var o=t.inEdgesMap.get(a);if(o)return Array.from(o.values()).filter(function(s){return!i||s.v===i})},this.outEdges=function(a,i){var o=t.outEdgesMap.get(a);if(o)return Array.from(o.values()).filter(function(s){return!i||s.w===i})},this.nodeEdges=function(a,i){var o;if(t.hasNode(a))return(o=t.inEdges(a,i))===null||o===void 0?void 0:o.concat(t.outEdges(a,i))},this.toJSON=function(){return Fme(t)},this.nodeInDegree=function(a){var i=t.inEdgesMap.get(a);return i?i.size:0},this.nodeOutDegree=function(a){var i=t.outEdgesMap.get(a);return i?i.size:0},this.nodeDegree=function(a){return t.nodeInDegree(a)+t.nodeOutDegree(a)},this.source=function(a){return a.v},this.target=function(a){return a.w};var n=aR(aR({},Wme),r);this.compound=n.compound,this.directed=n.directed,this.multigraph=n.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return Ume(e,[{key:"setNode",value:function(r,n){var a=this.nodesLabelMap,i=this.defaultNodeLabelFn,o=this.isCompound,s=this.parentMap,l=this.childrenMap,u=this.inEdgesMap,c=this.outEdgesMap,f=this.predecessorsMap,d=this.successorsMap;if(a.has(r))return n!==void 0&&a.set(r,n),this;if(a.set(r,n||i(r)),o()){var h;s==null||s.set(r,this.GRAPH_NODE),l==null||l.set(r,new Map),l!=null&&l.has(this.GRAPH_NODE)||l==null||l.set(this.GRAPH_NODE,new Map),l==null||(h=l.get(this.GRAPH_NODE))===null||h===void 0||h.set(r,!0)}return[u,c,f,d].forEach(function(v){return v.set(r,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(r){var n=this;if(this.hasNode(r)){var a=function(m){n.removeEdge(m.v,m.w,m.name)},i=this.inEdgesMap,o=this.outEdgesMap,s=this.predecessorsMap,l=this.successorsMap,u=this.nodesLabelMap;if(this.isCompound()){var c,f,d;this.removeFromParentsChildList(r),(c=this.parentMap)===null||c===void 0||c.delete(r),(f=this.children(r))===null||f===void 0||f.forEach(function(p){return n.setParent(p)}),(d=this.childrenMap)===null||d===void 0||d.delete(r)}var h=i.get(r),v=o.get(r);Array.from(h.values()).forEach(function(p){return a(p)}),Array.from(v.values()).forEach(function(p){return a(p)}),u.delete(r),i.delete(r),o.delete(r),s.delete(r),l.delete(r),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(r,n,a,i){var o,s,l=tR(this.isDirected(),r,n,i),u=hx(this.isDirected(),l),c=l.v,f=l.w;if(this.edgesLabelsMap.has(u))return this.edgesLabelsMap.set(u,a),this;if(i!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this.edgesLabelsMap.set(u,a||this.defaultEdgeLabelFn(c,f,i)),Object.freeze(l),this.edgesMap.set(u,l);var d=this.predecessorsMap.get(f),h=this.successorsMap.get(c);return J3(d,c),J3(h,f),(o=this.inEdgesMap.get(f))===null||o===void 0||o.set(u,l),(s=this.outEdgesMap.get(c))===null||s===void 0||s.set(u,l),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(r,n,a){var i=a9(this.isDirected(),r,n,a),o=this.edgesMap.get(i);if(o){var s=tR(this.isDirected(),r,n,a),l=s.v,u=s.w;this.edgesLabelsMap.delete(i),this.edgesMap.delete(i);var c=this.predecessorsMap.get(u),f=this.successorsMap.get(l);eR(c,l),eR(f,u),this.inEdgesMap.get(u).delete(i),this.outEdgesMap.get(l).delete(i),this.edgeCountNum-=1}return this}}]),e}();Ed.fromJSON=zme;function IC(e){"@babel/helpers - typeof";return IC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IC(e)}function Hme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kme(e,t,r){return t&&Yme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pf(){return typeof Reflect<"u"&&Reflect.get?Pf=Reflect.get:Pf=function(t,r,n){var a=Xme(t,r);if(a){var i=Object.getOwnPropertyDescriptor(a,r);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Pf.apply(this,arguments)}function Xme(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=au(e),e!==null););return e}function qme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OC(e,t)}function OC(e,t){return OC=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},OC(e,t)}function Zme(e){var t=eye();return function(){var n=au(e),a;if(t){var i=au(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Qme(this,a)}}function Qme(e,t){if(t&&(IC(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jme(e)}function Jme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function au(e){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},au(e)}var tye=function(e){qme(r,e);var t=Zme(r);function r(){var n;Hme(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=t.call.apply(t,[this].concat(i)),n.eventPool={},n}return Kme(r,[{key:"appendEvent",value:function(a,i){this.eventPool[a]||(this.eventPool[a]=[]),this.eventPool[a].push(i)}},{key:"removeEvent",value:function(a,i){if(this.eventPool[a]){var o=this.eventPool[a].indexOf(i);o>-1&&this.eventPool[a].splice(o,1)}}},{key:"emitEvent",value:function(a){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];this.eventPool[a]&&this.eventPool[a].forEach(function(l){l.apply(void 0,o)})}},{key:"setNode",value:function(a,i){return Pf(au(r.prototype),"setNode",this).call(this,a,i),this.emitEvent("nodeAdd",a,i),this}},{key:"removeNode",value:function(a){return Pf(au(r.prototype),"removeNode",this).call(this,a),this.emitEvent("nodeRemove",a),this}},{key:"setEdge",value:function(a,i,o,s){return Pf(au(r.prototype),"setEdge",this).call(this,a,i,o,s),this.emitEvent("edgeAdd",a,i,o,s),this}},{key:"removeEdge",value:function(a,i,o){return Pf(au(r.prototype),"removeEdge",this).call(this,a,i,o),this.emitEvent("edgeRemove",a,i,o),this}}]),r}(Ed);function rye(e,t,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i9=rye(function e(){var t=this;nye(this,e),this.arr=[],this.keyIndice=new Map,this.size=function(){return t.arr.length},this.keys=function(){return t.arr.map(function(r){return r.key})},this.has=function(r){return t.keyIndice.has(r)},this.priority=function(r){var n=t.keyIndice.get(r);if(n!==void 0)return t.arr[n].priority},this.swap=function(r,n){var a=t.arr,i=t.keyIndice,o=[a[r],a[n]],s=o[0],l=o[1];a[r]=l,a[n]=s,i.set(s.key,n),i.set(l.key,r)},this.innerDecrease=function(r){for(var n=t.arr,a=n[r].priority,i,o=r;o!==0;){var s;if(i=o>>1,((s=n[i])===null||s===void 0?void 0:s.priority)<a)break;t.swap(o,i),o=i}},this.heapify=function(r){var n=t.arr,a=r<<1,i=a+1,o=r;a<n.length&&(o=n[a].priority<n[o].priority?a:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==r&&(t.swap(r,o),t.heapify(o)))},this.min=function(){if(t.size()===0)throw new Error("Queue underflow");return t.arr[0].key},this.add=function(r,n){var a=t.keyIndice,i=t.arr;if(!a.has(r)){var o=i.length;return a.set(r,o),i.push({key:r,priority:n}),t.innerDecrease(o),!0}return!1},this.removeMin=function(){t.swap(0,t.arr.length-1);var r=t.arr.pop();return t.keyIndice.delete(r.key),t.heapify(0),r.key},this.decrease=function(r,n){if(!t.has(r))throw new Error("There's no key named ".concat(r));var a=t.keyIndice.get(r);if(n>t.arr[a].priority)throw new Error("New priority is greater than current priority.Key: ".concat(r," Old: + ").concat(t.arr[a].priority," New: ").concat(n));t.arr[a].priority=n,t.innerDecrease(a)}}),aye=function(t,r){var n=new Ed,a=new Map,i=new i9,o;function s(c){var f=c.v===o?c.w:c.v,d=i.priority(f);if(d!==void 0){var h=r(c);h<d&&(a.set(f,o),i.decrease(f,h))}}if(t.nodeCount()===0)return n;t.nodes().forEach(function(c){i.add(c,Number.POSITIVE_INFINITY),n.setNode(c)}),i.decrease(t.nodes()[0],0);for(var l=!1;i.size()>0;){var u;if(o=i.removeMin(),a.has(o))n.setEdge(o,a.get(o));else{if(l)throw new Error("Input graph is not connected: "+t.graph());l=!0}(u=t.nodeEdges(o))===null||u===void 0||u.forEach(s)}return n},iye=function(t){var r=new Set,n=[],a=t.nodes();return a.forEach(function(i){for(var o=[],s=[i];s.length>0;){var l=s.pop();if(!r.has(l)){var u,c;r.add(l),o.push(l),(u=t.successors(l))===null||u===void 0||u.forEach(function(f){return s.push(f)}),(c=t.predecessors(l))===null||c===void 0||c.forEach(function(f){return s.push(f)})}}o.length&&n.push(o)}),n},oye=function e(t,r,n,a,i,o){a.includes(r)||(a.push(r),n||o.push(r),i(r).forEach(function(s){return e(t,s,n,a,i,o)}),n&&o.push(r))},sA=function(t,r,n){var a=Array.isArray(r)?r:[r],i=function(u){return t.isDirected()?t.successors(u):t.neighbors(u)},o=[],s=[];return a.forEach(function(l){if(t.hasNode(l))oye(t,l,n==="post",s,i,o);else throw new Error("Graph does not have node: "+l)}),o};function sye(e,t){return fye(e)||cye(e,t)||uye(e,t)||lye()}function lye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uye(e,t){if(e){if(typeof e=="string")return iR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(e,t)}}function iR(e,t){t>e.length&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function fye(e){if(Array.isArray(e))return e}var dye=function(){return 1},o9=function(t,r,n,a){return hye(t,r,n||dye,a||function(i){return t.outEdges(i)})},hye=function(t,r,n,a){var i=new Map,o=new i9,s,l,u=function(d){var h=d.v!==s?d.v:d.w,v=i.get(h),p=n(d),m=l.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+p);m<v.distance&&(v.distance=m,v.predecessor=s,o.decrease(h,m))};for(t.nodes().forEach(function(f){var d=f===r?0:Number.POSITIVE_INFINITY;i.set(f,{distance:d}),o.add(f,d)});o.size()>0&&(s=o.removeMin(),l=i.get(s),!(l&&l.distance===Number.POSITIVE_INFINITY));)a(s).forEach(u);var c={};return Array.from(i.entries()).forEach(function(f){var d=sye(f,2),h=d[0],v=d[1];return c[String(h)]=v,c}),c},vye=function(t,r,n){var a={};return t.nodes().forEach(function(i){return a[String(i)]=o9(t,i,r,n),a}),a},s9=function(t){var r=0,n=[],a=new Map,i=[];function o(s){var l,u={onStack:!0,lowlink:r,index:r};if(a.set(s,u),r+=1,n.push(s),(l=t.successors(s))===null||l===void 0||l.forEach(function(h){var v;if(a.has(h)){if(!((v=a.get(h))===null||v===void 0)&&v.onStack){var m=a.get(h);u.lowlink=Math.min(u.lowlink,m.index)}}else{o(h);var p=a.get(h);u.lowlink=Math.min(u.lowlink,p.lowlink)}}),u.lowlink===u.index){var c=[],f;do{f=n.pop();var d=a.get(f);d.onStack=!1,c.push(f)}while(s!==f);i.push(c)}}return t.nodes().forEach(function(s){a.has(s)||o(s)}),i},pye=function(t){return s9(t).filter(function(r){return r.length>1||r.length===1&&t.hasEdge(r[0],r[0])})};function LC(e){"@babel/helpers - typeof";return LC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LC(e)}function gye(e,t,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function mye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function bye(e){var t=l9();return function(){var n=Kg(e),a;if(t){var i=Kg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return wye(this,a)}}function wye(e,t){if(t&&(LC(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eye(e)}function Eye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NC(e){var t=typeof Map=="function"?new Map:void 0;return NC=function(n){if(n===null||!_ye(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return R1(n,arguments,Kg(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Yg(a,n)},NC(e)}function R1(e,t,r){return l9()?R1=Reflect.construct:R1=function(a,i,o){var s=[null];s.push.apply(s,i);var l=Function.bind.apply(a,s),u=new l;return o&&Yg(u,o.prototype),u},R1.apply(null,arguments)}function l9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _ye(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Yg(e,t){return Yg=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Yg(e,t)}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}var PC=function(e){yye(r,e);var t=bye(r);function r(){return mye(this,r),t.apply(this,arguments)}return gye(r)}(NC(Error));function u9(e){var t=new Set,r=new Set,n=[];function a(i){if(r.has(i))throw new PC;if(!t.has(i)){var o;r.add(i),t.add(i),(o=e.predecessors(i))===null||o===void 0||o.forEach(a),r.delete(i),n.push(i)}}if(e.sinks().forEach(a),t.size!==e.nodeCount())throw new PC;return n}var xye=function(t){try{u9(t)}catch(r){if(r instanceof PC)return!1;throw r}return!0},Sye=function(t,r){return sA(t,r,"post")},Cye=function(t,r){return sA(t,r,"pre")},Mye=function(){return 1};function Tye(e,t,r){return kye(e,t||Mye,r||function(n){return e.outEdges(n)})}function kye(e,t,r){var n={},a=e.nodes();return a.forEach(function(i){var o=String(i);n[o]={},n[o][o]={distance:0},a.forEach(function(s){i!==s&&(n[o][String(s)]={distance:Number.POSITIVE_INFINITY})}),r(i).forEach(function(s){var l=s.v===i?s.w:s.v,u=t(s);n[o][String(l)]={distance:u,predecessor:i}})}),a.forEach(function(i){var o=String(i),s=n[o];a.forEach(function(l){var u=String(l),c=n[u];a.forEach(function(f){var d=String(f),h=c[o],v=s[d],p=c[d],m=h.distance+v.distance;m<p.distance&&(p.distance=m,p.predecessor=v.predecessor)})})}),n}const Aye=Object.freeze(Object.defineProperty({__proto__:null,components:iye,dfs:sA,dijkstra:o9,dijkstraAll:vye,findCycles:pye,floydWarshall:Tye,isAcyclic:xye,postorder:Sye,preorder:Cye,prim:aye,tarjan:s9,topsort:u9},Symbol.toStringTag,{value:"Module"}));var Iye=function(t,r){for(var n=t.nodes(),a=0;a<n.length;a++){var i=n[a];if(r.hasNode(i))return!0}return!1},c9=function(t,r){for(var n=t.edges(),a=0;a<n.length;a++){var i=n[a];if(r.hasEdge(i.v,i.w,i.name))return!0}return!1},f9=function(t,r){var n=t.nodes(),a=n.filter(function(i){return r.hasNode(i)});return a},d9=function(t,r){var n=t.edges(),a=n.filter(function(i){return r.hasEdge(i.v,i.w,i.name)});return a},h9=function(t,r){return t.isCompound()===r.isCompound()&&t.isDirected()===r.isDirected()&&t.isMultigraph()===r.isMultigraph()},IE=function(t,r){var n=f9(t,r);return n.length===t.nodes().length},lA=function(t,r){var n=d9(t,r);return n.length===t.edges().length},Oye=function(t,r){return h9(t,r)&&t.nodeCount()===r.nodeCount()&&IE(t,r)&&t.edgeCount()===r.edgeCount()&&lA(t,r)},Lye=function(t,r){return IE(t,r)&&lA(t,r)};function Nye(e,t){return $ye(e)||Rye(e,t)||Dye(e,t)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(e,t){if(e){if(typeof e=="string")return oR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(e,t)}}function oR(e,t){t>e.length&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function $ye(e){if(Array.isArray(e))return e}function Bye(e){return e instanceof Ed}function Zb(e){if(e.isMultigraph())return!1;for(var t=e.edges(),r=new Map,n=0;n<t.length;n++){var a=t[n];if(a.v===a.w)return!1;var i=[a.v,a.w].sort(),o=Nye(i,2),s=o[0],l=o[1],u="".concat(s,"-").concat(l);if(r.has(u))return!1;r.set(u,!0)}return!0}function Fye(e){return e.nodes().length===0}function zye(e){for(var t=e.edges(),r=0;r<t.length;r++){var n=t[r];if(n.v===n.w)return!0}return!1}const Gye=Object.freeze(Object.defineProperty({__proto__:null,hasSelfLoop:zye,isGraph:Bye,isNullGraph:Fye,isSimpleGraph:Zb},Symbol.toStringTag,{value:"Module"}));var jye=function(t,r){if(!Zb(t)||!Zb(r)||!IE(t,r)||c9(t,r))return!1;var n=t.nodeCount();return t.edgeCount()+r.edgeCount()===n*(n-1)/2};const Vye=Object.freeze(Object.defineProperty({__proto__:null,containAllSameEdges:lA,containAllSameNodes:IE,containSameEdges:c9,containSameNodes:Iye,getSameEdges:d9,getSameNodes:f9,isGraphComplement:jye,isGraphContainsAnother:Lye,isGraphOptionSame:h9,isGraphSame:Oye},Symbol.toStringTag,{value:"Module"}));var Uye=function(t){if(!Zb(t))return null;for(var r=t.nodeCount(),n=new Ed({compound:t.isCompound(),directed:t.isDirected(),multigraph:t.isMultigraph()}),a=t.nodes(),i=0;i<r;i++){var o=a[i];n.setNode(o,t.node(o));for(var s=i+1;s<r;s++){var l=a[s];t.hasEdge(o,l)||n.setEdge(o,l)}}return n};const Wye=Object.freeze(Object.defineProperty({__proto__:null,getGraphComplement:Uye},Symbol.toStringTag,{value:"Module"})),Hye=Object.freeze(Object.defineProperty({__proto__:null,Graph:Ed,GraphWithEvent:tye,algorithm:Aye,comparision:Vye,essence:Gye,generate:Wye},Symbol.toStringTag,{value:"Module"})),OE=Nl(Hye);var v9=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yye=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iA,"__esModule",{value:!0});var Kye=Yye(oA),Xye=OE,qye=function(e){v9(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Kye.default),Zye=function(e){v9(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Xye.Graph),Qye=function(){return 1},Jye=function(e,t){var r;if(e.nodeCount()<=1)return[];var n=t1e(e,t||Qye),a=e1e(n.graph,n.buckets,n.zeroIdx);return(r=a.map(function(i){return e.outEdges(i.v,i.w)}))===null||r===void 0?void 0:r.flat()},e1e=function(e,t,r){for(var n=[],a=t[t.length-1],i=t[0],o;e.nodeCount();){for(;o=i.dequeue();)vx(e,t,r,o);for(;o=a.dequeue();)vx(e,t,r,o);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){n=n.concat(vx(e,t,r,o,!0));break}}}return n},vx=function(e,t,r,n,a){var i,o,s=[];return(i=e.inEdges(n.v))===null||i===void 0||i.forEach(function(l){var u=e.edge(l),c=e.node(l.v);a&&s.push({v:l.v,w:l.w,in:0,out:0}),c.out===void 0&&(c.out=0),c.out-=u,DC(t,r,c)}),(o=e.outEdges(n.v))===null||o===void 0||o.forEach(function(l){var u=e.edge(l),c=l.w,f=e.node(c);f.in===void 0&&(f.in=0),f.in-=u,DC(t,r,f)}),e.removeNode(n.v),a?s:void 0},t1e=function(e,t){var r=new Zye,n=0,a=0;e.nodes().forEach(function(u){r.setNode(u,{v:u,in:0,out:0})}),e.edges().forEach(function(u){var c=r.edge(u)||0,f=(t==null?void 0:t(u))||1,d=c+f;r.setEdge(u.v,u.w,d),a=Math.max(a,r.node(u.v).out+=f),n=Math.max(n,r.node(u.w).in+=f)});for(var i=[],o=a+n+3,s=0;s<o;s++)i.push(new qye);var l=n+1;return r.nodes().forEach(function(u){DC(i,l,r.node(u))}),{buckets:i,zeroIdx:l,graph:r}},DC=function(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)};iA.default=Jye;var r1e=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aA,"__esModule",{value:!0});var n1e=r1e(iA),a1e=function(e){var t=function(n){return function(a){var i;return((i=n.edge(a))===null||i===void 0?void 0:i.weight)||1}},r=e.graph().acyclicer==="greedy"?(0,n1e.default)(e,t(e)):i1e(e);r==null||r.forEach(function(n){var a=e.edge(n);e.removeEdgeObj(n),a.forwardName=n.name,a.reversed=!0,e.setEdge(n.w,n.v,a,"rev-".concat(Math.random()))})},i1e=function(e){var t=[],r={},n={},a=function(i){var o;n[i]||(n[i]=!0,r[i]=!0,(o=e.outEdges(i))===null||o===void 0||o.forEach(function(s){r[s.w]?t.push(s):a(s.w)}),delete r[i])};return e.nodes().forEach(a),t},o1e=function(e){e.edges().forEach(function(t){var r=e.edge(t);if(r.reversed){e.removeEdgeObj(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})};aA.default={run:a1e,undo:o1e};var uA={},Po={},Su={},s1e=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Su,"__esModule",{value:!0});Su.Graph=void 0;var l1e=OE,u1e=function(e){s1e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(l1e.Graph);Su.Graph=u1e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.minBy=e.notime=e.time=e.partition=e.maxRank=e.addBorderNode=e.removeEmptyRanks=e.normalizeRanks=e.buildLayerMatrix=e.intersectRect=e.predecessorWeights=e.successorWeights=e.zipObject=e.asNonCompoundGraph=e.simplify=e.addDummyNode=void 0;var t=da(),r=Su,n=function(w,_){return Number(w)-Number(_)},a=function(w,_,x,S){var C;do C="".concat(S).concat(Math.random());while(w.hasNode(C));return x.dummy=_,w.setNode(C,x),C};e.addDummyNode=a;var i=function(w){var _=new r.Graph().setGraph(w.graph());return w.nodes().forEach(function(x){_.setNode(x,w.node(x))}),w.edges().forEach(function(x){var S=_.edgeFromArgs(x.v,x.w)||{weight:0,minlen:1},C=w.edge(x);_.setEdge(x.v,x.w,{weight:S.weight+C.weight,minlen:Math.max(S.minlen,C.minlen)})}),_};e.simplify=i;var o=function(w){var _=new r.Graph({multigraph:w.isMultigraph()}).setGraph(w.graph());return w.nodes().forEach(function(x){var S;!((S=w.children(x))===null||S===void 0)&&S.length||_.setNode(x,w.node(x))}),w.edges().forEach(function(x){_.setEdgeObj(x,w.edge(x))}),_};e.asNonCompoundGraph=o;var s=function(w,_){return w==null?void 0:w.reduce(function(x,S,C){return x[S]=_[C],x},{})};e.zipObject=s;var l=function(w){var _={};return w.nodes().forEach(function(x){var S,C={};(S=w.outEdges(x))===null||S===void 0||S.forEach(function(T){var M;C[T.w]=(C[T.w]||0)+(((M=w.edge(T))===null||M===void 0?void 0:M.weight)||0)}),_[x]=C}),_};e.successorWeights=l;var u=function(w){var _=w.nodes(),x=_.map(function(S){var C,T={};return(C=w.inEdges(S))===null||C===void 0||C.forEach(function(M){T[M.v]=(T[M.v]||0)+w.edge(M).weight}),T});return(0,e.zipObject)(_,x)};e.predecessorWeights=u;var c=function(w,_){var x=Number(w.x),S=Number(w.y),C=Number(_.x)-x,T=Number(_.y)-S,M=Number(w.width)/2,k=Number(w.height)/2;if(!C&&!T)return{x:0,y:0};var A,O;return Math.abs(T)*M>Math.abs(C)*k?(T<0&&(k=-k),A=k*C/T,O=k):(C<0&&(M=-M),A=M,O=M*T/C),{x:x+A,y:S+O}};e.intersectRect=c;var f=function(w){for(var _=[],x=(0,e.maxRank)(w)+1,S=0;S<x;S++)_.push([]);w.nodes().forEach(function(C){var T=w.node(C);if(T){var M=T.rank;M!==void 0&&_[M]&&_[M].push(C)}});for(var S=0;S<x;S++)_[S]=_[S].sort(function(T,M){var k,A;return n((k=w.node(T))===null||k===void 0?void 0:k.order,(A=w.node(M))===null||A===void 0?void 0:A.order)});return _};e.buildLayerMatrix=f;var d=function(w){var _=w.nodes().filter(function(S){var C;return((C=w.node(S))===null||C===void 0?void 0:C.rank)!==void 0}).map(function(S){return w.node(S).rank}),x=Math.min.apply(Math,_);w.nodes().forEach(function(S){var C=w.node(S);C.hasOwnProperty("rank")&&x!==1/0&&(C.rank-=x)})};e.normalizeRanks=d;var h=function(w){var _=w.nodes(),x=_.filter(function(O){var P;return((P=w.node(O))===null||P===void 0?void 0:P.rank)!==void 0}).map(function(O){return w.node(O).rank}),S=Math.min.apply(Math,x),C=[];_.forEach(function(O){var P,R=(((P=w.node(O))===null||P===void 0?void 0:P.rank)||0)-S;C[R]||(C[R]=[]),C[R].push(O)});for(var T=0,M=w.graph().nodeRankFactor||0,k=0;k<C.length;k++){var A=C[k];A===void 0?k%M!==0&&(T-=1):T&&(A==null||A.forEach(function(O){var P=w.node(O);P&&(P.rank=P.rank||0,P.rank+=T)}))}};e.removeEmptyRanks=h;var v=function(w,_,x,S){var C={width:0,height:0};return(0,t.isNumber)(x)&&(0,t.isNumber)(S)&&(C.rank=x,C.order=S),(0,e.addDummyNode)(w,"border",C,_)};e.addBorderNode=v;var p=function(w){var _;return w.nodes().forEach(function(x){var S,C=(S=w.node(x))===null||S===void 0?void 0:S.rank;C!==void 0&&(_===void 0||C>_)&&(_=C)}),_||(_=0),_};e.maxRank=p;var m=function(w,_){var x={lhs:[],rhs:[]};return w==null||w.forEach(function(S){_(S)?x.lhs.push(S):x.rhs.push(S)}),x};e.partition=m;var g=function(w,_){var x=Date.now();try{return _()}finally{console.log("".concat(w," time: ").concat(Date.now()-x,"ms"))}};e.time=g;var b=function(w,_){return _()};e.notime=b;var y=function(w,_){return w.reduce(function(x,S){var C=_(x),T=_(S);return C>T?S:x})};e.minBy=y})(Po);Object.defineProperty(uA,"__esModule",{value:!0});var c1e=Po,f1e=function(e){e.graph().dummyChains=[],e.edges().forEach(function(t){return d1e(e,t)})},d1e=function(e,t){var r=t.v,n=e.node(r).rank,a=t.w,i=e.node(a).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(i!==n+1){e.removeEdgeObj(t);var u=e.graph(),c,f,d;for(d=0,++n;n<i;++d,++n)s.points=[],f={edgeLabel:s,width:0,height:0,edgeObj:t,rank:n},c=(0,c1e.addDummyNode)(e,"edge",f,"_d"),n===l&&(f.width=s.width,f.height=s.height,f.dummy="edge-label",f.labelpos=s.labelpos),e.setEdge(r,c,{weight:s.weight},o),d===0&&(u.dummyChains||(u.dummyChains=[]),u.dummyChains.push(c)),r=c;e.setEdge(r,a,{weight:s.weight},o)}},h1e=function(e){var t;(t=e.graph().dummyChains)===null||t===void 0||t.forEach(function(r){var n=e.node(r),a=n.edgeLabel,i;n.edgeObj&&e.setEdgeObj(n.edgeObj,a);for(var o=r;n.dummy;)i=e.successors(o)[0],e.removeNode(o),a.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),o=i,n=e.node(o)})};uA.default={run:f1e,undo:h1e};var cA={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.slack=Ps.longestPathWithLayer=Ps.longestPath=void 0;var p9=function(e){var t,r={},n=function(a){var i,o=e.node(a);if(!o)return 0;if(r[a])return o.rank;r[a]=!0;var s;return(i=e.outEdges(a))===null||i===void 0||i.forEach(function(l){var u=n(l.w),c=e.edge(l).minlen,f=u-c;f&&(s===void 0||f<s)&&(s=f)}),s||(s=0),o.rank=s,s};(t=e.sources())===null||t===void 0||t.forEach(function(a){return n(a)})};Ps.longestPath=p9;var g9=function(e){var t,r={},n,a=function(s){var l,u=e.node(s);if(!u)return 0;if(r[s])return u.rank;r[s]=!0;var c;return(l=e.outEdges(s))===null||l===void 0||l.forEach(function(f){var d=a(f.w),h=e.edge(f).minlen,v=d-h;v&&(c===void 0||v<c)&&(c=v)}),c||(c=0),(n===void 0||c<n)&&(n=c),u.rank=c,c};(t=e.sources())===null||t===void 0||t.forEach(function(s){e.node(s)&&a(s)}),n===void 0&&(n=0);var i={},o=function(s,l){var u,c=e.node(s),f=isNaN(c.layer)?l:c.layer;(c.rank===void 0||c.rank<f)&&(c.rank=f),!i[s]&&(i[s]=!0,(u=e.outEdges(s))===null||u===void 0||u.map(function(d){o(d.w,f+e.edge(d).minlen)}))};e.nodes().forEach(function(s){var l=e.node(s);l&&(isNaN(l.layer)?l.rank-=n:o(s,l.layer))})};Ps.longestPathWithLayer=g9;var m9=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen};Ps.slack=m9;Ps.default={longestPath:p9,longestPathWithLayer:g9,slack:m9};var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.feasibleTreeWithLayer=Ic.feasibleTree=void 0;var id=Ps,v1e=Po,y9=Su,b9=function(e){var t=new y9.Graph({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var a,i;p1e(t,e)<n;)a=E9(t,e),i=t.hasNode(a.v)?(0,id.slack)(e,a):-(0,id.slack)(e,a),_9(t,e,i);return t};Ic.feasibleTree=b9;var p1e=function(e,t){var r=function(n){t.nodeEdges(n).forEach(function(a){var i=a.v,o=n===i?a.w:i;!e.hasNode(o)&&!(0,id.slack)(t,a)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})};return e.nodes().forEach(r),e.nodeCount()},w9=function(e){var t=new y9.Graph({directed:!1}),r=e.nodes()[0],n=e.nodes().filter(function(o){return!!e.node(o)}).length;t.setNode(r,{});for(var a,i;g1e(t,e)<n;)a=E9(t,e),i=t.hasNode(a.v)?(0,id.slack)(e,a):-(0,id.slack)(e,a),_9(t,e,i);return t};Ic.feasibleTreeWithLayer=w9;var g1e=function(e,t){var r=function(n){var a;(a=t.nodeEdges(n))===null||a===void 0||a.forEach(function(i){var o=i.v,s=n===o?i.w:o;!e.hasNode(s)&&(t.node(s).layer!==void 0||!(0,id.slack)(t,i))&&(e.setNode(s,{}),e.setEdge(n,s,{}),r(s))})};return e.nodes().forEach(r),e.nodeCount()},E9=function(e,t){return(0,v1e.minBy)(t.edges(),function(r){return e.hasNode(r.v)!==e.hasNode(r.w)?(0,id.slack)(t,r):1/0})},_9=function(e,t,r){e.nodes().forEach(function(n){t.node(n).rank||(t.node(n).rank=0),t.node(n).rank+=r})};Ic.default={feasibleTree:b9,feasibleTreeWithLayer:w9};var x9={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.exchangeEdges=e.enterEdge=e.leaveEdge=e.initLowLimValues=e.calcCutValue=e.initCutValues=void 0;var t=Ic,r=Ps,n=Po,a=OE,i=a.algorithm.preorder,o=a.algorithm.postorder,s=function(y){var w=(0,n.simplify)(y);(0,r.longestPath)(w);var _=(0,t.feasibleTree)(w);(0,e.initLowLimValues)(_),(0,e.initCutValues)(_,w);for(var x,S;x=(0,e.leaveEdge)(_);)S=(0,e.enterEdge)(_,w,x),(0,e.exchangeEdges)(_,w,x,S)},l=function(y,w){var _=o(y,y.nodes());_=_==null?void 0:_.slice(0,(_==null?void 0:_.length)-1),_==null||_.forEach(function(x){u(y,w,x)})};e.initCutValues=l;var u=function(y,w,_){var x=y.node(_),S=x.parent;y.edgeFromArgs(_,S).cutvalue=(0,e.calcCutValue)(y,w,_)},c=function(y,w,_){var x,S=y.node(_),C=S.parent,T=!0,M=w.edgeFromArgs(_,C),k=0;return M||(T=!1,M=w.edgeFromArgs(C,_)),k=M.weight,(x=w.nodeEdges(_))===null||x===void 0||x.forEach(function(A){var O=A.v===_,P=O?A.w:A.v;if(P!==C){var R=O===T,N=w.edge(A).weight;if(k+=R?N:-N,g(y,_,P)){var L=y.edgeFromArgs(_,P).cutvalue;k+=R?-L:L}}}),k};e.calcCutValue=c;var f=function(y,w){w===void 0&&(w=y.nodes()[0]),d(y,{},1,w)};e.initLowLimValues=f;var d=function(y,w,_,x,S){var C,T=_,M=_,k=y.node(x);return w[x]=!0,(C=y.neighbors(x))===null||C===void 0||C.forEach(function(A){w[A]||(M=d(y,w,M,A,x))}),k.low=T,k.lim=M++,S?k.parent=S:delete k.parent,M},h=function(y){return y.edges().find(function(w){return y.edge(w).cutvalue<0})};e.leaveEdge=h;var v=function(y,w,_){var x=_.v,S=_.w;w.hasEdge(x,S)||(x=_.w,S=_.v);var C=y.node(x),T=y.node(S),M=C,k=!1;C.lim>T.lim&&(M=T,k=!0);var A=w.edges().filter(function(O){return k===b(y,y.node(O.v),M)&&k!==b(y,y.node(O.w),M)});return(0,n.minBy)(A,function(O){return(0,r.slack)(w,O)})};e.enterEdge=v;var p=function(y,w,_,x){var S=_.v,C=_.w;y.removeEdge(S,C),y.setEdge(x.v,x.w,{}),(0,e.initLowLimValues)(y),(0,e.initCutValues)(y,w),m(y,w)};e.exchangeEdges=p;var m=function(y,w){var _=y.nodes().find(function(S){var C;return!(!((C=w.node(S))===null||C===void 0)&&C.parent)}),x=i(y,_);x=x==null?void 0:x.slice(1),x==null||x.forEach(function(S){var C=y.node(S).parent,T=w.edgeFromArgs(S,C),M=!1;T||(T=w.edgeFromArgs(C,S),M=!0),w.node(S).rank=w.node(C).rank+(M?T.minlen:-T.minlen)})},g=function(y,w,_){return y.hasEdge(w,_)},b=function(y,w,_){return _.low<=w.lim&&w.lim<=_.lim};e.default=s})(x9);var m1e=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cA,"__esModule",{value:!0});var S9=Ps,y1e=Ic,b1e=m1e(x9),w1e=function(e){switch(e.graph().ranker){case"network-simplex":_1e(e);break;case"tight-tree":sR(e);break;case"longest-path":E1e(e);break;default:sR(e)}},E1e=S9.longestPath,sR=function(e){(0,S9.longestPathWithLayer)(e),(0,y1e.feasibleTreeWithLayer)(e)},_1e=function(e){(0,b1e.default)(e)};cA.default=w1e;var fA={};Object.defineProperty(fA,"__esModule",{value:!0});var x1e=function(e){var t,r={},n=0,a=function(i){var o,s=n;(o=e.children(i))===null||o===void 0||o.forEach(a),r[i]={low:s,lim:n++}};return(t=e.children())===null||t===void 0||t.forEach(a),r},S1e=function(e,t,r,n){var a=[],i=[],o=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim),l,u;l=r;do l=e.parent(l),a.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(u=l,l=n;l&&l!==u;)i.push(l),l=e.parent(l);return{lca:u,path:a.concat(i.reverse())}},C1e=function(e){var t,r=x1e(e);(t=e.graph().dummyChains)===null||t===void 0||t.forEach(function(n){var a,i,o=n,s=e.node(o),l=s.edgeObj;if(l)for(var u=S1e(e,r,l.v,l.w),c=u.path,f=u.lca,d=0,h=c[d],v=!0;o!==l.w;){if(s=e.node(o),v){for(;h!==f&&((a=e.node(h))===null||a===void 0?void 0:a.maxRank)<s.rank;)d++,h=c[d];h===f&&(v=!1)}if(!v){for(;d<c.length-1&&((i=e.node(c[d+1]))===null||i===void 0?void 0:i.minRank)<=s.rank;)d++;h=c[d]}e.setParent(o,h),o=e.successors(o)[0]}})};fA.default=C1e;var dA={};Object.defineProperty(dA,"__esModule",{value:!0});var RC=Po,M1e=function(e){var t,r=(0,RC.addDummyNode)(e,"root",{},"_root"),n=T1e(e),a=Math.max.apply(Math,Object.values(n));Math.abs(a)===1/0&&(a=1);var i=a-1,o=2*i+1;e.graph().nestingRoot=r,e.edges().forEach(function(l){e.edge(l).minlen*=o});var s=k1e(e)+1;(t=e.children())===null||t===void 0||t.forEach(function(l){C9(e,r,o,s,i,n,l)}),e.graph().nodeRankFactor=o},C9=function(e,t,r,n,a,i,o){var s=e.children(o);if(!(s!=null&&s.length)){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var l=(0,RC.addBorderNode)(e,"_bt"),u=(0,RC.addBorderNode)(e,"_bb"),c=e.node(o);e.setParent(l,o),c.borderTop=l,e.setParent(u,o),c.borderBottom=u,s==null||s.forEach(function(f){C9(e,t,r,n,a,i,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,v=d.borderBottom?d.borderBottom:f,p=d.borderTop?n:2*n,m=h!==v?1:a-i[o]+1;e.setEdge(l,h,{minlen:m,weight:p,nestingEdge:!0}),e.setEdge(v,u,{minlen:m,weight:p,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:a+i[o]})},T1e=function(e){var t,r={},n=function(a,i){var o=e.children(a);o==null||o.forEach(function(s){return n(s,i+1)}),r[a]=i};return(t=e.children())===null||t===void 0||t.forEach(function(a){return n(a,1)}),r},k1e=function(e){var t=0;return e.edges().forEach(function(r){t+=e.edge(r).weight}),t},A1e=function(e){var t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdgeObj(r)})};dA.default={run:M1e,cleanup:A1e};var hA={};Object.defineProperty(hA,"__esModule",{value:!0});var I1e=Po,O1e=function(e){var t,r=function(n){var a=e.children(n),i=e.node(n);if(a!=null&&a.length&&a.forEach(function(l){return r(l)}),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;o+=1)lR(e,"borderLeft","_bl",n,i,o),lR(e,"borderRight","_br",n,i,o)}};(t=e.children())===null||t===void 0||t.forEach(function(n){return r(n)})},lR=function(e,t,r,n,a,i){var o={rank:i,borderType:t,width:0,height:0},s=a[t][i-1],l=(0,I1e.addDummyNode)(e,"border",o,r);a[t][i]=l,e.setParent(l,n),s&&e.setEdge(s,l,{weight:1})};hA.default=O1e;var vA={};Object.defineProperty(vA,"__esModule",{value:!0});var L1e=function(e){var t,r=(t=e.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(r==="lr"||r==="rl")&&M9(e)},N1e=function(e){var t,r=(t=e.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(r==="bt"||r==="rl")&&P1e(e),(r==="lr"||r==="rl")&&(D1e(e),M9(e))},M9=function(e){e.nodes().forEach(function(t){uR(e.node(t))}),e.edges().forEach(function(t){uR(e.edge(t))})},uR=function(e){var t=e.width;e.width=e.height,e.height=t},P1e=function(e){e.nodes().forEach(function(t){px(e.node(t))}),e.edges().forEach(function(t){var r,n=e.edge(t);(r=n.points)===null||r===void 0||r.forEach(function(a){return px(a)}),n.hasOwnProperty("y")&&px(n)})},px=function(e){e!=null&&e.y&&(e.y=-e.y)},D1e=function(e){e.nodes().forEach(function(t){gx(e.node(t))}),e.edges().forEach(function(t){var r,n=e.edge(t);(r=n.points)===null||r===void 0||r.forEach(function(a){return gx(a)}),n.hasOwnProperty("x")&&gx(n)})},gx=function(e){var t=e.x;e.x=e.y,e.y=t};vA.default={adjust:L1e,undo:N1e};var pA={},gA={};function T9(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}function mx(e){var t=Math.round(e).toString(16);return t.length===1?"0"+t:t}function k9(e){return"#"+mx(e[0])+mx(e[1])+mx(e[2])}var so=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},R1e=function(e,t){return so(e)?e.indexOf(t)>-1:!1};const Qb=R1e;var A9=function(e,t){if(!so(e))return e;for(var r=[],n=0;n<e.length;n++){var a=e[n];t(a,n)&&r.push(a)}return r},$1e=function(e,t){return t===void 0&&(t=[]),A9(e,function(r){return!Qb(t,r)})};const B1e=$1e,Do=function(e){return typeof e=="function"};var Uc=function(e){return e==null},F1e={}.toString,Pl=function(e,t){return F1e.call(e)==="[object "+t+"]"};const ka=function(e){return Array.isArray?Array.isArray(e):Pl(e,"Array")},LE=function(e){var t=typeof e;return e!==null&&t==="object"||t==="function"};function nv(e,t){if(e){var r;if(ka(e))for(var n=0,a=e.length;n<a&&(r=t(e[n],n),r!==!1);n++);else if(LE(e)){for(var i in e)if(e.hasOwnProperty(i)&&(r=t(e[i],i),r===!1))break}}}var z1e=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return nv(e,function(r,n){Do(e)&&n==="prototype"||t.push(n)}),t};const I9=z1e;function O9(e,t){var r=I9(t),n=r.length;if(Uc(e))return!n;for(var a=0;a<n;a+=1){var i=r[a];if(t[i]!==e[i]||!(i in e))return!1}return!0}var G1e=function(e){return typeof e=="object"&&e!==null};const Jb=G1e;var j1e=function(e){if(!Jb(e)||!Pl(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};const av=j1e;function V1e(e,t){if(!ka(e))return null;var r;if(Do(t)&&(r=t),av(t)&&(r=function(a){return O9(a,t)}),r){for(var n=0;n<e.length;n+=1)if(r(e[n]))return e[n]}return null}function U1e(e,t,r){r===void 0&&(r=0);for(var n=r;n<e.length;n++)if(t(e[n],n))return n;return-1}var W1e=function(e,t){for(var r=null,n=0;n<e.length;n++){var a=e[n],i=a[t];if(!Uc(i)){ka(i)?r=i[0]:r=i;break}}return r};const H1e=W1e;var Y1e=function(e){if(!ka(e))return[];for(var t=[],r=0;r<e.length;r++)t=t.concat(e[r]);return t};const K1e=Y1e;var L9=function(e,t){if(t===void 0&&(t=[]),!ka(e))t.push(e);else for(var r=0;r<e.length;r+=1)L9(e[r],t);return t};const X1e=L9,N9=function(e){if(ka(e))return e.reduce(function(t,r){return Math.max(t,r)},e[0])},P9=function(e){if(ka(e))return e.reduce(function(t,r){return Math.min(t,r)},e[0])};var q1e=function(e){var t=e.filter(function(o){return!isNaN(o)});if(!t.length)return{min:0,max:0};if(ka(e[0])){for(var r=[],n=0;n<e.length;n++)r=r.concat(e[n]);t=r}var a=N9(t),i=P9(t);return{min:i,max:a}};const Z1e=q1e;var D9=Array.prototype,Q1e=D9.splice,J1e=D9.indexOf,ebe=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++)for(var a=t[n],i=-1;(i=J1e.call(e,a))>-1;)Q1e.call(e,i,1);return e};const tbe=ebe;var rbe=Array.prototype.splice,nbe=function(t,r){if(!so(t))return[];for(var n=t?r.length:0,a=n-1;n--;){var i=void 0,o=r[n];(n===a||o!==i)&&(i=o,rbe.call(t,o,1))}return t};const R9=nbe;var abe=function(e,t,r){if(!ka(e)&&!av(e))return e;var n=r;return nv(e,function(a,i){n=t(n,a,i)}),n};const $9=abe;var ibe=function(e,t){var r=[];if(!so(e))return r;for(var n=-1,a=[],i=e.length;++n<i;){var o=e[n];t(o,n,e)&&(r.push(o),a.push(n))}return R9(e,a),r};const obe=ibe,Oc=function(e){return Pl(e,"String")};function sbe(e,t){var r;if(Do(t))r=function(a,i){return t(a)-t(i)};else{var n=[];Oc(t)?n.push(t):ka(t)&&(n=t),r=function(a,i){for(var o=0;o<n.length;o+=1){var s=n[o];if(a[s]>i[s])return 1;if(a[s]<i[s])return-1}return 0}}return e.sort(r),e}function B9(e,t){t===void 0&&(t=new Map);var r=[];if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++){var i=e[n];t.has(i)||(r.push(i),t.set(i,!0))}return r}var lbe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return B9([].concat.apply([],e))};const ube=lbe,cbe=function(e,t){for(var r=[],n={},a=0;a<e.length;a++){var i=e[a],o=i[t];if(!Uc(o)){ka(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];n[l]||(r.push(l),n[l]=!0)}}}return r};function fbe(e){if(so(e))return e[0]}function dbe(e){if(so(e)){var t=e;return t[t.length-1]}}function hbe(e,t){return ka(e)||Oc(e)?e[0]===t:!1}function vbe(e,t){return ka(e)||Oc(e)?e[e.length-1]===t:!1}var pbe=function(e,t){for(var r=0;r<e.length;r++)if(!t(e[r],r))return!1;return!0};const gbe=pbe;var mbe=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r))return!0;return!1};const ybe=mbe;var bbe=Object.prototype.hasOwnProperty;function F9(e,t){if(!t||!ka(e))return{};for(var r={},n=Do(t)?t:function(s){return s[t]},a,i=0;i<e.length;i++){var o=e[i];a=n(o),bbe.call(r,a)?r[a].push(o):r[a]=[o]}return r}function z9(e,t){if(!t)return{0:e};if(!Do(t)){var r=ka(t)?t:t.replace(/\s+/g,"").split("*");t=function(n){for(var a="_",i=0,o=r.length;i<o;i++)a+=n[r[i]]&&n[r[i]].toString();return a}}return F9(e,t)}const wbe=function(e,t){if(!t)return[e];var r=z9(e,t),n=[];for(var a in r)n.push(r[a]);return n};function Ebe(e,t){return e["_wrap_"+t]}function _be(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var r=function(n){e[t](n)};return e["_wrap_"+t]=r,r}var cR={};function xbe(e){var t=cR[e];if(!t){for(var r=e.toString(16),n=r.length;n<6;n++)r="0"+r;t="#"+r,cR[e]=t}return t}function Sbe(e){var t=0,r=0,n=0,a=0;return ka(e)?e.length===1?t=r=n=a=e[0]:e.length===2?(t=n=e[0],r=a=e[1]):e.length===3?(t=e[0],r=a=e[1],n=e[2]):(t=e[0],r=e[1],n=e[2],a=e[3]):t=r=n=a=e,{r1:t,r2:r,r3:n,r4:a}}var Cbe=function(e,t,r){return e<t?t:e>r?r:e};const Mbe=Cbe;var Tbe=function(e,t){var r=t.toString(),n=r.indexOf(".");if(n===-1)return Math.round(e);var a=r.substr(n+1).length;return a>20&&(a=20),parseFloat(e.toFixed(a))};const kbe=Tbe;var Cu=function(e){return Pl(e,"Number")},Abe=function(e){return Cu(e)&&e%1!==0};const Ibe=Abe;var Obe=function(e){return Cu(e)&&e%2===0};const Lbe=Obe;var Nbe=Number.isInteger?Number.isInteger:function(e){return Cu(e)&&e%1===0};const Pbe=Nbe;var Dbe=function(e){return Cu(e)&&e<0};const Rbe=Dbe;var $be=1e-5;function Bbe(e,t,r){return r===void 0&&(r=$be),Math.abs(e-t)<r}var Fbe=function(e){return Cu(e)&&e%2!==0};const zbe=Fbe;var Gbe=function(e){return Cu(e)&&e>0};const jbe=Gbe,Vbe=function(e,t){if(ka(e)){for(var r,n=-1/0,a=0;a<e.length;a++){var i=e[a],o=Do(t)?t(i):i[t];o>n&&(r=i,n=o)}return r}},Ube=function(e,t){if(ka(e)){for(var r,n=1/0,a=0;a<e.length;a++){var i=e[a],o=Do(t)?t(i):i[t];o<n&&(r=i,n=o)}return r}};var Wbe=function(e,t){return(e%t+t)%t};const Hbe=Wbe;var Ybe=180/Math.PI,Kbe=function(e){return Ybe*e};const Xbe=Kbe,qbe=parseInt;var Zbe=Math.PI/180,Qbe=function(e){return Zbe*e};const Jbe=Qbe,fR=function(e,t){return e.hasOwnProperty(t)};var G9=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return nv(e,function(r,n){Do(e)&&n==="prototype"||t.push(r)}),t};const ewe=function(e,t){return Qb(G9(e),t)},F0=function(e){return Uc(e)?"":e.toString()};var twe=function(e){return F0(e).toLowerCase()};const rwe=twe;var nwe=function(e){var t=F0(e);return t.charAt(0).toLowerCase()+t.substring(1)};const awe=nwe;function iwe(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){return r.charAt(0)==="\\"?r.slice(1):t[n]===void 0?"":t[n]})}var owe=function(e){return F0(e).toUpperCase()};const swe=owe;var lwe=function(e){var t=F0(e);return t.charAt(0).toUpperCase()+t.substring(1)};const uwe=lwe;var cwe={}.toString,fwe=function(e){return cwe.call(e).replace(/^\[object /,"").replace(/]$/,"")};const j9=fwe;var dwe=function(e){return Pl(e,"Arguments")};const hwe=dwe;var vwe=function(e){return Pl(e,"Boolean")};const pwe=vwe;var gwe=function(e){return Pl(e,"Date")};const mwe=gwe;var ywe=function(e){return Pl(e,"Error")};const bwe=ywe;function wwe(e){return Cu(e)&&isFinite(e)}var Ewe=function(e){return e===null};const _we=Ewe;var xwe=Object.prototype,Swe=function(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xwe;return e===r};const V9=Swe;var Cwe=function(e){return Pl(e,"RegExp")};const Mwe=Cwe;var Twe=function(e){return e===void 0};const kwe=Twe;var Awe=function(e){return e instanceof Element||e instanceof Document};const Iwe=Awe;function Owe(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return setTimeout(r,16)};return t(e)}function Lwe(e){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;t(e)}function yx(e,t){for(var r in t)t.hasOwnProperty(r)&&r!=="constructor"&&t[r]!==void 0&&(e[r]=t[r])}function Dh(e,t,r,n){return t&&yx(e,t),r&&yx(e,r),n&&yx(e,n),e}var Nwe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0],n=1;n<e.length;n++){var a=e[n];Do(a)&&(a=a.prototype),Dh(r.prototype,a)}};const Pwe=Nwe;var $C=function(e){if(typeof e!="object"||e===null)return e;var t;if(ka(e)){t=[];for(var r=0,n=e.length;r<n;r++)typeof e[r]=="object"&&e[r]!=null?t[r]=$C(e[r]):t[r]=e[r]}else{t={};for(var a in e)typeof e[a]=="object"&&e[a]!=null?t[a]=$C(e[a]):t[a]=e[a]}return t};const Dwe=$C;function Rwe(e,t,r){var n;return function(){var a=this,i=arguments,o=function(){n=null,r||e.apply(a,i)},s=r&&!n;clearTimeout(n),n=setTimeout(o,t),s&&e.apply(a,i)}}function $we(e){var t,r,n,a=e||1;function i(s,l){++t>a&&(n=r,o(1),++t),r[s]=l}function o(s){t=0,r=Object.create(null),s||(n=Object.create(null))}return o(),{clear:o,has:function(s){return r[s]!==void 0||n[s]!==void 0},get:function(s){var l=r[s];if(l!==void 0)return l;if((l=n[s])!==void 0)return i(s,l),l},set:function(s,l){r[s]!==void 0?r[s]=l:i(s,l)}}}const U9=function(e,t,r){if(r===void 0&&(r=128),!Do(e))throw new TypeError("Expected a function");var n=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var o=t?t.apply(this,a):a[0],s=n.cache;if(s.has(o))return s.get(o);var l=e.apply(this,a);return s.set(o,l),l};return n.cache=$we(r),n};var Bwe=5;function Fwe(e,t){if(Object.hasOwn)return Object.hasOwn(e,t);if(e==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(e),t)}function W9(e,t,r,n){r=r||0,n=n||Bwe;for(var a in t)if(Fwe(t,a)){var i=t[a];i!==null&&av(i)?(av(e[a])||(e[a]={}),r<n?W9(e[a],i,r+1,n):e[a]=t[a]):ka(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var zwe=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n+=1)W9(e,t[n]);return e};const Gwe=zwe;var jwe=function(e,t,r,n){Do(t)||(r=t,t=e,e=function(){});var a=Object.create?function(o,s){return Object.create(o,{constructor:{value:s}})}:function(o,s){function l(){}l.prototype=o;var u=new l;return u.constructor=s,u},i=a(t.prototype,e);return e.prototype=Dh(i,e.prototype),e.superclass=a(t.prototype,t),Dh(i,r),Dh(e,n),e};const Vwe=jwe;var Uwe=function(e,t){if(!so(e))return-1;var r=Array.prototype.indexOf;if(r)return r.call(e,t);for(var n=-1,a=0;a<e.length;a++)if(e[a]===t){n=a;break}return n};const Wwe=Uwe;var Hwe=Object.prototype.hasOwnProperty;function Ywe(e){if(Uc(e))return!0;if(so(e))return!e.length;var t=j9(e);if(t==="Map"||t==="Set")return!e.size;if(V9(e))return!Object.keys(e).length;for(var r in e)if(Hwe.call(e,r))return!1;return!0}var BC=function(e,t){if(e===t)return!0;if(!e||!t||Oc(e)||Oc(t))return!1;if(so(e)||so(t)){if(e.length!==t.length)return!1;for(var r=!0,n=0;n<e.length&&(r=BC(e[n],t[n]),!!r);n++);return r}if(Jb(e)||Jb(t)){var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var r=!0,n=0;n<a.length&&(r=BC(e[a[n]],t[a[n]]),!!r);n++);return r}return!1};const H9=BC,Kwe=function(e,t,r){return Do(r)?!!r(e,t):H9(e,t)};var Xwe=function(e,t){if(!so(e))return e;for(var r=[],n=0;n<e.length;n++){var a=e[n];r.push(t(a,n))}return r};const qwe=Xwe;var Zwe=function(e){return e};const Qwe=function(e,t){t===void 0&&(t=Zwe);var r={};return LE(e)&&!Uc(e)&&Object.keys(e).forEach(function(n){r[n]=t(e[n],n)}),r},Jwe=function(e,t,r){for(var n=0,a=Oc(t)?t.split("."):t;e&&n<a.length;)e=e[a[n++]];return e===void 0||n<a.length?r:e},eEe=function(e,t,r){var n=e,a=Oc(t)?t.split("."):t;return a.forEach(function(i,o){o<a.length-1?(LE(n[i])||(n[i]=Cu(a[o+1])?[]:{}),n=n[i]):n[i]=r}),e};var tEe=Object.prototype.hasOwnProperty;const rEe=function(e,t){if(e===null||!av(e))return{};var r={};return nv(t,function(n){tEe.call(e,n)&&(r[n]=e[n])}),r},nEe=function(e,t){return $9(e,function(r,n,a){return t.includes(a)||(r[a]=n),r},{})},aEe=function(e,t,r){var n,a,i,o,s=0;r||(r={});var l=function(){s=r.leading===!1?0:Date.now(),n=null,o=e.apply(a,i),n||(a=i=null)},u=function(){var c=Date.now();!s&&r.leading===!1&&(s=c);var f=t-(c-s);return a=this,i=arguments,f<=0||f>t?(n&&(clearTimeout(n),n=null),s=c,o=e.apply(a,i),n||(a=i=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,f)),o};return u.cancel=function(){clearTimeout(n),s=0,n=a=i=null},u},iEe=function(e){return so(e)?Array.prototype.slice.call(e):[]};var Ly={};const oEe=function(e){return e=e||"g",Ly[e]?Ly[e]+=1:Ly[e]=1,e+Ly[e]},sEe=function(){},lEe=function(e){return e};function uEe(e){return Uc(e)?0:so(e)?e.length:Object.keys(e).length}var cEe=function(){function e(){this.map={}}return e.prototype.has=function(t){return this.map[t]!==void 0},e.prototype.get=function(t,r){var n=this.map[t];return n===void 0?r:n},e.prototype.set=function(t,r){this.map[t]=r},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(t){delete this.map[t]},e.prototype.size=function(){return Object.keys(this.map).length},e}();const fEe=cEe;var dEe=/rgba?\(([\s.,0-9]+)\)/;function hEe(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e}var Ny;function vEe(e){if(e[0]==="#"&&e.length===7)return e;Ny||(Ny=hEe()),Ny.style.color=e;var t=document.defaultView.getComputedStyle(Ny,"").getPropertyValue("color"),r=dEe.exec(t),n=r[1].split(/\s*,\s*/).map(function(a){return Number(a)});return t=k9(n),t}var Y9=U9(vEe,function(e){return e},256);function bx(e,t,r,n){return e[n]+(t[n]-e[n])*r}function pEe(e,t){var r=isNaN(Number(t))||t<0?0:t>1?1:Number(t),n=e.length-1,a=Math.floor(n*r),i=n*r-a,o=e[a],s=a===n?o:e[a+1];return k9([bx(o,s,i,0),bx(o,s,i,1),bx(o,s,i,2)])}function gEe(e){var t=typeof e=="string"?e.split("-"):e,r=t.map(function(n){return T9(n.indexOf("#")===-1?Y9(n):n)});return function(n){return pEe(r,n)}}var mEe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,yEe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,bEe=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function wEe(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)}function EEe(e){if(wEe(e)){var t,r=void 0;if(e[0]==="l"){var n=mEe.exec(e),a=+n[1]+90;r=n[2],t="linear-gradient("+a+"deg, "}else if(e[0]==="r"){t="radial-gradient(";var n=yEe.exec(e);r=n[4]}var i=r.match(bEe);return i.forEach(function(o,s){var l=o.split(":");t+=l[1]+" "+Number(l[0])*100+"%",s!==i.length-1&&(t+=", ")}),t+=")",t}return e}function _Ee(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return nk(n,r),Ol(e,n,t)}function xEe(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return ak(n,r),Ol(e,n,t)}function SEe(e,t,r){var n=[0,0,0,0,0,0,0,0,0];return ik(n,r),Ol(e,n,t)}function CEe(e,t,r){return Ol(e,r,t)}function MEe(e,t){for(var r=e?[].concat(e):[1,0,0,0,1,0,0,0,1],n=0,a=t.length;n<a;n++){var i=t[n];switch(i[0]){case"t":_Ee(r,r,[i[1],i[2]]);break;case"s":SEe(r,r,[i[1],i[2]]);break;case"r":xEe(r,r,i[1]);break;case"m":CEe(r,r,i[1]);break}}return r}function K9(e,t){return e[0]*t[1]-t[0]*e[1]}function TEe(e,t,r){var n=Zz(e,t),a=K9(e,t)>=0;return r?a?Math.PI*2-n:n:a?n:Math.PI*2-n}function kEe(e,t,r){return r?(e[0]=t[1],e[1]=-1*t[0]):(e[0]=-1*t[1],e[1]=t[0]),e}function AEe(e,t){if(t==="off")return[].concat(e);var r=typeof t=="number"&&t>=1?Math.pow(10,t):1;return e.map(function(n){var a=n.slice(1).map(Number).map(function(i){return t?Math.round(i*r)/r:Math.round(i)});return[n[0]].concat(a)})}function IEe(e,t){return t===void 0&&(t="off"),AEe(e,t).map(function(r){return r[0]+r.slice(1).join(" ")}).join("")}var X9={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function OEe(e,t,r){if(e[r].length>7){e[r].shift();for(var n=e[r],a=r;n.length;)t[r]="A",e.splice(a+=1,0,["C"].concat(n.splice(0,6)));e.splice(r,1)}}var lg={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function q9(e){return Array.isArray(e)&&e.every(function(t){var r=t[0].toLowerCase();return lg[r]===t.length-1&&"achlmqstvz".includes(r)})}function Z9(e){return q9(e)&&e.every(function(t){var r=t[0];return r===r.toUpperCase()})}function Q9(e){return Z9(e)&&e.every(function(t){var r=t[0];return"ACLMQZ".includes(r)})}function dR(e){for(var t=e.pathValue[e.segmentStart],r=t.toLowerCase(),n=e.data;n.length>=lg[r]&&(r==="m"&&n.length>2?(e.segments.push([t].concat(n.splice(0,2))),r="l",t=t==="m"?"l":"L"):e.segments.push([t].concat(n.splice(0,lg[r]))),!!lg[r]););}function LEe(e){var t=e.index,r=e.pathValue,n=r.charCodeAt(t);if(n===48){e.param=0,e.index+=1;return}if(n===49){e.param=1,e.index+=1;return}e.err='[path-util]: invalid Arc flag "'+r[t]+'", expecting 0 or 1 at index '+t}function NEe(e){return e>=48&&e<=57||e===43||e===45||e===46}function Qd(e){return e>=48&&e<=57}function PEe(e){var t=e.max,r=e.pathValue,n=e.index,a=n,i=!1,o=!1,s=!1,l=!1,u;if(a>=t){e.err="[path-util]: Invalid path value at index "+a+', "pathValue" is missing param';return}if(u=r.charCodeAt(a),(u===43||u===45)&&(a+=1,u=r.charCodeAt(a)),!Qd(u)&&u!==46){e.err="[path-util]: Invalid path value at index "+a+', "'+r[a]+'" is not a number';return}if(u!==46){if(i=u===48,a+=1,u=r.charCodeAt(a),i&&a<t&&u&&Qd(u)){e.err="[path-util]: Invalid path value at index "+n+', "'+r[n]+'" illegal number';return}for(;a<t&&Qd(r.charCodeAt(a));)a+=1,o=!0;u=r.charCodeAt(a)}if(u===46){for(l=!0,a+=1;Qd(r.charCodeAt(a));)a+=1,s=!0;u=r.charCodeAt(a)}if(u===101||u===69){if(l&&!o&&!s){e.err="[path-util]: Invalid path value at index "+a+', "'+r[a]+'" invalid float exponent';return}if(a+=1,u=r.charCodeAt(a),(u===43||u===45)&&(a+=1),a<t&&Qd(r.charCodeAt(a)))for(;a<t&&Qd(r.charCodeAt(a));)a+=1;else{e.err="[path-util]: Invalid path value at index "+a+', "'+r[a]+'" invalid integer exponent';return}}e.index=a,e.param=+e.pathValue.slice(n,a)}function DEe(e){var t=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&t.includes(e)}function $1(e){for(var t=e.pathValue,r=e.max;e.index<r&&DEe(t.charCodeAt(e.index));)e.index+=1}function REe(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function $Ee(e){return(e|32)===97}function BEe(e){var t=e.max,r=e.pathValue,n=e.index,a=r.charCodeAt(n),i=lg[r[n].toLowerCase()];if(e.segmentStart=n,!REe(a)){e.err='[path-util]: Invalid path value "'+r[n]+'" is not a path command';return}if(e.index+=1,$1(e),e.data=[],!i){dR(e);return}for(;;){for(var o=i;o>0;o-=1){if($Ee(a)&&(o===3||o===4)?LEe(e):PEe(e),e.err.length)return;e.data.push(e.param),$1(e),e.index<t&&r.charCodeAt(e.index)===44&&(e.index+=1,$1(e))}if(e.index>=e.max||!NEe(r.charCodeAt(e.index)))break}dR(e)}var FEe=function(){function e(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return e}();function NE(e){if(q9(e))return[].concat(e);var t=new FEe(e);for($1(t);t.index<t.max&&!t.err.length;)BEe(t);return t.err?t.err:t.segments}function J9(e){if(Z9(e))return[].concat(e);var t=NE(e),r=0,n=0,a=0,i=0;return t.map(function(o){var s=o.slice(1).map(Number),l=o[0],u=l.toUpperCase();if(l==="M")return r=s[0],n=s[1],a=r,i=n,["M",r,n];var c;if(l!==u)switch(u){case"A":c=[u,s[0],s[1],s[2],s[3],s[4],s[5]+r,s[6]+n];break;case"V":c=[u,s[0]+n];break;case"H":c=[u,s[0]+r];break;default:{var f=s.map(function(h,v){return h+(v%2?n:r)});c=[u].concat(f)}}else c=[u].concat(s);var d=c.length;switch(u){case"Z":r=a,n=i;break;case"H":r=c[1];break;case"V":n=c[1];break;default:r=c[d-2],n=c[d-1],u==="M"&&(a=r,i=n)}return c})}function zEe(e,t){var r=e[0],n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=e.slice(1).map(Number),l=e;if("TQ".includes(r)||(t.qx=null,t.qy=null),r==="H")l=["L",e[1],a];else if(r==="V")l=["L",n,e[1]];else if(r==="S"){var u=n*2-i,c=a*2-o;t.x1=u,t.y1=c,l=["C",u,c].concat(s)}else if(r==="T"){var f=n*2-t.qx,d=a*2-t.qy;t.qx=f,t.qy=d,l=["Q",f,d].concat(s)}else if(r==="Q"){var h=s[0],v=s[1];t.qx=h,t.qy=v}return l}function PE(e){if(Q9(e))return[].concat(e);for(var t=J9(e),r=ee({},X9),n=0;n<t.length;n+=1){t[n]=zEe(t[n],r);var a=t[n],i=a.length;r.x1=+a[i-2],r.y1=+a[i-1],r.x2=+a[i-4]||r.x1,r.y2=+a[i-3]||r.y1}return t}function GEe(e){return Q9(e)&&e.every(function(t){var r=t[0];return"MC".includes(r)})}function Py(e,t,r){var n=e*Math.cos(r)-t*Math.sin(r),a=e*Math.sin(r)+t*Math.cos(r);return{x:n,y:a}}function mA(e,t,r,n,a,i,o,s,l,u){var c=e,f=t,d=r,h=n,v=s,p=l,m=Math.PI*120/180,g=Math.PI/180*(+a||0),b=[],y,w,_,x,S;if(u)w=u[0],_=u[1],x=u[2],S=u[3];else{y=Py(c,f,-g),c=y.x,f=y.y,y=Py(v,p,-g),v=y.x,p=y.y;var C=(c-v)/2,T=(f-p)/2,M=C*C/(d*d)+T*T/(h*h);M>1&&(M=Math.sqrt(M),d*=M,h*=M);var k=d*d,A=h*h,O=(i===o?-1:1)*Math.sqrt(Math.abs((k*A-k*T*T-A*C*C)/(k*T*T+A*C*C)));x=O*d*T/h+(c+v)/2,S=O*-h*C/d+(f+p)/2,w=Math.asin(((f-S)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),_=Math.asin(((p-S)/h*Math.pow(10,9)>>0)/Math.pow(10,9)),w=c<x?Math.PI-w:w,_=v<x?Math.PI-_:_,w<0&&(w=Math.PI*2+w),_<0&&(_=Math.PI*2+_),o&&w>_&&(w-=Math.PI*2),!o&&_>w&&(_-=Math.PI*2)}var P=_-w;if(Math.abs(P)>m){var R=_,N=v,L=p;_=w+m*(o&&_>w?1:-1),v=x+d*Math.cos(_),p=S+h*Math.sin(_),b=mA(v,p,d,h,a,0,o,N,L,[_,R,x,S])}P=_-w;var B=Math.cos(w),I=Math.sin(w),D=Math.cos(_),z=Math.sin(_),U=Math.tan(P/4),H=4/3*d*U,Y=4/3*h*U,ie=[c,f],X=[c+H*I,f-Y*B],re=[v+H*z,p-Y*D],oe=[v,p];if(X[0]=2*ie[0]-X[0],X[1]=2*ie[1]-X[1],u)return X.concat(re,oe,b);b=X.concat(re,oe,b);for(var Ne=[],me=0,xe=b.length;me<xe;me+=1)Ne[me]=me%2?Py(b[me-1],b[me],g).y:Py(b[me],b[me+1],g).x;return Ne}function jEe(e,t,r,n,a,i){var o=.3333333333333333,s=2/3;return[o*e+s*r,o*t+s*n,o*a+s*r,o*i+s*n,a,i]}function oc(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return[n+(i-n)*r,a+(o-a)*r]}var hR=function(e,t,r,n){var a=.5,i=oc([e,t],[r,n],a);return Oo(Oo([],i,!0),[r,n,r,n],!1)};function VEe(e,t){var r=e[0],n=e.slice(1).map(Number),a=n[0],i=n[1],o,s=t.x1,l=t.y1,u=t.x,c=t.y;switch("TQ".includes(r)||(t.qx=null,t.qy=null),r){case"M":return t.x=a,t.y=i,e;case"A":return o=[s,l].concat(n),["C"].concat(mA(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return t.qx=a,t.qy=i,o=[s,l].concat(n),["C"].concat(jEe(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(hR(s,l,a,i));case"Z":return s===u&&l===c?["C",s,l,u,c,u,c]:["C"].concat(hR(s,l,u,c))}return e}function eU(e,t){if(t===void 0&&(t=!1),GEe(e)){var r=[].concat(e);return t?[r,[]]:r}for(var n=PE(e),a=ee({},X9),i=[],o="",s=n.length,l,u,c=[],f=0;f<s;f+=1){n[f]&&(o=n[f][0]),i[f]=o;var d=VEe(n[f],a);n[f]=d,OEe(n,i,f),s=n.length,o==="Z"&&c.push(f),l=n[f],u=l.length,a.x1=+l[u-2],a.y1=+l[u-1],a.x2=+l[u-4]||a.x1,a.y2=+l[u-3]||a.y1}return t?[n,c]:n}function UEe(e){return NE(e)}function WEe(e){return e.map(function(t){return Array.isArray(t)?[].concat(t):t})}function HEe(e){var t=e.slice(1).map(function(r,n,a){return n?a[n-1].slice(-2).concat(r.slice(1)):e[0].slice(1).concat(r.slice(1))}).map(function(r){return r.map(function(n,a){return r[r.length-a-2*(1-a%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(r){return["C"].concat(r.slice(2))}))}function Dv(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function FC(e,t,r,n,a){var i=Dv([e,t],[r,n]),o={x:0,y:0};if(typeof a=="number")if(a<=0)o={x:e,y:t};else if(a>=i)o={x:r,y:n};else{var s=oc([e,t],[r,n],a/i),l=s[0],u=s[1];o={x:l,y:u}}return{length:i,point:o,min:{x:Math.min(e,r),y:Math.min(t,n)},max:{x:Math.max(e,r),y:Math.max(t,n)}}}function vR(e,t){var r=e.x,n=e.y,a=t.x,i=t.y,o=r*a+n*i,s=Math.sqrt((Math.pow(r,2)+Math.pow(n,2))*(Math.pow(a,2)+Math.pow(i,2))),l=r*i-n*a<0?-1:1,u=l*Math.acos(o/s);return u}function YEe(e,t,r,n,a,i,o,s,l,u){var c=Math.abs,f=Math.sin,d=Math.cos,h=Math.sqrt,v=Math.PI,p=c(r),m=c(n),g=(a%360+360)%360,b=g*(v/180);if(e===s&&t===l)return{x:e,y:t};if(p===0||m===0)return FC(e,t,s,l,u).point;var y=(e-s)/2,w=(t-l)/2,_={x:d(b)*y+f(b)*w,y:-f(b)*y+d(b)*w},x=Math.pow(_.x,2)/Math.pow(p,2)+Math.pow(_.y,2)/Math.pow(m,2);x>1&&(p*=h(x),m*=h(x));var S=Math.pow(p,2)*Math.pow(m,2)-Math.pow(p,2)*Math.pow(_.y,2)-Math.pow(m,2)*Math.pow(_.x,2),C=Math.pow(p,2)*Math.pow(_.y,2)+Math.pow(m,2)*Math.pow(_.x,2),T=S/C;T=T<0?0:T;var M=(i!==o?1:-1)*h(T),k={x:M*(p*_.y/m),y:M*(-(m*_.x)/p)},A={x:d(b)*k.x-f(b)*k.y+(e+s)/2,y:f(b)*k.x+d(b)*k.y+(t+l)/2},O={x:(_.x-k.x)/p,y:(_.y-k.y)/m},P=vR({x:1,y:0},O),R={x:(-_.x-k.x)/p,y:(-_.y-k.y)/m},N=vR(O,R);!o&&N>0?N-=2*v:o&&N<0&&(N+=2*v),N%=2*v;var L=P+N*u,B=p*d(L),I=m*f(L),D={x:d(b)*B-f(b)*I+A.x,y:f(b)*B+d(b)*I+A.y};return D}function KEe(e,t,r,n,a,i,o,s,l,u,c){var f,d=c.bbox,h=d===void 0?!0:d,v=c.length,p=v===void 0?!0:v,m=c.sampleSize,g=m===void 0?30:m,b=typeof u=="number",y=e,w=t,_=0,x=[y,w,_],S=[y,w],C=0,T={x:0,y:0},M=[{x:y,y:w}];b&&u<=0&&(T={x:y,y:w});for(var k=0;k<=g;k+=1){if(C=k/g,f=YEe(e,t,r,n,a,i,o,s,l,C),y=f.x,w=f.y,h&&M.push({x:y,y:w}),p&&(_+=Dv(S,[y,w])),S=[y,w],b&&_>=u&&u>x[2]){var A=(_-u)/(_-x[2]);T={x:S[0]*(1-A)+x[0]*A,y:S[1]*(1-A)+x[1]*A}}x=[y,w,_]}return b&&u>=_&&(T={x:s,y:l}),{length:_,point:T,min:{x:Math.min.apply(null,M.map(function(O){return O.x})),y:Math.min.apply(null,M.map(function(O){return O.y}))},max:{x:Math.max.apply(null,M.map(function(O){return O.x})),y:Math.max.apply(null,M.map(function(O){return O.y}))}}}function XEe(e,t,r,n,a,i,o,s,l){var u=1-l;return{x:Math.pow(u,3)*e+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*a+Math.pow(l,3)*o,y:Math.pow(u,3)*t+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*i+Math.pow(l,3)*s}}function tU(e,t,r,n,a,i,o,s,l,u){var c,f=u.bbox,d=f===void 0?!0:f,h=u.length,v=h===void 0?!0:h,p=u.sampleSize,m=p===void 0?10:p,g=typeof l=="number",b=e,y=t,w=0,_=[b,y,w],x=[b,y],S=0,C={x:0,y:0},T=[{x:b,y}];g&&l<=0&&(C={x:b,y});for(var M=0;M<=m;M+=1){if(S=M/m,c=XEe(e,t,r,n,a,i,o,s,S),b=c.x,y=c.y,d&&T.push({x:b,y}),v&&(w+=Dv(x,[b,y])),x=[b,y],g&&w>=l&&l>_[2]){var k=(w-l)/(w-_[2]);C={x:x[0]*(1-k)+_[0]*k,y:x[1]*(1-k)+_[1]*k}}_=[b,y,w]}return g&&l>=w&&(C={x:o,y:s}),{length:w,point:C,min:{x:Math.min.apply(null,T.map(function(A){return A.x})),y:Math.min.apply(null,T.map(function(A){return A.y}))},max:{x:Math.max.apply(null,T.map(function(A){return A.x})),y:Math.max.apply(null,T.map(function(A){return A.y}))}}}function qEe(e,t,r,n,a,i,o){var s=1-o;return{x:Math.pow(s,2)*e+2*s*o*r+Math.pow(o,2)*a,y:Math.pow(s,2)*t+2*s*o*n+Math.pow(o,2)*i}}function ZEe(e,t,r,n,a,i,o,s){var l,u=s.bbox,c=u===void 0?!0:u,f=s.length,d=f===void 0?!0:f,h=s.sampleSize,v=h===void 0?10:h,p=typeof o=="number",m=e,g=t,b=0,y=[m,g,b],w=[m,g],_=0,x={x:0,y:0},S=[{x:m,y:g}];p&&o<=0&&(x={x:m,y:g});for(var C=0;C<=v;C+=1){if(_=C/v,l=qEe(e,t,r,n,a,i,_),m=l.x,g=l.y,c&&S.push({x:m,y:g}),d&&(b+=Dv(w,[m,g])),w=[m,g],p&&b>=o&&o>y[2]){var T=(b-o)/(b-y[2]);x={x:w[0]*(1-T)+y[0]*T,y:w[1]*(1-T)+y[1]*T}}y=[m,g,b]}return p&&o>=b&&(x={x:a,y:i}),{length:b,point:x,min:{x:Math.min.apply(null,S.map(function(M){return M.x})),y:Math.min.apply(null,S.map(function(M){return M.y}))},max:{x:Math.max.apply(null,S.map(function(M){return M.x})),y:Math.max.apply(null,S.map(function(M){return M.y}))}}}function DE(e,t,r){for(var n,a,i,o,s,l,u=PE(e),c=typeof t=="number",f,d=[],h,v=0,p=0,m=0,g=0,b,y=[],w=[],_=0,x={x:0,y:0},S=x,C=x,T=x,M=0,k=0,A=u.length;k<A;k+=1)b=u[k],h=b[0],f=h==="M",d=f?d:[v,p].concat(b.slice(1)),f?(m=b[1],g=b[2],x={x:m,y:g},S=x,_=0,c&&t<.001&&(T=x)):h==="L"?(n=FC(d[0],d[1],d[2],d[3],(t||0)-M),_=n.length,x=n.min,S=n.max,C=n.point):h==="A"?(a=KEe(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],(t||0)-M,r||{}),_=a.length,x=a.min,S=a.max,C=a.point):h==="C"?(i=tU(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],(t||0)-M,r||{}),_=i.length,x=i.min,S=i.max,C=i.point):h==="Q"?(o=ZEe(d[0],d[1],d[2],d[3],d[4],d[5],(t||0)-M,r||{}),_=o.length,x=o.min,S=o.max,C=o.point):h==="Z"&&(d=[v,p,m,g],s=FC(d[0],d[1],d[2],d[3],(t||0)-M),_=s.length,x=s.min,S=s.max,C=s.point),c&&M<t&&M+_>=t&&(T=C),w.push(S),y.push(x),M+=_,l=h!=="Z"?b.slice(-2):[m,g],v=l[0],p=l[1];return c&&t>=M&&(T={x:v,y:p}),{length:M,point:T,min:{x:Math.min.apply(null,y.map(function(O){return O.x})),y:Math.min.apply(null,y.map(function(O){return O.y}))},max:{x:Math.max.apply(null,w.map(function(O){return O.x})),y:Math.max.apply(null,w.map(function(O){return O.y}))}}}function QEe(e,t){if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var r=DE(e,void 0,ee(ee({},t),{length:!1})),n=r.min,a=n.x,i=n.y,o=r.max,s=o.x,l=o.y,u=s-a,c=l-i;return{width:u,height:c,x:a,y:i,x2:s,y2:l,cx:a+u/2,cy:i+c/2,cz:Math.max(u,c)+Math.min(u,c)/2}}function ug(e,t){return DE(e,void 0,ee(ee({},t),{bbox:!1,length:!0})).length}function JEe(e,t){if(!e)return{length:0,x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var r=DE(e,void 0,ee(ee({},t),{bbox:!0,length:!0})),n=r.length,a=r.min,i=a.x,o=a.y,s=r.max,l=s.x,u=s.y,c=l-i,f=u-o;return{length:n,width:c,height:f,x:i,y:o,x2:l,y2:u,cx:i+c/2,cy:o+f/2,cz:Math.max(c,f)+Math.min(c,f)/2}}function e2e(e){var t=e.length,r=t-1;return e.map(function(n,a){return e.map(function(i,o){var s=a+o,l;return o===0||e[s]&&e[s][0]==="M"?(l=e[s],["M"].concat(l.slice(-2))):(s>=t&&(s-=r),e[s])})})}function t2e(e,t){var r=e.length-1,n=[],a=0,i=0,o=e2e(e);return o.forEach(function(s,l){e.slice(1).forEach(function(u,c){i+=Dv(e[(l+c)%r].slice(-2),t[c%r].slice(-2))}),n[l]=i,i=0}),a=n.indexOf(Math.min.apply(null,n)),o[a]}function r2e(e,t,r,n,a,i,o,s){return 3*((s-t)*(r+a)-(o-e)*(n+i)+n*(e-a)-r*(t-i)+s*(a+e/3)-o*(i+t/3))/20}function rU(e){var t=0,r=0,n=0;return eU(e).map(function(a){var i;switch(a[0]){case"M":return t=a[1],r=a[2],0;default:var o=a.slice(1),s=o[0],l=o[1],u=o[2],c=o[3],f=o[4],d=o[5];return n=r2e(t,r,s,l,u,c,f,d),i=a.slice(-2),t=i[0],r=i[1],n}}).reduce(function(a,i){return a+i},0)}function n2e(e){return rU(e)>=0}function B1(e,t,r){return DE(e,t,ee(ee({},r),{bbox:!1,length:!0})).point}function a2e(e,t){var r=NE(e);if(typeof r=="string")throw TypeError(r);var n=r.slice(),a=ug(n),i=n.length-1,o=0,s=0,l=r[0],u=l.slice(-2),c=u[0],f=u[1],d={x:c,y:f};if(i<=0||!t||!Number.isFinite(t))return{segment:l,index:0,length:s,point:d,lengthAtSegment:o};if(t>=a)return n=r.slice(0,-1),o=ug(n),s=a-o,{segment:r[i],index:i,length:s,lengthAtSegment:o};for(var h=[];i>0;)l=n[i],n=n.slice(0,-1),o=ug(n),s=a-o,a=o,h.push({segment:l,index:i,length:s,lengthAtSegment:o}),i-=1;return h.find(function(v){var p=v.lengthAtSegment;return p<=t})}function i2e(e,t){for(var r=NE(e),n=PE(r),a=ug(r),i=function(_){var x=_.x-t.x,S=_.y-t.y;return x*x+S*S},o=8,s,l=0,u,c=0,f=1/0,d=0;d<=a;d+=o)s=B1(n,d),l=i(s),l<f&&(u=s,c=d,f=l);o/=2;for(var h,v,p=0,m=0,g=0,b=0;o>.5;)p=c-o,h=B1(n,p),g=i(h),m=c+o,v=B1(n,m),b=i(v),p>=0&&g<f?(u=h,c=p,f=g):m<=a&&b<f?(u=v,c=m,f=b):o/=2;var y=a2e(r,c),w=Math.sqrt(f);return{closest:u,distance:w,segment:y}}function o2e(e,t){var r=i2e(e,t).distance;return Math.abs(r)<.001}function s2e(e,t){t=.5;var r=e.slice(0,2),n=e.slice(2,4),a=e.slice(4,6),i=e.slice(6,8),o=oc(r,n,t),s=oc(n,a,t),l=oc(a,i,t),u=oc(o,s,t),c=oc(s,l,t),f=oc(u,c,t);return[["C"].concat(o,u,f),["C"].concat(c,l,i)]}function pR(e){return e.map(function(t,r,n){var a=r&&n[r-1].slice(-2).concat(t.slice(1)),i=r?tU(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],{bbox:!1}).length:0,o;return r?o=i?s2e(a):[t,t]:o=[t],{s:t,ss:o,l:i}})}function nU(e,t,r){var n=pR(e),a=pR(t),i=n.length,o=a.length,s=n.filter(function(m){return m.l}).length,l=a.filter(function(m){return m.l}).length,u=n.filter(function(m){return m.l}).reduce(function(m,g){var b=g.l;return m+b},0)/s||0,c=a.filter(function(m){return m.l}).reduce(function(m,g){var b=g.l;return m+b},0)/l||0,f=r||Math.max(i,o),d=[u,c],h=[f-i,f-o],v=0,p=[n,a].map(function(m,g){return m.l===f?m.map(function(b){return b.s}):m.map(function(b,y){return v=y&&h[g]&&b.l>=d[g],h[g]-=v?1:0,v?b.ss:[b.s]}).flat()});return p[0].length===p[1].length?p:nU(p[0],p[1],f)}var l2e=1e-6;function wx(e){return Math.abs(e)<l2e?0:e<0?-1:1}function u2e(e,t,r){return(r[0]-e[0])*(t[1]-e[1])===(t[0]-e[0])*(r[1]-e[1])&&Math.min(e[0],t[0])<=r[0]&&r[0]<=Math.max(e[0],t[0])&&Math.min(e[1],t[1])<=r[1]&&r[1]<=Math.max(e[1],t[1])}function zC(e,t,r){var n=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],s=e[(i+1)%a];if(u2e(o,s,[t,r]))return!0;wx(o[1]-r)>0!=wx(s[1]-r)>0&&wx(t-(r-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}var gR=function(e,t,r){return e>=t&&e<=r};function c2e(e,t,r,n){var a=.001,i={x:r.x-e.x,y:r.y-e.y},o={x:t.x-e.x,y:t.y-e.y},s={x:n.x-r.x,y:n.y-r.y},l=o.x*s.y-o.y*s.x,u=l*l,c=o.x*o.x+o.y*o.y,f=s.x*s.x+s.y*s.y,d=null;if(u>a*c*f){var h=(i.x*s.y-i.y*s.x)/l,v=(i.x*o.y-i.y*o.x)/l;gR(h,0,1)&&gR(v,0,1)&&(d={x:e.x+h*o.x,y:e.y+h*o.y})}return d}function mR(e){for(var t=[],r=e.length,n=0;n<r-1;n++){var a=e[n],i=e[n+1];t.push({from:{x:a[0],y:a[1]},to:{x:i[0],y:i[1]}})}if(t.length>1){var o=e[0],s=e[r-1];t.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return t}function f2e(e,t){var r=!1;return e.forEach(function(n){if(c2e(n.from,n.to,t.from,t.to))return r=!0,!1}),r}function yR(e){var t=e.map(function(n){return n[0]}),r=e.map(function(n){return n[1]});return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,r),maxY:Math.max.apply(null,r)}}function d2e(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)}function h2e(e,t){if(e.length<2||t.length<2)return!1;var r=yR(e),n=yR(t);if(!d2e(r,n))return!1;var a=!1;if(t.forEach(function(l){if(zC(e,l[0],l[1]))return a=!0,!1}),a||(e.forEach(function(l){if(zC(t,l[0],l[1]))return a=!0,!1}),a))return!0;var i=mR(e),o=mR(t),s=!1;return o.forEach(function(l){if(f2e(i,l))return s=!0,!1}),s}function v2e(e){var t=document.createElement("div");t.innerHTML=e;var r=t.childNodes[0];return r&&t.contains(r)&&t.removeChild(r),r}function p2e(e,t){if(e)return Object.keys(t).forEach(function(r){e.style[r]=t[r]}),e}const g2e=Object.freeze(Object.defineProperty({__proto__:null,Cache:fEe,angleTo:TEe,arcToCubic:mA,assign:Dh,augment:Pwe,clamp:Mbe,clearAnimationFrame:Lwe,clone:Dwe,clonePath:WEe,contains:Qb,createDOM:v2e,debounce:Rwe,deepMix:Gwe,difference:B1e,direction:K9,distanceSquareRoot:Dv,each:nv,endsWith:vbe,equalizeSegments:nU,every:gbe,extend:Vwe,filter:A9,find:V1e,findIndex:U1e,firstValue:H1e,fixedBase:kbe,flatten:K1e,flattenDeep:X1e,forIn:nv,get:Jwe,getDrawDirection:n2e,getPathArea:rU,getPathBBox:QEe,getPathBBoxTotalLength:JEe,getPointAtLength:B1,getRange:Z1e,getRotatedCurve:t2e,getTotalLength:ug,getType:j9,getWrapBehavior:Ebe,gradient:gEe,group:wbe,groupBy:F9,groupToMap:z9,has:fR,hasKey:fR,hasValue:ewe,head:fbe,identity:lEe,includes:Qb,indexOf:Wwe,isArguments:hwe,isArray:ka,isArrayLike:so,isBoolean:pwe,isDate:mwe,isDecimal:Ibe,isElement:Iwe,isEmpty:Ywe,isEqual:H9,isEqualWith:Kwe,isError:bwe,isEven:Lbe,isFinite:wwe,isFunction:Do,isInteger:Pbe,isMatch:O9,isNegative:Rbe,isNil:Uc,isNull:_we,isNumber:Cu,isNumberEqual:Bbe,isObject:LE,isObjectLike:Jb,isOdd:zbe,isPlainObject:av,isPointInPolygon:zC,isPointInStroke:o2e,isPolygonsIntersect:h2e,isPositive:jbe,isPrototype:V9,isRegExp:Mwe,isString:Oc,isType:Pl,isUndefined:kwe,keys:I9,last:dbe,lowerCase:rwe,lowerFirst:awe,map:qwe,mapValues:Qwe,max:N9,maxBy:Vbe,memoize:U9,min:P9,minBy:Ube,mix:Dh,mod:Hbe,modifyCSS:p2e,noop:sEe,normalizePath:PE,number2color:xbe,omit:nEe,parseRadius:Sbe,path2Absolute:J9,path2Array:UEe,path2Curve:eU,path2String:IEe,pick:rEe,pull:tbe,pullAt:R9,reduce:$9,remove:obe,requestAnimationFrame:Owe,reverseCurve:HEe,rgb2arr:T9,set:eEe,size:uEe,some:ybe,sortBy:sbe,startsWith:hbe,substitute:iwe,throttle:aEe,toArray:iEe,toCSSGradient:EEe,toDegree:Xbe,toInteger:qbe,toRGB:Y9,toRadian:Jbe,toString:F0,transform:MEe,union:ube,uniq:B9,uniqueId:oEe,upperCase:swe,upperFirst:uwe,values:G9,valuesOfKey:cbe,vertical:kEe,wrapBehavior:_be},Symbol.toStringTag,{value:"Module"})),aU=Nl(g2e);Object.defineProperty(gA,"__esModule",{value:!0});var m2e=aU,y2e=function(e){for(var t={},r=e.nodes().filter(function(f){var d;return!(!((d=e.children(f))===null||d===void 0)&&d.length)}),n=r.map(function(f){return e.node(f).rank}),a=(0,m2e.max)(n),i=[],o=0;o<a+1;o++)i.push([]);var s=function(f){var d;if(!t.hasOwnProperty(f)){t[f]=!0;var h=e.node(f);isNaN(h.rank)||i[h.rank].push(f),(d=e.successors(f))===null||d===void 0||d.forEach(function(v){return s(v)})}},l=r.sort(function(f,d){return e.node(f).rank-e.node(d).rank}),u=l.filter(function(f){return e.node(f).fixorder!==void 0}),c=u.sort(function(f,d){return e.node(f).fixorder-e.node(d).fixorder});return c==null||c.forEach(function(f){isNaN(e.node(f).rank)||i[e.node(f).rank].push(f),t[f]=!0}),l==null||l.forEach(s),i};gA.default=y2e;var yA={};Object.defineProperty(yA,"__esModule",{value:!0});var b2e=Po,w2e=function(e,t,r){for(var n=(0,b2e.zipObject)(r,r.map(function(c,f){return f})),a=t.map(function(c){var f,d=(f=e.outEdges(c))===null||f===void 0?void 0:f.map(function(h){return{pos:n[h.w]||0,weight:e.edge(h).weight}});return d==null?void 0:d.sort(function(h,v){return h.pos-v.pos})}),i=a.flat().filter(function(c){return c!==void 0}),o=1;o<r.length;)o<<=1;var s=2*o-1;o-=1;var l=Array(s).fill(0,0,s),u=0;return i==null||i.forEach(function(c){if(c){var f=c.pos+o;l[f]+=c.weight;for(var d=0;f>0;)f%2&&(d+=l[f+1]),f=f-1>>1,l[f]+=c.weight;u+=c.weight*d}}),u},E2e=function(e,t){for(var r=0,n=1;n<(t==null?void 0:t.length);n+=1)r+=w2e(e,t[n-1],t[n]);return r};yA.default=E2e;var bA={};Object.defineProperty(bA,"__esModule",{value:!0});var _2e=Su,x2e=function(e,t,r){var n=S2e(e),a=new _2e.Graph({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return e.node(i)});return e.nodes().forEach(function(i){var o,s=e.node(i),l=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(i),a.setParent(i,l||n),(o=e[r](i))===null||o===void 0||o.forEach(function(u){var c=u.v===i?u.w:u.v,f=a.edgeFromArgs(c,i),d=f!==void 0?f.weight:0;a.setEdge(c,i,{weight:e.edge(u).weight+d})}),s.hasOwnProperty("minRank")&&a.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),a},S2e=function(e){for(var t;e.hasNode(t="_root".concat(Math.random())););return t};bA.default=x2e;var wA={};Object.defineProperty(wA,"__esModule",{value:!0});var C2e=function(e,t,r){var n={},a;r==null||r.forEach(function(i){for(var o=e.parent(i),s,l;o;){if(s=e.parent(o),s?(l=n[s],n[s]=o):(l=a,a=o),l&&l!==o){t.setEdge(l,o);return}o=s}})};wA.default=C2e;var EA={},_A={};Object.defineProperty(_A,"__esModule",{value:!0});var M2e=function(e,t){return t.map(function(r){var n=e.inEdges(r);if(!(n!=null&&n.length))return{v:r};{var a={sum:0,weight:0};return n==null||n.forEach(function(i){var o=e.edge(i),s=e.node(i.v);a.sum+=o.weight*s.order,a.weight+=o.weight}),{v:r,barycenter:a.sum/a.weight,weight:a.weight}}})};_A.default=M2e;var xA={};Object.defineProperty(xA,"__esModule",{value:!0});var T2e=function(e,t){var r,n,a,i={};e==null||e.forEach(function(s,l){i[s.v]={i:l,indegree:0,in:[],out:[],vs:[s.v]};var u=i[s.v];s.barycenter!==void 0&&(u.barycenter=s.barycenter,u.weight=s.weight)}),(r=t.edges())===null||r===void 0||r.forEach(function(s){var l=i[s.v],u=i[s.w];l!==void 0&&u!==void 0&&(u.indegree++,l.out.push(i[s.w]))});var o=(a=(n=Object.values(i)).filter)===null||a===void 0?void 0:a.call(n,function(s){return!s.indegree});return k2e(o)},k2e=function(e){for(var t,r,n=[],a=function(u){return function(c){c.merged||(c.barycenter===void 0||u.barycenter===void 0||c.barycenter>=u.barycenter)&&A2e(u,c)}},i=function(u){return function(c){c.in.push(u),--c.indegree===0&&e.push(c)}},o=function(){var u=e.pop();n.push(u),(t=u.in.reverse())===null||t===void 0||t.forEach(function(c){return a(u)(c)}),(r=u.out)===null||r===void 0||r.forEach(function(c){return i(u)(c)})};e!=null&&e.length;)o();var s=n.filter(function(u){return!u.merged}),l=["vs","i","barycenter","weight"];return s.map(function(u){var c={};return l==null||l.forEach(function(f){u[f]!==void 0&&(c[f]=u[f])}),c})},A2e=function(e,t){var r,n=0,a=0;e.weight&&(n+=e.barycenter*e.weight,a+=e.weight),t.weight&&(n+=t.barycenter*t.weight,a+=t.weight),e.vs=(r=t.vs)===null||r===void 0?void 0:r.concat(e.vs),e.barycenter=n/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0};xA.default=T2e;var SA={};Object.defineProperty(SA,"__esModule",{value:!0});var I2e=Po,O2e=function(e,t,r,n){var a=(0,I2e.partition)(e,function(d){var h=d.hasOwnProperty("fixorder")&&!isNaN(d.fixorder);return n?!h&&d.hasOwnProperty("barycenter"):h||d.hasOwnProperty("barycenter")}),i=a.lhs,o=a.rhs.sort(function(d,h){return-d.i- -h.i}),s=[],l=0,u=0,c=0;i==null||i.sort(L2e(!!t,!!r)),c=bR(s,o,c),i==null||i.forEach(function(d){var h;c+=(h=d.vs)===null||h===void 0?void 0:h.length,s.push(d.vs),l+=d.barycenter*d.weight,u+=d.weight,c=bR(s,o,c)});var f={vs:s.flat()};return u&&(f.barycenter=l/u,f.weight=u),f},bR=function(e,t,r){for(var n=r,a;t.length&&(a=t[t.length-1]).i<=n;)t.pop(),e==null||e.push(a.vs),n++;return n},L2e=function(e,t){return function(r,n){if(r.fixorder!==void 0&&n.fixorder!==void 0)return r.fixorder-n.fixorder;if(r.barycenter<n.barycenter)return-1;if(r.barycenter>n.barycenter)return 1;if(t&&r.order!==void 0&&n.order!==void 0){if(r.order<n.order)return-1;if(r.order>n.order)return 1}return e?n.i-r.i:r.i-n.i}};SA.default=O2e;var CA=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(EA,"__esModule",{value:!0});var N2e=CA(_A),P2e=CA(xA),D2e=CA(SA),iU=function(e,t,r,n,a,i){var o,s,l,u,c=e.children(t),f=e.node(t),d=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,v={};d&&(c=c==null?void 0:c.filter(function(w){return w!==d&&w!==h}));var p=(0,N2e.default)(e,c||[]);p==null||p.forEach(function(w){var _;if(!((_=e.children(w.v))===null||_===void 0)&&_.length){var x=iU(e,w.v,r,n,i);v[w.v]=x,x.hasOwnProperty("barycenter")&&$2e(w,x)}});var m=(0,P2e.default)(p,r);R2e(m,v),(o=m.filter(function(w){return w.vs.length>0}))===null||o===void 0||o.forEach(function(w){var _=e.node(w.vs[0]);_&&(w.fixorder=_.fixorder,w.order=_.order)});var g=(0,D2e.default)(m,n,a,i);if(d&&(g.vs=[d,g.vs,h].flat(),!((s=e.predecessors(d))===null||s===void 0)&&s.length)){var b=e.node(((l=e.predecessors(d))===null||l===void 0?void 0:l[0])||""),y=e.node(((u=e.predecessors(h))===null||u===void 0?void 0:u[0])||"");g.hasOwnProperty("barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+b.order+y.order)/(g.weight+2),g.weight+=2}return g},R2e=function(e,t){e==null||e.forEach(function(r){var n,a=(n=r.vs)===null||n===void 0?void 0:n.map(function(i){return t[i]?t[i].vs:i});r.vs=a.flat()})},$2e=function(e,t){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)};EA.default=iU;var z0=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pA,"__esModule",{value:!0});var wR=z0(gA),ER=z0(yA),B2e=z0(bA),F2e=z0(wA),z2e=z0(EA),_R=da(),G2e=Su,Ex=Po,j2e=function(e,t){for(var r=(0,Ex.maxRank)(e),n=[],a=[],i=1;i<r+1;i++)n.push(i);for(var i=r-1;i>-1;i--)a.push(i);var o=xR(e,n,"inEdges"),s=xR(e,a,"outEdges"),l=(0,wR.default)(e);_x(e,l);for(var u=Number.POSITIVE_INFINITY,c,i=0,f=0;f<4;++i,++f){SR(i%2?o:s,i%4>=2,!1,t),l=(0,Ex.buildLayerMatrix)(e);var d=(0,ER.default)(e,l);d<u&&(f=0,c=(0,_R.clone)(l),u=d)}l=(0,wR.default)(e),_x(e,l);for(var i=0,f=0;f<4;++i,++f){SR(i%2?o:s,i%4>=2,!0,t),l=(0,Ex.buildLayerMatrix)(e);var d=(0,ER.default)(e,l);d<u&&(f=0,c=(0,_R.clone)(l),u=d)}_x(e,c)},xR=function(e,t,r){return t.map(function(n){return(0,B2e.default)(e,n,r)})},SR=function(e,t,r,n){var a=new G2e.Graph;e==null||e.forEach(function(i){for(var o,s=i.graph().root,l=(0,z2e.default)(i,s,a,t,r,n),u=0;u<((o=l.vs)===null||o===void 0?void 0:o.length);u++){var c=i.node(l.vs[u]);c&&(c.order=u)}(0,F2e.default)(i,a,l.vs)})},_x=function(e,t){t==null||t.forEach(function(r){r==null||r.forEach(function(n,a){e.node(n).order=a})})};pA.default=j2e;var MA={},oU={};(function(e){var t=ht&&ht.__extends||function(){var w=function(_,x){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(S[T]=C[T])},w(_,x)};return function(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");w(_,x);function S(){this.constructor=_}_.prototype=x===null?Object.create(x):(S.prototype=x.prototype,new S)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.width=e.sep=e.positionX=e.balance=e.alignCoordinates=e.findSmallestWidthAlignment=e.buildBlockGraph=e.horizontalCompaction=e.verticalAlignment=e.hasConflict=e.addConflict=e.findOtherInnerSegmentNode=e.findType2Conflicts=e.findType1Conflicts=void 0;var r=OE,n=aU,a=Po,i=function(w){t(_,w);function _(){return w!==null&&w.apply(this,arguments)||this}return _}(r.Graph),o=function(w,_){var x={},S=function(C,T){var M=0,k=0,A=C.length,O=T==null?void 0:T[(T==null?void 0:T.length)-1];return T==null||T.forEach(function(P,R){var N,L=(0,e.findOtherInnerSegmentNode)(w,P),B=L?w.node(L).order:A;(L||P===O)&&((N=T.slice(k,R+1))===null||N===void 0||N.forEach(function(I){var D;(D=w.predecessors(I))===null||D===void 0||D.forEach(function(z){var U,H=w.node(z),Y=H.order;(Y<M||B<Y)&&!(H.dummy&&(!((U=w.node(I))===null||U===void 0)&&U.dummy))&&(0,e.addConflict)(x,z,I)})}),k=R+1,M=B)}),T};return _!=null&&_.length&&_.reduce(S),x};e.findType1Conflicts=o;var s=function(w,_){var x={};function S(k,A,O,P,R){for(var N,L,B,I=A;I<O;I++)B=k[I],!((N=w.node(B))===null||N===void 0)&&N.dummy&&((L=w.predecessors(B))===null||L===void 0||L.forEach(function(D){var z=w.node(D);z.dummy&&(z.order<P||z.order>R)&&(0,e.addConflict)(x,D,B)}))}function C(k){return JSON.stringify(k.slice(1))}function T(k,A){var O=C(k);A.get(O)||(S.apply(void 0,k),A.set(O,!0))}var M=function(k,A){var O=-1,P,R=0,N=new Map;return A==null||A.forEach(function(L,B){var I;if(((I=w.node(L))===null||I===void 0?void 0:I.dummy)==="border"){var D=w.predecessors(L)||[];D.length&&(P=w.node(D[0]).order,T([A,R,B,O,P],N),R=B,O=P)}T([A,R,A.length,P,k.length],N)}),A};return _!=null&&_.length&&_.reduce(M),x};e.findType2Conflicts=s;var l=function(w,_){var x,S;if(!((x=w.node(_))===null||x===void 0)&&x.dummy)return(S=w.predecessors(_))===null||S===void 0?void 0:S.find(function(C){return w.node(C).dummy})};e.findOtherInnerSegmentNode=l;var u=function(w,_,x){var S=_,C=x;if(S>C){var T=S;S=C,C=T}var M=w[S];M||(w[S]=M={}),M[C]=!0};e.addConflict=u;var c=function(w,_,x){var S=_,C=x;if(S>C){var T=_;S=C,C=T}return!!w[S]};e.hasConflict=c;var f=function(w,_,x,S){var C={},T={},M={};return _==null||_.forEach(function(k){k==null||k.forEach(function(A,O){C[A]=A,T[A]=A,M[A]=O})}),_==null||_.forEach(function(k){var A=-1;k==null||k.forEach(function(O){var P=S(O);if(P.length){P=P.sort(function(I,D){return M[I]-M[D]});for(var R=(P.length-1)/2,N=Math.floor(R),L=Math.ceil(R);N<=L;++N){var B=P[N];T[O]===O&&A<M[B]&&!(0,e.hasConflict)(x,O,B)&&(T[B]=O,T[O]=C[O]=C[B],A=M[B])}}})}),{root:C,align:T}};e.verticalAlignment=f;var d=function(w,_,x,S,C){var T,M={},k=(0,e.buildBlockGraph)(w,_,x,C),A=C?"borderLeft":"borderRight",O=function(N,L){for(var B=k.nodes(),I=B.pop(),D={};I;)D[I]?N(I):(D[I]=!0,B.push(I),B=B.concat(L(I))),I=B.pop()},P=function(N){M[N]=(k.inEdges(N)||[]).reduce(function(L,B){return Math.max(L,(M[B.v]||0)+k.edge(B))},0)},R=function(N){var L=(k.outEdges(N)||[]).reduce(function(I,D){return Math.min(I,(M[D.w]||0)-k.edge(D))},Number.POSITIVE_INFINITY),B=w.node(N);L!==Number.POSITIVE_INFINITY&&B.borderType!==A&&(M[N]=Math.max(M[N],L))};return O(P,k.predecessors.bind(k)),O(R,k.successors.bind(k)),(T=Object.values(S))===null||T===void 0||T.forEach(function(N){M[N]=M[x[N]]}),M};e.horizontalCompaction=d;var h=function(w,_,x,S){var C=new i,T=w.graph(),M=(0,e.sep)(T.nodesep,T.edgesep,S);return _==null||_.forEach(function(k){var A;k==null||k.forEach(function(O){var P=x[O];if(C.setNode(P),A){var R=x[A],N=C.edgeFromArgs(R,P);C.setEdge(R,P,Math.max(M(w,O,A),N||0))}A=O})}),C};e.buildBlockGraph=h;var v=function(w,_){return(0,a.minBy)(Object.values(_),function(x){var S,C=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;return(S=Object.keys(x))===null||S===void 0||S.forEach(function(M){var k=x[M],A=(0,e.width)(w,M)/2;C=Math.max(k+A,C),T=Math.min(k-A,T)}),C-T})};e.findSmallestWidthAlignment=v;function p(w,_){var x=Object.values(_),S=(0,n.min)(x),C=(0,n.max)(x);["u","d"].forEach(function(T){["l","r"].forEach(function(M){var k=T+M,A=w[k],O;if(A!==_){var P=Object.values(A);O=M==="l"?S-(0,n.min)(P):C-(0,n.max)(P),O&&(w[k]={},Object.keys(A).forEach(function(R){w[k][R]=A[R]+O}))}})})}e.alignCoordinates=p;var m=function(w,_){var x={};return Object.keys(w.ul).forEach(function(S){if(_)x[S]=w[_.toLowerCase()][S];else{var C=Object.values(w).map(function(T){return T[S]});x[S]=(C[0]+C[1])/2}}),x};e.balance=m;var g=function(w){var _=(0,a.buildLayerMatrix)(w),x=Object.assign((0,e.findType1Conflicts)(w,_),(0,e.findType2Conflicts)(w,_)),S={},C;["u","d"].forEach(function(M){C=M==="u"?_:Object.values(_).reverse(),["l","r"].forEach(function(k){k==="r"&&(C=C.map(function(R){return Object.values(R).reverse()}));var A=(M==="u"?w.predecessors:w.successors).bind(w),O=(0,e.verticalAlignment)(w,C,x,A),P=(0,e.horizontalCompaction)(w,C,O.root,O.align,k==="r");k==="r"&&Object.keys(P).forEach(function(R){P[R]=-P[R]}),S[M+k]=P})});var T=(0,e.findSmallestWidthAlignment)(w,S);return p(S,T),(0,e.balance)(S,w.graph().align)};e.positionX=g;var b=function(w,_,x){return function(S,C,T){var M=S.node(C),k=S.node(T),A=0,O;if(A+=M.width/2,M.hasOwnProperty("labelpos"))switch((M.labelpos||"").toLowerCase()){case"l":O=-M.width/2;break;case"r":O=M.width/2;break}if(O&&(A+=x?O:-O),O=0,A+=(M.dummy?_:w)/2,A+=(k.dummy?_:w)/2,A+=k.width/2,k.labelpos)switch((k.labelpos||"").toLowerCase()){case"l":O=k.width/2;break;case"r":O=-k.width/2;break}return O&&(A+=x?O:-O),O=0,A}};e.sep=b;var y=function(w,_){return w.node(_).width||0};e.width=y})(oU);var CR=ht&&ht.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(MA,"__esModule",{value:!0});var TA=Po,vf=oU,V2e=function(e){var t=(0,TA.buildLayerMatrix)(e),r=e.graph().ranksep,n=0;t==null||t.forEach(function(a){var i=a.map(function(s){return e.node(s).height}),o=Math.max.apply(Math,CR(CR([],i,!1),[0],!1));a==null||a.forEach(function(s){e.node(s).y=n+o/2}),n+=o+r})},U2e=function(e){var t=(0,TA.buildLayerMatrix)(e),r=Object.assign((0,vf.findType1Conflicts)(e,t),(0,vf.findType2Conflicts)(e,t)),n={},a=[];["u","d"].forEach(function(o){a=o==="u"?t:Object.values(t).reverse(),["l","r"].forEach(function(s){s==="r"&&(a=a.map(function(f){return Object.values(f).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=(0,vf.verticalAlignment)(e,a,r,l),c=(0,vf.horizontalCompaction)(e,a,u.root,u.align,s==="r");s==="r"&&Object.keys(c).forEach(function(f){return c[f]=-c[f]}),n[o+s]=c})});var i=(0,vf.findSmallestWidthAlignment)(e,n);return i&&(0,vf.alignCoordinates)(n,i),(0,vf.balance)(n,e.graph().align)},W2e=function(e){var t,r=(0,TA.asNonCompoundGraph)(e);V2e(r);var n=U2e(r);(t=Object.keys(n))===null||t===void 0||t.forEach(function(a){r.node(a).x=n[a]})};MA.default=W2e;var kA={};Object.defineProperty(kA,"__esModule",{value:!0});var H2e=function(e,t){for(var r=e.nodes().filter(function(s){var l;return!(!((l=e.children(s))===null||l===void 0)&&l.length)}),n=r.map(function(s){return e.node(s).rank}),a=Math.max.apply(Math,n),i=[],o=0;o<a+1;o++)i[o]=[];t==null||t.forEach(function(s){var l=e.node(s);!l||l!=null&&l.dummy||isNaN(l.rank)||(l.fixorder=i[l.rank].length,i[l.rank].push(s))})};kA.default=H2e;var ew=ht&&ht.__assign||function(){return ew=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ew.apply(this,arguments)},Dl=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nA,"__esModule",{value:!0});var MR=Dl(aA),TR=Dl(uA),Y2e=Dl(cA),_l=Po,K2e=Dl(fA),kR=Dl(dA),X2e=Dl(hA),AR=Dl(vA),q2e=Dl(pA),Z2e=Dl(MA),Q2e=Dl(kA),J2e=Su,e_e=function(e,t){var r=t&&t.debugTiming?_l.time:_l.notime;r("layout",function(){t&&!t.keepNodeOrder&&t.prevGraph&&r("  inheritOrder",function(){r_e(e,t.prevGraph)});var n=r("  buildLayoutGraph",function(){return c_e(e)});t&&t.edgeLabelSpace===!1||r("  makeSpaceForEdgeLabels",function(){f_e(n)});try{r("  runLayout",function(){t_e(n,r,t)})}catch(a){if(a.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,a);return}throw a}r("  updateInputGraph",function(){n_e(e,n)})})},t_e=function(e,t,r){t("    removeSelfEdges",function(){w_e(e)}),t("    acyclic",function(){MR.default.run(e)}),t("    nestingGraph.run",function(){kR.default.run(e)}),t("    rank",function(){(0,Y2e.default)((0,_l.asNonCompoundGraph)(e))}),t("    injectEdgeLabelProxies",function(){d_e(e)}),t("    removeEmptyRanks",function(){(0,_l.removeEmptyRanks)(e)}),t("    nestingGraph.cleanup",function(){kR.default.cleanup(e)}),t("    normalizeRanks",function(){(0,_l.normalizeRanks)(e)}),t("    assignRankMinMax",function(){h_e(e)}),t("    removeEdgeLabelProxies",function(){v_e(e)}),t("    normalize.run",function(){TR.default.run(e)}),t("    parentDummyChains",function(){(0,K2e.default)(e)}),t("    addBorderSegments",function(){(0,X2e.default)(e)}),r&&r.keepNodeOrder&&t("    initDataOrder",function(){(0,Q2e.default)(e,r.nodeOrder)}),t("    order",function(){(0,q2e.default)(e,r==null?void 0:r.keepNodeOrder)}),t("    insertSelfEdges",function(){E_e(e)}),t("    adjustCoordinateSystem",function(){AR.default.adjust(e)}),t("    position",function(){(0,Z2e.default)(e)}),t("    positionSelfEdges",function(){__e(e)}),t("    removeBorderNodes",function(){b_e(e)}),t("    normalize.undo",function(){TR.default.undo(e)}),t("    fixupEdgeLabelCoords",function(){m_e(e)}),t("    undoCoordinateSystem",function(){AR.default.undo(e)}),t("    translateGraph",function(){p_e(e)}),t("    assignNodeIntersects",function(){g_e(e)}),t("    reversePoints",function(){y_e(e)}),t("    acyclic.undo",function(){MR.default.undo(e)})},r_e=function(e,t){e.nodes().forEach(function(r){var n=e.node(r),a=t.node(r);a!==void 0?(n.fixorder=a._order,delete a._order):delete n.fixorder})},n_e=function(e,t){e.nodes().forEach(function(r){var n,a=e.node(r);if(a){var i=t.node(r);a.x=i.x,a.y=i.y,a._order=i.order,a._rank=i.rank,!((n=t.children(r))===null||n===void 0)&&n.length&&(a.width=i.width,a.height=i.height)}}),e.edges().forEach(function(r){var n=e.edge(r),a=t.edge(r);n.points=a?a.points:[],a&&a.hasOwnProperty("x")&&(n.x=a.x,n.y=a.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height},a_e=["nodesep","edgesep","ranksep","marginx","marginy"],i_e={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},xx=["acyclicer","ranker","rankdir","align"],o_e=["width","height","layer","fixorder"],s_e={width:0,height:0},l_e=["minlen","weight","width","height","labeloffset"],u_e={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Sx=["labelpos"],c_e=function(e){var t=new J2e.Graph({multigraph:!0,compound:!0}),r=Mx(e.graph()),n={};return xx==null||xx.forEach(function(a){r[a]!==void 0&&(n[a]=r[a])}),t.setGraph(Object.assign({},i_e,Cx(r,a_e),n)),e.nodes().forEach(function(a){var i=Mx(e.node(a)),o=ew(ew({},s_e),i),s=Cx(o,o_e);t.setNode(a,s),t.setParent(a,e.parent(a))}),e.edges().forEach(function(a){var i=Mx(e.edge(a)),o={};Sx==null||Sx.forEach(function(s){i[s]!==void 0&&(o[s]=i[s])}),t.setEdgeObj(a,Object.assign({},u_e,Cx(i,l_e),o))}),t},f_e=function(e){var t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach(function(r){var n=e.node(r);isNaN(n.layer)||n.layer||(n.layer=0)}),e.edges().forEach(function(r){var n,a=e.edge(r);a.minlen*=2,((n=a.labelpos)===null||n===void 0?void 0:n.toLowerCase())!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?a.width+=a.labeloffset:a.height+=a.labeloffset)})},d_e=function(e){e.edges().forEach(function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),a=e.node(t.w),i={e:t,rank:(a.rank-n.rank)/2+n.rank};(0,_l.addDummyNode)(e,"edge-proxy",i,"_ep")}})},h_e=function(e){var t=0;e.nodes().forEach(function(r){var n,a,i=e.node(r);i.borderTop&&(i.minRank=(n=e.node(i.borderTop))===null||n===void 0?void 0:n.rank,i.maxRank=(a=e.node(i.borderBottom))===null||a===void 0?void 0:a.rank,t=Math.max(t,i.maxRank||-1/0))}),e.graph().maxRank=t},v_e=function(e){e.nodes().forEach(function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})},p_e=function(e){var t,r=0,n,a=0,i=e.graph(),o=i.marginx||0,s=i.marginy||0,l=function(u){if(u){var c=u.x,f=u.y,d=u.width,h=u.height;!isNaN(c)&&!isNaN(d)&&(t===void 0&&(t=c-d/2),t=Math.min(t,c-d/2),r=Math.max(r,c+d/2)),!isNaN(f)&&!isNaN(h)&&(n===void 0&&(n=f-h/2),n=Math.min(n,f-h/2),a=Math.max(a,f+h/2))}};e.nodes().forEach(function(u){l(e.node(u))}),e.edges().forEach(function(u){var c=e.edge(u);c!=null&&c.hasOwnProperty("x")&&l(c)}),t-=o,n-=s,e.nodes().forEach(function(u){var c=e.node(u);c&&(c.x-=t,c.y-=n)}),e.edges().forEach(function(u){var c,f=e.edge(u);(c=f.points)===null||c===void 0||c.forEach(function(d){d.x-=t,d.y-=n}),f.hasOwnProperty("x")&&(f.x-=t),f.hasOwnProperty("y")&&(f.y-=n)}),i.width=r-t+o,i.height=a-n+s},g_e=function(e){e.edges().forEach(function(t){var r=e.edge(t),n=e.node(t.v),a=e.node(t.w),i,o;r.points?(i=r.points[0],o=r.points[r.points.length-1]):(r.points=[],i=a,o=n),r.points.unshift((0,_l.intersectRect)(n,i)),r.points.push((0,_l.intersectRect)(a,o))})},m_e=function(e){e.edges().forEach(function(t){var r=e.edge(t);if(r!=null&&r.hasOwnProperty("x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})},y_e=function(e){e.edges().forEach(function(t){var r,n=e.edge(t);n.reversed&&((r=n.points)===null||r===void 0||r.reverse())})},b_e=function(e){e.nodes().forEach(function(t){var r,n,a;if(!((r=e.children(t))===null||r===void 0)&&r.length){var i=e.node(t),o=e.node(i.borderTop),s=e.node(i.borderBottom),l=e.node(i.borderLeft[((n=i.borderLeft)===null||n===void 0?void 0:n.length)-1]),u=e.node(i.borderRight[((a=i.borderRight)===null||a===void 0?void 0:a.length)-1]);i.width=Math.abs((u==null?void 0:u.x)-(l==null?void 0:l.x))||10,i.height=Math.abs((s==null?void 0:s.y)-(o==null?void 0:o.y))||10,i.x=((l==null?void 0:l.x)||0)+i.width/2,i.y=((o==null?void 0:o.y)||0)+i.height/2}}),e.nodes().forEach(function(t){var r;((r=e.node(t))===null||r===void 0?void 0:r.dummy)==="border"&&e.removeNode(t)})},w_e=function(e){e.edges().forEach(function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdgeObj(t)}})},E_e=function(e){var t=(0,_l.buildLayerMatrix)(e);t==null||t.forEach(function(r){var n=0;r==null||r.forEach(function(a,i){var o,s=e.node(a);s.order=i+n,(o=s.selfEdges)===null||o===void 0||o.forEach(function(l){(0,_l.addDummyNode)(e,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:i+ ++n,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})},__e=function(e){e.nodes().forEach(function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),a=n.x+n.width/2,i=n.y,o=r.x-a,s=n.height/2;e.setEdgeObj(r.e,r.label),e.removeNode(t),r.label.points=[{x:a+2*o/3,y:i-s},{x:a+5*o/6,y:i-s},{y:i,x:a+o},{x:a+5*o/6,y:i+s},{x:a+2*o/3,y:i+s}],r.label.x=r.x,r.label.y=r.y}})},Cx=function(e,t){var r={};return t==null||t.forEach(function(n){e[n]!==void 0&&(r[n]=+e[n])}),r},Mx=function(e){e===void 0&&(e={});var t={};return Object.keys(e).forEach(function(r){t[r.toLowerCase()]=e[r]}),t};nA.default=e_e;var x_e=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rA,"__esModule",{value:!0});var S_e=x_e(nA),IR=Po;rA.default={layout:S_e.default,util:{time:IR.time,notime:IR.notime}};var C_e=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),M_e=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.DagreLayout=void 0;var T_e=M_e(rA),po=da(),k_e=wa,OR=Su,A_e=function(e){C_e(t,e);function t(r){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.ranksep=50,n.controlPoints=!1,n.sortByCombo=!1,n.edgeLabelSpace=!0,n.radial=!1,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.layoutNode=function(a){var i=n,o=i.nodes,s=o.find(function(u){return u.id===a});if(s){var l=s.layout!==!1;return l}return!0},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},t.prototype.execute=function(){var r=this,n,a,i,o,s=this,l=s.nodes,u=s.nodeSize,c=s.rankdir,f=s.combos,d=s.begin,h=s.radial,v=s.comboEdges,p=v===void 0?[]:v,m=s.vedges,g=m===void 0?[]:m;if(l){var b=s.edges||[],y=new OR.Graph({multigraph:!0,compound:!0});s.nodeMap={};var w={};l.forEach(function(q){s.nodeMap[q.id]=q,q.comboId&&(w[q.comboId]=w[q.comboId]||[],w[q.comboId].push(q.id))});var _=[],x={};!((n=s.nodeOrder)===null||n===void 0)&&n.length?(s.nodeOrder.forEach(function(q){x[q]=!0,_.push(s.nodeMap[q])}),l.forEach(function(q){x[q.id]||_.push(q)})):_=l;var S;u?(0,po.isArray)(u)?S=function(){return u}:S=function(){return[u,u]}:S=function(q){return q.size?(0,po.isArray)(q.size)?q.size:(0,po.isObject)(q.size)?[q.size.width||40,q.size.height||40]:[q.size,q.size]:[40,40]};var C=(0,po.getFunc)(s.ranksep,50,s.ranksepFunc),T=(0,po.getFunc)(s.nodesep,50,s.nodesepFunc),M=T,k=C;(c==="LR"||c==="RL")&&(M=C,k=T),y.setDefaultEdgeLabel(function(){return{}}),y.setGraph(s);var A={};this.sortByCombo&&f&&f.forEach(function(q){if(A[q.id]=q,q.collapsed){var j=S(q),Ce=k(q),fe=M(q),ge=j[0]+2*fe,Ue=j[1]+2*Ce;y.setNode(q.id,{width:ge,height:Ue})}q.parentId&&(A[q.parentId]||y.setNode(q.parentId,{}),y.setParent(q.id,q.parentId))}),_.filter(function(q){return q.layout!==!1}).forEach(function(q){var j=S(q),Ce=k(q),fe=M(q),ge=j[0]+2*fe,Ue=j[1]+2*Ce,tt=q.layer;(0,po.isNumber)(tt)?y.setNode(q.id,{width:ge,height:Ue,layer:tt}):y.setNode(q.id,{width:ge,height:Ue}),r.sortByCombo&&q.comboId&&(A[q.comboId]||(A[q.comboId]={id:q.comboId},y.setNode(q.comboId,{})),y.setParent(q.id,q.comboId))}),b.forEach(function(q){var j=(0,po.getEdgeTerminal)(q,"source"),Ce=(0,po.getEdgeTerminal)(q,"target");r.layoutNode(j)&&r.layoutNode(Ce)&&y.setEdge(j,Ce,{weight:q.weight||1})}),(a=p==null?void 0:p.concat(g||[]))===null||a===void 0||a.forEach(function(q){var j,Ce,fe=q.source,ge=q.target,Ue=!((j=A[fe])===null||j===void 0)&&j.collapsed?[fe]:w[fe]||[fe],tt=!((Ce=A[ge])===null||Ce===void 0)&&Ce.collapsed?[ge]:w[ge]||[ge];Ue.forEach(function(ot){tt.forEach(function(Ye){y.setEdge(ot,Ye,{weight:q.weight||1})})})});var O=void 0;!((i=s.preset)===null||i===void 0)&&i.nodes&&(O=new OR.Graph({multigraph:!0,compound:!0}),s.preset.nodes.forEach(function(q){O==null||O.setNode(q.id,q)})),T_e.default.layout(y,{prevGraph:O,edgeLabelSpace:s.edgeLabelSpace,keepNodeOrder:!!s.nodeOrder,nodeOrder:s.nodeOrder});var P=[0,0];if(d){var R=1/0,N=1/0;y.nodes().forEach(function(q){var j=y.node(q);R>j.x&&(R=j.x),N>j.y&&(N=j.y)}),y.edges().forEach(function(q){var j,Ce=y.edge(q);(j=Ce.points)===null||j===void 0||j.forEach(function(fe){R>fe.x&&(R=fe.x),N>fe.y&&(N=fe.y)})}),P[0]=d[0]-R,P[1]=d[1]-N}var L=c==="LR"||c==="RL";if(h){var B=this,I=B.focusNode,D=B.ranksep,z=B.getRadialPos,U=(0,po.isString)(I)?I:I==null?void 0:I.id,H=U?(o=y.node(U))===null||o===void 0?void 0:o._rank:0,Y=[],ie=L?"y":"x",X=L?"height":"width",re=1/0,oe=-1/0;y.nodes().forEach(function(q){var j=y.node(q);if(s.nodeMap[q]){var Ce=T(s.nodeMap[q]);if(H===0)Y[j._rank]||(Y[j._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),Y[j._rank].nodes.push(q),Y[j._rank].totalWidth+=Ce*2+j[X],Y[j._rank].maxSize<Math.max(j.width,j.height)&&(Y[j._rank].maxSize=Math.max(j.width,j.height));else{var fe=j._rank-H;if(fe===0)Y[fe]||(Y[fe]={nodes:[],totalWidth:0,maxSize:-1/0}),Y[fe].nodes.push(q),Y[fe].totalWidth+=Ce*2+j[X],Y[fe].maxSize<Math.max(j.width,j.height)&&(Y[fe].maxSize=Math.max(j.width,j.height));else{var ge=Math.abs(fe);Y[ge]||(Y[ge]={left:[],right:[],totalWidth:0,maxSize:-1/0}),Y[ge].totalWidth+=Ce*2+j[X],Y[ge].maxSize<Math.max(j.width,j.height)&&(Y[ge].maxSize=Math.max(j.width,j.height)),fe<0?Y[ge].left.push(q):Y[ge].right.push(q)}}var Ue=j[ie]-j[X]/2-Ce,tt=j[ie]+j[X]/2+Ce;Ue<re&&(re=Ue),tt>oe&&(oe=tt)}});var Ne=D||50,me={},xe=(oe-re)/.9,ze=[(re+oe-xe)*.5,(re+oe+xe)*.5],te=function(q,j,Ce,fe){Ce===void 0&&(Ce=-1/0),fe===void 0&&(fe=[0,1]);var ge=Ce;return q.forEach(function(Ue){var tt=y.node(Ue);me[Ue]=j;var ot=z(tt[ie],ze,xe,j,fe),Ye=ot.x,we=ot.y;if(s.nodeMap[Ue]){s.nodeMap[Ue].x=Ye+P[0],s.nodeMap[Ue].y=we+P[1],s.nodeMap[Ue]._order=tt._order;var qe=C(s.nodeMap[Ue]);ge<qe&&(ge=qe)}}),ge},le=!0,Ae=0;Y.forEach(function(q){var j,Ce,fe,ge,Ue,tt,ot;if(!(!(!((j=q==null?void 0:q.nodes)===null||j===void 0)&&j.length)&&!(!((Ce=q==null?void 0:q.left)===null||Ce===void 0)&&Ce.length)&&!(!((fe=q==null?void 0:q.right)===null||fe===void 0)&&fe.length))){if(le&&q.nodes.length===1){var Ye=q.nodes[0];if(!s.nodeMap[Ye])return;s.nodeMap[Ye].x=P[0],s.nodeMap[Ye].y=P[1],me[q.nodes[0]]=0,Ne=C(s.nodeMap[Ye]),le=!1;return}Ne=Math.max(Ne,q.totalWidth/(2*Math.PI));var we=-1/0;if(H===0||!((ge=q.nodes)===null||ge===void 0)&&ge.length)we=te(q.nodes,Ne,we,[0,1]);else{var qe=((Ue=q.left)===null||Ue===void 0?void 0:Ue.length)/(((tt=q.left)===null||tt===void 0?void 0:tt.length)+((ot=q.right)===null||ot===void 0?void 0:ot.length));we=te(q.left,Ne,we,[0,qe]),we=te(q.right,Ne,we,[qe+.05,1])}Ne+=we,le=!1,Ae-q.maxSize}}),y.edges().forEach(function(q){var j,Ce,fe,ge=y.edge(q),Ue=b.findIndex(function(Re){var ft=(0,po.getEdgeTerminal)(Re,"source"),Ee=(0,po.getEdgeTerminal)(Re,"target");return ft===q.v&&Ee===q.w});if(!(Ue<=-1)&&s.edgeLabelSpace&&s.controlPoints&&b[Ue].type!=="loop"){var tt=ie==="x"?"y":"x",ot=(j=ge==null?void 0:ge.points)===null||j===void 0?void 0:j.slice(1,ge.points.length-1),Ye=[],we=(Ce=y.node(q.v))===null||Ce===void 0?void 0:Ce[tt],qe=we-((fe=y.node(q.w))===null||fe===void 0?void 0:fe[tt]),Be=me[q.v],pe=Be-me[q.w];ot==null||ot.forEach(function(Re){var ft=(Re[tt]-we)/qe*pe+Be,Ee=z(Re[ie],ze,xe,ft);Ye.push({x:Ee.x+P[0],y:Ee.y+P[1]})}),b[Ue].controlPoints=Ye}})}else{var Ve=new Set,Ie=c==="BT"||c==="RL",De=Ie?function(q,j){return j-q}:function(q,j){return q-j};y.nodes().forEach(function(q){var j=y.node(q);if(j){var Ce=r.nodeMap[q];Ce||(Ce=f==null?void 0:f.find(function(fe){return fe.id===q})),Ce&&(Ce.x=j.x+P[0],Ce.y=j.y+P[1],Ce._order=j._order,Ve.add(L?Ce.x:Ce.y))}});var Ge=Array.from(Ve).sort(De),Qe=L?function(q,j){return q.x!==j.x}:function(q,j){return q.y!==j.y},ke=L?function(q,j,Ce){var fe=Math.max(j.y,Ce.y),ge=Math.min(j.y,Ce.y);return q.filter(function(Ue){return Ue.y<=fe&&Ue.y>=ge})}:function(q,j,Ce){var fe=Math.max(j.x,Ce.x),ge=Math.min(j.x,Ce.x);return q.filter(function(Ue){return Ue.x<=fe&&Ue.x>=ge})};y.edges().forEach(function(q){var j,Ce=y.edge(q),fe=b.findIndex(function(tt){var ot=(0,po.getEdgeTerminal)(tt,"source"),Ye=(0,po.getEdgeTerminal)(tt,"target");return ot===q.v&&Ye===q.w});if(!(fe<=-1)&&s.edgeLabelSpace&&s.controlPoints&&b[fe].type!=="loop"){(j=Ce==null?void 0:Ce.points)===null||j===void 0||j.forEach(function(tt){tt.x+=P[0],tt.y+=P[1]});var ge=s.nodeMap[q.v],Ue=s.nodeMap[q.w];b[fe].controlPoints=I_e(Ce==null?void 0:Ce.points,ge,Ue,Ge,L,Qe,ke)}})}return s.onLayoutEnd&&s.onLayoutEnd(),{nodes:l,edges:b}}},t.prototype.getRadialPos=function(r,n,a,i,o){o===void 0&&(o=[0,1]);var s=(r-n[0])/a;s=s*(o[1]-o[0])+o[0];var l=s*2*Math.PI;return{x:Math.cos(l)*i,y:Math.sin(l)*i}},t.prototype.getType=function(){return"dagre"},t}(k_e.Base);Pv.DagreLayout=A_e;var I_e=function(e,t,r,n,a,i,o){var s=(e==null?void 0:e.slice(1,e.length-1))||[];if(t&&r){var l=t.x,u=t.y,c=r.x,f=r.y;if(a&&(l=t.y,u=t.x,c=r.y,f=r.x),f!==u&&l!==c){var d=n.indexOf(u),h=n[d+1];if(h){var v=s[0],p=a?{x:(u+h)/2,y:(v==null?void 0:v.y)||c}:{x:(v==null?void 0:v.x)||c,y:(u+h)/2};(!v||i(v,p))&&s.unshift(p)}var m=n.indexOf(f),g=Math.abs(m-d);if(g===1)s=o(s,t,r),s.length||s.push(a?{x:(u+f)/2,y:l}:{x:l,y:(u+f)/2});else if(g>1){var b=n[m-1];if(b){var y=s[s.length-1],w=a?{x:(f+b)/2,y:(y==null?void 0:y.y)||c}:{x:(y==null?void 0:y.x)||l,y:(f+b)/2};(!y||i(y,w))&&s.push(w)}}}}return s},G0={};const tw={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function GC(e={},t=tw){var r,n,a,i;const o=JSON.parse(JSON.stringify(t)),s=((r=e==null?void 0:e.graph)===null||r===void 0?void 0:r.meta)||{},l=((n=e==null?void 0:e.subScene)===null||n===void 0?void 0:n.meta)||{},u=((a=e==null?void 0:e.nodeSize)===null||a===void 0?void 0:a.meta)||{},c=((i=e==null?void 0:e.nodeSize)===null||i===void 0?void 0:i.node)||{},f=o.nodeSize.bridge;return{graph:{meta:Object.assign(o.graph.meta,s)},subScene:{meta:Object.assign(o.subScene.meta,l)},nodeSize:{meta:Object.assign(o.nodeSize.meta,u),node:Object.assign(o.nodeSize.node,c),bridge:f}}}function sU(e){return`◬${e}◬`}const iv=sU("ROOT"),lU=sU("BRIDGE_GRAPH");var eo,od,ov,jC;(function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"})(eo||(eo={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(od||(od={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(ov||(ov={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(jC||(jC={}));var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AA(e,t){return e(t={exports:{}},t.exports),t.exports}var O_e=function(){this.__data__=[],this.size=0},Rv=function(e,t){return e===t||e!=e&&t!=t},RE=function(e,t){for(var r=e.length;r--;)if(Rv(e[r][0],t))return r;return-1},L_e=Array.prototype.splice,N_e=function(e){var t=this.__data__,r=RE(t,e);return!(r<0)&&(r==t.length-1?t.pop():L_e.call(t,r,1),--this.size,!0)},P_e=function(e){var t=this.__data__,r=RE(t,e);return r<0?void 0:t[r][1]},D_e=function(e){return RE(this.__data__,e)>-1},R_e=function(e,t){var r=this.__data__,n=RE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function fh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fh.prototype.clear=O_e,fh.prototype.delete=N_e,fh.prototype.get=P_e,fh.prototype.has=D_e,fh.prototype.set=R_e;var $E=fh,$_e=function(){this.__data__=new $E,this.size=0},B_e=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},F_e=function(e){return this.__data__.get(e)},z_e=function(e){return this.__data__.has(e)},uU=typeof Dy=="object"&&Dy&&Dy.Object===Object&&Dy,G_e=typeof self=="object"&&self&&self.Object===Object&&self,zs=uU||G_e||Function("return this")(),ss=zs.Symbol,cU=Object.prototype,j_e=cU.hasOwnProperty,V_e=cU.toString,pp=ss?ss.toStringTag:void 0,U_e=function(e){var t=j_e.call(e,pp),r=e[pp];try{e[pp]=void 0;var n=!0}catch{}var a=V_e.call(e);return n&&(t?e[pp]=r:delete e[pp]),a},W_e=Object.prototype.toString,H_e=function(e){return W_e.call(e)},LR=ss?ss.toStringTag:void 0,Wc=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":LR&&LR in Object(e)?U_e(e):H_e(e)},lo=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},NR,j0=function(e){if(!lo(e))return!1;var t=Wc(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Tx=zs["__core-js_shared__"],PR=(NR=/[^.]+$/.exec(Tx&&Tx.keys&&Tx.keys.IE_PROTO||""))?"Symbol(src)_1."+NR:"",Y_e=function(e){return!!PR&&PR in e},K_e=Function.prototype.toString,_d=function(e){if(e!=null){try{return K_e.call(e)}catch{}try{return e+""}catch{}}return""},X_e=/^\[object .+?Constructor\]$/,q_e=Function.prototype,Z_e=Object.prototype,Q_e=q_e.toString,J_e=Z_e.hasOwnProperty,exe=RegExp("^"+Q_e.call(J_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),txe=function(e){return!(!lo(e)||Y_e(e))&&(j0(e)?exe:X_e).test(_d(e))},rxe=function(e,t){return e==null?void 0:e[t]},xd=function(e,t){var r=rxe(e,t);return txe(r)?r:void 0},Xg=xd(zs,"Map"),qg=xd(Object,"create"),nxe=function(){this.__data__=qg?qg(null):{},this.size=0},axe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ixe=Object.prototype.hasOwnProperty,oxe=function(e){var t=this.__data__;if(qg){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return ixe.call(t,e)?t[e]:void 0},sxe=Object.prototype.hasOwnProperty,lxe=function(e){var t=this.__data__;return qg?t[e]!==void 0:sxe.call(t,e)},uxe=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=qg&&t===void 0?"__lodash_hash_undefined__":t,this};function dh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dh.prototype.clear=nxe,dh.prototype.delete=axe,dh.prototype.get=oxe,dh.prototype.has=lxe,dh.prototype.set=uxe;var DR=dh,cxe=function(){this.size=0,this.__data__={hash:new DR,map:new(Xg||$E),string:new DR}},fxe=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},BE=function(e,t){var r=e.__data__;return fxe(t)?r[typeof t=="string"?"string":"hash"]:r.map},dxe=function(e){var t=BE(this,e).delete(e);return this.size-=t?1:0,t},hxe=function(e){return BE(this,e).get(e)},vxe=function(e){return BE(this,e).has(e)},pxe=function(e,t){var r=BE(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function hh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hh.prototype.clear=cxe,hh.prototype.delete=dxe,hh.prototype.get=hxe,hh.prototype.has=vxe,hh.prototype.set=pxe;var FE=hh,gxe=function(e,t){var r=this.__data__;if(r instanceof $E){var n=r.__data__;if(!Xg||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new FE(n)}return r.set(e,t),this.size=r.size,this};function vh(e){var t=this.__data__=new $E(e);this.size=t.size}vh.prototype.clear=$_e,vh.prototype.delete=B_e,vh.prototype.get=F_e,vh.prototype.has=z_e,vh.prototype.set=gxe;var Rh=vh,IA=function(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e},rw=function(){try{var e=xd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zE=function(e,t,r){t=="__proto__"&&rw?rw(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},mxe=Object.prototype.hasOwnProperty,GE=function(e,t,r){var n=e[t];mxe.call(e,t)&&Rv(n,r)&&(r!==void 0||t in e)||zE(e,t,r)},V0=function(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=void 0;l===void 0&&(l=e[s]),a?zE(r,s,l):GE(r,s,l)}return r},yxe=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Rs=function(e){return e!=null&&typeof e=="object"},RR=function(e){return Rs(e)&&Wc(e)=="[object Arguments]"},fU=Object.prototype,bxe=fU.hasOwnProperty,wxe=fU.propertyIsEnumerable,sv=RR(function(){return arguments}())?RR:function(e){return Rs(e)&&bxe.call(e,"callee")&&!wxe.call(e,"callee")},ya=Array.isArray,Exe=function(){return!1},sd=AA(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?zs.Buffer:void 0,i=(a?a.isBuffer:void 0)||Exe;e.exports=i}),_xe=/^(?:0|[1-9]\d*)$/,jE=function(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&(r=="number"||r!="symbol"&&_xe.test(e))&&e>-1&&e%1==0&&e<t},OA=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},qn={};qn["[object Float32Array]"]=qn["[object Float64Array]"]=qn["[object Int8Array]"]=qn["[object Int16Array]"]=qn["[object Int32Array]"]=qn["[object Uint8Array]"]=qn["[object Uint8ClampedArray]"]=qn["[object Uint16Array]"]=qn["[object Uint32Array]"]=!0,qn["[object Arguments]"]=qn["[object Array]"]=qn["[object ArrayBuffer]"]=qn["[object Boolean]"]=qn["[object DataView]"]=qn["[object Date]"]=qn["[object Error]"]=qn["[object Function]"]=qn["[object Map]"]=qn["[object Number]"]=qn["[object Object]"]=qn["[object RegExp]"]=qn["[object Set]"]=qn["[object String]"]=qn["[object WeakMap]"]=!1;var xxe=function(e){return Rs(e)&&OA(e.length)&&!!qn[Wc(e)]},VE=function(e){return function(t){return e(t)}},lv=AA(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r&&uU.process,i=function(){try{var o=n&&n.require&&n.require("util").types;return o||a&&a.binding&&a.binding("util")}catch{}}();e.exports=i}),$R=lv&&lv.isTypedArray,U0=$R?VE($R):xxe,Sxe=Object.prototype.hasOwnProperty,dU=function(e,t){var r=ya(e),n=!r&&sv(e),a=!r&&!n&&sd(e),i=!r&&!n&&!a&&U0(e),o=r||n||a||i,s=o?yxe(e.length,String):[],l=s.length;for(var u in e)!t&&!Sxe.call(e,u)||o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||jE(u,l))||s.push(u);return s},Cxe=Object.prototype,UE=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Cxe)},hU=function(e,t){return function(r){return e(t(r))}},Mxe=hU(Object.keys,Object),Txe=Object.prototype.hasOwnProperty,LA=function(e){if(!UE(e))return Mxe(e);var t=[];for(var r in Object(e))Txe.call(e,r)&&r!="constructor"&&t.push(r);return t},Mu=function(e){return e!=null&&OA(e.length)&&!j0(e)},Hc=function(e){return Mu(e)?dU(e):LA(e)},kxe=function(e,t){return e&&V0(t,Hc(t),e)},Axe=function(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t},Ixe=Object.prototype.hasOwnProperty,Oxe=function(e){if(!lo(e))return Axe(e);var t=UE(e),r=[];for(var n in e)(n!="constructor"||!t&&Ixe.call(e,n))&&r.push(n);return r},Sd=function(e){return Mu(e)?dU(e,!0):Oxe(e)},Lxe=function(e,t){return e&&V0(t,Sd(t),e)},vU=AA(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?zs.Buffer:void 0,i=a?a.allocUnsafe:void 0;e.exports=function(o,s){if(s)return o.slice();var l=o.length,u=i?i(l):new o.constructor(l);return o.copy(u),u}}),pU=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},gU=function(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i},mU=function(){return[]},Nxe=Object.prototype.propertyIsEnumerable,BR=Object.getOwnPropertySymbols,NA=BR?function(e){return e==null?[]:(e=Object(e),gU(BR(e),function(t){return Nxe.call(e,t)}))}:mU,Pxe=function(e,t){return V0(e,NA(e),t)},PA=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},WE=hU(Object.getPrototypeOf,Object),yU=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)PA(t,NA(e)),e=WE(e);return t}:mU,Dxe=function(e,t){return V0(e,yU(e),t)},bU=function(e,t,r){var n=t(e);return ya(e)?n:PA(n,r(e))},VC=function(e){return bU(e,Hc,NA)},Rxe=function(e){return bU(e,Sd,yU)},UC=xd(zs,"DataView"),WC=xd(zs,"Promise"),$h=xd(zs,"Set"),HC=xd(zs,"WeakMap"),$xe=_d(UC),Bxe=_d(Xg),Fxe=_d(WC),zxe=_d($h),Gxe=_d(HC),_f=Wc;(UC&&_f(new UC(new ArrayBuffer(1)))!="[object DataView]"||Xg&&_f(new Xg)!="[object Map]"||WC&&_f(WC.resolve())!="[object Promise]"||$h&&_f(new $h)!="[object Set]"||HC&&_f(new HC)!="[object WeakMap]")&&(_f=function(e){var t=Wc(e),r=t=="[object Object]"?e.constructor:void 0,n=r?_d(r):"";if(n)switch(n){case $xe:return"[object DataView]";case Bxe:return"[object Map]";case Fxe:return"[object Promise]";case zxe:return"[object Set]";case Gxe:return"[object WeakMap]"}return t});var ld=_f,jxe=Object.prototype.hasOwnProperty,Vxe=function(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&jxe.call(e,"index")&&(r.index=e.index,r.input=e.input),r},nw=zs.Uint8Array,DA=function(e){var t=new e.constructor(e.byteLength);return new nw(t).set(new nw(e)),t},Uxe=function(e,t){var r=t?DA(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},Wxe=/\w*$/,Hxe=function(e){var t=new e.constructor(e.source,Wxe.exec(e));return t.lastIndex=e.lastIndex,t},FR=ss?ss.prototype:void 0,zR=FR?FR.valueOf:void 0,Yxe=function(e){return zR?Object(zR.call(e)):{}},wU=function(e,t){var r=t?DA(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Kxe=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return DA(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Uxe(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wU(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Hxe(e);case"[object Set]":return new n;case"[object Symbol]":return Yxe(e)}},GR=Object.create,EU=function(){function e(){}return function(t){if(!lo(t))return{};if(GR)return GR(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_U=function(e){return typeof e.constructor!="function"||UE(e)?{}:EU(WE(e))},Xxe=function(e){return Rs(e)&&ld(e)=="[object Map]"},jR=lv&&lv.isMap,qxe=jR?VE(jR):Xxe,Zxe=function(e){return Rs(e)&&ld(e)=="[object Set]"},VR=lv&&lv.isSet,Qxe=VR?VE(VR):Zxe,Wn={};Wn["[object Arguments]"]=Wn["[object Array]"]=Wn["[object ArrayBuffer]"]=Wn["[object DataView]"]=Wn["[object Boolean]"]=Wn["[object Date]"]=Wn["[object Float32Array]"]=Wn["[object Float64Array]"]=Wn["[object Int8Array]"]=Wn["[object Int16Array]"]=Wn["[object Int32Array]"]=Wn["[object Map]"]=Wn["[object Number]"]=Wn["[object Object]"]=Wn["[object RegExp]"]=Wn["[object Set]"]=Wn["[object String]"]=Wn["[object Symbol]"]=Wn["[object Uint8Array]"]=Wn["[object Uint8ClampedArray]"]=Wn["[object Uint16Array]"]=Wn["[object Uint32Array]"]=!0,Wn["[object Error]"]=Wn["[object Function]"]=Wn["[object WeakMap]"]=!1;var xU=function e(t,r,n,a,i,o){var s,l=1&r,u=2&r,c=4&r;if(s!==void 0)return s;if(!lo(t))return t;var f=ya(t);if(f){if(s=Vxe(t),!l)return pU(t,s)}else{var d=ld(t),h=d=="[object Function]"||d=="[object GeneratorFunction]";if(sd(t))return vU(t,l);if(d=="[object Object]"||d=="[object Arguments]"||h&&!i){if(s=u||h?{}:_U(t),!l)return u?Dxe(t,Lxe(s,t)):Pxe(t,kxe(s,t))}else{if(!Wn[d])return i?t:{};s=Kxe(t,d,l)}}o||(o=new Rh);var v=o.get(t);if(v)return v;o.set(t,s),Qxe(t)?t.forEach(function(m){s.add(e(m,r,n,m,t,o))}):qxe(t)&&t.forEach(function(m,g){s.set(g,e(m,r,n,g,t,o))});var p=f?void 0:(c?u?Rxe:VC:u?Sd:Hc)(t);return IA(p||t,function(m,g){p&&(m=t[g=m]),GE(s,g,e(m,r,n,g,t,o))}),s},Jxe=function(e){return xU(e,4)},RA=function(e){return function(){return e}},$A=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[++a];if(r(i[l],l,i)===!1)break}return t}}(),BA=function(e,t){return e&&$A(e,t,Hc)},HE=function(e,t){return function(r,n){if(r==null)return r;if(!Mu(r))return e(r,n);for(var a=r.length,i=-1,o=Object(r);++i<a&&n(o[i],i,o)!==!1;);return r}}(BA),Cd=function(e){return e},SU=function(e){return typeof e=="function"?e:Cd},CU=function(e,t){return(ya(e)?IA:HE)(e,SU(t))},MU=CU,eSe=function(e,t){var r=[];return HE(e,function(n,a,i){t(n,a,i)&&r.push(n)}),r},tSe=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},rSe=function(e){return this.__data__.has(e)};function F1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new FE;++t<r;)this.add(e[t])}F1.prototype.add=F1.prototype.push=tSe,F1.prototype.has=rSe;var nSe=F1,aSe=function(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},iSe=function(e,t){return e.has(t)},TU=function(e,t,r,n,a,i){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=2&r?new nSe:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],p=t[f];if(n)var m=o?n(p,v,f,t,e,i):n(v,p,f,e,t,i);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!aSe(t,function(g,b){if(!iSe(h,b)&&(v===g||a(v,g,r,n,i)))return h.push(b)})){d=!1;break}}else if(v!==p&&!a(v,p,r,n,i)){d=!1;break}}return i.delete(e),i.delete(t),d},oSe=function(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r},kU=function(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r},UR=ss?ss.prototype:void 0,kx=UR?UR.valueOf:void 0,sSe=function(e,t,r,n,a,i,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new nw(e),new nw(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Rv(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=oSe;case"[object Set]":var l=1&n;if(s||(s=kU),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var c=TU(s(e),s(t),n,a,i,o);return o.delete(e),c;case"[object Symbol]":if(kx)return kx.call(e)==kx.call(t)}return!1},lSe=Object.prototype.hasOwnProperty,uSe=function(e,t,r,n,a,i){var o=1&r,s=VC(e),l=s.length;if(l!=VC(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:lSe.call(t,c)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var h=!0;i.set(e,t),i.set(t,e);for(var v=o;++u<l;){var p=e[c=s[u]],m=t[c];if(n)var g=o?n(m,p,c,t,e,i):n(p,m,c,e,t,i);if(!(g===void 0?p===m||a(p,m,r,n,i):g)){h=!1;break}v||(v=c=="constructor")}if(h&&!v){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||typeof b=="function"&&b instanceof b&&typeof y=="function"&&y instanceof y||(h=!1)}return i.delete(e),i.delete(t),h},WR=Object.prototype.hasOwnProperty,cSe=function(e,t,r,n,a,i){var o=ya(e),s=ya(t),l=o?"[object Array]":ld(e),u=s?"[object Array]":ld(t),c=(l=l=="[object Arguments]"?"[object Object]":l)=="[object Object]",f=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",d=l==u;if(d&&sd(e)){if(!sd(t))return!1;o=!0,c=!1}if(d&&!c)return i||(i=new Rh),o||U0(e)?TU(e,t,r,n,a,i):sSe(e,t,l,r,n,a,i);if(!(1&r)){var h=c&&WR.call(e,"__wrapped__"),v=f&&WR.call(t,"__wrapped__");if(h||v){var p=h?e.value():e,m=v?t.value():t;return i||(i=new Rh),a(p,m,r,n,i)}}return!!d&&(i||(i=new Rh),uSe(e,t,r,n,a,i))},AU=function e(t,r,n,a,i){return t===r||(t==null||r==null||!Rs(t)&&!Rs(r)?t!=t&&r!=r:cSe(t,r,n,a,e,i))},fSe=function(e,t,r,n){var a=r.length,i=a;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){var s=(o=r[a])[0],l=e[s],u=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{var c=new Rh,f;if(!(f===void 0?AU(u,l,3,n,c):f))return!1}}return!0},IU=function(e){return e==e&&!lo(e)},dSe=function(e){for(var t=Hc(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,IU(a)]}return t},OU=function(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}},hSe=function(e){var t=dSe(e);return t.length==1&&t[0][2]?OU(t[0][0],t[0][1]):function(r){return r===e||fSe(r,e,t)}},ud=function(e){return typeof e=="symbol"||Rs(e)&&Wc(e)=="[object Symbol]"},vSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pSe=/^\w*$/,FA=function(e,t){if(ya(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!ud(e))||pSe.test(e)||!vSe.test(e)||t!=null&&e in Object(t)};function zA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(zA.Cache||FE),r}zA.Cache=FE;var gSe=zA,mSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ySe=/\\(\\)?/g,bSe=function(e){var t=gSe(e,function(n){return r.size===500&&r.clear(),n}),r=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(mSe,function(r,n,a,i){t.push(a?i.replace(ySe,"$1"):n||r)}),t}),Bh=function(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},HR=ss?ss.prototype:void 0,YR=HR?HR.toString:void 0,wSe=function e(t){if(typeof t=="string")return t;if(ya(t))return Bh(t,e)+"";if(ud(t))return YR?YR.call(t):"";var r=t+"";return r=="0"&&1/t==-1/0?"-0":r},LU=function(e){return e==null?"":wSe(e)},YE=function(e,t){return ya(e)?e:FA(e,t)?[e]:bSe(LU(e))},W0=function(e){if(typeof e=="string"||ud(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},KE=function(e,t){for(var r=0,n=(t=YE(t,e)).length;e!=null&&r<n;)e=e[W0(t[r++])];return r&&r==n?e:void 0},ESe=function(e,t,r){var n=e==null?void 0:KE(e,t);return n===void 0?r:n},_Se=function(e,t){return e!=null&&t in Object(e)},NU=function(e,t,r){for(var n=-1,a=(t=YE(t,e)).length,i=!1;++n<a;){var o=W0(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:!!(a=e==null?0:e.length)&&OA(a)&&jE(o,a)&&(ya(e)||sv(e))},PU=function(e,t){return e!=null&&NU(e,t,_Se)},xSe=function(e,t){return FA(e)&&IU(t)?OU(W0(e),t):function(r){var n=ESe(r,e);return n===void 0&&n===t?PU(r,e):AU(t,n,3)}},DU=function(e){return function(t){return t==null?void 0:t[e]}},SSe=function(e){return function(t){return KE(t,e)}},CSe=function(e){return FA(e)?DU(W0(e)):SSe(e)},Tu=function(e){return typeof e=="function"?e:e==null?Cd:typeof e=="object"?ya(e)?xSe(e[0],e[1]):hSe(e):CSe(e)},RU=function(e,t){return(ya(e)?gU:eSe)(e,Tu(t))},MSe=Object.prototype.hasOwnProperty,TSe=function(e,t){return e!=null&&MSe.call(e,t)},$U=function(e,t){return e!=null&&NU(e,t,TSe)},kSe=Object.prototype.hasOwnProperty,ASe=function(e){if(e==null)return!0;if(Mu(e)&&(ya(e)||typeof e=="string"||typeof e.splice=="function"||sd(e)||U0(e)||sv(e)))return!e.length;var t=ld(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(UE(e))return!LA(e).length;for(var r in e)if(kSe.call(e,r))return!1;return!0},BU=function(e){return e===void 0},FU=function(e,t){var r=-1,n=Mu(e)?Array(e.length):[];return HE(e,function(a,i,o){n[++r]=t(a,i,o)}),n},zU=function(e,t){return(ya(e)?Bh:FU)(e,Tu(t))},ISe=function(e,t,r,n){var a=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r},OSe=function(e,t,r,n,a){return a(e,function(i,o,s){r=n?(n=!1,i):t(r,i,o,s)}),r},GU=function(e,t,r){var n=ya(e)?ISe:OSe,a=arguments.length<3;return n(e,Tu(t),r,a,HE)},LSe=function(e){return typeof e=="string"||!ya(e)&&Rs(e)&&Wc(e)=="[object String]"},NSe=DU("length"),PSe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),DSe=function(e){return PSe.test(e)},RSe="[\\ud800-\\udfff]",YC="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",KC="\\ud83c[\\udffb-\\udfff]",jU="[^\\ud800-\\udfff]",VU="(?:\\ud83c[\\udde6-\\uddff]){2}",UU="[\\ud800-\\udbff][\\udc00-\\udfff]",KR="(?:"+YC+"|"+KC+")?",$Se="[\\ufe0e\\ufe0f]?"+KR+("(?:\\u200d(?:"+[jU,VU,UU].join("|")+")[\\ufe0e\\ufe0f]?"+KR+")*"),BSe="(?:"+[jU+YC+"?",YC,VU,UU,RSe].join("|")+")",XR=RegExp(KC+"(?="+KC+")|"+BSe+$Se,"g"),FSe=function(e){for(var t=XR.lastIndex=0;XR.test(e);)++t;return t},zSe=function(e){return DSe(e)?FSe(e):NSe(e)},GSe=function(e){if(e==null)return 0;if(Mu(e))return LSe(e)?zSe(e):e.length;var t=ld(e);return t=="[object Map]"||t=="[object Set]"?e.size:LA(e).length},jSe=function(e,t,r){var n=ya(e),a=n||sd(e)||U0(e);if(t=Tu(t),r==null){var i=e&&e.constructor;r=a?n?new i:[]:lo(e)&&j0(i)?EU(WE(e)):{}}return(a?IA:BA)(e,function(o,s,l){return t(r,o,s,l)}),r},qR=ss?ss.isConcatSpreadable:void 0,VSe=function(e){return ya(e)||sv(e)||!!(qR&&e&&e[qR])},GA=function(t,r,n,a,i){var o=-1,s=t.length;for(n||(n=VSe),i=[];++o<s;){var l=t[o];n(l)?PA(i,l):a||(i[i.length]=l)}return i},USe=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},ZR=Math.max,WU=function(e,t,r){return t=ZR(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=ZR(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),USe(e,this,s)}},WSe=rw?function(e,t){return rw(e,"toString",{configurable:!0,enumerable:!1,value:RA(t),writable:!0})}:Cd,HSe=Date.now,HU=function(e){var t=0,r=0;return function(){var n=HSe(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(WSe),XE=function(e,t){return HU(WU(e,t,Cd),e+"")},YU=function(e,t,r,n){for(var a=e.length,i=r+-1;++i<a;)if(t(e[i],i,e))return i;return-1},YSe=function(e){return e!=e},KSe=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1},XSe=function(e,t,r){return t==t?KSe(e,t,r):YU(e,YSe,r)},qSe=function(e,t){return!!(e!=null&&e.length)&&XSe(e,t,0)>-1},ZSe=function(){};$h&&1/kU(new $h([,-0]))[1];var QSe=function(e,t,r){var n=-1,a=qSe,i=e.length,o=[],s=o;s=o;e:for(;++n<i;){var l=e[n],u=l;if(l=l!==0?l:0,u==u){for(var c=s.length;c--;)if(s[c]===u)continue e;o.push(l)}else a(s,u)||(s!==o&&s.push(u),o.push(l))}return o},KU=function(e){return Rs(e)&&Mu(e)},JSe=XE(function(e){return QSe(GA(e,1,KU,!0))}),eCe=function(e,t){return Bh(t,function(r){return e[r]})},aw,XU=function(e){return e==null?[]:eCe(e,Hc(e))};try{aw={clone:Jxe,constant:RA,each:MU,filter:RU,has:$U,isArray:ya,isEmpty:ASe,isFunction:j0,isUndefined:BU,keys:Hc,map:zU,reduce:GU,size:GSe,transform:jSe,union:JSe,values:XU}}catch{}aw||(aw=window._);var ur=aw,jA=_n;function _n(e){this._isDirected=!ur.has(e,"directed")||e.directed,this._isMultigraph=!!ur.has(e,"multigraph")&&e.multigraph,this._isCompound=!!ur.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=ur.constant(void 0),this._defaultEdgeLabelFn=ur.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function QR(e,t){e[t]?e[t]++:e[t]=1}function JR(e,t){--e[t]||delete e[t]}function Up(e,t,r,n){var a=""+t,i=""+r;if(!e&&a>i){var o=a;a=i,i=o}return a+""+i+""+(ur.isUndefined(n)?"\0":n)}function tCe(e,t,r,n){var a=""+t,i=""+r;if(!e&&a>i){var o=a;a=i,i=o}var s={v:a,w:i};return n&&(s.name=n),s}function Ax(e,t){return Up(e,t.v,t.w,t.name)}_n.prototype._nodeCount=0,_n.prototype._edgeCount=0,_n.prototype.isDirected=function(){return this._isDirected},_n.prototype.isMultigraph=function(){return this._isMultigraph},_n.prototype.isCompound=function(){return this._isCompound},_n.prototype.setGraph=function(e){return this._label=e,this},_n.prototype.graph=function(){return this._label},_n.prototype.setDefaultNodeLabel=function(e){return ur.isFunction(e)||(e=ur.constant(e)),this._defaultNodeLabelFn=e,this},_n.prototype.nodeCount=function(){return this._nodeCount},_n.prototype.nodes=function(){return ur.keys(this._nodes)},_n.prototype.sources=function(){var e=this;return ur.filter(this.nodes(),function(t){return ur.isEmpty(e._in[t])})},_n.prototype.sinks=function(){var e=this;return ur.filter(this.nodes(),function(t){return ur.isEmpty(e._out[t])})},_n.prototype.setNodes=function(e,t){var r=arguments,n=this;return ur.each(e,function(a){r.length>1?n.setNode(a,t):n.setNode(a)}),this},_n.prototype.setNode=function(e,t){return ur.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},_n.prototype.node=function(e){return this._nodes[e]},_n.prototype.hasNode=function(e){return ur.has(this._nodes,e)},_n.prototype.removeNode=function(e){var t=this;if(ur.has(this._nodes,e)){var r=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],ur.each(this.children(e),function(n){t.setParent(n)}),delete this._children[e]),ur.each(ur.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],ur.each(ur.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},_n.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(ur.isUndefined(t))t="\0";else{for(var r=t+="";!ur.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},_n.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},_n.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!=="\0")return t}},_n.prototype.children=function(e){if(ur.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return ur.keys(t)}else{if(e==="\0")return this.nodes();if(this.hasNode(e))return[]}},_n.prototype.predecessors=function(e){var t=this._preds[e];if(t)return ur.keys(t)},_n.prototype.successors=function(e){var t=this._sucs[e];if(t)return ur.keys(t)},_n.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return ur.union(t,this.successors(e))},_n.prototype.isLeaf=function(e){return(this.isDirected()?this.successors(e):this.neighbors(e)).length===0},_n.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;ur.each(this._nodes,function(i,o){e(o)&&t.setNode(o,i)}),ur.each(this._edgeObjs,function(i){t.hasNode(i.v)&&t.hasNode(i.w)&&t.setEdge(i,r.edge(i))});var n={};function a(i){var o=r.parent(i);return o===void 0||t.hasNode(o)?(n[i]=o,o):o in n?n[o]:a(o)}return this._isCompound&&ur.each(t.nodes(),function(i){t.setParent(i,a(i))}),t},_n.prototype.setDefaultEdgeLabel=function(e){return ur.isFunction(e)||(e=ur.constant(e)),this._defaultEdgeLabelFn=e,this},_n.prototype.edgeCount=function(){return this._edgeCount},_n.prototype.edges=function(){return ur.values(this._edgeObjs)},_n.prototype.setPath=function(e,t){var r=this,n=arguments;return ur.reduce(e,function(a,i){return n.length>1?r.setEdge(a,i,t):r.setEdge(a,i),i}),this},_n.prototype.setEdge=function(){var e,t,r,n,a=!1,i=arguments[0];typeof i=="object"&&i!==null&&"v"in i?(e=i.v,t=i.w,r=i.name,arguments.length===2&&(n=arguments[1],a=!0)):(e=i,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],a=!0)),e=""+e,t=""+t,ur.isUndefined(r)||(r=""+r);var o=Up(this._isDirected,e,t,r);if(ur.has(this._edgeLabels,o))return a&&(this._edgeLabels[o]=n),this;if(!ur.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=a?n:this._defaultEdgeLabelFn(e,t,r);var s=tCe(this._isDirected,e,t,r);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,QR(this._preds[t],e),QR(this._sucs[e],t),this._in[t][o]=s,this._out[e][o]=s,this._edgeCount++,this},_n.prototype.edge=function(e,t,r){var n=arguments.length===1?Ax(this._isDirected,arguments[0]):Up(this._isDirected,e,t,r);return this._edgeLabels[n]},_n.prototype.hasEdge=function(e,t,r){var n=arguments.length===1?Ax(this._isDirected,arguments[0]):Up(this._isDirected,e,t,r);return ur.has(this._edgeLabels,n)},_n.prototype.removeEdge=function(e,t,r){var n=arguments.length===1?Ax(this._isDirected,arguments[0]):Up(this._isDirected,e,t,r),a=this._edgeObjs[n];return a&&(e=a.v,t=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],JR(this._preds[t],e),JR(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this},_n.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=ur.values(r);return t?ur.filter(n,function(a){return a.v===t}):n}},_n.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=ur.values(r);return t?ur.filter(n,function(a){return a.w===t}):n}},_n.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};var e$={Graph:jA,version:"2.1.8"},rCe={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:nCe(e),edges:aCe(e)};return ur.isUndefined(e.graph())||(t.value=ur.clone(e.graph())),t},read:function(e){var t=new jA(e.options).setGraph(e.value);return ur.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),ur.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}};function nCe(e){return ur.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),a={v:t};return ur.isUndefined(r)||(a.value=r),ur.isUndefined(n)||(a.parent=n),a})}function aCe(e){return ur.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return ur.isUndefined(t.name)||(n.name=t.name),ur.isUndefined(r)||(n.value=r),n})}var iCe=function(e){var t,r={},n=[];function a(i){ur.has(r,i)||(r[i]=!0,t.push(i),ur.each(e.successors(i),a),ur.each(e.predecessors(i),a))}return ur.each(e.nodes(),function(i){t=[],a(i),t.length&&n.push(t)}),n},qU=Uo;function Uo(){this._arr=[],this._keyIndices={}}Uo.prototype.size=function(){return this._arr.length},Uo.prototype.keys=function(){return this._arr.map(function(e){return e.key})},Uo.prototype.has=function(e){return ur.has(this._keyIndices,e)},Uo.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority},Uo.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},Uo.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!ur.has(r,e)){var n=this._arr,a=n.length;return r[e]=a,n.push({key:e,priority:t}),this._decrease(a),!0}return!1},Uo.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Uo.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)},Uo.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,a=e;r<t.length&&(a=t[r].priority<t[a].priority?r:a,n<t.length&&(a=t[n].priority<t[a].priority?n:a),a!==e&&(this._swap(e,a),this._heapify(a)))},Uo.prototype._decrease=function(e){for(var t,r=this._arr,n=r[e].priority;e!==0&&!(r[t=e>>1].priority<n);)this._swap(e,t),e=t},Uo.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,a=r[e],i=r[t];r[e]=i,r[t]=a,n[i.key]=e,n[a.key]=t};var ZU=function(e,t,r,n){return function(a,i,o,s){var l,u,c={},f=new qU,d=function(h){var v=h.v!==l?h.v:h.w,p=c[v],m=o(h),g=u.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+m);g<p.distance&&(p.distance=g,p.predecessor=l,f.decrease(v,g))};for(a.nodes().forEach(function(h){var v=h===i?0:Number.POSITIVE_INFINITY;c[h]={distance:v},f.add(h,v)});f.size()>0&&(l=f.removeMin(),(u=c[l]).distance!==Number.POSITIVE_INFINITY);)s(l).forEach(d);return c}(e,String(t),r||oCe,n||function(a){return e.outEdges(a)})},oCe=ur.constant(1),sCe=function(e,t,r){return ur.transform(e.nodes(),function(n,a){n[a]=ZU(e,a,t,r)},{})},QU=function(e){var t=0,r=[],n={},a=[];function i(o){var s=n[o]={onStack:!0,lowlink:t,index:t++};if(r.push(o),e.successors(o).forEach(function(c){ur.has(n,c)?n[c].onStack&&(s.lowlink=Math.min(s.lowlink,n[c].index)):(i(c),s.lowlink=Math.min(s.lowlink,n[c].lowlink))}),s.lowlink===s.index){var l,u=[];do l=r.pop(),n[l].onStack=!1,u.push(l);while(o!==l);a.push(u)}}return e.nodes().forEach(function(o){ur.has(n,o)||i(o)}),a},lCe=function(e){return ur.filter(QU(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})},uCe=function(e,t,r){return function(n,a,i){var o={},s=n.nodes();return s.forEach(function(l){o[l]={},o[l][l]={distance:0},s.forEach(function(u){l!==u&&(o[l][u]={distance:Number.POSITIVE_INFINITY})}),i(l).forEach(function(u){var c=u.v===l?u.w:u.v,f=a(u);o[l][c]={distance:f,predecessor:l}})}),s.forEach(function(l){var u=o[l];s.forEach(function(c){var f=o[c];s.forEach(function(d){var h=f[l],v=u[d],p=f[d],m=h.distance+v.distance;m<p.distance&&(p.distance=m,p.predecessor=v.predecessor)})})}),o}(e,t||cCe,r||function(n){return e.outEdges(n)})},cCe=ur.constant(1),Ix=JU;function JU(e){var t={},r={},n=[];if(ur.each(e.sinks(),function a(i){if(ur.has(r,i))throw new iw;ur.has(t,i)||(r[i]=!0,t[i]=!0,ur.each(e.predecessors(i),a),delete r[i],n.push(i))}),ur.size(t)!==e.nodeCount())throw new iw;return n}function iw(){}JU.CycleException=iw,iw.prototype=new Error;var t$=function(e,t,r){ur.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],i={};return ur.each(t,function(o){if(!e.hasNode(o))throw new Error("Graph does not have node: "+o);e7(e,o,r==="post",i,n,a)}),a};function e7(e,t,r,n,a,i){ur.has(n,t)||(n[t]=!0,r||i.push(t),ur.each(a(t),function(o){e7(e,o,r,n,a,i)}),r&&i.push(t))}var ow,fCe={Graph:e$.Graph,json:rCe,alg:{components:iCe,dijkstra:ZU,dijkstraAll:sCe,findCycles:lCe,floydWarshall:uCe,isAcyclic:function(e){try{Ix(e)}catch(t){if(t instanceof Ix.CycleException)return!1;throw t}return!0},postorder:function(e,t){return t$(e,t,"post")},preorder:function(e,t){return t$(e,t,"pre")},prim:function(e,t){var r,n=new jA,a={},i=new qU;function o(l){var u=l.v===r?l.w:l.v,c=i.priority(u);if(c!==void 0){var f=t(l);f<c&&(a[u]=r,i.decrease(u,f))}}if(e.nodeCount()===0)return n;ur.each(e.nodes(),function(l){i.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),i.decrease(e.nodes()[0],0);for(var s=!1;i.size()>0;){if(r=i.removeMin(),ur.has(a,r))n.setEdge(r,a[r]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(r).forEach(o)}return n},tarjan:QU,topsort:Ix},version:e$.version};try{ow=fCe}catch{}ow||(ow=window.graphlib);var Gs=ow,dCe=function(e){return xU(e,5)},Zg=function(e,t,r){if(!lo(r))return!1;var n=typeof t;return!!(n=="number"?Mu(r)&&jE(t,r.length):n=="string"&&t in r)&&Rv(r[t],e)},t7=Object.prototype,hCe=t7.hasOwnProperty,vCe=XE(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&Zg(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],o=Sd(i),s=-1,l=o.length;++s<l;){var u=o[s],c=e[u];(c===void 0||Rv(c,t7[u])&&!hCe.call(e,u))&&(e[u]=i[u])}return e}),pCe=function(e){return function(t,r,n){var a=Object(t);if(!Mu(t)){var i=Tu(r);t=Hc(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}},gCe=/^\s+|\s+$/g,mCe=/^[-+]0x[0-9a-f]+$/i,yCe=/^0b[01]+$/i,bCe=/^0o[0-7]+$/i,wCe=parseInt,ECe=function(e){if(typeof e=="number")return e;if(ud(e))return NaN;if(lo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(gCe,"");var r=yCe.test(e);return r||bCe.test(e)?wCe(e.slice(2),r?2:8):mCe.test(e)?NaN:+e},z1=function(e){return e?(e=ECe(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0},_Ce=function(e){var t=z1(e),r=t%1;return t==t?r?t-r:t:0},xCe=Math.max,SCe=pCe(function(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:_Ce(r);return a<0&&(a=xCe(n+a,0)),YU(e,Tu(t),a)}),r7=function(e){return e!=null&&e.length?GA(e):[]},CCe=function(e,t){return e==null?e:$A(e,SU(t),Sd)},MCe=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},TCe=function(e,t){var r={};return t=Tu(t),BA(e,function(n,a,i){zE(r,a,t(n,a,i))}),r},VA=function(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o==o&&!ud(o):r(o,s)))var s=o,l=i}return l},kCe=function(e,t){return e>t},ACe=function(e){return e&&e.length?VA(e,Cd,kCe):void 0},XC=function(e,t,r){(r!==void 0&&!Rv(e[t],r)||r===void 0&&!(t in e))&&zE(e,t,r)},ICe=Function.prototype,OCe=Object.prototype,n7=ICe.toString,LCe=OCe.hasOwnProperty,NCe=n7.call(Object),PCe=function(e){if(!Rs(e)||Wc(e)!="[object Object]")return!1;var t=WE(e);if(t===null)return!0;var r=LCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&n7.call(r)==NCe},r$=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},DCe=function(e){return V0(e,Sd(e))},RCe=function(e,t,r,n,a,i,o){var s=r$(e,r),l=r$(t,r),u=o.get(l);if(u)XC(e,r,u);else{var c=void 0,f=c===void 0;if(f){var d=ya(l),h=!d&&sd(l),v=!d&&!h&&U0(l);c=l,d||h||v?ya(s)?c=s:KU(s)?c=pU(s):h?(f=!1,c=vU(l,!0)):v?(f=!1,c=wU(l,!0)):c=[]:PCe(l)||sv(l)?(c=s,sv(s)?c=DCe(s):lo(s)&&!j0(s)||(c=_U(l))):f=!1}f&&(o.set(l,c),a(c,l,n,i,o),o.delete(l)),XC(e,r,c)}},$Ce=function e(t,r,n,a,i){t!==r&&$A(r,function(o,s){if(i||(i=new Rh),lo(o))RCe(t,r,s,n,e,a,i);else{var l=void 0;l===void 0&&(l=o),XC(t,s,l)}},Sd)},BCe=function(e){return XE(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&Zg(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,i)}return t})}(function(e,t,r){$Ce(e,t,r)}),a7=function(e,t){return e<t},FCe=function(e){return e&&e.length?VA(e,Cd,a7):void 0},zCe=function(e,t){return e&&e.length?VA(e,Tu(t),a7):void 0},GCe=function(){return zs.Date.now()},jCe=function(e,t,r,n){if(!lo(e))return e;for(var a=-1,i=(t=YE(t,e)).length,o=i-1,s=e;s!=null&&++a<i;){var l=W0(t[a]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(a!=o){var c=s[l];(u=void 0)==void 0&&(u=lo(c)?c:jE(t[a+1])?[]:{})}GE(s,l,u),s=s[l]}return e},VCe=function(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var o=t[n],s=KE(e,o);r(s,o)&&jCe(i,YE(o,e),s)}return i},UCe=function(e,t){return VCe(e,t,function(r,n){return PU(e,n)})},WCe=function(e){return HU(WU(e,void 0,r7),e+"")}(function(e,t){return e==null?{}:UCe(e,t)}),HCe=Math.ceil,YCe=Math.max,KCe=function(e,t,r,n){for(var a=-1,i=YCe(HCe((t-e)/(r||1)),0),o=Array(i);i--;)o[++a]=e,e+=r;return o},XCe=function(e){return function(t,r,n){return n&&typeof n!="number"&&Zg(t,r,n)&&(r=n=void 0),t=z1(t),r===void 0?(r=t,t=0):r=z1(r),n=n===void 0?t<r?1:-1:z1(n),KCe(t,r,n)}}(),qCe=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},ZCe=function(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e==e,i=ud(e),o=t!==void 0,s=t===null,l=t==t,u=ud(t);if(!s&&!u&&!i&&e>t||i&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0},QCe=function(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=ZCe(a[n],i[n]);if(l)return n>=s?l:l*(r[n]=="desc"?-1:1)}return e.index-t.index},JCe=function(e,t,r){t=t.length?Bh(t,function(i){return ya(i)?function(o){return KE(o,i.length===1?i[0]:i)}:i}):[Cd];var n=-1;t=Bh(t,VE(Tu));var a=FU(e,function(i,o,s){return{criteria:Bh(t,function(l){return l(i)}),index:++n,value:i}});return qCe(a,function(i,o){return QCe(i,o,r)})},eMe=XE(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Zg(e,t[0],t[1])?t=[]:r>2&&Zg(t[0],t[1],t[2])&&(t=[t[0]]),JCe(e,GA(t),[])}),tMe=0,rMe=function(e){var t=++tMe;return LU(e)+t},nMe=function(e,t,r){for(var n=-1,a=e.length,i=t.length,o={};++n<a;){var s=n<i?t[n]:void 0;r(o,e[n],s)}return o},sw,aMe=function(e,t){return nMe(e||[],t||[],GE)};try{sw={cloneDeep:dCe,constant:RA,defaults:vCe,each:MU,filter:RU,find:SCe,flatten:r7,forEach:CU,forIn:CCe,has:$U,isUndefined:BU,last:MCe,map:zU,mapValues:TCe,max:ACe,merge:BCe,min:FCe,minBy:zCe,now:GCe,pick:WCe,range:XCe,reduce:GU,sortBy:eMe,uniqueId:rMe,values:XU,zipObject:aMe}}catch{}sw||(sw=window._);var Me=sw,iMe=G1;function G1(){var e={};e._next=e._prev=e,this._sentinel=e}function n$(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function oMe(e,t){if(e!=="_next"&&e!=="_prev")return t}G1.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n$(t),t},G1.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n$(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},G1.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,oMe)),r=r._prev;return"["+e.join(", ")+"]"};var sMe=Gs.Graph,lMe=function(e,t){if(e.nodeCount()<=1)return[];var r=function(a,i){var o=new sMe,s=0,l=0;Me.forEach(a.nodes(),function(f){o.setNode(f,{v:f,in:0,out:0})}),Me.forEach(a.edges(),function(f){var d=o.edge(f.v,f.w)||0,h=i(f),v=d+h;o.setEdge(f.v,f.w,v),l=Math.max(l,o.node(f.v).out+=h),s=Math.max(s,o.node(f.w).in+=h)});var u=Me.range(l+s+3).map(function(){return new iMe}),c=s+1;return Me.forEach(o.nodes(),function(f){qC(u,c,o.node(f))}),{graph:o,buckets:u,zeroIdx:c}}(e,t||uMe),n=function(a,i,o){for(var s,l=[],u=i[i.length-1],c=i[0];a.nodeCount();){for(;s=c.dequeue();)Ox(a,i,o,s);for(;s=u.dequeue();)Ox(a,i,o,s);if(a.nodeCount()){for(var f=i.length-2;f>0;--f)if(s=i[f].dequeue()){l=l.concat(Ox(a,i,o,s,!0));break}}}return l}(r.graph,r.buckets,r.zeroIdx);return Me.flatten(Me.map(n,function(a){return e.outEdges(a.v,a.w)}),!0)},uMe=Me.constant(1);function Ox(e,t,r,n,a){var i=a?[]:void 0;return Me.forEach(e.inEdges(n.v),function(o){var s=e.edge(o),l=e.node(o.v);a&&i.push({v:o.v,w:o.w}),l.out-=s,qC(t,r,l)}),Me.forEach(e.outEdges(n.v),function(o){var s=e.edge(o),l=o.w,u=e.node(l);u.in-=s,qC(t,r,u)}),e.removeNode(n.v),i}function qC(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var a$={run:function(e){var t=e.graph().acyclicer==="greedy"?lMe(e,function(r){return function(n){return r.edge(n).weight}}(e)):function(r){var n=[],a={},i={};function o(s){Me.has(i,s)||(i[s]=!0,a[s]=!0,Me.forEach(r.outEdges(s),function(l){Me.has(a,l.w)?n.push(l):o(l.w)}),delete a[s])}return Me.forEach(r.nodes(),o),n}(e);Me.forEach(t,function(r){var n=e.edge(r);e.removeEdge(r),n.forwardName=r.name,n.reversed=!0,e.setEdge(r.w,r.v,n,Me.uniqueId("rev"))})},undo:function(e){Me.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}},i$=Gs.Graph,li={addDummyNode:o$,simplify:function(e){var t=new i$().setGraph(e.graph());return Me.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),Me.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},a=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+a.weight,minlen:Math.max(n.minlen,a.minlen)})}),t},asNonCompoundGraph:function(e){var t=new i$({multigraph:e.isMultigraph()}).setGraph(e.graph());return Me.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Me.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t},successorWeights:function(e){var t=Me.map(e.nodes(),function(r){var n={};return Me.forEach(e.outEdges(r),function(a){n[a.w]=(n[a.w]||0)+e.edge(a).weight}),n});return Me.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=Me.map(e.nodes(),function(r){var n={};return Me.forEach(e.inEdges(r),function(a){n[a.v]=(n[a.v]||0)+e.edge(a).weight}),n});return Me.zipObject(e.nodes(),t)},intersectRect:function(e,t){var r,n,a=e.x,i=e.y,o=t.x-a,s=t.y-i,l=e.width/2,u=e.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(o)*u?(s<0&&(u=-u),r=u*o/s,n=u):(o<0&&(l=-l),r=l,n=l*s/o),{x:a+r,y:i+n}},buildLayerMatrix:function(e){var t=Me.map(Me.range(s$(e)+1),function(){return[]});return Me.forEach(e.nodes(),function(r){var n=e.node(r),a=n.rank;Me.isUndefined(a)||(t[a][n.order]=r)}),t},normalizeRanks:function(e){var t=Me.min(Me.map(e.nodes(),function(r){return e.node(r).rank}));Me.forEach(e.nodes(),function(r){var n=e.node(r);Me.has(n,"rank")&&(n.rank-=t)})},removeEmptyRanks:function(e){var t=Me.min(Me.map(e.nodes(),function(i){return e.node(i).rank})),r=[];Me.forEach(e.nodes(),function(i){var o=e.node(i).rank-t;r[o]||(r[o]=[]),r[o].push(i)});var n=0,a=e.graph().nodeRankFactor;Me.forEach(r,function(i,o){Me.isUndefined(i)&&o%a!=0?--n:n&&Me.forEach(i,function(s){e.node(s).rank+=n})})},addBorderNode:function(e,t,r,n){var a={width:0,height:0};return arguments.length>=4&&(a.rank=r,a.order=n),o$(e,"border",a,t)},maxRank:s$,partition:function(e,t){var r={lhs:[],rhs:[]};return Me.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r},time:function(e,t){var r=Me.now();try{return t()}finally{console.log(e+" time: "+(Me.now()-r)+"ms")}},notime:function(e,t){return t()}};function o$(e,t,r,n){var a;do a=Me.uniqueId(n);while(e.hasNode(a));return r.dummy=t,e.setNode(a,r),a}function s$(e){return Me.max(Me.map(e.nodes(),function(t){var r=e.node(t).rank;if(!Me.isUndefined(r))return r}))}var l$={run:function(e){e.graph().dummyChains=[],Me.forEach(e.edges(),function(t){(function(r,n){var a,i,o,s=n.v,l=r.node(s).rank,u=n.w,c=r.node(u).rank,f=n.name,d=r.edge(n),h=d.labelRank;if(c!==l+1){for(r.removeEdge(n),o=0,++l;l<c;++o,++l)d.points=[],i={width:0,height:0,edgeLabel:d,edgeObj:n,rank:l},a=li.addDummyNode(r,"edge",i,"_d"),l===h&&(i.width=d.width,i.height=d.height,i.dummy="edge-label",i.labelpos=d.labelpos),r.setEdge(s,a,{weight:d.weight},f),o===0&&r.graph().dummyChains.push(a),s=a;r.setEdge(s,u,{weight:d.weight},f)}})(e,t)})},undo:function(e){Me.forEach(e.graph().dummyChains,function(t){var r,n=e.node(t),a=n.edgeLabel;for(e.setEdge(n.edgeObj,a);n.dummy;)r=e.successors(t)[0],e.removeNode(t),a.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(a.x=n.x,a.y=n.y,a.width=n.width,a.height=n.height),t=r,n=e.node(t)})}},i7=function(e){var t={};Me.forEach(e.sources(),function r(n){var a=e.node(n);if(Me.has(t,n))return a.rank;t[n]=!0;var i=Me.min(Me.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return i!==Number.POSITIVE_INFINITY&&i!=null||(i=0),a.rank=i})},o7=function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen},cMe=Gs.Graph,lw=o7,s7=function(e){var t,r,n=new cMe({directed:!1}),a=e.nodes()[0],i=e.nodeCount();for(n.setNode(a,{});fMe(n,e)<i;)t=dMe(n,e),r=n.hasNode(t.v)?lw(e,t):-lw(e,t),hMe(n,e,r);return n};function fMe(e,t){return Me.forEach(e.nodes(),function r(n){Me.forEach(t.nodeEdges(n),function(a){var i=a.v,o=n===i?a.w:i;e.hasNode(o)||lw(t,a)||(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}),e.nodeCount()}function dMe(e,t){return Me.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return lw(t,r)})}function hMe(e,t,r){Me.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var vMe=o7,pMe=i7,gMe=Gs.alg.preorder,mMe=Gs.alg.postorder,yMe=li.simplify,bMe=xf;function xf(e){e=yMe(e),pMe(e);var t,r=s7(e);for(WA(r),UA(r,e);t=c7(r);)d7(r,e,t,f7(r,e,t))}function UA(e,t){var r=mMe(e,e.nodes());r=r.slice(0,r.length-1),Me.forEach(r,function(n){(function(a,i,o){var s=a.node(o).parent;a.edge(o,s).cutvalue=l7(a,i,o)})(e,t,n)})}function l7(e,t,r){var n=e.node(r).parent,a=!0,i=t.edge(r,n),o=0;return i||(a=!1,i=t.edge(n,r)),o=i.weight,Me.forEach(t.nodeEdges(r),function(s){var l,u,c=s.v===r,f=c?s.w:s.v;if(f!==n){var d=c===a,h=t.edge(s).weight;if(o+=d?h:-h,l=r,u=f,e.hasEdge(l,u)){var v=e.edge(r,f).cutvalue;o+=d?-v:v}}}),o}function WA(e,t){arguments.length<2&&(t=e.nodes()[0]),u7(e,{},1,t)}function u7(e,t,r,n,a){var i=r,o=e.node(n);return t[n]=!0,Me.forEach(e.neighbors(n),function(s){Me.has(t,s)||(r=u7(e,t,r,s,n))}),o.low=i,o.lim=r++,a?o.parent=a:delete o.parent,r}function c7(e){return Me.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function f7(e,t,r){var n=r.v,a=r.w;t.hasEdge(n,a)||(n=r.w,a=r.v);var i=e.node(n),o=e.node(a),s=i,l=!1;i.lim>o.lim&&(s=o,l=!0);var u=Me.filter(t.edges(),function(c){return l===u$(e,e.node(c.v),s)&&l!==u$(e,e.node(c.w),s)});return Me.minBy(u,function(c){return vMe(t,c)})}function d7(e,t,r,n){var a=r.v,i=r.w;e.removeEdge(a,i),e.setEdge(n.v,n.w,{}),WA(e),UA(e,t),function(o,s){var l=Me.find(o.nodes(),function(c){return!s.node(c).parent}),u=gMe(o,l);u=u.slice(1),Me.forEach(u,function(c){var f=o.node(c).parent,d=s.edge(c,f),h=!1;d||(d=s.edge(f,c),h=!0),s.node(c).rank=s.node(f).rank+(h?d.minlen:-d.minlen)})}(e,t)}function u$(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}xf.initLowLimValues=WA,xf.initCutValues=UA,xf.calcCutValue=l7,xf.leaveEdge=c7,xf.enterEdge=f7,xf.exchangeEdges=d7;var h7=i7,wMe=function(e){switch(e.graph().ranker){case"network-simplex":c$(e);break;case"tight-tree":(function(t){h7(t),s7(t)})(e);break;case"longest-path":EMe(e);break;default:c$(e)}},EMe=h7;function c$(e){bMe(e)}var _Me=function(e){var t=function(r){var n={},a=0;function i(o){var s=a;Me.forEach(r.children(o),i),n[o]={low:s,lim:a++}}return Me.forEach(r.children(),i),n}(e);Me.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),a=n.edgeObj,i=function(f,d,h,v){var p,m,g=[],b=[],y=Math.min(d[h].low,d[v].low),w=Math.max(d[h].lim,d[v].lim);p=h;do p=f.parent(p),g.push(p);while(p&&(d[p].low>y||w>d[p].lim));for(m=p,p=v;(p=f.parent(p))!==m;)b.push(p);return{path:g.concat(b.reverse()),lca:m}}(e,t,a.v,a.w),o=i.path,s=i.lca,l=0,u=o[l],c=!0;r!==a.w;){if(n=e.node(r),c){for(;(u=o[l])!==s&&e.node(u).maxRank<n.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=n.rank;)l++;u=o[l]}e.setParent(r,u),r=e.successors(r)[0]}})},f$={run:function(e){var t=li.addDummyNode(e,"root",{},"_root"),r=function(o){var s={};function l(u,c){var f=o.children(u);f&&f.length&&Me.forEach(f,function(d){l(d,c+1)}),s[u]=c}return Me.forEach(o.children(),function(u){l(u,1)}),s}(e),n=Me.max(Me.values(r))-1,a=2*n+1;e.graph().nestingRoot=t,Me.forEach(e.edges(),function(o){e.edge(o).minlen*=a});var i=function(o){return Me.reduce(o.edges(),function(s,l){return s+o.edge(l).weight},0)}(e)+1;Me.forEach(e.children(),function(o){v7(e,t,a,i,n,r,o)}),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Me.forEach(e.edges(),function(r){e.edge(r).nestingEdge&&e.removeEdge(r)})}};function v7(e,t,r,n,a,i,o){var s=e.children(o);if(s.length){var l=li.addBorderNode(e,"_bt"),u=li.addBorderNode(e,"_bb"),c=e.node(o);e.setParent(l,o),c.borderTop=l,e.setParent(u,o),c.borderBottom=u,Me.forEach(s,function(f){v7(e,t,r,n,a,i,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,v=d.borderBottom?d.borderBottom:f,p=d.borderTop?n:2*n,m=h!==v?1:a-i[o]+1;e.setEdge(l,h,{weight:p,minlen:m,nestingEdge:!0}),e.setEdge(v,u,{weight:p,minlen:m,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,l,{weight:0,minlen:a+i[o]})}else o!==t&&e.setEdge(t,o,{weight:0,minlen:r})}var xMe=function(e){Me.forEach(e.children(),function t(r){var n=e.children(r),a=e.node(r);if(n.length&&Me.forEach(n,t),Me.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,o=a.maxRank+1;i<o;++i)d$(e,"borderLeft","_bl",r,a,i),d$(e,"borderRight","_br",r,a,i)}})};function d$(e,t,r,n,a,i){var o={width:0,height:0,rank:i,borderType:t},s=a[t][i-1],l=li.addDummyNode(e,"border",o,r);a[t][i]=l,e.setParent(l,n),s&&e.setEdge(s,l,{weight:1})}var h$={adjust:function(e){var t=e.graph().rankdir.toLowerCase();t!=="lr"&&t!=="rl"||v$(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();t!=="bt"&&t!=="rl"||function(r){Me.forEach(r.nodes(),function(n){Lx(r.node(n))}),Me.forEach(r.edges(),function(n){var a=r.edge(n);Me.forEach(a.points,Lx),Me.has(a,"y")&&Lx(a)})}(e),t!=="lr"&&t!=="rl"||(function(r){Me.forEach(r.nodes(),function(n){Nx(r.node(n))}),Me.forEach(r.edges(),function(n){var a=r.edge(n);Me.forEach(a.points,Nx),Me.has(a,"x")&&Nx(a)})}(e),v$(e))}};function v$(e){Me.forEach(e.nodes(),function(t){p$(e.node(t))}),Me.forEach(e.edges(),function(t){p$(e.edge(t))})}function p$(e){var t=e.width;e.width=e.height,e.height=t}function Lx(e){e.y=-e.y}function Nx(e){var t=e.x;e.x=e.y,e.y=t}var SMe=function(e){var t={},r=Me.filter(e.nodes(),function(s){return!e.children(s).length}),n=Me.max(Me.map(r,function(s){return e.node(s).rank})),a=Me.map(Me.range(n+1),function(){return[]});function i(s){if(!Me.has(t,s)){t[s]=!0;var l=e.node(s);a[l.rank].push(s),Me.forEach(e.successors(s),i)}}var o=Me.sortBy(r,function(s){return e.node(s).rank});return Me.forEach(o,i),a},CMe=function(e,t){for(var r=0,n=1;n<t.length;++n)r+=MMe(e,t[n-1],t[n]);return r};function MMe(e,t,r){for(var n=Me.zipObject(r,Me.map(r,function(u,c){return c})),a=Me.flatten(Me.map(t,function(u){return Me.sortBy(Me.map(e.outEdges(u),function(c){return{pos:n[c.w],weight:e.edge(c).weight}}),"pos")}),!0),i=1;i<r.length;)i<<=1;var o=2*i-1;i-=1;var s=Me.map(new Array(o),function(){return 0}),l=0;return Me.forEach(a.forEach(function(u){var c=u.pos+i;s[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=s[c+1]),s[c=c-1>>1]+=u.weight;l+=u.weight*f})),l}var TMe=function(e,t){return Me.map(t,function(r){var n=e.inEdges(r);if(n.length){var a=Me.reduce(n,function(i,o){var s=e.edge(o),l=e.node(o.v);return{sum:i.sum+s.weight*l.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:r,barycenter:a.sum/a.weight,weight:a.weight}}return{v:r}})},kMe=function(e,t){var r={};return Me.forEach(e,function(n,a){var i=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:a};Me.isUndefined(n.barycenter)||(i.barycenter=n.barycenter,i.weight=n.weight)}),Me.forEach(t.edges(),function(n){var a=r[n.v],i=r[n.w];Me.isUndefined(a)||Me.isUndefined(i)||(i.indegree++,a.out.push(r[n.w]))}),function(n){var a=[];function i(l){return function(u){u.merged||(Me.isUndefined(u.barycenter)||Me.isUndefined(l.barycenter)||u.barycenter>=l.barycenter)&&function(c,f){var d=0,h=0;c.weight&&(d+=c.barycenter*c.weight,h+=c.weight),f.weight&&(d+=f.barycenter*f.weight,h+=f.weight),c.vs=f.vs.concat(c.vs),c.barycenter=d/h,c.weight=h,c.i=Math.min(f.i,c.i),f.merged=!0}(l,u)}}function o(l){return function(u){u.in.push(l),--u.indegree==0&&n.push(u)}}for(;n.length;){var s=n.pop();a.push(s),Me.forEach(s.in.reverse(),i(s)),Me.forEach(s.out,o(s))}return Me.map(Me.filter(a,function(l){return!l.merged}),function(l){return Me.pick(l,["vs","i","barycenter","weight"])})}(Me.filter(r,function(n){return!n.indegree}))},AMe=function(e,t){var r=li.partition(e,function(f){return Me.has(f,"barycenter")}),n=r.lhs,a=Me.sortBy(r.rhs,function(f){return-f.i}),i=[],o=0,s=0,l=0;n.sort((u=!!t,function(f,d){return f.barycenter<d.barycenter?-1:f.barycenter>d.barycenter?1:u?d.i-f.i:f.i-d.i})),l=g$(i,a,l),Me.forEach(n,function(f){l+=f.vs.length,i.push(f.vs),o+=f.barycenter*f.weight,s+=f.weight,l=g$(i,a,l)});var u,c={vs:Me.flatten(i,!0)};return s&&(c.barycenter=o/s,c.weight=s),c};function g$(e,t,r){for(var n;t.length&&(n=Me.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}var IMe=function e(t,r,n,a){var i=t.children(r),o=t.node(r),s=o?o.borderLeft:void 0,l=o?o.borderRight:void 0,u={};s&&(i=Me.filter(i,function(p){return p!==s&&p!==l}));var c=TMe(t,i);Me.forEach(c,function(p){if(t.children(p.v).length){var m=e(t,p.v,n,a);u[p.v]=m,Me.has(m,"barycenter")&&(g=p,b=m,Me.isUndefined(g.barycenter)?(g.barycenter=b.barycenter,g.weight=b.weight):(g.barycenter=(g.barycenter*g.weight+b.barycenter*b.weight)/(g.weight+b.weight),g.weight+=b.weight))}var g,b});var f=kMe(c,n);(function(p,m){Me.forEach(p,function(g){g.vs=Me.flatten(g.vs.map(function(b){return m[b]?m[b].vs:b}),!0)})})(f,u);var d=AMe(f,a);if(s&&(d.vs=Me.flatten([s,d.vs,l],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),v=t.node(t.predecessors(l)[0]);Me.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+v.order)/(d.weight+2),d.weight+=2}return d},OMe=Gs.Graph,LMe=function(e,t,r){var n=function(i){for(var o;i.hasNode(o=Me.uniqueId("_root")););return o}(e),a=new OMe({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return e.node(i)});return Me.forEach(e.nodes(),function(i){var o=e.node(i),s=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(a.setNode(i),a.setParent(i,s||n),Me.forEach(e[r](i),function(l){var u=l.v===i?l.w:l.v,c=a.edge(u,i),f=Me.isUndefined(c)?0:c.weight;a.setEdge(u,i,{weight:e.edge(l).weight+f})}),Me.has(o,"minRank")&&a.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),a},NMe=function(e,t,r){var n,a={};Me.forEach(r,function(i){for(var o,s,l=e.parent(i);l;){if((o=e.parent(l))?(s=a[o],a[o]=l):(s=n,n=l),s&&s!==l)return void t.setEdge(s,l);l=o}})},PMe=Gs.Graph,DMe=function(e){var t=li.maxRank(e),r=m$(e,Me.range(1,t+1),"inEdges"),n=m$(e,Me.range(t-1,-1,-1),"outEdges"),a=SMe(e);y$(e,a);for(var i,o=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){RMe(s%2?r:n,s%4>=2),a=li.buildLayerMatrix(e);var u=CMe(e,a);u<o&&(l=0,i=Me.cloneDeep(a),o=u)}y$(e,i)};function m$(e,t,r){return Me.map(t,function(n){return LMe(e,n,r)})}function RMe(e,t){var r=new PMe;Me.forEach(e,function(n){var a=n.graph().root,i=IMe(n,a,r,t);Me.forEach(i.vs,function(o,s){n.node(o).order=s}),NMe(n,r,i.vs)})}function y$(e,t){Me.forEach(t,function(r){Me.forEach(r,function(n,a){e.node(n).order=a})})}var $Me=Gs.Graph,BMe=function(e){var t,r=li.buildLayerMatrix(e),n=Me.merge(FMe(e,r),zMe(e,r)),a={};Me.forEach(["u","d"],function(o){t=o==="u"?r:Me.values(r).reverse(),Me.forEach(["l","r"],function(s){s==="r"&&(t=Me.map(t,function(f){return Me.values(f).reverse()}));var l=(o==="u"?e.predecessors:e.successors).bind(e),u=jMe(e,t,n,l),c=VMe(e,t,u.root,u.align,s==="r");s==="r"&&(c=Me.mapValues(c,function(f){return-f})),a[o+s]=c})});var i=UMe(e,a);return WMe(a,i),HMe(a,e.graph().align)};function FMe(e,t){var r={};return Me.reduce(t,function(n,a){var i=0,o=0,s=n.length,l=Me.last(a);return Me.forEach(a,function(u,c){var f=function(h,v){if(h.node(v).dummy)return Me.find(h.predecessors(v),function(p){return h.node(p).dummy})}(e,u),d=f?e.node(f).order:s;(f||u===l)&&(Me.forEach(a.slice(o,c+1),function(h){Me.forEach(e.predecessors(h),function(v){var p=e.node(v),m=p.order;!(m<i||d<m)||p.dummy&&e.node(h).dummy||p7(r,v,h)})}),o=c+1,i=d)}),a}),r}function zMe(e,t){var r={};function n(a,i,o,s,l){var u;Me.forEach(Me.range(i,o),function(c){u=a[c],e.node(u).dummy&&Me.forEach(e.predecessors(u),function(f){var d=e.node(f);d.dummy&&(d.order<s||d.order>l)&&p7(r,f,u)})})}return Me.reduce(t,function(a,i){var o,s=-1,l=0;return Me.forEach(i,function(u,c){if(e.node(u).dummy==="border"){var f=e.predecessors(u);f.length&&(o=e.node(f[0]).order,n(i,l,c,s,o),l=c,s=o)}n(i,l,i.length,o,a.length)}),i}),r}function p7(e,t,r){if(t>r){var n=t;t=r,r=n}var a=e[t];a||(e[t]=a={}),a[r]=!0}function GMe(e,t,r){if(t>r){var n=t;t=r,r=n}return Me.has(e[t],r)}function jMe(e,t,r,n){var a={},i={},o={};return Me.forEach(t,function(s){Me.forEach(s,function(l,u){a[l]=l,i[l]=l,o[l]=u})}),Me.forEach(t,function(s){var l=-1;Me.forEach(s,function(u){var c=n(u);if(c.length)for(var f=((c=Me.sortBy(c,function(p){return o[p]})).length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var v=c[d];i[u]===u&&l<o[v]&&!GMe(r,u,v)&&(i[v]=u,i[u]=a[u]=a[v],l=o[v])}})}),{root:a,align:i}}function VMe(e,t,r,n,a){var i={},o=function(u,c,f,d){var h=new $Me,v=u.graph(),p=function(m,g,b){return function(y,w,_){var x,S=y.node(w),C=y.node(_),T=0;if(T+=S.width/2,Me.has(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":x=-S.width/2;break;case"r":x=S.width/2}if(x&&(T+=b?x:-x),x=0,T+=(S.dummy?g:m)/2,T+=(C.dummy?g:m)/2,T+=C.width/2,Me.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":x=C.width/2;break;case"r":x=-C.width/2}return x&&(T+=b?x:-x),x=0,T}}(v.nodesep,v.edgesep,d);return Me.forEach(c,function(m){var g;Me.forEach(m,function(b){var y=f[b];if(h.setNode(y),g){var w=f[g],_=h.edge(w,y);h.setEdge(w,y,Math.max(p(u,b,g),_||0))}g=b})}),h}(e,t,r,a),s=a?"borderLeft":"borderRight";function l(u,c){for(var f=o.nodes(),d=f.pop(),h={};d;)h[d]?u(d):(h[d]=!0,f.push(d),f=f.concat(c(d))),d=f.pop()}return l(function(u){i[u]=o.inEdges(u).reduce(function(c,f){return Math.max(c,i[f.v]+o.edge(f))},0)},o.predecessors.bind(o)),l(function(u){var c=o.outEdges(u).reduce(function(d,h){return Math.min(d,i[h.w]-o.edge(h))},Number.POSITIVE_INFINITY),f=e.node(u);c!==Number.POSITIVE_INFINITY&&f.borderType!==s&&(i[u]=Math.max(i[u],c))},o.successors.bind(o)),Me.forEach(n,function(u){i[u]=i[r[u]]}),i}function UMe(e,t){return Me.minBy(Me.values(t),function(r){var n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return Me.forIn(r,function(i,o){var s=function(l,u){return l.node(u).width}(e,o)/2;n=Math.max(i+s,n),a=Math.min(i-s,a)}),n-a})}function WMe(e,t){var r=Me.values(t),n=Me.min(r),a=Me.max(r);Me.forEach(["u","d"],function(i){Me.forEach(["l","r"],function(o){var s,l=i+o,u=e[l];if(u!==t){var c=Me.values(u);(s=o==="l"?n-Me.min(c):a-Me.max(c))&&(e[l]=Me.mapValues(u,function(f){return f+s}))}})})}function HMe(e,t){return Me.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var a=Me.sortBy(Me.map(e,n));return(a[1]+a[2])/2})}var YMe=BMe,KMe=function(e){(function(t){var r=li.buildLayerMatrix(t),n=t.graph().ranksep,a=0;Me.forEach(r,function(i){var o=Me.max(Me.map(i,function(s){return t.node(s).height}));Me.forEach(i,function(s){t.node(s).y=a+o/2}),a+=o+n})})(e=li.asNonCompoundGraph(e)),Me.forEach(YMe(e),function(t,r){e.node(r).x=t})},XMe=li.normalizeRanks,qMe=li.removeEmptyRanks,Uu=li,ZMe=Gs.Graph,QMe=function(e,t){var r=t&&t.debugTiming?Uu.time:Uu.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return function(a){var i=new ZMe({multigraph:!0,compound:!0}),o=Dx(a.graph());return i.setGraph(Me.merge({},eTe,Px(o,JMe),Me.pick(o,tTe))),Me.forEach(a.nodes(),function(s){var l=Dx(a.node(s));i.setNode(s,Me.defaults(Px(l,rTe),nTe)),i.setParent(s,a.parent(s))}),Me.forEach(a.edges(),function(s){var l=Dx(a.edge(s));i.setEdge(s,Me.merge({},iTe,Px(l,aTe),Me.pick(l,oTe)))}),i}(e)});r("  runLayout",function(){(function(a,i){i("    makeSpaceForEdgeLabels",function(){(function(o){var s=o.graph();s.ranksep/=2,Me.forEach(o.edges(),function(l){var u=o.edge(l);u.minlen*=2,u.labelpos.toLowerCase()!=="c"&&(s.rankdir==="TB"||s.rankdir==="BT"?u.width+=u.labeloffset:u.height+=u.labeloffset)})})(a)}),i("    removeSelfEdges",function(){(function(o){Me.forEach(o.edges(),function(s){if(s.v===s.w){var l=o.node(s.v);l.selfEdges||(l.selfEdges=[]),l.selfEdges.push({e:s,label:o.edge(s)}),o.removeEdge(s)}})})(a)}),i("    acyclic",function(){a$.run(a)}),i("    nestingGraph.run",function(){f$.run(a)}),i("    rank",function(){wMe(Uu.asNonCompoundGraph(a))}),i("    injectEdgeLabelProxies",function(){(function(o){Me.forEach(o.edges(),function(s){var l=o.edge(s);if(l.width&&l.height){var u=o.node(s.v),c={rank:(o.node(s.w).rank-u.rank)/2+u.rank,e:s};Uu.addDummyNode(o,"edge-proxy",c,"_ep")}})})(a)}),i("    removeEmptyRanks",function(){qMe(a)}),i("    nestingGraph.cleanup",function(){f$.cleanup(a)}),i("    normalizeRanks",function(){XMe(a)}),i("    assignRankMinMax",function(){(function(o){var s=0;Me.forEach(o.nodes(),function(l){var u=o.node(l);u.borderTop&&(u.minRank=o.node(u.borderTop).rank,u.maxRank=o.node(u.borderBottom).rank,s=Me.max(s,u.maxRank))}),o.graph().maxRank=s})(a)}),i("    removeEdgeLabelProxies",function(){(function(o){Me.forEach(o.nodes(),function(s){var l=o.node(s);l.dummy==="edge-proxy"&&(o.edge(l.e).labelRank=l.rank,o.removeNode(s))})})(a)}),i("    normalize.run",function(){l$.run(a)}),i("    parentDummyChains",function(){_Me(a)}),i("    addBorderSegments",function(){xMe(a)}),i("    order",function(){DMe(a)}),i("    insertSelfEdges",function(){(function(o){var s=Uu.buildLayerMatrix(o);Me.forEach(s,function(l){var u=0;Me.forEach(l,function(c,f){var d=o.node(c);d.order=f+u,Me.forEach(d.selfEdges,function(h){Uu.addDummyNode(o,"selfedge",{width:h.label.width,height:h.label.height,rank:d.rank,order:f+ ++u,e:h.e,label:h.label},"_se")}),delete d.selfEdges})})})(a)}),i("    adjustCoordinateSystem",function(){h$.adjust(a)}),i("    position",function(){KMe(a)}),i("    positionSelfEdges",function(){(function(o){Me.forEach(o.nodes(),function(s){var l=o.node(s);if(l.dummy==="selfedge"){var u=o.node(l.e.v),c=u.x+u.width/2,f=u.y,d=l.x-c,h=u.height/2;o.setEdge(l.e,l.label),o.removeNode(s),l.label.points=[{x:c+2*d/3,y:f-h},{x:c+5*d/6,y:f-h},{x:c+d,y:f},{x:c+5*d/6,y:f+h},{x:c+2*d/3,y:f+h}],l.label.x=l.x,l.label.y=l.y}})})(a)}),i("    removeBorderNodes",function(){(function(o){Me.forEach(o.nodes(),function(s){if(o.children(s).length){var l=o.node(s),u=o.node(l.borderTop),c=o.node(l.borderBottom),f=o.node(Me.last(l.borderLeft)),d=o.node(Me.last(l.borderRight));l.width=Math.abs(d.x-f.x),l.height=Math.abs(c.y-u.y),l.x=f.x+l.width/2,l.y=u.y+l.height/2}}),Me.forEach(o.nodes(),function(s){o.node(s).dummy==="border"&&o.removeNode(s)})})(a)}),i("    normalize.undo",function(){l$.undo(a)}),i("    fixupEdgeLabelCoords",function(){(function(o){Me.forEach(o.edges(),function(s){var l=o.edge(s);if(Me.has(l,"x"))switch(l.labelpos!=="l"&&l.labelpos!=="r"||(l.width-=l.labeloffset),l.labelpos){case"l":l.x-=l.width/2+l.labeloffset;break;case"r":l.x+=l.width/2+l.labeloffset}})})(a)}),i("    undoCoordinateSystem",function(){h$.undo(a)}),i("    translateGraph",function(){(function(o){var s=Number.POSITIVE_INFINITY,l=0,u=Number.POSITIVE_INFINITY,c=0,f=o.graph(),d=f.marginx||0,h=f.marginy||0;function v(p){var m=p.x,g=p.y,b=p.width,y=p.height;s=Math.min(s,m-b/2),l=Math.max(l,m+b/2),u=Math.min(u,g-y/2),c=Math.max(c,g+y/2)}Me.forEach(o.nodes(),function(p){v(o.node(p))}),Me.forEach(o.edges(),function(p){var m=o.edge(p);Me.has(m,"x")&&v(m)}),s-=d,u-=h,Me.forEach(o.nodes(),function(p){var m=o.node(p);m.x-=s,m.y-=u}),Me.forEach(o.edges(),function(p){var m=o.edge(p);Me.forEach(m.points,function(g){g.x-=s,g.y-=u}),Me.has(m,"x")&&(m.x-=s),Me.has(m,"y")&&(m.y-=u)}),f.width=l-s+d,f.height=c-u+h})(a)}),i("    assignNodeIntersects",function(){(function(o){Me.forEach(o.edges(),function(s){var l,u,c=o.edge(s),f=o.node(s.v),d=o.node(s.w);c.points?(l=c.points[0],u=c.points[c.points.length-1]):(c.points=[],l=d,u=f),c.points.unshift(Uu.intersectRect(f,l)),c.points.push(Uu.intersectRect(d,u))})})(a)}),i("    reversePoints",function(){(function(o){Me.forEach(o.edges(),function(s){var l=o.edge(s);l.reversed&&l.points.reverse()})})(a)}),i("    acyclic.undo",function(){a$.undo(a)})})(n,r)}),r("  updateInputGraph",function(){(function(a,i){Me.forEach(a.nodes(),function(o){var s=a.node(o),l=i.node(o);s&&(s.x=l.x,s.y=l.y,i.children(o).length&&(s.width=l.width,s.height=l.height))}),Me.forEach(a.edges(),function(o){var s=a.edge(o),l=i.edge(o);s.points=l.points,Me.has(l,"x")&&(s.x=l.x,s.y=l.y)}),a.graph().width=i.graph().width,a.graph().height=i.graph().height})(e,n)})})},JMe=["nodesep","edgesep","ranksep","marginx","marginy"],eTe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},tTe=["acyclicer","ranker","rankdir","align"],rTe=["width","height"],nTe={width:0,height:0},aTe=["minlen","weight","width","height","labeloffset"],iTe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},oTe=["labelpos"];function Px(e,t){return Me.mapValues(Me.pick(e,t),Number)}function Dx(e){var t={};return Me.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var sTe=Gs.Graph,g7={graphlib:Gs,layout:QMe,debug:{debugOrdering:function(e){var t=li.buildLayerMatrix(e),r=new sTe({compound:!0,multigraph:!0}).setGraph({});return Me.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),Me.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),Me.forEach(t,function(n,a){var i="layer"+a;r.setNode(i,{rank:"same"}),Me.reduce(n,function(o,s){return r.setEdge(o,s,{style:"invis"}),s})}),r}},util:{time:li.time,notime:li.notime},version:"0.8.5"},lTe=g7.graphlib,uTe=g7.layout;class cTe{constructor(t){this.cardinality=1,this.include=od.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=eo.NODE,this.name=t.name,this.attr=t.attr||{},this.inputs=t.inputs,this.path=t.path||[],this.width=t.width,this.height=t.height}}class fTe{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}function dTe(e){const t=new fTe;return e.nodes.map(r=>new cTe(r)).forEach(r=>{t.nodes[r.name]=r,r.inputs.forEach(n=>{(function(a,i,o){o.name!==i.name&&a.edges.push(Object.assign(Object.assign({},o.attr),{v:o.name,w:i.name}))})(t,r,n)})}),t}class hTe{constructor(t,r={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=od.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=eo.META,this.path=[],this.name=t,this.metaGraph=HA(t,ov.META,r)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(t=>this.metaGraph.node(t))}leaves(){let t,r=[],n=[this];for(;n.length;){let a=n.shift();a.isGroupNode?(t=a.metaGraph,t.nodes().forEach(i=>n.push(t.node(i)))):r.push(a.name)}return r}}class vTe{constructor(t,r){this.v=t,this.w=r,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(t,r){this.baseEdgeList.push(t)}}function m7(e,t={}){return new hTe(e,t)}function y7(e,t){return new vTe(e,t)}function HA(e,t,r){const n=r||{},a=new lTe.Graph(n);return a.setGraph({name:e,rankdir:n.rankdir,type:t,align:n.align}),a}class pTe{constructor(t={}){this.graphOptions=t,this.index={},this.graphOptions.compound=!0,this.root=m7(iv,this.graphOptions),this.index[iv]=this.root}getNodeMap(){return this.index}node(t){return this.index[t]}setNode(t,r){this.index[t]=r}getBridgeGraph(t){const r=this.index[t];if(!r)throw Error("Could not find node in hierarchy: "+t);if(!("metaGraph"in r))return null;const n=r;if(n.bridgeGraph)return n.bridgeGraph;const a=HA(lU,ov.BRIDGE,this.graphOptions);if(n.bridgeGraph=a,!r.parentNode||!("metaGraph"in r.parentNode))return a;const i=r.parentNode;return[i.metaGraph,this.getBridgeGraph(i.name)].forEach(o=>{o.edges().filter(s=>s.v===t||s.w===t).forEach(s=>{const l=s.w===t;o.edge(s).baseEdgeList.forEach(u=>{const[c,f]=l?[u.w,s.v]:[u.v,s.w],d=this.getChildName(t,c),h={v:l?f:d,w:l?d:f};let v=a.edge(h);v||(v=y7(h.v,h.w),v.inbound=l,a.setEdge(h.v,h.w,v)),v.addBaseEdge(u,this)})})}),a}getChildName(t,r){let n=this.index[r];for(;n;){if(n.parentNode&&n.parentNode.name===t)return n.name;n=n.parentNode}throw Error("Could not find immediate child for descendant: "+r)}getPredecessors(t){const r=this.index[t];if(!r)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(r,!0)}getSuccessors(t){const r=this.index[t];if(!r)throw Error("Could not find node with name: "+t);return this.getOneWayEdges(r,!1)}getOneWayEdges(t,r){const n=[];if(!t.parentNode||!t.parentNode.isGroupNode)return n;const a=t.parentNode,i=a.metaGraph,o=this.getBridgeGraph(a.name);return b$(i,t,r,n),b$(o,t,r,n),n}}function gTe(e,t){const{rankDirection:r,align:n}=t,a=new pTe({rankdir:r,align:n});return function(i,o){Object.keys(o.nodes).forEach(s=>{const l=o.nodes[s],u=l.path;let c=i.root;c.depth=Math.max(u.length,c.depth);for(let f=0;f<u.length&&(c.depth=Math.max(c.depth,u.length-f),c.cardinality+=l.cardinality,f!==u.length-1);f++){const d=u[f];let h=i.node(d);h||(h=m7(d,i.graphOptions),h.path=l.path.slice(0,f+1),h.parentNode=c,i.setNode(d,h),c.metaGraph.setNode(d,h)),c=h}i.setNode(l.name,l),l.parentNode=c,c.metaGraph.setNode(l.name,l)})}(a,e),function(i,o){const s=i.getNodeMap();let l=[],u=[];const c=(f,d)=>{let h=0;for(;f;)d[h++]=f.name,f=f.parentNode;return h-1};o.edges.forEach(f=>{l=[],u=[];let d=c(o.nodes[f.v],l),h=c(o.nodes[f.w],u);for(;l[d]===u[h];)if(d--,h--,d<0||h<0)throw Error("No difference found between ancestor paths.");const v=s[l[d+1]],p=l[d],m=u[h];let g=v.metaGraph.edge(p,m);g||(g=y7(p,m),v.metaGraph.setEdge(p,m,g)),g.addBaseEdge(f,i)})}(a,e),a}function b$(e,t,r,n){(r?e.inEdges(t.name):e.outEdges(t.name)).forEach(a=>{const i=e.edge(a);n.push(i)})}class mTe{constructor(t){this.hierarchy=t,this.index={},this.hasSubHierarchy={},this.root=new E$(this.hierarchy.root,this.hierarchy.graphOptions),this.index[t.root.name]=this.root,this.buildSubHierarchy(t.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(t){if(t in this.hasSubHierarchy)return;this.hasSubHierarchy[t]=!0;const r=this.index[t];if(r.node.type!==eo.META)return;const n=r,a=n.node.metaGraph,i=n.coreGraph;a.nodes().forEach(c=>{const f=this.getOrCreateRenderNodeByName(c);i.setNode(c,f)}),a.edges().forEach(c=>{const f=a.edge(c),d=new w$(f);i.setEdge(c.v,c.w,d)});const o=n.node.parentNode;if(!o)return;const s=this.getRenderNodeByName(o.name),l=(c,...f)=>f.concat([c?"IN":"OUT"]).join("~~"),u=this.hierarchy.getBridgeGraph(t);u.edges().forEach(c=>{const f=u.edge(c),d=!!a.node(c.w),[h,v]=d?[c.w,c.v]:[c.v,c.w],p=_=>{const x=d?{v:_,w:t}:{v:t,w:_};return s.coreGraph.edge(x)};let m=p(v);m||(m=p(l(d,v,o.name)));const g=l(d,t),b=l(d,v,t);let y=i.node(b);if(!y){let _=i.node(g);if(!_){const S={name:g,type:eo.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:od.UNSPECIFIED,inbound:d,attr:{}};_=new j1(S),this.index[g]=_,i.setNode(g,_)}const x={name:b,type:eo.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:od.UNSPECIFIED,inbound:d,attr:{}};y=new j1(x),this.index[b]=y,i.setNode(b,y),i.setParent(b,g),_.node.cardinality++}const w=new w$(f);w.adjoiningMetaEdge=m,d?i.setEdge(b,h,w):i.setEdge(h,b,w)})}getOrCreateRenderNodeByName(t){if(!t)return null;if(t in this.index)return this.index[t];const r=this.getNodeByName(t);return r?(this.index[t]=r.isGroupNode?new E$(r,this.hierarchy.graphOptions):new j1(r),this.index[t]):null}getRenderNodeByName(t){return this.index[t]}getNodeByName(t){return this.hierarchy.node(t)}}class j1{constructor(t){this.node=t,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=t.width||0,this.height=t.height||0,this.displayName=t.name,this.attr=t.attr}}class w${constructor(t){this.metaEdge=t,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class E$ extends j1{constructor(t,r){super(t);const n=t.metaGraph.graph();r.compound=!0,this.coreGraph=HA(n.name,ov.CORE,r)}}function b7(e,t){e.node.isGroupNode&&function(r,n){const a=GC(n);r.coreGraph.nodes().map(i=>r.coreGraph.node(i)).forEach(i=>{var o,s,l,u,c,f;const{height:d,width:h}=i;switch(i.node.type){case eo.NODE:Object.assign(i,a.nodeSize.node),i.height=d||a.nodeSize.node.height,i.width=h||a.nodeSize.node.width;break;case eo.BRIDGE:Object.assign(i,a.nodeSize.bridge);break;case eo.META:i.expanded?b7(i,n):(Object.assign(i,a.nodeSize.meta),i.height=a.nodeSize.meta.height,i.width=a.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+i.node.type)}if(!i.expanded){const v=i.attr;(function(p,m=!1){if(p.coreBox.width=p.width,p.coreBox.height=p.height,!m){const g=`${p.displayName}`.length,b=3;p.width=Math.max(p.coreBox.width,g*b)}})(i,n&&(i.node.type===0&&!!(!((s=(o=n==null?void 0:n.nodeSize)===null||o===void 0?void 0:o.meta)===null||s===void 0)&&s.width)||i.node.type===1&&(!!(!((u=(l=n==null?void 0:n.nodeSize)===null||l===void 0?void 0:l.node)===null||u===void 0)&&u.width)||!!v.width)||i.node.type===2&&!!(!((f=(c=n==null?void 0:n.nodeSize)===null||c===void 0?void 0:c.bridge)===null||f===void 0)&&f.width)))}})}(e,t),e.node.type===eo.META&&function(r,n){const a=GC(n),i=a.subScene.meta;Object.assign(r,i);const{nodeSep:o,rankSep:s,edgeSep:l,align:u}=a.graph.meta,c={nodesep:o,ranksep:s,edgesep:l,align:u};Object.assign(r.coreBox,function(h,v){const{ranksep:p,nodesep:m,edgesep:g,align:b}=v;Object.assign(h.graph(),{ranksep:p,nodesep:m,edgesep:g,align:b});const y=[];if(h.nodes().forEach(C=>{h.node(C).node.type!==eo.BRIDGE&&y.push(C)}),!y.length)return{width:0,height:0};uTe(h);let w=1/0,_=1/0,x=-1/0,S=-1/0;return y.forEach(C=>{const T=h.node(C),M=.5*T.width,k=T.x-M,A=T.x+M;w=k<w?k:w,x=A>x?A:x;const O=.5*T.height,P=T.y-O,R=T.y+O;_=P<_?P:_,S=R>S?R:S}),h.edges().forEach(C=>{const T=h.edge(C),M=h.node(T.metaEdge.v),k=h.node(T.metaEdge.w);if(T.points.length===3&&function(P){let R=_$(P[0],P[1]);for(let N=1;N<P.length-1;N++){const L=_$(P[N],P[N+1]);if(Math.abs(L-R)>1)return!1;R=L}return!0}(T.points)){if(M!=null){const P=M.expanded?M.x:ZC(M);T.points[0].x=P}if(k!=null){const P=k.expanded?k.x:ZC(k);T.points[2].x=P}T.points=[T.points[0],T.points[1]]}const A=T.points[T.points.length-2];k!=null&&(T.points[T.points.length-1]=x$(A,k));const O=T.points[1];M!=null&&(T.points[0]=x$(O,M)),T.points.forEach(P=>{w=P.x<w?P.x:w,x=P.x>x?P.x:x,_=P.y<_?P.y:_,S=P.y>S?P.y:S})}),h.nodes().forEach(C=>{const T=h.node(C);T.x-=w,T.y-=_}),h.edges().forEach(C=>{h.edge(C).points.forEach(T=>{T.x-=w,T.y-=_})}),{width:x-w,height:S-_}}(r.coreGraph,c));let f=0;r.coreGraph.nodeCount()>0&&f++;const d=f<=1?0:f;r.coreBox.width+=d+d,r.coreBox.height=i.labelHeight+r.coreBox.height,r.width=r.coreBox.width+i.paddingLeft+i.paddingRight,r.height=r.paddingTop+r.coreBox.height+r.paddingBottom}(e,t)}function _$(e,t){const r=t.x-e.x,n=t.y-e.y;return 180*Math.atan(n/r)/Math.PI}function ZC(e){return e.expanded?e.x:e.x-e.width/2+0+e.coreBox.width/2}function x$(e,t){const r=t.expanded?t.x:ZC(t),n=t.y,a=e.x-r,i=e.y-n;let o,s,l=t.expanded?t.width:t.coreBox.width,u=t.expanded?t.height:t.coreBox.height;return Math.abs(i)*l/2>Math.abs(a)*u/2?(i<0&&(u=-u),o=i===0?0:u/2*a/i,s=u/2):(a<0&&(l=-l),o=l/2,s=a===0?0:l/2*i/a),{x:r+o,y:n+s}}function yTe(e,t,r){var n,a,i,o;const s=e.nodes.filter((f,d,h)=>h.findIndex(v=>v.id===f.id)!==d).map(f=>f.id);if(s.length)throw new Error(`Duplicated ids found: ${s.join(", ")}`);const l=function(f){const d={nodes:[]},h=f.compound,v=Object.keys(h||{}),p=new Map,m=(b,y=[])=>{if(p.has(b))return p.get(b);for(let w=0;w<v.length;w++){let _=v[w];if(h&&h[_].indexOf(b)!==-1)return y.unshift(_),m(_,y)}return y.length===0&&p.set(b,y),y},g=b=>f.edges.filter(y=>y.w===b).map(y=>({name:y.v}));return f.nodes.forEach(b=>{const y=b.id,w=[...m(y),y];let _=g(y);d.nodes.push({name:y,path:w,inputs:_,width:b.width,height:b.height,attr:Object.assign({},b)})}),d}(e),u=function(f,d){const h=(p,m)=>{for(let g of m.values())if(g.includes(p))return!0;return!1},v=(p,m=[])=>{if(Object.keys(p).length===0)return[...new Set(m)];const g=new Map(Object.keys(p).map(y=>[y,p[y]])),b={};for(let[y,w]of g)h(y,g)?b[y]=w:m=m.concat(y,w);return v(b,m)};return v(f).filter(p=>d.includes(p))}(e.compound||{},(t==null?void 0:t.expanded)||[]),c=function(f,d){return function(h){return new mTe(h)}(gTe(dTe(f),d))}(l,{rankDirection:((a=(n=r==null?void 0:r.graph)===null||n===void 0?void 0:n.meta)===null||a===void 0?void 0:a.rankDir)||(t==null?void 0:t.rankDirection)||tw.graph.meta.rankDir,align:((o=(i=r==null?void 0:r.graph)===null||i===void 0?void 0:i.meta)===null||o===void 0?void 0:o.align)||tw.graph.meta.align});return function(f,d){d.forEach(h=>{const v=f.getRenderInfoNodes().find(g=>g.displayName===h);let p=v&&v.node&&v.node.name||"";const m=f.getRenderNodeByName(p);if(!m)throw new Error(`No nodes found: ${p}`);m.expanded=!0,f.buildSubHierarchy(p)})}(c,u),b7(c.root,r),w7(c.root)}function bTe(e,t=!1){const r=JSON.parse(JSON.stringify(e)),n={nodes:[r],edges:[...r.edges]};return r.nodes.forEach(function a(i){(i.type===0||i.type===1)&&n.nodes.push(i),i.type===0&&(n.edges=n.edges.concat(i.edges)),Array.isArray(i.nodes)&&i.nodes.forEach(a)}),t&&n.nodes.forEach(a=>{const i=n.nodes.find(o=>o.id===a.parentNodeName);if(i){const o=i.x-i.width/2+i.paddingLeft,s=i.y-i.height/2+i.labelHeight+i.paddingTop;i.id!==iv&&(a.x+=o,a.y+=s),a.type===0&&a.edges.forEach(l=>{l.points.forEach(u=>{u.x+=a.x-a.width/2+a.paddingLeft,u.y+=a.y-a.height/2+a.labelHeight+a.paddingTop})})}}),n}function wTe(e,t,r,n){var a,i;let o=[];const s=((a=r.find(f=>f.id===e))===null||a===void 0?void 0:a.path)||[],l=((i=r.find(f=>f.id===t))===null||i===void 0?void 0:i.path)||[],u=[iv,...s].slice(0,s.length).reverse(),c=[iv,...l].slice(0,l.length);return u.forEach(f=>{const d=r.find(h=>h.id===f);o=o.concat(d.edges.filter(h=>h.baseEdgeList.some(v=>v.v===((n==null?void 0:n.v)||e)&&v.w===((n==null?void 0:n.w)||t))))}),c.filter(f=>!u.includes(f)).forEach(f=>{const d=r.find(h=>h.id===f);o=o.concat(d.edges.filter(h=>h.baseEdgeList.some(v=>v.v===((n==null?void 0:n.v)||e)&&v.w===((n==null?void 0:n.w)||t))))}),o}function w7(e){const t=e.coreGraph.nodes().map(n=>e.coreGraph.node(n));return Object.assign(Object.assign({},S$(e)),{expanded:e.expanded,nodes:e.expanded?(r=t,r.map(n=>n.node.type===eo.META?w7(n):S$(n))):[],edges:e.expanded?ETe(e):[]});var r}function S$(e){return{id:e.node.name,name:e.node.name,type:e.node.type,cardinality:e.node.cardinality,attr:e.attr,parentNodeName:e.node.parentNode?e.node.parentNode.name:null,coreBox:Object.assign({},e.coreBox),x:e.x,y:e.y,width:e.width,height:e.height,radius:e.radius,labelHeight:e.labelHeight,labelOffset:e.labelOffset,outboxWidth:e.outboxWidth,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,paddingRight:e.paddingRight,paddingBottom:e.paddingBottom,path:e.node.path}}function ETe(e){return e.coreGraph.edges().map(t=>({renderInfoEdge:e.coreGraph.edge(t),edge:t})).filter(({renderInfoEdge:t})=>t.metaEdge).map(({edge:t,renderInfoEdge:r})=>{const n=function(a,i){const o=i.points.map(s=>Object.assign({},s));if(i.adjoiningMetaEdge){const s=i.adjoiningMetaEdge.points,l=i.metaEdge.inbound,u=l?s[s.length-1]:s[0],c=o[l?0:o.length-1],f=a.x-a.width/2,d=a.y-a.height/2,h=u.x-f,v=u.y-d,p=-a.paddingLeft,m=-(a.paddingTop+a.labelHeight);c.x=h+p,c.y=v+m}return o}(e,r);return{adjoiningEdge:r.adjoiningMetaEdge?{w:r.adjoiningMetaEdge.metaEdge.w,v:r.adjoiningMetaEdge.metaEdge.v}:null,inbound:r.metaEdge.inbound,w:t.w,v:t.v,points:n,weight:r.weight,baseEdgeList:r.metaEdge.baseEdgeList,parentNodeName:e.node.name}})}const _Te=Object.freeze(Object.defineProperty({__proto__:null,BRIDGE_GRAPH_NAME:lU,get GraphType(){return ov},get HierarchyNodeType(){return jC},get InclusionType(){return od},LAYOUT_CONFIG:tw,get NodeType(){return eo},ROOT_NAME:iv,buildGraph:yTe,flatGraph:bTe,getEdges:wTe,mergeConfig:GC},Symbol.toStringTag,{value:"Module"})),xTe=Nl(_Te);var STe=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ss=ht&&ht.__assign||function(){return Ss=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ss.apply(this,arguments)},Jd=ht&&ht.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(G0,"__esModule",{value:!0});G0.DagreCompoundLayout=void 0;var CTe=wa,Go=xTe,Ry=da(),MTe=function(e){STe(t,e);function t(r){var n=e.call(this)||this;return n.rankdir="TB",n.nodesep=50,n.edgesep=5,n.ranksep=50,n.controlPoints=!0,n.anchorPoint=!0,n.nodes=[],n.edges=[],n.combos=[],n.onLayoutEnd=function(){},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},t.prototype.init=function(r){var n=r.hiddenNodes||[],a=r.hiddenEdges||[],i=r.hiddenCombos||[];this.nodes=this.getDataByOrder((r.nodes||[]).concat(n)),this.edges=this.getDataByOrder((r.edges||[]).concat(a)),this.combos=(r.combos||[]).concat(i.map(function(o){return Ss(Ss({},o),{collapsed:!0})}))},t.prototype.execute=function(){var r=this,n=r.nodes,a=r.edges;if(n){var i=r.getLayoutConfig(),o=i.graphDef,s=i.graphOption,l=i.graphSettings,u=(0,Go.buildGraph)(o,s,l),c=(0,Go.flatGraph)(u,!0);return this.updatePosition(c),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:n,edges:a}}},t.prototype.getNodePath=function(r){var n=this,a=n.nodes,i=n.combos,o=a.find(function(l){return l.id===r}),s=function(l,u){u===void 0&&(u=[]);var c=i.find(function(f){return f.id===l});return c?(u.unshift(l),c.parentId?s(c.parentId,u):u):u};return o&&o.comboId?s(o.comboId,[r]):[r]},t.prototype.getLayoutConfig=function(){var r,n,a,i=this,o=i.nodes,s=i.edges,l=i.combos,u=i.nodeSize,c=i.rankdir,f=i.align,d=i.edgesep,h=i.nodesep,v=i.ranksep,p=i.settings,m=(l||[]).reduce(function(N,L){var B=o.filter(function(D){return D.comboId===L.id}).map(function(D){return D.id}),I=(l||[]).filter(function(D){return D.parentId===L.id}).map(function(D){return D.id});return(B.length||I.length)&&(N[L.id]=Jd(Jd([],B,!0),I,!0)),N},{}),g;u?(0,Ry.isArray)(u)?g=function(){return u}:g=function(){return[u,u]}:g=function(N){return N&&N.size?(0,Ry.isArray)(N.size)?N.size:(0,Ry.isObject)(N.size)?[N.size.width||40,N.size.height||40]:[N.size,N.size]:[40,40]};var b=function(N){return N&&N.size?(0,Ry.isArray)(N.size)?N.size:[N.size,N.size]:[80,40]},y=b(l==null?void 0:l[0]),w=y[0],_=y[1],x=(n=(r=i.graphSettings)===null||r===void 0?void 0:r.subScene)===null||n===void 0?void 0:n.meta,S=((a=l.find(function(N){return!N.collapsed}))===null||a===void 0?void 0:a.padding)||[20,20,20,20],C=S[0],T=S[1],M=S[2],k=S[3],A={compound:m,nodes:Jd([],(o||[]).map(function(N){var L=g(N),B=L[0],I=L[1];return Ss(Ss({},N),{width:B,height:I})}),!0),edges:Jd([],(s||[]).map(function(N){return Ss(Ss({},N),{v:N.source,w:N.target})}),!0)},O={expanded:(l||[]).filter(function(N){return!N.collapsed}).map(function(N){return N.id})},P={graph:{meta:{align:f,rankDir:c,nodeSep:h,edgeSep:d,rankSep:v}},subScene:{meta:{paddingTop:C||(x==null?void 0:x.paddingTop)||20,paddingRight:T||(x==null?void 0:x.paddingRight)||20,paddingBottom:M||(x==null?void 0:x.paddingBottom)||20,paddingLeft:k||(x==null?void 0:x.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:w,height:_}}},R=(0,Go.mergeConfig)(p,Ss({},(0,Go.mergeConfig)(P,Go.LAYOUT_CONFIG)));return i.graphSettings=R,{graphDef:A,graphOption:O,graphSettings:R}},t.prototype.updatePosition=function(r){var n=r.nodes,a=r.edges;this.updateNodePosition(n,a),this.updateEdgePosition(n,a)},t.prototype.getBegin=function(r,n){var a=this,i=a.begin,o=[0,0];if(i){var s=1/0,l=1/0;r.forEach(function(u){s>u.x&&(s=u.x),l>u.y&&(l=u.y)}),n.forEach(function(u){u.points.forEach(function(c){s>c.x&&(s=c.x),l>c.y&&(l=c.y)})}),o[0]=i[0]-s,o[1]=i[1]-l}return o},t.prototype.updateNodePosition=function(r,n){var a=this,i=a.combos,o=a.nodes,s=a.edges,l=a.anchorPoint,u=a.graphSettings,c=this.getBegin(r,n);r.forEach(function(f){var d,h=f.x,v=f.y,p=f.id,m=f.type,g=f.coreBox;if(m===Go.HierarchyNodeType.META&&p!==Go.ROOT_NAME){var b=i.findIndex(function(S){return S.id===p}),y=(d=u==null?void 0:u.subScene)===null||d===void 0?void 0:d.meta;i[b].offsetX=h+c[0],i[b].offsetY=v+c[1],i[b].fixSize=[g.width,g.height],i[b].fixCollapseSize=[g.width,g.height],f.expanded?i[b].padding=[y==null?void 0:y.paddingTop,y==null?void 0:y.paddingRight,y==null?void 0:y.paddingBottom,y==null?void 0:y.paddingLeft]:i[b].padding=[0,0,0,0]}else if(m===Go.HierarchyNodeType.OP){var b=o.findIndex(function(C){return C.id===p});if(o[b].x=h+c[0],o[b].y=v+c[1],l){var w=[],_=n.filter(function(C){return C.v===p}),x=n.filter(function(C){return C.w===p});_.length>0&&_.forEach(function(C){var T=C.points[0],M=(T.x-h)/f.width+.5,k=(T.y-v)/f.height+.5;w.push([M,k]),C.baseEdgeList.forEach(function(A){var O=s.find(function(P){return P.source===A.v&&P.target===A.w});O&&(O.sourceAnchor=w.length-1)})}),x.length>0&&x.forEach(function(C){var T=C.points[C.points.length-1],M=(T.x-h)/f.width+.5,k=(T.y-v)/f.height+.5;w.push([M,k]),C.baseEdgeList.forEach(function(A){var O=s.find(function(P){return P.source===A.v&&P.target===A.w});O&&(O.targetAnchor=w.length-1)})}),o[b].anchorPoints=w.length>0?w:o[b].anchorPoints||[]}}})},t.prototype.updateEdgePosition=function(r,n){var a=this,i=a.combos,o=a.edges,s=a.controlPoints,l=this.getBegin(r,n);s&&(i.forEach(function(u){u.inEdges=[],u.outEdges=[]}),o.forEach(function(u){var c,f,d,h,v=r.find(function(S){return S.id===u.source}),p=r.find(function(S){return S.id===u.target}),m=[],g=[];if(v&&p)g=(0,Go.getEdges)(v==null?void 0:v.id,p==null?void 0:p.id,r);else if(!v||!p){var b=a.getNodePath(u.source),y=a.getNodePath(u.target),w=b.reverse().slice(v?0:1).find(function(S){return r.find(function(C){return C.id===S})}),_=y.reverse().slice(p?0:1).find(function(S){return r.find(function(C){return C.id===S})});v=r.find(function(S){return S.id===w}),p=r.find(function(S){return S.id===_}),g=(0,Go.getEdges)(v==null?void 0:v.id,p==null?void 0:p.id,r,{v:u.source,w:u.target})}if(m=g.reduce(function(S,C){return Jd(Jd([],S,!0),C.points.map(function(T){return Ss(Ss({},T),{x:T.x+l[0],y:T.y+l[1]})}),!0)},[]),m=m.slice(1,-1),u.controlPoints=m,(p==null?void 0:p.type)===Go.NodeType.META){var x=i.findIndex(function(S){return S.id===(p==null?void 0:p.id)});if(!i[x]||!((c=i[x].inEdges)===null||c===void 0)&&c.some(function(S){return S.source===v.id&&S.target===p.id}))return;(f=i[x].inEdges)===null||f===void 0||f.push({source:v.id,target:p.id,controlPoints:m})}if((v==null?void 0:v.type)===Go.NodeType.META){var x=i.findIndex(function(C){return C.id===(v==null?void 0:v.id)});if(!i[x]||!((d=i[x].outEdges)===null||d===void 0)&&d.some(function(C){return C.source===v.id&&C.target===p.id}))return;(h=i[x].outEdges)===null||h===void 0||h.push({source:v.id,target:p.id,controlPoints:m})}}))},t.prototype.getType=function(){return"dagreCompound"},t.prototype.getDataByOrder=function(r){return r.every(function(n){return n.layoutOrder!==void 0})||r.forEach(function(n,a){n.layoutOrder=a}),r.sort(function(n,a){return n.layoutOrder-a.layoutOrder})},t}(CTe.Base);G0.DagreCompoundLayout=MTe;var YA={},qE={},KA={};const TTe=Object.prototype.toString;function uw(e){const t=TTe.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function kTe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!uw(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,a=t.toIndex,i=a===void 0?e.length:a;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[n],s=n+1;s<i;s++)e[s]>o&&(o=e[s]);return o}function ATe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!uw(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,a=t.toIndex,i=a===void 0?e.length:a;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[n],s=n+1;s<i;s++)e[s]<o&&(o=e[s]);return o}function C$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(uw(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(t.output!==void 0){if(!uw(t.output))throw new TypeError("output option must be an array if specified");r=t.output}else r=new Array(e.length);var n=ATe(e),a=kTe(e);if(n===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=t.min,o=i===void 0?t.autoMinMax?n:0:i,s=t.max,l=s===void 0?t.autoMinMax?a:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(a-n),c=0;c<e.length;c++)r[c]=(e[c]-n)*u+o;return r}const $y=" ".repeat(2),E7=" ".repeat(4);function ITe(){return _7(this)}function _7(e,t={}){const{maxRows:r=15,maxColumns:n=10,maxNumSize:a=8}=t;return`${e.constructor.name} {
${$y}[
${E7}${OTe(e,r,n,a)}
${$y}]
${$y}rows: ${e.rows}
${$y}columns: ${e.columns}
}`}function OTe(e,t,r,n){const{rows:a,columns:i}=e,o=Math.min(a,t),s=Math.min(i,r),l=[];for(let u=0;u<o;u++){let c=[];for(let f=0;f<s;f++)c.push(LTe(e.get(u,f),n));l.push(`${c.join(" ")}`)}return s!==i&&(l[l.length-1]+=` ... ${i-r} more columns`),o!==a&&l.push(`... ${a-t} more rows`),l.join(`
${E7}`)}function LTe(e,t){const r=String(e);if(r.length<=t)return r.padEnd(t," ");const n=e.toPrecision(t-2);if(n.length<=t)return n;const a=e.toExponential(t-2),i=a.indexOf("e"),o=a.slice(i);return a.slice(0,t-o.length)+o}function NTe(e,t){e.prototype.add=function(n){return typeof n=="number"?this.addS(n):this.addM(n)},e.prototype.addS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)+n);return this},e.prototype.addM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)+n.get(a,i));return this},e.add=function(n,a){return new t(n).add(a)},e.prototype.sub=function(n){return typeof n=="number"?this.subS(n):this.subM(n)},e.prototype.subS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)-n);return this},e.prototype.subM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)-n.get(a,i));return this},e.sub=function(n,a){return new t(n).sub(a)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(n){return typeof n=="number"?this.mulS(n):this.mulM(n)},e.prototype.mulS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)*n);return this},e.prototype.mulM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)*n.get(a,i));return this},e.mul=function(n,a){return new t(n).mul(a)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(n){return typeof n=="number"?this.divS(n):this.divM(n)},e.prototype.divS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)/n);return this},e.prototype.divM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)/n.get(a,i));return this},e.div=function(n,a){return new t(n).div(a)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(n){return typeof n=="number"?this.modS(n):this.modM(n)},e.prototype.modS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)%n);return this},e.prototype.modM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)%n.get(a,i));return this},e.mod=function(n,a){return new t(n).mod(a)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(n){return typeof n=="number"?this.andS(n):this.andM(n)},e.prototype.andS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)&n);return this},e.prototype.andM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)&n.get(a,i));return this},e.and=function(n,a){return new t(n).and(a)},e.prototype.or=function(n){return typeof n=="number"?this.orS(n):this.orM(n)},e.prototype.orS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)|n);return this},e.prototype.orM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)|n.get(a,i));return this},e.or=function(n,a){return new t(n).or(a)},e.prototype.xor=function(n){return typeof n=="number"?this.xorS(n):this.xorM(n)},e.prototype.xorS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)^n);return this},e.prototype.xorM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)^n.get(a,i));return this},e.xor=function(n,a){return new t(n).xor(a)},e.prototype.leftShift=function(n){return typeof n=="number"?this.leftShiftS(n):this.leftShiftM(n)},e.prototype.leftShiftS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)<<n);return this},e.prototype.leftShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)<<n.get(a,i));return this},e.leftShift=function(n,a){return new t(n).leftShift(a)},e.prototype.signPropagatingRightShift=function(n){return typeof n=="number"?this.signPropagatingRightShiftS(n):this.signPropagatingRightShiftM(n)},e.prototype.signPropagatingRightShiftS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)>>n);return this},e.prototype.signPropagatingRightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)>>n.get(a,i));return this},e.signPropagatingRightShift=function(n,a){return new t(n).signPropagatingRightShift(a)},e.prototype.rightShift=function(n){return typeof n=="number"?this.rightShiftS(n):this.rightShiftM(n)},e.prototype.rightShiftS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)>>>n);return this},e.prototype.rightShiftM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,this.get(a,i)>>>n.get(a,i));return this},e.rightShift=function(n,a){return new t(n).rightShift(a)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,~this.get(n,a));return this},e.not=function(n){return new t(n).not()},e.prototype.abs=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.abs(this.get(n,a)));return this},e.abs=function(n){return new t(n).abs()},e.prototype.acos=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.acos(this.get(n,a)));return this},e.acos=function(n){return new t(n).acos()},e.prototype.acosh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.acosh(this.get(n,a)));return this},e.acosh=function(n){return new t(n).acosh()},e.prototype.asin=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.asin(this.get(n,a)));return this},e.asin=function(n){return new t(n).asin()},e.prototype.asinh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.asinh(this.get(n,a)));return this},e.asinh=function(n){return new t(n).asinh()},e.prototype.atan=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.atan(this.get(n,a)));return this},e.atan=function(n){return new t(n).atan()},e.prototype.atanh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.atanh(this.get(n,a)));return this},e.atanh=function(n){return new t(n).atanh()},e.prototype.cbrt=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cbrt(this.get(n,a)));return this},e.cbrt=function(n){return new t(n).cbrt()},e.prototype.ceil=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.ceil(this.get(n,a)));return this},e.ceil=function(n){return new t(n).ceil()},e.prototype.clz32=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.clz32(this.get(n,a)));return this},e.clz32=function(n){return new t(n).clz32()},e.prototype.cos=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cos(this.get(n,a)));return this},e.cos=function(n){return new t(n).cos()},e.prototype.cosh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.cosh(this.get(n,a)));return this},e.cosh=function(n){return new t(n).cosh()},e.prototype.exp=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.exp(this.get(n,a)));return this},e.exp=function(n){return new t(n).exp()},e.prototype.expm1=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.expm1(this.get(n,a)));return this},e.expm1=function(n){return new t(n).expm1()},e.prototype.floor=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.floor(this.get(n,a)));return this},e.floor=function(n){return new t(n).floor()},e.prototype.fround=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.fround(this.get(n,a)));return this},e.fround=function(n){return new t(n).fround()},e.prototype.log=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log(this.get(n,a)));return this},e.log=function(n){return new t(n).log()},e.prototype.log1p=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log1p(this.get(n,a)));return this},e.log1p=function(n){return new t(n).log1p()},e.prototype.log10=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log10(this.get(n,a)));return this},e.log10=function(n){return new t(n).log10()},e.prototype.log2=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.log2(this.get(n,a)));return this},e.log2=function(n){return new t(n).log2()},e.prototype.round=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.round(this.get(n,a)));return this},e.round=function(n){return new t(n).round()},e.prototype.sign=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sign(this.get(n,a)));return this},e.sign=function(n){return new t(n).sign()},e.prototype.sin=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sin(this.get(n,a)));return this},e.sin=function(n){return new t(n).sin()},e.prototype.sinh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sinh(this.get(n,a)));return this},e.sinh=function(n){return new t(n).sinh()},e.prototype.sqrt=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.sqrt(this.get(n,a)));return this},e.sqrt=function(n){return new t(n).sqrt()},e.prototype.tan=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.tan(this.get(n,a)));return this},e.tan=function(n){return new t(n).tan()},e.prototype.tanh=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.tanh(this.get(n,a)));return this},e.tanh=function(n){return new t(n).tanh()},e.prototype.trunc=function(){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.trunc(this.get(n,a)));return this},e.trunc=function(n){return new t(n).trunc()},e.pow=function(n,a){return new t(n).pow(a)},e.prototype.pow=function(n){return typeof n=="number"?this.powS(n):this.powM(n)},e.prototype.powS=function(n){for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,Math.pow(this.get(a,i),n));return this},e.prototype.powM=function(n){if(n=t.checkMatrix(n),this.rows!==n.rows||this.columns!==n.columns)throw new RangeError("Matrices dimensions must be equal");for(let a=0;a<this.rows;a++)for(let i=0;i<this.columns;i++)this.set(a,i,Math.pow(this.get(a,i),n.get(a,i)));return this}}function Yo(e,t,r){let n=r?e.rows:e.rows-1;if(t<0||t>n)throw new RangeError("Row index out of range")}function Ko(e,t,r){let n=r?e.columns:e.columns-1;if(t<0||t>n)throw new RangeError("Column index out of range")}function ph(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function gh(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function x7(e,t,r){return{row:S7(e,t),column:C7(e,r)}}function S7(e,t){if(typeof t!="object")throw new TypeError("unexpected type for row indices");if(t.some(n=>n<0||n>=e.rows))throw new RangeError("row indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function C7(e,t){if(typeof t!="object")throw new TypeError("unexpected type for column indices");if(t.some(n=>n<0||n>=e.columns))throw new RangeError("column indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function QC(e,t,r,n,a){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(By("startRow",t),By("endRow",r),By("startColumn",n),By("endColumn",a),t>r||n>a||t<0||t>=e.rows||r<0||r>=e.rows||n<0||n>=e.columns||a<0||a>=e.columns)throw new RangeError("Submatrix indices are out of range")}function ZE(e,t=0){let r=[];for(let n=0;n<e;n++)r.push(t);return r}function By(e,t){if(typeof t!="number")throw new TypeError(`${e} must be a number`)}function PTe(e){let t=ZE(e.rows);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[r]+=e.get(r,n);return t}function DTe(e){let t=ZE(e.columns);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[n]+=e.get(r,n);return t}function RTe(e){let t=0;for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)t+=e.get(r,n);return t}function $Te(e){let t=ZE(e.rows,1);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[r]*=e.get(r,n);return t}function BTe(e){let t=ZE(e.columns,1);for(let r=0;r<e.rows;++r)for(let n=0;n<e.columns;++n)t[n]*=e.get(r,n);return t}function FTe(e){let t=1;for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)t*=e.get(r,n);return t}function zTe(e,t,r){const n=e.rows,a=e.columns,i=[];for(let o=0;o<n;o++){let s=0,l=0,u=0;for(let c=0;c<a;c++)u=e.get(o,c)-r[o],s+=u,l+=u*u;t?i.push((l-s*s/a)/(a-1)):i.push((l-s*s/a)/a)}return i}function GTe(e,t,r){const n=e.rows,a=e.columns,i=[];for(let o=0;o<a;o++){let s=0,l=0,u=0;for(let c=0;c<n;c++)u=e.get(c,o)-r[o],s+=u,l+=u*u;t?i.push((l-s*s/n)/(n-1)):i.push((l-s*s/n)/n)}return i}function jTe(e,t,r){const n=e.rows,a=e.columns,i=n*a;let o=0,s=0,l=0;for(let u=0;u<n;u++)for(let c=0;c<a;c++)l=e.get(u,c)-r,o+=l,s+=l*l;return t?(s-o*o/i)/(i-1):(s-o*o/i)/i}function VTe(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t[r])}function UTe(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t[n])}function WTe(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t)}function HTe(e){const t=[];for(let r=0;r<e.rows;r++){let n=0;for(let a=0;a<e.columns;a++)n+=Math.pow(e.get(r,a),2)/(e.columns-1);t.push(Math.sqrt(n))}return t}function YTe(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t[r])}function KTe(e){const t=[];for(let r=0;r<e.columns;r++){let n=0;for(let a=0;a<e.rows;a++)n+=Math.pow(e.get(a,r),2)/(e.rows-1);t.push(Math.sqrt(n))}return t}function XTe(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t[n])}function qTe(e){const t=e.size-1;let r=0;for(let n=0;n<e.columns;n++)for(let a=0;a<e.rows;a++)r+=Math.pow(e.get(a,n),2)/t;return Math.sqrt(r)}function ZTe(e,t){for(let r=0;r<e.rows;r++)for(let n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t)}class dn{static from1DArray(t,r,n){if(t*r!==n.length)throw new RangeError("data length does not match given dimensions");let i=new mr(t,r);for(let o=0;o<t;o++)for(let s=0;s<r;s++)i.set(o,s,n[o*r+s]);return i}static rowVector(t){let r=new mr(1,t.length);for(let n=0;n<t.length;n++)r.set(0,n,t[n]);return r}static columnVector(t){let r=new mr(t.length,1);for(let n=0;n<t.length;n++)r.set(n,0,t[n]);return r}static zeros(t,r){return new mr(t,r)}static ones(t,r){return new mr(t,r).fill(1)}static rand(t,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");const{random:a=Math.random}=n;let i=new mr(t,r);for(let o=0;o<t;o++)for(let s=0;s<r;s++)i.set(o,s,a());return i}static randInt(t,r,n={}){if(typeof n!="object")throw new TypeError("options must be an object");const{min:a=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(a))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(a>=i)throw new RangeError("min must be smaller than max");let s=i-a,l=new mr(t,r);for(let u=0;u<t;u++)for(let c=0;c<r;c++){let f=a+Math.round(o()*s);l.set(u,c,f)}return l}static eye(t,r,n){r===void 0&&(r=t),n===void 0&&(n=1);let a=Math.min(t,r),i=this.zeros(t,r);for(let o=0;o<a;o++)i.set(o,o,n);return i}static diag(t,r,n){let a=t.length;r===void 0&&(r=a),n===void 0&&(n=r);let i=Math.min(a,r,n),o=this.zeros(r,n);for(let s=0;s<i;s++)o.set(s,s,t[s]);return o}static min(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);let n=t.rows,a=t.columns,i=new mr(n,a);for(let o=0;o<n;o++)for(let s=0;s<a;s++)i.set(o,s,Math.min(t.get(o,s),r.get(o,s)));return i}static max(t,r){t=this.checkMatrix(t),r=this.checkMatrix(r);let n=t.rows,a=t.columns,i=new this(n,a);for(let o=0;o<n;o++)for(let s=0;s<a;s++)i.set(o,s,Math.max(t.get(o,s),r.get(o,s)));return i}static checkMatrix(t){return dn.isMatrix(t)?t:new mr(t)}static isMatrix(t){return t!=null&&t.klass==="Matrix"}get size(){return this.rows*this.columns}apply(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.call(this,r,n);return this}to1DArray(){let t=[];for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.push(this.get(r,n));return t}to2DArray(){let t=[];for(let r=0;r<this.rows;r++){t.push([]);for(let n=0;n<this.columns;n++)t[r].push(this.get(r,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}isEchelonForm(){let t=0,r=0,n=-1,a=!0,i=!1;for(;t<this.rows&&a;){for(r=0,i=!1;r<this.columns&&i===!1;)this.get(t,r)===0?r++:this.get(t,r)===1&&r>n?(i=!0,n=r):(a=!1,i=!0);t++}return a}isReducedEchelonForm(){let t=0,r=0,n=-1,a=!0,i=!1;for(;t<this.rows&&a;){for(r=0,i=!1;r<this.columns&&i===!1;)this.get(t,r)===0?r++:this.get(t,r)===1&&r>n?(i=!0,n=r):(a=!1,i=!0);for(let o=r+1;o<this.rows;o++)this.get(t,o)!==0&&(a=!1);t++}return a}echelonForm(){let t=this.clone(),r=0,n=0;for(;r<t.rows&&n<t.columns;){let a=r;for(let i=r;i<t.rows;i++)t.get(i,n)>t.get(a,n)&&(a=i);if(t.get(a,n)===0)n++;else{t.swapRows(r,a);let i=t.get(r,n);for(let o=n;o<t.columns;o++)t.set(r,o,t.get(r,o)/i);for(let o=r+1;o<t.rows;o++){let s=t.get(o,n)/t.get(r,n);t.set(o,n,0);for(let l=n+1;l<t.columns;l++)t.set(o,l,t.get(o,l)-t.get(r,l)*s)}r++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),r=t.columns,n=t.rows,a=n-1;for(;a>=0;)if(t.maxRow(a)===0)a--;else{let i=0,o=!1;for(;i<n&&o===!1;)t.get(a,i)===1?o=!0:i++;for(let s=0;s<a;s++){let l=t.get(s,i);for(let u=i;u<r;u++){let c=t.get(s,u)-l*t.get(a,u);t.set(s,u,c)}}a--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{rows:r=1,columns:n=1}=t;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let a=new mr(this.rows*r,this.columns*n);for(let i=0;i<r;i++)for(let o=0;o<n;o++)a.setSubMatrix(this,this.rows*i,this.columns*o);return a}fill(t){for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,t);return this}neg(){return this.mulS(-1)}getRow(t){Yo(this,t);let r=[];for(let n=0;n<this.columns;n++)r.push(this.get(t,n));return r}getRowVector(t){return mr.rowVector(this.getRow(t))}setRow(t,r){Yo(this,t),r=ph(this,r);for(let n=0;n<this.columns;n++)this.set(t,n,r[n]);return this}swapRows(t,r){Yo(this,t),Yo(this,r);for(let n=0;n<this.columns;n++){let a=this.get(t,n);this.set(t,n,this.get(r,n)),this.set(r,n,a)}return this}getColumn(t){Ko(this,t);let r=[];for(let n=0;n<this.rows;n++)r.push(this.get(n,t));return r}getColumnVector(t){return mr.columnVector(this.getColumn(t))}setColumn(t,r){Ko(this,t),r=gh(this,r);for(let n=0;n<this.rows;n++)this.set(n,t,r[n]);return this}swapColumns(t,r){Ko(this,t),Ko(this,r);for(let n=0;n<this.rows;n++){let a=this.get(n,t);this.set(n,t,this.get(n,r)),this.set(n,r,a)}return this}addRowVector(t){t=ph(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+t[n]);return this}subRowVector(t){t=ph(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-t[n]);return this}mulRowVector(t){t=ph(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*t[n]);return this}divRowVector(t){t=ph(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/t[n]);return this}addColumnVector(t){t=gh(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+t[r]);return this}subColumnVector(t){t=gh(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-t[r]);return this}mulColumnVector(t){t=gh(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*t[r]);return this}divColumnVector(t){t=gh(this,t);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/t[r]);return this}mulRow(t,r){Yo(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*r);return this}mulColumn(t,r){Ko(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*r);return this}max(){let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n));return t}maxIndex(){let t=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),r[0]=n,r[1]=a);return r}min(){let t=this.get(0,0);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n));return t}minIndex(){let t=this.get(0,0),r=[0,0];for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),r[0]=n,r[1]=a);return r}maxRow(t){Yo(this,t);let r=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>r&&(r=this.get(t,n));return r}maxRowIndex(t){Yo(this,t);let r=this.get(t,0),n=[t,0];for(let a=1;a<this.columns;a++)this.get(t,a)>r&&(r=this.get(t,a),n[1]=a);return n}minRow(t){Yo(this,t);let r=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<r&&(r=this.get(t,n));return r}minRowIndex(t){Yo(this,t);let r=this.get(t,0),n=[t,0];for(let a=1;a<this.columns;a++)this.get(t,a)<r&&(r=this.get(t,a),n[1]=a);return n}maxColumn(t){Ko(this,t);let r=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>r&&(r=this.get(n,t));return r}maxColumnIndex(t){Ko(this,t);let r=this.get(0,t),n=[0,t];for(let a=1;a<this.rows;a++)this.get(a,t)>r&&(r=this.get(a,t),n[0]=a);return n}minColumn(t){Ko(this,t);let r=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<r&&(r=this.get(n,t));return r}minColumnIndex(t){Ko(this,t);let r=this.get(0,t),n=[0,t];for(let a=1;a<this.rows;a++)this.get(a,t)<r&&(r=this.get(a,t),n[0]=a);return n}diag(){let t=Math.min(this.rows,this.columns),r=[];for(let n=0;n<t;n++)r.push(this.get(n,n));return r}norm(t="frobenius"){let r=0;if(t==="max")return this.max();if(t==="frobenius"){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)r=r+this.get(n,a)*this.get(n,a);return Math.sqrt(r)}else throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t+=this.get(r,n),this.set(r,n,t);return this}dot(t){dn.isMatrix(t)&&(t=t.to1DArray());let r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let a=0;a<r.length;a++)n+=r[a]*t[a];return n}mmul(t){t=mr.checkMatrix(t);let r=this.rows,n=this.columns,a=t.columns,i=new mr(r,a),o=new Float64Array(n);for(let s=0;s<a;s++){for(let l=0;l<n;l++)o[l]=t.get(l,s);for(let l=0;l<r;l++){let u=0;for(let c=0;c<n;c++)u+=this.get(l,c)*o[c];i.set(l,s,u)}}return i}strassen2x2(t){t=mr.checkMatrix(t);let r=new mr(2,2);const n=this.get(0,0),a=t.get(0,0),i=this.get(0,1),o=t.get(0,1),s=this.get(1,0),l=t.get(1,0),u=this.get(1,1),c=t.get(1,1),f=(n+u)*(a+c),d=(s+u)*a,h=n*(o-c),v=u*(l-a),p=(n+i)*c,m=(s-n)*(a+o),g=(i-u)*(l+c),b=f+v-p+g,y=h+p,w=d+v,_=f-d+h+m;return r.set(0,0,b),r.set(0,1,y),r.set(1,0,w),r.set(1,1,_),r}strassen3x3(t){t=mr.checkMatrix(t);let r=new mr(3,3);const n=this.get(0,0),a=this.get(0,1),i=this.get(0,2),o=this.get(1,0),s=this.get(1,1),l=this.get(1,2),u=this.get(2,0),c=this.get(2,1),f=this.get(2,2),d=t.get(0,0),h=t.get(0,1),v=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),b=t.get(2,0),y=t.get(2,1),w=t.get(2,2),_=(n+a+i-o-s-c-f)*m,x=(n-o)*(-h+m),S=s*(-d+h+p-m-g-b+w),C=(-n+o+s)*(d-h+m),T=(o+s)*(-d+h),M=n*d,k=(-n+u+c)*(d-v+g),A=(-n+u)*(v-g),O=(u+c)*(-d+v),P=(n+a+i-s-l-u-c)*g,R=c*(-d+v+p-m-g-b+y),N=(-i+c+f)*(m+b-y),L=(i-f)*(m-y),B=i*b,I=(c+f)*(-b+y),D=(-i+s+l)*(g+b-w),z=(i-l)*(g-w),U=(s+l)*(-b+w),H=a*p,Y=l*y,ie=o*v,X=u*h,re=f*w,oe=M+B+H,Ne=_+C+T+M+N+B+I,me=M+k+O+P+B+D+U,xe=x+S+C+M+B+D+z,ze=x+C+T+M+Y,te=B+D+z+U+ie,le=M+k+A+R+N+L+B,Ae=N+L+B+I+X,Ve=M+k+A+O+re;return r.set(0,0,oe),r.set(0,1,Ne),r.set(0,2,me),r.set(1,0,xe),r.set(1,1,ze),r.set(1,2,te),r.set(2,0,le),r.set(2,1,Ae),r.set(2,2,Ve),r}mmulStrassen(t){t=mr.checkMatrix(t);let r=this.clone(),n=r.rows,a=r.columns,i=t.rows,o=t.columns;a!==i&&console.warn(`Multiplying ${n} x ${a} and ${i} x ${o} matrix: dimensions do not match.`);function s(f,d,h){let v=f.rows,p=f.columns;if(v===d&&p===h)return f;{let m=dn.zeros(d,h);return m=m.setSubMatrix(f,0,0),m}}let l=Math.max(n,i),u=Math.max(a,o);r=s(r,l,u),t=s(t,l,u);function c(f,d,h,v){if(h<=512||v<=512)return f.mmul(d);h%2===1&&v%2===1?(f=s(f,h+1,v+1),d=s(d,h+1,v+1)):h%2===1?(f=s(f,h+1,v),d=s(d,h+1,v)):v%2===1&&(f=s(f,h,v+1),d=s(d,h,v+1));let p=parseInt(f.rows/2,10),m=parseInt(f.columns/2,10),g=f.subMatrix(0,p-1,0,m-1),b=d.subMatrix(0,p-1,0,m-1),y=f.subMatrix(0,p-1,m,f.columns-1),w=d.subMatrix(0,p-1,m,d.columns-1),_=f.subMatrix(p,f.rows-1,0,m-1),x=d.subMatrix(p,d.rows-1,0,m-1),S=f.subMatrix(p,f.rows-1,m,f.columns-1),C=d.subMatrix(p,d.rows-1,m,d.columns-1),T=c(dn.add(g,S),dn.add(b,C),p,m),M=c(dn.add(_,S),b,p,m),k=c(g,dn.sub(w,C),p,m),A=c(S,dn.sub(x,b),p,m),O=c(dn.add(g,y),C,p,m),P=c(dn.sub(_,g),dn.add(b,w),p,m),R=c(dn.sub(y,S),dn.add(x,C),p,m),N=dn.add(T,A);N.sub(O),N.add(R);let L=dn.add(k,O),B=dn.add(M,A),I=dn.sub(T,M);I.add(k),I.add(P);let D=dn.zeros(2*N.rows,2*N.columns);return D=D.setSubMatrix(N,0,0),D=D.setSubMatrix(L,N.rows,0),D=D.setSubMatrix(B,0,N.columns),D=D.setSubMatrix(I,N.rows,N.columns),D.subMatrix(0,h-1,0,v-1)}return c(r,t,l,u)}scaleRows(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:r=0,max:n=1}=t;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let a=new mr(this.rows,this.columns);for(let i=0;i<this.rows;i++){const o=this.getRow(i);C$(o,{min:r,max:n,output:o}),a.setRow(i,o)}return a}scaleColumns(t={}){if(typeof t!="object")throw new TypeError("options must be an object");const{min:r=0,max:n=1}=t;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(r>=n)throw new RangeError("min must be smaller than max");let a=new mr(this.rows,this.columns);for(let i=0;i<this.columns;i++){const o=this.getColumn(i);C$(o,{min:r,max:n,output:o}),a.setColumn(i,o)}return a}flipRows(){const t=Math.ceil(this.columns/2);for(let r=0;r<this.rows;r++)for(let n=0;n<t;n++){let a=this.get(r,n),i=this.get(r,this.columns-1-n);this.set(r,n,i),this.set(r,this.columns-1-n,a)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let r=0;r<this.columns;r++)for(let n=0;n<t;n++){let a=this.get(n,r),i=this.get(this.rows-1-n,r);this.set(n,r,i),this.set(this.rows-1-n,r,a)}return this}kroneckerProduct(t){t=mr.checkMatrix(t);let r=this.rows,n=this.columns,a=t.rows,i=t.columns,o=new mr(r*a,n*i);for(let s=0;s<r;s++)for(let l=0;l<n;l++)for(let u=0;u<a;u++)for(let c=0;c<i;c++)o.set(a*s+u,i*l+c,this.get(s,l)*t.get(u,c));return o}transpose(){let t=new mr(this.columns,this.rows);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.set(n,r,this.get(r,n));return t}sortRows(t=M$){for(let r=0;r<this.rows;r++)this.setRow(r,this.getRow(r).sort(t));return this}sortColumns(t=M$){for(let r=0;r<this.columns;r++)this.setColumn(r,this.getColumn(r).sort(t));return this}subMatrix(t,r,n,a){QC(this,t,r,n,a);let i=new mr(r-t+1,a-n+1);for(let o=t;o<=r;o++)for(let s=n;s<=a;s++)i.set(o-t,s-n,this.get(o,s));return i}subMatrixRow(t,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.columns-1),r>n||r<0||r>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let a=new mr(t.length,n-r+1);for(let i=0;i<t.length;i++)for(let o=r;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);a.set(i,o-r,this.get(t[i],o))}return a}subMatrixColumn(t,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this.rows-1),r>n||r<0||r>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let a=new mr(n-r+1,t.length);for(let i=0;i<t.length;i++)for(let o=r;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);a.set(o-r,i,this.get(o,t[i]))}return a}setSubMatrix(t,r,n){t=mr.checkMatrix(t);let a=r+t.rows-1,i=n+t.columns-1;QC(this,r,a,n,i);for(let o=0;o<t.rows;o++)for(let s=0;s<t.columns;s++)this.set(r+o,n+s,t.get(o,s));return this}selection(t,r){let n=x7(this,t,r),a=new mr(t.length,r.length);for(let i=0;i<n.row.length;i++){let o=n.row[i];for(let s=0;s<n.column.length;s++){let l=n.column[s];a.set(i,s,this.get(o,l))}}return a}trace(){let t=Math.min(this.rows,this.columns),r=0;for(let n=0;n<t;n++)r+=this.get(n,n);return r}clone(){let t=new mr(this.rows,this.columns);for(let r=0;r<this.rows;r++)for(let n=0;n<this.columns;n++)t.set(r,n,this.get(r,n));return t}sum(t){switch(t){case"row":return PTe(this);case"column":return DTe(this);case void 0:return RTe(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return $Te(this);case"column":return BTe(this);case void 0:return FTe(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const r=this.sum(t);switch(t){case"row":{for(let n=0;n<this.rows;n++)r[n]/=this.columns;return r}case"column":{for(let n=0;n<this.columns;n++)r[n]/=this.rows;return r}case void 0:return r/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");const{unbiased:n=!0,mean:a=this.mean(t)}=r;if(typeof n!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(a))throw new TypeError("mean must be an array");return zTe(this,n,a)}case"column":{if(!Array.isArray(a))throw new TypeError("mean must be an array");return GTe(this,n,a)}case void 0:{if(typeof a!="number")throw new TypeError("mean must be a number");return jTe(this,n,a)}default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,r){typeof t=="object"&&(r=t,t=void 0);const n=this.variance(t,r);if(t===void 0)return Math.sqrt(n);for(let a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}center(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");const{center:n=this.mean(t)}=r;switch(t){case"row":{if(!Array.isArray(n))throw new TypeError("center must be an array");return VTe(this,n),this}case"column":{if(!Array.isArray(n))throw new TypeError("center must be an array");return UTe(this,n),this}case void 0:{if(typeof n!="number")throw new TypeError("center must be a number");return WTe(this,n),this}default:throw new Error(`invalid option: ${t}`)}}scale(t,r={}){if(typeof t=="object"&&(r=t,t=void 0),typeof r!="object")throw new TypeError("options must be an object");let n=r.scale;switch(t){case"row":{if(n===void 0)n=HTe(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return YTe(this,n),this}case"column":{if(n===void 0)n=KTe(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return XTe(this,n),this}case void 0:{if(n===void 0)n=qTe(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return ZTe(this,n),this}default:throw new Error(`invalid option: ${t}`)}}toString(t){return _7(this,t)}}dn.prototype.klass="Matrix";typeof Symbol<"u"&&(dn.prototype[Symbol.for("nodejs.util.inspect.custom")]=ITe);function M$(e,t){return e-t}dn.random=dn.rand;dn.randomInt=dn.randInt;dn.diagonal=dn.diag;dn.prototype.diagonal=dn.prototype.diag;dn.identity=dn.eye;dn.prototype.negate=dn.prototype.neg;dn.prototype.tensorProduct=dn.prototype.kroneckerProduct;class mr extends dn{constructor(t,r){if(super(),mr.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>0)if(this.data=[],Number.isInteger(r)&&r>0)for(let n=0;n<t;n++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(t)){const n=t;if(t=n.length,r=n[0].length,typeof r!="number"||r===0)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let a=0;a<t;a++){if(n[a].length!==r)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(n[a]))}}else throw new TypeError("First argument must be a positive number or an array");return this.rows=t,this.columns=r,this}set(t,r,n){return this.data[t][r]=n,this}get(t,r){return this.data[t][r]}removeRow(t){if(Yo(this,t),this.rows===1)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(t,1),this.rows-=1,this}addRow(t,r){return r===void 0&&(r=t,t=this.rows),Yo(this,t,!0),r=Float64Array.from(ph(this,r)),this.data.splice(t,0,r),this.rows+=1,this}removeColumn(t){if(Ko(this,t),this.columns===1)throw new RangeError("A matrix cannot have less than one column");for(let r=0;r<this.rows;r++){const n=new Float64Array(this.columns-1);for(let a=0;a<t;a++)n[a]=this.data[r][a];for(let a=t+1;a<this.columns;a++)n[a-1]=this.data[r][a];this.data[r]=n}return this.columns-=1,this}addColumn(t,r){typeof r>"u"&&(r=t,t=this.columns),Ko(this,t,!0),r=gh(this,r);for(let n=0;n<this.rows;n++){const a=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)a[i]=this.data[n][i];for(a[i++]=r[n];i<this.columns+1;i++)a[i]=this.data[n][i-1];this.data[n]=a}return this.columns+=1,this}}NTe(dn,mr);class ku extends dn{constructor(t,r,n){super(),this.matrix=t,this.rows=r,this.columns=n}}class QTe extends ku{constructor(t,r){Ko(t,r),super(t,t.rows,1),this.column=r}set(t,r,n){return this.matrix.set(t,this.column,n),this}get(t){return this.matrix.get(t,this.column)}}class JTe extends ku{constructor(t,r){r=C7(t,r),super(t,t.rows,r.length),this.columnIndices=r}set(t,r,n){return this.matrix.set(t,this.columnIndices[r],n),this}get(t,r){return this.matrix.get(t,this.columnIndices[r])}}class eke extends ku{constructor(t){super(t,t.rows,t.columns)}set(t,r,n){return this.matrix.set(t,this.columns-r-1,n),this}get(t,r){return this.matrix.get(t,this.columns-r-1)}}class tke extends ku{constructor(t){super(t,t.rows,t.columns)}set(t,r,n){return this.matrix.set(this.rows-t-1,r,n),this}get(t,r){return this.matrix.get(this.rows-t-1,r)}}class rke extends ku{constructor(t,r){Yo(t,r),super(t,1,t.columns),this.row=r}set(t,r,n){return this.matrix.set(this.row,r,n),this}get(t,r){return this.matrix.get(this.row,r)}}class nke extends ku{constructor(t,r){r=S7(t,r),super(t,r.length,t.columns),this.rowIndices=r}set(t,r,n){return this.matrix.set(this.rowIndices[t],r,n),this}get(t,r){return this.matrix.get(this.rowIndices[t],r)}}class V1 extends ku{constructor(t,r,n){let a=x7(t,r,n);super(t,a.row.length,a.column.length),this.rowIndices=a.row,this.columnIndices=a.column}set(t,r,n){return this.matrix.set(this.rowIndices[t],this.columnIndices[r],n),this}get(t,r){return this.matrix.get(this.rowIndices[t],this.columnIndices[r])}}class ake extends ku{constructor(t,r,n,a,i){QC(t,r,n,a,i),super(t,n-r+1,i-a+1),this.startRow=r,this.startColumn=a}set(t,r,n){return this.matrix.set(this.startRow+t,this.startColumn+r,n),this}get(t,r){return this.matrix.get(this.startRow+t,this.startColumn+r)}}class ike extends ku{constructor(t){super(t,t.columns,t.rows)}set(t,r,n){return this.matrix.set(r,t,n),this}get(t,r){return this.matrix.get(r,t)}}class M7 extends dn{constructor(t,r={}){const{rows:n=1}=r;if(t.length%n!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=t.length/n,this.data=t}set(t,r,n){let a=this._calculateIndex(t,r);return this.data[a]=n,this}get(t,r){let n=this._calculateIndex(t,r);return this.data[n]}_calculateIndex(t,r){return t*this.columns+r}}class No extends dn{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,r,n){return this.data[t][r]=n,this}get(t,r){return this.data[t][r]}}function oke(e,t){if(Array.isArray(e))return e[0]&&Array.isArray(e[0])?new No(e):new M7(e,t);throw new Error("the argument is not an array")}class cw{constructor(t){t=No.checkMatrix(t);let r=t.clone(),n=r.rows,a=r.columns,i=new Float64Array(n),o=1,s,l,u,c,f,d,h,v,p;for(s=0;s<n;s++)i[s]=s;for(v=new Float64Array(n),l=0;l<a;l++){for(s=0;s<n;s++)v[s]=r.get(s,l);for(s=0;s<n;s++){for(p=Math.min(s,l),f=0,u=0;u<p;u++)f+=r.get(s,u)*v[u];v[s]-=f,r.set(s,l,v[s])}for(c=l,s=l+1;s<n;s++)Math.abs(v[s])>Math.abs(v[c])&&(c=s);if(c!==l){for(u=0;u<a;u++)d=r.get(c,u),r.set(c,u,r.get(l,u)),r.set(l,u,d);h=i[c],i[c]=i[l],i[l]=h,o=-o}if(l<n&&r.get(l,l)!==0)for(s=l+1;s<n;s++)r.set(s,l,r.get(s,l)/r.get(l,l))}this.LU=r,this.pivotVector=i,this.pivotSign=o}isSingular(){let t=this.LU,r=t.columns;for(let n=0;n<r;n++)if(t.get(n,n)===0)return!0;return!1}solve(t){t=mr.checkMatrix(t);let r=this.LU;if(r.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let a=t.columns,i=t.subMatrixRow(this.pivotVector,0,a-1),o=r.columns,s,l,u;for(u=0;u<o;u++)for(s=u+1;s<o;s++)for(l=0;l<a;l++)i.set(s,l,i.get(s,l)-i.get(u,l)*r.get(s,u));for(u=o-1;u>=0;u--){for(l=0;l<a;l++)i.set(u,l,i.get(u,l)/r.get(u,u));for(s=0;s<u;s++)for(l=0;l<a;l++)i.set(s,l,i.get(s,l)-i.get(u,l)*r.get(s,u))}return i}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let r=this.pivotSign,n=t.columns;for(let a=0;a<n;a++)r*=t.get(a,a);return r}get lowerTriangularMatrix(){let t=this.LU,r=t.rows,n=t.columns,a=new mr(r,n);for(let i=0;i<r;i++)for(let o=0;o<n;o++)i>o?a.set(i,o,t.get(i,o)):i===o?a.set(i,o,1):a.set(i,o,0);return a}get upperTriangularMatrix(){let t=this.LU,r=t.rows,n=t.columns,a=new mr(r,n);for(let i=0;i<r;i++)for(let o=0;o<n;o++)i<=o?a.set(i,o,t.get(i,o)):a.set(i,o,0);return a}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Jl(e,t){let r=0;return Math.abs(e)>Math.abs(t)?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):t!==0?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0}class JC{constructor(t){t=No.checkMatrix(t);let r=t.clone(),n=t.rows,a=t.columns,i=new Float64Array(a),o,s,l,u;for(l=0;l<a;l++){let c=0;for(o=l;o<n;o++)c=Jl(c,r.get(o,l));if(c!==0){for(r.get(l,l)<0&&(c=-c),o=l;o<n;o++)r.set(o,l,r.get(o,l)/c);for(r.set(l,l,r.get(l,l)+1),s=l+1;s<a;s++){for(u=0,o=l;o<n;o++)u+=r.get(o,l)*r.get(o,s);for(u=-u/r.get(l,l),o=l;o<n;o++)r.set(o,s,r.get(o,s)+u*r.get(o,l))}}i[l]=-c}this.QR=r,this.Rdiag=i}solve(t){t=mr.checkMatrix(t);let r=this.QR,n=r.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let a=t.columns,i=t.clone(),o=r.columns,s,l,u,c;for(u=0;u<o;u++)for(l=0;l<a;l++){for(c=0,s=u;s<n;s++)c+=r.get(s,u)*i.get(s,l);for(c=-c/r.get(u,u),s=u;s<n;s++)i.set(s,l,i.get(s,l)+c*r.get(s,u))}for(u=o-1;u>=0;u--){for(l=0;l<a;l++)i.set(u,l,i.get(u,l)/this.Rdiag[u]);for(s=0;s<u;s++)for(l=0;l<a;l++)i.set(s,l,i.get(s,l)-i.get(u,l)*r.get(s,u))}return i.subMatrix(0,o-1,0,a-1)}isFullRank(){let t=this.QR.columns;for(let r=0;r<t;r++)if(this.Rdiag[r]===0)return!1;return!0}get upperTriangularMatrix(){let t=this.QR,r=t.columns,n=new mr(r,r),a,i;for(a=0;a<r;a++)for(i=0;i<r;i++)a<i?n.set(a,i,t.get(a,i)):a===i?n.set(a,i,this.Rdiag[a]):n.set(a,i,0);return n}get orthogonalMatrix(){let t=this.QR,r=t.rows,n=t.columns,a=new mr(r,n),i,o,s,l;for(s=n-1;s>=0;s--){for(i=0;i<r;i++)a.set(i,s,0);for(a.set(s,s,1),o=s;o<n;o++)if(t.get(s,s)!==0){for(l=0,i=s;i<r;i++)l+=t.get(i,s)*a.get(i,o);for(l=-l/t.get(s,s),i=s;i<r;i++)a.set(i,o,a.get(i,o)+l*t.get(i,s))}}return a}}class uv{constructor(t,r={}){t=No.checkMatrix(t);let n=t.rows,a=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=r;let l=!!i,u=!!o,c=!1,f;if(n<a)if(!s)f=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{f=t.transpose(),n=f.rows,a=f.columns,c=!0;let M=l;l=u,u=M}else f=t.clone();let d=Math.min(n,a),h=Math.min(n+1,a),v=new Float64Array(h),p=new mr(n,d),m=new mr(a,a),g=new Float64Array(a),b=new Float64Array(n),y=new Float64Array(h);for(let M=0;M<h;M++)y[M]=M;let w=Math.min(n-1,a),_=Math.max(0,Math.min(a-2,n)),x=Math.max(w,_);for(let M=0;M<x;M++){if(M<w){v[M]=0;for(let k=M;k<n;k++)v[M]=Jl(v[M],f.get(k,M));if(v[M]!==0){f.get(M,M)<0&&(v[M]=-v[M]);for(let k=M;k<n;k++)f.set(k,M,f.get(k,M)/v[M]);f.set(M,M,f.get(M,M)+1)}v[M]=-v[M]}for(let k=M+1;k<a;k++){if(M<w&&v[M]!==0){let A=0;for(let O=M;O<n;O++)A+=f.get(O,M)*f.get(O,k);A=-A/f.get(M,M);for(let O=M;O<n;O++)f.set(O,k,f.get(O,k)+A*f.get(O,M))}g[k]=f.get(M,k)}if(l&&M<w)for(let k=M;k<n;k++)p.set(k,M,f.get(k,M));if(M<_){g[M]=0;for(let k=M+1;k<a;k++)g[M]=Jl(g[M],g[k]);if(g[M]!==0){g[M+1]<0&&(g[M]=0-g[M]);for(let k=M+1;k<a;k++)g[k]/=g[M];g[M+1]+=1}if(g[M]=-g[M],M+1<n&&g[M]!==0){for(let k=M+1;k<n;k++)b[k]=0;for(let k=M+1;k<n;k++)for(let A=M+1;A<a;A++)b[k]+=g[A]*f.get(k,A);for(let k=M+1;k<a;k++){let A=-g[k]/g[M+1];for(let O=M+1;O<n;O++)f.set(O,k,f.get(O,k)+A*b[O])}}if(u)for(let k=M+1;k<a;k++)m.set(k,M,g[k])}}let S=Math.min(a,n+1);if(w<a&&(v[w]=f.get(w,w)),n<S&&(v[S-1]=0),_+1<S&&(g[_]=f.get(_,S-1)),g[S-1]=0,l){for(let M=w;M<d;M++){for(let k=0;k<n;k++)p.set(k,M,0);p.set(M,M,1)}for(let M=w-1;M>=0;M--)if(v[M]!==0){for(let k=M+1;k<d;k++){let A=0;for(let O=M;O<n;O++)A+=p.get(O,M)*p.get(O,k);A=-A/p.get(M,M);for(let O=M;O<n;O++)p.set(O,k,p.get(O,k)+A*p.get(O,M))}for(let k=M;k<n;k++)p.set(k,M,-p.get(k,M));p.set(M,M,1+p.get(M,M));for(let k=0;k<M-1;k++)p.set(k,M,0)}else{for(let k=0;k<n;k++)p.set(k,M,0);p.set(M,M,1)}}if(u)for(let M=a-1;M>=0;M--){if(M<_&&g[M]!==0)for(let k=M+1;k<a;k++){let A=0;for(let O=M+1;O<a;O++)A+=m.get(O,M)*m.get(O,k);A=-A/m.get(M+1,M);for(let O=M+1;O<a;O++)m.set(O,k,m.get(O,k)+A*m.get(O,M))}for(let k=0;k<a;k++)m.set(k,M,0);m.set(M,M,1)}let C=S-1,T=Number.EPSILON;for(;S>0;){let M,k;for(M=S-2;M>=-1&&M!==-1;M--){const A=Number.MIN_VALUE+T*Math.abs(v[M]+Math.abs(v[M+1]));if(Math.abs(g[M])<=A||Number.isNaN(g[M])){g[M]=0;break}}if(M===S-2)k=4;else{let A;for(A=S-1;A>=M&&A!==M;A--){let O=(A!==S?Math.abs(g[A]):0)+(A!==M+1?Math.abs(g[A-1]):0);if(Math.abs(v[A])<=T*O){v[A]=0;break}}A===M?k=3:A===S-1?k=1:(k=2,M=A)}switch(M++,k){case 1:{let A=g[S-2];g[S-2]=0;for(let O=S-2;O>=M;O--){let P=Jl(v[O],A),R=v[O]/P,N=A/P;if(v[O]=P,O!==M&&(A=-N*g[O-1],g[O-1]=R*g[O-1]),u)for(let L=0;L<a;L++)P=R*m.get(L,O)+N*m.get(L,S-1),m.set(L,S-1,-N*m.get(L,O)+R*m.get(L,S-1)),m.set(L,O,P)}break}case 2:{let A=g[M-1];g[M-1]=0;for(let O=M;O<S;O++){let P=Jl(v[O],A),R=v[O]/P,N=A/P;if(v[O]=P,A=-N*g[O],g[O]=R*g[O],l)for(let L=0;L<n;L++)P=R*p.get(L,O)+N*p.get(L,M-1),p.set(L,M-1,-N*p.get(L,O)+R*p.get(L,M-1)),p.set(L,O,P)}break}case 3:{const A=Math.max(Math.abs(v[S-1]),Math.abs(v[S-2]),Math.abs(g[S-2]),Math.abs(v[M]),Math.abs(g[M])),O=v[S-1]/A,P=v[S-2]/A,R=g[S-2]/A,N=v[M]/A,L=g[M]/A,B=((P+O)*(P-O)+R*R)/2,I=O*R*(O*R);let D=0;(B!==0||I!==0)&&(B<0?D=0-Math.sqrt(B*B+I):D=Math.sqrt(B*B+I),D=I/(B+D));let z=(N+O)*(N-O)+D,U=N*L;for(let H=M;H<S-1;H++){let Y=Jl(z,U);Y===0&&(Y=Number.MIN_VALUE);let ie=z/Y,X=U/Y;if(H!==M&&(g[H-1]=Y),z=ie*v[H]+X*g[H],g[H]=ie*g[H]-X*v[H],U=X*v[H+1],v[H+1]=ie*v[H+1],u)for(let re=0;re<a;re++)Y=ie*m.get(re,H)+X*m.get(re,H+1),m.set(re,H+1,-X*m.get(re,H)+ie*m.get(re,H+1)),m.set(re,H,Y);if(Y=Jl(z,U),Y===0&&(Y=Number.MIN_VALUE),ie=z/Y,X=U/Y,v[H]=Y,z=ie*g[H]+X*v[H+1],v[H+1]=-X*g[H]+ie*v[H+1],U=X*g[H+1],g[H+1]=ie*g[H+1],l&&H<n-1)for(let re=0;re<n;re++)Y=ie*p.get(re,H)+X*p.get(re,H+1),p.set(re,H+1,-X*p.get(re,H)+ie*p.get(re,H+1)),p.set(re,H,Y)}g[S-2]=z;break}case 4:{if(v[M]<=0&&(v[M]=v[M]<0?-v[M]:0,u))for(let A=0;A<=C;A++)m.set(A,M,-m.get(A,M));for(;M<C&&!(v[M]>=v[M+1]);){let A=v[M];if(v[M]=v[M+1],v[M+1]=A,u&&M<a-1)for(let O=0;O<a;O++)A=m.get(O,M+1),m.set(O,M+1,m.get(O,M)),m.set(O,M,A);if(l&&M<n-1)for(let O=0;O<n;O++)A=p.get(O,M+1),p.set(O,M+1,p.get(O,M)),p.set(O,M,A);M++}S--;break}}}if(c){let M=m;m=p,p=M}this.m=n,this.n=a,this.s=v,this.U=p,this.V=m}solve(t){let r=t,n=this.threshold,a=this.s.length,i=mr.zeros(a,a);for(let d=0;d<a;d++)Math.abs(this.s[d])<=n?i.set(d,d,0):i.set(d,d,1/this.s[d]);let o=this.U,s=this.rightSingularVectors,l=s.mmul(i),u=s.rows,c=o.rows,f=mr.zeros(u,c);for(let d=0;d<u;d++)for(let h=0;h<c;h++){let v=0;for(let p=0;p<a;p++)v+=l.get(d,p)*o.get(h,p);f.set(d,h,v)}return f.mmul(r)}solveForDiagonal(t){return this.solve(mr.diag(t))}inverse(){let t=this.V,r=this.threshold,n=t.rows,a=t.columns,i=new mr(n,this.s.length);for(let c=0;c<n;c++)for(let f=0;f<a;f++)Math.abs(this.s[f])>r&&i.set(c,f,t.get(c,f)/this.s[f]);let o=this.U,s=o.rows,l=o.columns,u=new mr(n,s);for(let c=0;c<n;c++)for(let f=0;f<s;f++){let d=0;for(let h=0;h<l;h++)d+=i.get(c,h)*o.get(f,h);u.set(c,f,d)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,n=this.s;for(let a=0,i=n.length;a<i;a++)n[a]>t&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return mr.diag(this.s)}}function ske(e,t=!1){return e=No.checkMatrix(e),t?new uv(e).inverse():T7(e,mr.eye(e.rows))}function T7(e,t,r=!1){return e=No.checkMatrix(e),t=No.checkMatrix(t),r?new uv(e).solve(t):e.isSquare()?new cw(e).solve(t):new JC(e).solve(t)}function U1(e){if(e=mr.checkMatrix(e),e.isSquare()){let t,r,n,a;if(e.columns===2)return t=e.get(0,0),r=e.get(0,1),n=e.get(1,0),a=e.get(1,1),t*a-r*n;if(e.columns===3){let i,o,s;return i=new V1(e,[1,2],[1,2]),o=new V1(e,[1,2],[0,2]),s=new V1(e,[1,2],[0,1]),t=e.get(0,0),r=e.get(0,1),n=e.get(0,2),t*U1(i)-r*U1(o)+n*U1(s)}else return new cw(e).determinant}else throw Error("determinant can only be calculated for a square matrix")}function lke(e,t){let r=[];for(let n=0;n<e;n++)n!==t&&r.push(n);return r}function uke(e,t,r,n=1e-9,a=1e-9){if(e>a)return new Array(t.rows+1).fill(0);{let i=t.addRow(r,[0]);for(let o=0;o<i.rows;o++)Math.abs(i.get(o,0))<n&&i.set(o,0,0);return i.to1DArray()}}function cke(e,t={}){const{thresholdValue:r=1e-9,thresholdError:n=1e-9}=t;e=mr.checkMatrix(e);let a=e.rows,i=new mr(a,a);for(let o=0;o<a;o++){let s=mr.columnVector(e.getRow(o)),l=e.subMatrixRow(lke(a,o)).transpose(),c=new uv(l).solve(s),f=mr.sub(s,l.mmul(c)).abs().max();i.setRow(o,uke(f,c,o,r,n))}return i}function fke(e,t=Number.EPSILON){e=mr.checkMatrix(e);let r=new uv(e,{autoTranspose:!0}),n=r.leftSingularVectors,a=r.rightSingularVectors,i=r.diagonal;for(let o=0;o<i.length;o++)Math.abs(i[o])>t?i[o]=1/i[o]:i[o]=0;return a.mmul(mr.diag(i).mmul(n.transpose()))}function dke(e,t=e,r={}){e=new mr(e);let n=!1;if(typeof t=="object"&&!mr.isMatrix(t)&&!Array.isArray(t)?(r=t,t=e,n=!0):t=new mr(t),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:a=!0}=r;a&&(e=e.center("column"),n||(t=t.center("column")));const i=e.transpose().mmul(t);for(let o=0;o<i.rows;o++)for(let s=0;s<i.columns;s++)i.set(o,s,i.get(o,s)*(1/(e.rows-1)));return i}function hke(e,t=e,r={}){e=new mr(e);let n=!1;if(typeof t=="object"&&!mr.isMatrix(t)&&!Array.isArray(t)?(r=t,t=e,n=!0):t=new mr(t),e.rows!==t.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:a=!0,scale:i=!0}=r;a&&(e.center("column"),n||t.center("column")),i&&(e.scale("column"),n||t.scale("column"));const o=e.standardDeviation("column",{unbiased:!0}),s=n?o:t.standardDeviation("column",{unbiased:!0}),l=e.transpose().mmul(t);for(let u=0;u<l.rows;u++)for(let c=0;c<l.columns;c++)l.set(u,c,l.get(u,c)*(1/(o[u]*s[c]))*(1/(e.rows-1)));return l}class T${constructor(t,r={}){const{assumeSymmetric:n=!1}=r;if(t=No.checkMatrix(t),!t.isSquare())throw new Error("Matrix is not a square matrix");let a=t.columns,i=new mr(a,a),o=new Float64Array(a),s=new Float64Array(a),l=t,u,c,f=!1;if(n?f=!0:f=t.isSymmetric(),f){for(u=0;u<a;u++)for(c=0;c<a;c++)i.set(u,c,l.get(u,c));vke(a,s,o,i),pke(a,s,o,i)}else{let d=new mr(a,a),h=new Float64Array(a);for(c=0;c<a;c++)for(u=0;u<a;u++)d.set(u,c,l.get(u,c));gke(a,d,h,i),mke(a,s,o,i,d)}this.n=a,this.e=s,this.d=o,this.V=i}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t=this.n,r=this.e,n=this.d,a=new mr(t,t),i,o;for(i=0;i<t;i++){for(o=0;o<t;o++)a.set(i,o,0);a.set(i,i,n[i]),r[i]>0?a.set(i,i+1,r[i]):r[i]<0&&a.set(i,i-1,r[i])}return a}}function vke(e,t,r,n){let a,i,o,s,l,u,c,f;for(l=0;l<e;l++)r[l]=n.get(e-1,l);for(s=e-1;s>0;s--){for(f=0,o=0,u=0;u<s;u++)f=f+Math.abs(r[u]);if(f===0)for(t[s]=r[s-1],l=0;l<s;l++)r[l]=n.get(s-1,l),n.set(s,l,0),n.set(l,s,0);else{for(u=0;u<s;u++)r[u]/=f,o+=r[u]*r[u];for(a=r[s-1],i=Math.sqrt(o),a>0&&(i=-i),t[s]=f*i,o=o-a*i,r[s-1]=a-i,l=0;l<s;l++)t[l]=0;for(l=0;l<s;l++){for(a=r[l],n.set(l,s,a),i=t[l]+n.get(l,l)*a,u=l+1;u<=s-1;u++)i+=n.get(u,l)*r[u],t[u]+=n.get(u,l)*a;t[l]=i}for(a=0,l=0;l<s;l++)t[l]/=o,a+=t[l]*r[l];for(c=a/(o+o),l=0;l<s;l++)t[l]-=c*r[l];for(l=0;l<s;l++){for(a=r[l],i=t[l],u=l;u<=s-1;u++)n.set(u,l,n.get(u,l)-(a*t[u]+i*r[u]));r[l]=n.get(s-1,l),n.set(s,l,0)}}r[s]=o}for(s=0;s<e-1;s++){if(n.set(e-1,s,n.get(s,s)),n.set(s,s,1),o=r[s+1],o!==0){for(u=0;u<=s;u++)r[u]=n.get(u,s+1)/o;for(l=0;l<=s;l++){for(i=0,u=0;u<=s;u++)i+=n.get(u,s+1)*n.get(u,l);for(u=0;u<=s;u++)n.set(u,l,n.get(u,l)-i*r[u])}}for(u=0;u<=s;u++)n.set(u,s+1,0)}for(l=0;l<e;l++)r[l]=n.get(e-1,l),n.set(e-1,l,0);n.set(e-1,e-1,1),t[0]=0}function pke(e,t,r,n){let a,i,o,s,l,u,c,f,d,h,v,p,m,g,b,y;for(o=1;o<e;o++)t[o-1]=t[o];t[e-1]=0;let w=0,_=0,x=Number.EPSILON;for(u=0;u<e;u++){for(_=Math.max(_,Math.abs(r[u])+Math.abs(t[u])),c=u;c<e&&!(Math.abs(t[c])<=x*_);)c++;if(c>u)do{for(a=r[u],f=(r[u+1]-a)/(2*t[u]),d=Jl(f,1),f<0&&(d=-d),r[u]=t[u]/(f+d),r[u+1]=t[u]*(f+d),h=r[u+1],i=a-r[u],o=u+2;o<e;o++)r[o]-=i;for(w=w+i,f=r[c],v=1,p=v,m=v,g=t[u+1],b=0,y=0,o=c-1;o>=u;o--)for(m=p,p=v,y=b,a=v*t[o],i=v*f,d=Jl(f,t[o]),t[o+1]=b*d,b=t[o]/d,v=f/d,f=v*r[o]-b*a,r[o+1]=i+b*(v*a+b*r[o]),l=0;l<e;l++)i=n.get(l,o+1),n.set(l,o+1,b*n.get(l,o)+v*i),n.set(l,o,v*n.get(l,o)-b*i);f=-b*y*m*g*t[u]/h,t[u]=b*f,r[u]=v*f}while(Math.abs(t[u])>x*_);r[u]=r[u]+w,t[u]=0}for(o=0;o<e-1;o++){for(l=o,f=r[o],s=o+1;s<e;s++)r[s]<f&&(l=s,f=r[s]);if(l!==o)for(r[l]=r[o],r[o]=f,s=0;s<e;s++)f=n.get(s,o),n.set(s,o,n.get(s,l)),n.set(s,l,f)}}function gke(e,t,r,n){let a=0,i=e-1,o,s,l,u,c,f,d;for(f=a+1;f<=i-1;f++){for(d=0,u=f;u<=i;u++)d=d+Math.abs(t.get(u,f-1));if(d!==0){for(l=0,u=i;u>=f;u--)r[u]=t.get(u,f-1)/d,l+=r[u]*r[u];for(s=Math.sqrt(l),r[f]>0&&(s=-s),l=l-r[f]*s,r[f]=r[f]-s,c=f;c<e;c++){for(o=0,u=i;u>=f;u--)o+=r[u]*t.get(u,c);for(o=o/l,u=f;u<=i;u++)t.set(u,c,t.get(u,c)-o*r[u])}for(u=0;u<=i;u++){for(o=0,c=i;c>=f;c--)o+=r[c]*t.get(u,c);for(o=o/l,c=f;c<=i;c++)t.set(u,c,t.get(u,c)-o*r[c])}r[f]=d*r[f],t.set(f,f-1,d*s)}}for(u=0;u<e;u++)for(c=0;c<e;c++)n.set(u,c,u===c?1:0);for(f=i-1;f>=a+1;f--)if(t.get(f,f-1)!==0){for(u=f+1;u<=i;u++)r[u]=t.get(u,f-1);for(c=f;c<=i;c++){for(s=0,u=f;u<=i;u++)s+=r[u]*n.get(u,c);for(s=s/r[f]/t.get(f,f-1),u=f;u<=i;u++)n.set(u,c,n.get(u,c)+s*r[u])}}}function mke(e,t,r,n,a){let i=e-1,o=0,s=e-1,l=Number.EPSILON,u=0,c=0,f=0,d=0,h=0,v=0,p=0,m=0,g,b,y,w,_,x,S,C,T,M,k,A,O,P,R;for(g=0;g<e;g++)for((g<o||g>s)&&(r[g]=a.get(g,g),t[g]=0),b=Math.max(g-1,0);b<e;b++)c=c+Math.abs(a.get(g,b));for(;i>=o;){for(w=i;w>o&&(v=Math.abs(a.get(w-1,w-1))+Math.abs(a.get(w,w)),v===0&&(v=c),!(Math.abs(a.get(w,w-1))<l*v));)w--;if(w===i)a.set(i,i,a.get(i,i)+u),r[i]=a.get(i,i),t[i]=0,i--,m=0;else if(w===i-1){if(S=a.get(i,i-1)*a.get(i-1,i),f=(a.get(i-1,i-1)-a.get(i,i))/2,d=f*f+S,p=Math.sqrt(Math.abs(d)),a.set(i,i,a.get(i,i)+u),a.set(i-1,i-1,a.get(i-1,i-1)+u),C=a.get(i,i),d>=0){for(p=f>=0?f+p:f-p,r[i-1]=C+p,r[i]=r[i-1],p!==0&&(r[i]=C-S/p),t[i-1]=0,t[i]=0,C=a.get(i,i-1),v=Math.abs(C)+Math.abs(p),f=C/v,d=p/v,h=Math.sqrt(f*f+d*d),f=f/h,d=d/h,b=i-1;b<e;b++)p=a.get(i-1,b),a.set(i-1,b,d*p+f*a.get(i,b)),a.set(i,b,d*a.get(i,b)-f*p);for(g=0;g<=i;g++)p=a.get(g,i-1),a.set(g,i-1,d*p+f*a.get(g,i)),a.set(g,i,d*a.get(g,i)-f*p);for(g=o;g<=s;g++)p=n.get(g,i-1),n.set(g,i-1,d*p+f*n.get(g,i)),n.set(g,i,d*n.get(g,i)-f*p)}else r[i-1]=C+f,r[i]=C+f,t[i-1]=p,t[i]=-p;i=i-2,m=0}else{if(C=a.get(i,i),T=0,S=0,w<i&&(T=a.get(i-1,i-1),S=a.get(i,i-1)*a.get(i-1,i)),m===10){for(u+=C,g=o;g<=i;g++)a.set(g,g,a.get(g,g)-C);v=Math.abs(a.get(i,i-1))+Math.abs(a.get(i-1,i-2)),C=T=.75*v,S=-.4375*v*v}if(m===30&&(v=(T-C)/2,v=v*v+S,v>0)){for(v=Math.sqrt(v),T<C&&(v=-v),v=C-S/((T-C)/2+v),g=o;g<=i;g++)a.set(g,g,a.get(g,g)-v);u+=v,C=T=S=.964}for(m=m+1,_=i-2;_>=w&&(p=a.get(_,_),h=C-p,v=T-p,f=(h*v-S)/a.get(_+1,_)+a.get(_,_+1),d=a.get(_+1,_+1)-p-h-v,h=a.get(_+2,_+1),v=Math.abs(f)+Math.abs(d)+Math.abs(h),f=f/v,d=d/v,h=h/v,!(_===w||Math.abs(a.get(_,_-1))*(Math.abs(d)+Math.abs(h))<l*(Math.abs(f)*(Math.abs(a.get(_-1,_-1))+Math.abs(p)+Math.abs(a.get(_+1,_+1))))));)_--;for(g=_+2;g<=i;g++)a.set(g,g-2,0),g>_+2&&a.set(g,g-3,0);for(y=_;y<=i-1&&(P=y!==i-1,y!==_&&(f=a.get(y,y-1),d=a.get(y+1,y-1),h=P?a.get(y+2,y-1):0,C=Math.abs(f)+Math.abs(d)+Math.abs(h),C!==0&&(f=f/C,d=d/C,h=h/C)),C!==0);y++)if(v=Math.sqrt(f*f+d*d+h*h),f<0&&(v=-v),v!==0){for(y!==_?a.set(y,y-1,-v*C):w!==_&&a.set(y,y-1,-a.get(y,y-1)),f=f+v,C=f/v,T=d/v,p=h/v,d=d/f,h=h/f,b=y;b<e;b++)f=a.get(y,b)+d*a.get(y+1,b),P&&(f=f+h*a.get(y+2,b),a.set(y+2,b,a.get(y+2,b)-f*p)),a.set(y,b,a.get(y,b)-f*C),a.set(y+1,b,a.get(y+1,b)-f*T);for(g=0;g<=Math.min(i,y+3);g++)f=C*a.get(g,y)+T*a.get(g,y+1),P&&(f=f+p*a.get(g,y+2),a.set(g,y+2,a.get(g,y+2)-f*h)),a.set(g,y,a.get(g,y)-f),a.set(g,y+1,a.get(g,y+1)-f*d);for(g=o;g<=s;g++)f=C*n.get(g,y)+T*n.get(g,y+1),P&&(f=f+p*n.get(g,y+2),n.set(g,y+2,n.get(g,y+2)-f*h)),n.set(g,y,n.get(g,y)-f),n.set(g,y+1,n.get(g,y+1)-f*d)}}}if(c!==0){for(i=e-1;i>=0;i--)if(f=r[i],d=t[i],d===0)for(w=i,a.set(i,i,1),g=i-1;g>=0;g--){for(S=a.get(g,g)-f,h=0,b=w;b<=i;b++)h=h+a.get(g,b)*a.get(b,i);if(t[g]<0)p=S,v=h;else if(w=g,t[g]===0?a.set(g,i,S!==0?-h/S:-h/(l*c)):(C=a.get(g,g+1),T=a.get(g+1,g),d=(r[g]-f)*(r[g]-f)+t[g]*t[g],x=(C*v-p*h)/d,a.set(g,i,x),a.set(g+1,i,Math.abs(C)>Math.abs(p)?(-h-S*x)/C:(-v-T*x)/p)),x=Math.abs(a.get(g,i)),l*x*x>1)for(b=g;b<=i;b++)a.set(b,i,a.get(b,i)/x)}else if(d<0)for(w=i-1,Math.abs(a.get(i,i-1))>Math.abs(a.get(i-1,i))?(a.set(i-1,i-1,d/a.get(i,i-1)),a.set(i-1,i,-(a.get(i,i)-f)/a.get(i,i-1))):(R=Fy(0,-a.get(i-1,i),a.get(i-1,i-1)-f,d),a.set(i-1,i-1,R[0]),a.set(i-1,i,R[1])),a.set(i,i-1,0),a.set(i,i,1),g=i-2;g>=0;g--){for(M=0,k=0,b=w;b<=i;b++)M=M+a.get(g,b)*a.get(b,i-1),k=k+a.get(g,b)*a.get(b,i);if(S=a.get(g,g)-f,t[g]<0)p=S,h=M,v=k;else if(w=g,t[g]===0?(R=Fy(-M,-k,S,d),a.set(g,i-1,R[0]),a.set(g,i,R[1])):(C=a.get(g,g+1),T=a.get(g+1,g),A=(r[g]-f)*(r[g]-f)+t[g]*t[g]-d*d,O=(r[g]-f)*2*d,A===0&&O===0&&(A=l*c*(Math.abs(S)+Math.abs(d)+Math.abs(C)+Math.abs(T)+Math.abs(p))),R=Fy(C*h-p*M+d*k,C*v-p*k-d*M,A,O),a.set(g,i-1,R[0]),a.set(g,i,R[1]),Math.abs(C)>Math.abs(p)+Math.abs(d)?(a.set(g+1,i-1,(-M-S*a.get(g,i-1)+d*a.get(g,i))/C),a.set(g+1,i,(-k-S*a.get(g,i)-d*a.get(g,i-1))/C)):(R=Fy(-h-T*a.get(g,i-1),-v-T*a.get(g,i),p,d),a.set(g+1,i-1,R[0]),a.set(g+1,i,R[1]))),x=Math.max(Math.abs(a.get(g,i-1)),Math.abs(a.get(g,i))),l*x*x>1)for(b=g;b<=i;b++)a.set(b,i-1,a.get(b,i-1)/x),a.set(b,i,a.get(b,i)/x)}for(g=0;g<e;g++)if(g<o||g>s)for(b=g;b<e;b++)n.set(g,b,a.get(g,b));for(b=e-1;b>=o;b--)for(g=o;g<=s;g++){for(p=0,y=o;y<=Math.min(b,s);y++)p=p+n.get(g,y)*a.get(y,b);n.set(g,b,p)}}}function Fy(e,t,r,n){let a,i;return Math.abs(r)>Math.abs(n)?(a=n/r,i=r+a*n,[(e+a*t)/i,(t-a*e)/i]):(a=r/n,i=n+a*r,[(a*e+t)/i,(a*t-e)/i])}class k${constructor(t){if(t=No.checkMatrix(t),!t.isSymmetric())throw new Error("Matrix is not symmetric");let r=t,n=r.rows,a=new mr(n,n),i=!0,o,s,l;for(s=0;s<n;s++){let u=0;for(l=0;l<s;l++){let c=0;for(o=0;o<l;o++)c+=a.get(l,o)*a.get(s,o);c=(r.get(s,l)-c)/a.get(l,l),a.set(s,l,c),u=u+c*c}for(u=r.get(s,s)-u,i&=u>0,a.set(s,s,Math.sqrt(Math.max(u,0))),l=s+1;l<n;l++)a.set(s,l,0)}this.L=a,this.positiveDefinite=!!i}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=No.checkMatrix(t);let r=this.L,n=r.rows;if(t.rows!==n)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let a=t.columns,i=t.clone(),o,s,l;for(l=0;l<n;l++)for(s=0;s<a;s++){for(o=0;o<l;o++)i.set(l,s,i.get(l,s)-i.get(o,s)*r.get(l,o));i.set(l,s,i.get(l,s)/r.get(l,l))}for(l=n-1;l>=0;l--)for(s=0;s<a;s++){for(o=l+1;o<n;o++)i.set(l,s,i.get(l,s)-i.get(o,s)*r.get(o,l));i.set(l,s,i.get(l,s)/r.get(l,l))}return i}get lowerTriangularMatrix(){return this.L}}class A${constructor(t,r={}){t=No.checkMatrix(t);let{Y:n}=r;const{scaleScores:a=!1,maxIterations:i=1e3,terminationCriteria:o=1e-10}=r;let s;if(n){if(Array.isArray(n)&&typeof n[0]=="number"?n=mr.columnVector(n):n=No.checkMatrix(n),!n.isColumnVector()||n.rows!==t.rows)throw new Error("Y must be a column vector of length X.rows");s=n}else s=t.getColumnVector(0);let l=1,u,c,f,d;for(let h=0;h<i&&l>o;h++)f=t.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),f=f.div(f.norm()),u=t.mmul(f).div(f.transpose().mmul(f).get(0,0)),h>0&&(l=u.clone().sub(d).pow(2).sum()),d=u.clone(),n?(c=n.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),c=c.div(c.norm()),s=n.mmul(c).div(c.transpose().mmul(c).get(0,0))):s=u;if(n){let h=t.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));h=h.div(h.norm());let v=t.clone().sub(u.clone().mmul(h.transpose())),p=s.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),m=n.clone().sub(u.clone().mulS(p.get(0,0)).mmul(c.transpose()));this.t=u,this.p=h.transpose(),this.w=f.transpose(),this.q=c,this.u=s,this.s=u.transpose().mmul(u),this.xResidual=v,this.yResidual=m,this.betas=p}else this.w=f.transpose(),this.s=u.transpose().mmul(u).sqrt(),a?this.t=u.clone().div(this.s.get(0,0)):this.t=u,this.xResidual=t.sub(u.mmul(f.transpose()))}}const yke=Object.freeze(Object.defineProperty({__proto__:null,AbstractMatrix:dn,CHO:k$,CholeskyDecomposition:k$,EVD:T$,EigenvalueDecomposition:T$,LU:cw,LuDecomposition:cw,Matrix:mr,MatrixColumnSelectionView:JTe,MatrixColumnView:QTe,MatrixFlipColumnView:eke,MatrixFlipRowView:tke,MatrixRowSelectionView:nke,MatrixRowView:rke,MatrixSelectionView:V1,MatrixSubView:ake,MatrixTransposeView:ike,NIPALS:A$,Nipals:A$,QR:JC,QrDecomposition:JC,SVD:uv,SingularValueDecomposition:uv,WrapperMatrix1D:M7,WrapperMatrix2D:No,correlation:hke,covariance:dke,default:mr,determinant:U1,inverse:ske,linearDependencies:cke,pseudoInverse:fke,solve:T7,wrap:oke},Symbol.toStringTag,{value:"Module"})),k7=Nl(yke);Object.defineProperty(KA,"__esModule",{value:!0});var gp=k7,bke=function(){function e(t){this.distances=t.distances,this.dimension=t.dimension||2,this.linkDistance=t.linkDistance}return e.prototype.layout=function(){var t=this,r=t.dimension,n=t.distances,a=t.linkDistance;try{var i=gp.Matrix.mul(gp.Matrix.pow(n,2),-.5),o=i.mean("row"),s=i.mean("column"),l=i.mean();i.add(l).subRowVector(o).subColumnVector(s);var u=new gp.SingularValueDecomposition(i),c=gp.Matrix.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(p){return gp.Matrix.mul([p],[c]).toJSON()[0].splice(0,r)})}catch{for(var f=[],d=0;d<n.length;d++){var h=Math.random()*a,v=Math.random()*a;f.push([h,v])}return f}},e}();KA.default=bke;var XA={};Object.defineProperty(XA,"__esModule",{value:!0});var wke=800,Eke=function(){function e(t){this.disp=[],this.positions=t.positions,this.adjMatrix=t.adjMatrix,this.focusID=t.focusID,this.radii=t.radii,this.iterations=t.iterations||10,this.height=t.height||10,this.width=t.width||10,this.speed=t.speed||100,this.gravity=t.gravity||10,this.nodeSizeFunc=t.nodeSizeFunc,this.k=t.k||5,this.strictRadial=t.strictRadial,this.nodes=t.nodes}return e.prototype.layout=function(){var t=this,r=t.positions,n=[],a=t.iterations,i=t.width/10;t.maxDisplace=i,t.disp=n;for(var o=0;o<a;o++)r.forEach(function(s,l){n[l]={x:0,y:0}}),t.getRepulsion(),t.updatePositions();return r},e.prototype.getRepulsion=function(){var t=this,r=t.positions,n=t.nodes,a=t.disp,i=t.k,o=t.radii||[];r.forEach(function(s,l){a[l]={x:0,y:0},r.forEach(function(u,c){if(l!==c&&o[l]===o[c]){var f=s[0]-u[0],d=s[1]-u[1],h=Math.sqrt(f*f+d*d);if(h===0){h=1;var v=l>c?1:-1;f=.01*v,d=.01*v}if(h<t.nodeSizeFunc(n[l])/2+t.nodeSizeFunc(n[c])/2){var p=i*i/h;a[l].x+=f/h*p,a[l].y+=d/h*p}}})})},e.prototype.updatePositions=function(){var t=this,r=t.positions,n=t.disp,a=t.speed,i=t.strictRadial,o=t.focusID,s=t.maxDisplace||t.width/10;i&&n.forEach(function(u,c){var f=r[c][0]-r[o][0],d=r[c][1]-r[o][1],h=Math.sqrt(f*f+d*d),v=d/h,p=-f/h,m=Math.sqrt(u.x*u.x+u.y*u.y),g=Math.acos((v*u.x+p*u.y)/m);g>Math.PI/2&&(g-=Math.PI/2,v*=-1,p*=-1);var b=Math.cos(g)*m;u.x=v*b,u.y=p*b});var l=t.radii;r.forEach(function(u,c){if(c!==o){var f=Math.sqrt(n[c].x*n[c].x+n[c].y*n[c].y);if(f>0&&c!==o){var d=Math.min(s*(a/wke),f);if(u[0]+=n[c].x/f*d,u[1]+=n[c].y/f*d,i){var h=u[0]-r[o][0],v=u[1]-r[o][1],p=Math.sqrt(h*h+v*v);h=h/p*l[c],v=v/p*l[c],u[0]=r[o][0]+h,u[1]=r[o][1]+v}}}})},e}();XA.default=Eke;var _ke=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A7=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qE,"__esModule",{value:!0});qE.RadialLayout=void 0;var jo=da(),xke=wa,Ske=A7(KA),Cke=A7(XA);function Mke(e){for(var t=e.length,r=e[0].length,n=[],a=0;a<t;a++){for(var i=[],o=0;o<r;o++)e[a][o]!==0?i.push(1/(e[a][o]*e[a][o])):i.push(0);n.push(i)}return n}function Tke(e,t){var r=-1;return e.forEach(function(n,a){n.id===t&&(r=a)}),r}function I$(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var kke=function(e){_ke(t,e);function t(r){var n=e.call(this)||this;return n.maxIteration=1e3,n.focusNode=null,n.unitRadius=null,n.linkDistance=50,n.preventOverlap=!1,n.strictRadial=!0,n.maxPreventOverlapIteration=200,n.sortStrength=10,n.nodes=[],n.edges=[],n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},t.prototype.execute=function(){var r=this,n=r.nodes,a=r.edges||[];if(!n||n.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var i=r.center;if(n.length===1){n[0].x=i[0],n[0].y=i[1],r.onLayoutEnd&&r.onLayoutEnd();return}var o=r.linkDistance,s=null;if((0,jo.isString)(r.focusNode)){for(var l=!1,u=0;u<n.length;u++)n[u].id===r.focusNode&&(s=n[u],r.focusNode=s,l=!0,u=n.length);l||(s=null)}else s=r.focusNode;s||(s=n[0],r.focusNode=s);var c=Tke(n,s.id);c<0&&(c=0),r.focusIndex=c;var f=(0,jo.getAdjMatrix)({nodes:n,edges:a},!1),d=(0,jo.floydWarshall)(f),h=r.maxToFocus(d,c);r.handleInfinity(d,c,h+1),r.distances=d;var v=d[c],p=r.width||500,m=r.height||500,g=p-i[0]>i[0]?i[0]:p-i[0],b=m-i[1]>i[1]?i[1]:m-i[1];g===0&&(g=p/2),b===0&&(b=m/2);var y=b>g?g:b,w=Math.max.apply(Math,v),_=[];v.forEach(function(B,I){r.unitRadius||(r.unitRadius=y/w),_[I]=B*r.unitRadius}),r.radii=_;var x=r.eIdealDisMatrix();r.eIdealDistances=x;var S=Mke(x);r.weights=S;var C=new Ske.default({linkDistance:o,distances:x}),T=C.layout();T.forEach(function(B){(0,jo.isNaN)(B[0])&&(B[0]=Math.random()*o),(0,jo.isNaN)(B[1])&&(B[1]=Math.random()*o)}),r.positions=T,T.forEach(function(B,I){n[I].x=B[0]+i[0],n[I].y=B[1]+i[1]}),T.forEach(function(B){B[0]-=T[c][0],B[1]-=T[c][1]}),r.run();var M=r.preventOverlap,k=r.nodeSize,A,O=r.strictRadial;if(M){var P=r.nodeSpacing,R;(0,jo.isNumber)(P)?R=function(){return P}:(0,jo.isFunction)(P)?R=P:R=function(){return 0},k?(0,jo.isArray)(k)?A=function(B){var I=k[0]>k[1]?k[0]:k[1];return I+R(B)}:A=function(B){return k+R(B)}:A=function(B){if(B.size){if((0,jo.isArray)(B.size)){var I=B.size[0]>B.size[1]?B.size[0]:B.size[1];return I+R(B)}if((0,jo.isObject)(B.size)){var I=B.size.width>B.size.height?B.size.width:B.size.height;return I+R(B)}return B.size+R(B)}return 10+R(B)};var N={nodes:n,nodeSizeFunc:A,adjMatrix:f,positions:T,radii:_,height:m,width:p,strictRadial:O,focusID:c,iterations:r.maxPreventOverlapIteration||200,k:T.length/4.5},L=new Cke.default(N);T=L.layout()}return T.forEach(function(B,I){n[I].x=B[0]+i[0],n[I].y=B[1]+i[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:n,edges:a}},t.prototype.run=function(){for(var r=this,n=r.maxIteration,a=r.positions||[],i=r.weights||[],o=r.eIdealDistances||[],s=r.radii||[],l=0;l<=n;l++){var u=l/n;r.oneIteration(u,a,s,o,i)}},t.prototype.oneIteration=function(r,n,a,i,o){var s=this,l=1-r,u=s.focusIndex;n.forEach(function(c,f){var d=I$(c,[0,0]),h=d===0?0:1/d;if(f!==u){var v=0,p=0,m=0;n.forEach(function(b,y){if(f!==y){var w=I$(c,b),_=w===0?0:1/w,x=i[y][f];m+=o[f][y],v+=o[f][y]*(b[0]+x*(c[0]-b[0])*_),p+=o[f][y]*(b[1]+x*(c[1]-b[1])*_)}});var g=a[f]===0?0:1/a[f];m*=l,m+=r*g*g,v*=l,v+=r*g*c[0]*h,c[0]=v/m,p*=l,p+=r*g*c[1]*h,c[1]=p/m}})},t.prototype.eIdealDisMatrix=function(){var r=this,n=r.nodes;if(!n)return[];var a=r.distances,i=r.linkDistance,o=r.radii||[],s=r.unitRadius||50,l=[];return a&&a.forEach(function(u,c){var f=[];u.forEach(function(d,h){if(c===h)f.push(0);else if(o[c]===o[h])if(r.sortBy==="data")f.push(d*(Math.abs(c-h)*r.sortStrength)/(o[c]/s));else if(r.sortBy){var v=n[c][r.sortBy]||0,p=n[h][r.sortBy]||0;(0,jo.isString)(v)&&(v=v.charCodeAt(0)),(0,jo.isString)(p)&&(p=p.charCodeAt(0)),f.push(d*(Math.abs(v-p)*r.sortStrength)/(o[c]/s))}else f.push(d*i/(o[c]/s));else{var m=(i+s)/2;f.push(d*m)}}),l.push(f)}),l},t.prototype.handleInfinity=function(r,n,a){for(var i=r.length,o=0;o<i;o++)if(r[n][o]===1/0){r[n][o]=a,r[o][n]=a;for(var s=0;s<i;s++)r[o][s]!==1/0&&r[n][s]===1/0&&(r[n][s]=a+r[o][s],r[s][n]=a+r[o][s])}for(var o=0;o<i;o++)if(o!==n){for(var s=0;s<i;s++)if(r[o][s]===1/0){var l=Math.abs(r[n][o]-r[n][s]);l=l===0?1:l,r[o][s]=l}}},t.prototype.maxToFocus=function(r,n){for(var a=0,i=0;i<r[n].length;i++)r[n][i]!==1/0&&(a=r[n][i]>a?r[n][i]:a);return a},t.prototype.getType=function(){return"radial"},t}(xke.Base);qE.RadialLayout=kke;(function(e){var t=ht&&ht.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var s=Object.getOwnPropertyDescriptor(a,i);(!s||("get"in s?!a.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,s)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),r=ht&&ht.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&t(a,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(qE,e)})(YA);var H0={},Ake=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(H0,"__esModule",{value:!0});H0.ConcentricLayout=void 0;var Js=da(),Ike=wa,Oke=function(e){Ake(t,e);function t(r){var n=e.call(this)||this;return n.nodeSize=30,n.minNodeSpacing=10,n.nodeSpacing=10,n.preventOverlap=!1,n.equidistant=!1,n.startAngle=3/2*Math.PI,n.clockwise=!0,n.sortBy="degree",n.nodes=[],n.edges=[],n.width=300,n.height=300,n.onLayoutEnd=function(){},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},t.prototype.execute=function(){var r,n,a=this,i=a.nodes,o=a.edges,s=i.length;if(s===0){(r=a.onLayoutEnd)===null||r===void 0||r.call(a);return}!a.width&&typeof window<"u"&&(a.width=window.innerWidth),!a.height&&typeof window<"u"&&(a.height=window.innerHeight),a.center||(a.center=[a.width/2,a.height/2]);var l=a.center;if(s===1){i[0].x=l[0],i[0].y=l[1],(n=a.onLayoutEnd)===null||n===void 0||n.call(a);return}var u=a.nodeSize,c=a.nodeSpacing,f=[],d,h=0;(0,Js.isArray)(u)?d=Math.max(u[0],u[1]):d=u,(0,Js.isArray)(c)?h=Math.max(c[0],c[1]):(0,Js.isNumber)(c)&&(h=c),i.forEach(function(O){f.push(O);var P=d;(0,Js.isArray)(O.size)?P=Math.max(O.size[0],O.size[1]):(0,Js.isNumber)(O.size)?P=O.size:(0,Js.isObject)(O.size)&&(P=Math.max(O.size.width,O.size.height)),d=Math.max(d,P),(0,Js.isFunction)(c)&&(h=Math.max(c(O),h))}),a.clockwise=a.counterclockwise!==void 0?!a.counterclockwise:a.clockwise;var v={},p={};if(f.forEach(function(O,P){v[O.id]=O,p[O.id]=P}),(a.sortBy==="degree"||!(0,Js.isString)(a.sortBy)||f[0][a.sortBy]===void 0)&&(a.sortBy="degree",!(0,Js.isNumber)(i[0].degree))){var m=(0,Js.getDegree)(i.length,p,o);f.forEach(function(O,P){O.degree=m[P].all})}f.sort(function(O,P){return P[a.sortBy]-O[a.sortBy]}),a.maxValueNode=f[0],a.maxLevelDiff=a.maxLevelDiff||a.maxValueNode[a.sortBy]/4;var g=[[]],b=g[0];f.forEach(function(O){if(b.length>0){var P=Math.abs(b[0][a.sortBy]-O[a.sortBy]);a.maxLevelDiff&&P>=a.maxLevelDiff&&(b=[],g.push(b))}b.push(O)});var y=d+(h||a.minNodeSpacing);if(!a.preventOverlap){var w=g.length>0&&g[0].length>1,_=Math.min(a.width,a.height)/2-y,x=_/(g.length+(w?1:0));y=Math.min(y,x)}var S=0;if(g.forEach(function(O){var P=a.sweep;P===void 0&&(P=2*Math.PI-2*Math.PI/O.length);var R=O.dTheta=P/Math.max(1,O.length-1);if(O.length>1&&a.preventOverlap){var N=Math.cos(R)-Math.cos(0),L=Math.sin(R)-Math.sin(0),B=Math.sqrt(y*y/(N*N+L*L));S=Math.max(B,S)}O.r=S,S+=y}),a.equidistant){for(var C=0,T=0,M=0;M<g.length;M++){var k=g[M],A=k.r-T;C=Math.max(C,A)}T=0,g.forEach(function(O,P){P===0&&(T=O.r),O.r=T,T+=C})}return g.forEach(function(O){var P=O.dTheta,R=O.r;O.forEach(function(N,L){var B=a.startAngle+(a.clockwise?1:-1)*P*L;N.x=l[0]+R*Math.cos(B),N.y=l[1]+R*Math.sin(B)})}),a.onLayoutEnd&&a.onLayoutEnd(),{nodes:i,edges:o}},t.prototype.getType=function(){return"concentric"},t}(Ike.Base);H0.ConcentricLayout=Oke;var Y0={},Lke=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Y0,"__esModule",{value:!0});Y0.MDSLayout=void 0;var mp=k7,Rx=da(),Nke=wa,Pke=function(e){Lke(t,e);function t(r){var n=e.call(this)||this;return n.center=[0,0],n.linkDistance=50,n.nodes=[],n.edges=[],n.onLayoutEnd=function(){},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},t.prototype.execute=function(){var r=this,n=r.nodes,a=r.edges,i=a===void 0?[]:a,o=r.center;if(!n||n.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(n.length===1){n[0].x=o[0],n[0].y=o[1],r.onLayoutEnd&&r.onLayoutEnd();return}var s=r.linkDistance,l=(0,Rx.getAdjMatrix)({nodes:n,edges:i},!1),u=(0,Rx.floydWarshall)(l);r.handleInfinity(u);var c=(0,Rx.scaleMatrix)(u,s);r.scaledDistances=c;var f=r.runMDS();return r.positions=f,f.forEach(function(d,h){n[h].x=d[0]+o[0],n[h].y=d[1]+o[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:n,edges:i}},t.prototype.runMDS=function(){var r=this,n=2,a=r.scaledDistances,i=mp.Matrix.mul(mp.Matrix.pow(a,2),-.5),o=i.mean("row"),s=i.mean("column"),l=i.mean();i.add(l).subRowVector(o).subColumnVector(s);var u=new mp.SingularValueDecomposition(i),c=mp.Matrix.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(f){return mp.Matrix.mul([f],[c]).toJSON()[0].splice(0,n)})},t.prototype.handleInfinity=function(r){var n=-999999;r.forEach(function(a){a.forEach(function(i){i!==1/0&&n<i&&(n=i)})}),r.forEach(function(a,i){a.forEach(function(o,s){o===1/0&&(r[i][s]=n)})})},t.prototype.getType=function(){return"mds"},t}(Nke.Base);Y0.MDSLayout=Pke;var K0={},Dke=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(K0,"__esModule",{value:!0});K0.FruchtermanLayout=void 0;var Rke=wa,ma=da(),$ke=800,Bke=function(e){Dke(t,e);function t(r){var n=e.call(this)||this;return n.maxIteration=1e3,n.workerEnabled=!1,n.gravity=10,n.speed=5,n.clustering=!1,n.clusterGravity=10,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.onLayoutEnd=function(){},n.tick=function(){},n.animate=!0,n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},t.prototype.execute=function(){var r=this,n,a,i=this,o=i.nodes;if(i.timeInterval!==void 0&&typeof window<"u"&&window.clearInterval(i.timeInterval),!o||o.length===0){(n=i.onLayoutEnd)===null||n===void 0||n.call(i);return}!i.width&&typeof window<"u"&&(i.width=window.innerWidth),!i.height&&typeof window<"u"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);var s=i.center;if(o.length===1){o[0].x=s[0],o[0].y=s[1],(a=i.onLayoutEnd)===null||a===void 0||a.call(i);return}var l={},u={};return o.forEach(function(c,f){(0,ma.isNumber)(c.x)||(c.x=Math.random()*r.width),(0,ma.isNumber)(c.y)||(c.y=Math.random()*r.height),l[c.id]=c,u[c.id]=f}),i.nodeMap=l,i.nodeIdxMap=u,i.run()},t.prototype.run=function(){var r,n=this,a=n.nodes;if(a){var i=n.edges,o=n.maxIteration,s=n.workerEnabled,l=n.clustering,u=n.animate,c={};if(l&&a.forEach(function(h){c[h.cluster]===void 0&&(c[h.cluster]={name:h.cluster,cx:0,cy:0,count:0})}),s||!u){for(var f=0;f<o;f++)n.runOneStep(c);(r=n.onLayoutEnd)===null||r===void 0||r.call(n)}else{if(typeof window>"u")return;var d=0;this.timeInterval=window.setInterval(function(){var h;n.runOneStep(c),d++,d>=o&&((h=n.onLayoutEnd)===null||h===void 0||h.call(n),window.clearInterval(n.timeInterval))},0)}return{nodes:a,edges:i}}},t.prototype.runOneStep=function(r){var n,a=this,i=a.nodes;if(i){var o=a.edges,s=a.center,l=a.gravity,u=a.speed,c=a.clustering,f=a.height*a.width,d=Math.sqrt(f)/10,h=f/(i.length+1),v=Math.sqrt(h),p=[];if(i.forEach(function(b,y){p[y]={x:0,y:0}}),a.applyCalculate(i,o,p,v,h),c){for(var m in r)r[m].cx=0,r[m].cy=0,r[m].count=0;i.forEach(function(b){var y=r[b.cluster];(0,ma.isNumber)(b.x)&&(y.cx+=b.x),(0,ma.isNumber)(b.y)&&(y.cy+=b.y),y.count++});for(var m in r)r[m].cx/=r[m].count,r[m].cy/=r[m].count;var g=a.clusterGravity||l;i.forEach(function(b,y){if(!(!(0,ma.isNumber)(b.x)||!(0,ma.isNumber)(b.y))){var w=r[b.cluster],_=Math.sqrt((b.x-w.cx)*(b.x-w.cx)+(b.y-w.cy)*(b.y-w.cy)),x=v*g;p[y].x-=x*(b.x-w.cx)/_,p[y].y-=x*(b.y-w.cy)/_}})}i.forEach(function(b,y){if(!(!(0,ma.isNumber)(b.x)||!(0,ma.isNumber)(b.y))){var w=.01*v*l;p[y].x-=w*(b.x-s[0]),p[y].y-=w*(b.y-s[1])}}),i.forEach(function(b,y){if((0,ma.isNumber)(b.fx)&&(0,ma.isNumber)(b.fy)){b.x=b.fx,b.y=b.fy;return}if(!(!(0,ma.isNumber)(b.x)||!(0,ma.isNumber)(b.y))){var w=Math.sqrt(p[y].x*p[y].x+p[y].y*p[y].y);if(w>0){var _=Math.min(d*(u/$ke),w);b.x+=p[y].x/w*_,b.y+=p[y].y/w*_}}}),(n=a.tick)===null||n===void 0||n.call(a)}},t.prototype.applyCalculate=function(r,n,a,i,o){var s=this;s.calRepulsive(r,a,o),n&&s.calAttractive(n,a,i)},t.prototype.calRepulsive=function(r,n,a){r.forEach(function(i,o){n[o]={x:0,y:0},r.forEach(function(s,l){if(o!==l&&!(!(0,ma.isNumber)(i.x)||!(0,ma.isNumber)(s.x)||!(0,ma.isNumber)(i.y)||!(0,ma.isNumber)(s.y))){var u=i.x-s.x,c=i.y-s.y,f=u*u+c*c;if(f===0){f=1;var d=o>l?1:-1;u=.01*d,c=.01*d}var h=a/f;n[o].x+=u*h,n[o].y+=c*h}})})},t.prototype.calAttractive=function(r,n,a){var i=this;r.forEach(function(o){var s=(0,ma.getEdgeTerminal)(o,"source"),l=(0,ma.getEdgeTerminal)(o,"target");if(!(!s||!l)){var u=i.nodeIdxMap[s],c=i.nodeIdxMap[l];if(u!==c){var f=i.nodeMap[s],d=i.nodeMap[l];if(!(!(0,ma.isNumber)(d.x)||!(0,ma.isNumber)(f.x)||!(0,ma.isNumber)(d.y)||!(0,ma.isNumber)(f.y))){var h=d.x-f.x,v=d.y-f.y,p=Math.sqrt(h*h+v*v),m=p*p/a;n[c].x-=h/p*m,n[c].y-=v/p*m,n[u].x+=h/p*m,n[u].y+=v/p*m}}}})},t.prototype.stop=function(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval)},t.prototype.destroy=function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0},t.prototype.getType=function(){return"fruchterman"},t}(Rke.Base);K0.FruchtermanLayout=Bke;var X0={};function O$(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(u){r(u);return}s.done?t(l):Promise.resolve(l).then(n,a)}function hc(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(l){O$(i,n,a,o,s,"next",l)}function s(l){O$(i,n,a,o,s,"throw",l)}o(void 0)})}}function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function Fke(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function I7(e){var t=Fke(e,"string");return cv(t)=="symbol"?t:t+""}function Zt(e,t,r){return t=I7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function js(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I7(n.key),n)}}function Vs(e,t,r){return t&&L$(e.prototype,t),r&&L$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var zke=typeof ht=="object"&&ht&&ht.Object===Object&&ht,O7=zke,Gke=O7,jke=typeof self=="object"&&self&&self.Object===Object&&self,Vke=Gke||jke||Function("return this")(),Uke=Vke,Wke=Uke,Hke=Wke.Symbol,L7=Hke,N$=L7,N7=Object.prototype,Yke=N7.hasOwnProperty,Kke=N7.toString,yp=N$?N$.toStringTag:void 0;function Xke(e){var t=Yke.call(e,yp),r=e[yp];try{e[yp]=void 0;var n=!0}catch{}var a=Kke.call(e);return n&&(t?e[yp]=r:delete e[yp]),a}var qke=Xke,Zke=Object.prototype,Qke=Zke.toString;function Jke(e){return Qke.call(e)}var eAe=Jke,P$=L7,tAe=qke,rAe=eAe,nAe="[object Null]",aAe="[object Undefined]",D$=P$?P$.toStringTag:void 0;function iAe(e){return e==null?e===void 0?aAe:nAe:D$&&D$ in Object(e)?tAe(e):rAe(e)}var qA=iAe,oAe=9007199254740991;function sAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oAe}var lAe=sAe;function uAe(e){return e!=null&&typeof e=="object"}var ZA=uAe,cAe=qA,fAe=lAe,dAe=ZA,hAe="[object Arguments]",vAe="[object Array]",pAe="[object Boolean]",gAe="[object Date]",mAe="[object Error]",yAe="[object Function]",bAe="[object Map]",wAe="[object Number]",EAe="[object Object]",_Ae="[object RegExp]",xAe="[object Set]",SAe="[object String]",CAe="[object WeakMap]",MAe="[object ArrayBuffer]",TAe="[object DataView]",kAe="[object Float32Array]",AAe="[object Float64Array]",IAe="[object Int8Array]",OAe="[object Int16Array]",LAe="[object Int32Array]",NAe="[object Uint8Array]",PAe="[object Uint8ClampedArray]",DAe="[object Uint16Array]",RAe="[object Uint32Array]",Zn={};Zn[kAe]=Zn[AAe]=Zn[IAe]=Zn[OAe]=Zn[LAe]=Zn[NAe]=Zn[PAe]=Zn[DAe]=Zn[RAe]=!0;Zn[hAe]=Zn[vAe]=Zn[MAe]=Zn[pAe]=Zn[TAe]=Zn[gAe]=Zn[mAe]=Zn[yAe]=Zn[bAe]=Zn[wAe]=Zn[EAe]=Zn[_Ae]=Zn[xAe]=Zn[SAe]=Zn[CAe]=!1;function $Ae(e){return dAe(e)&&fAe(e.length)&&!!Zn[cAe(e)]}var BAe=$Ae;function FAe(e){return function(t){return e(t)}}var zAe=FAe,fw={exports:{}};fw.exports;(function(e,t){var r=O7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(fw,fw.exports);var GAe=fw.exports,jAe=BAe,VAe=zAe,R$=GAe,$$=R$&&R$.isTypedArray,UAe=$$?VAe($$):jAe,WAe=UAe;const dw=Ka(WAe);var HAe=qA,YAe=ZA,KAe="[object Number]";function XAe(e){return typeof e=="number"||YAe(e)&&HAe(e)==KAe}var qAe=XAe;const ZAe=Ka(qAe);var QAe=Array.isArray,JAe=QAe;const eIe=Ka(JAe);var P7={exports:{}},D7={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(D7);var tIe=D7.exports;(function(e){var t=tIe.default;function r(){e.exports=r=function(){return a},e.exports.__esModule=!0,e.exports.default=e.exports;var n,a={},i=Object.prototype,o=i.hasOwnProperty,s=Object.defineProperty||function(I,D,z){I[D]=z.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(I,D,z){return Object.defineProperty(I,D,{value:z,enumerable:!0,configurable:!0,writable:!0}),I[D]}try{d({},"")}catch{d=function(z,U,H){return z[U]=H}}function h(I,D,z,U){var H=D&&D.prototype instanceof w?D:w,Y=Object.create(H.prototype),ie=new L(U||[]);return s(Y,"_invoke",{value:O(I,z,ie)}),Y}function v(I,D,z){try{return{type:"normal",arg:I.call(D,z)}}catch(U){return{type:"throw",arg:U}}}a.wrap=h;var p="suspendedStart",m="suspendedYield",g="executing",b="completed",y={};function w(){}function _(){}function x(){}var S={};d(S,u,function(){return this});var C=Object.getPrototypeOf,T=C&&C(C(B([])));T&&T!==i&&o.call(T,u)&&(S=T);var M=x.prototype=w.prototype=Object.create(S);function k(I){["next","throw","return"].forEach(function(D){d(I,D,function(z){return this._invoke(D,z)})})}function A(I,D){function z(H,Y,ie,X){var re=v(I[H],I,Y);if(re.type!=="throw"){var oe=re.arg,Ne=oe.value;return Ne&&t(Ne)=="object"&&o.call(Ne,"__await")?D.resolve(Ne.__await).then(function(me){z("next",me,ie,X)},function(me){z("throw",me,ie,X)}):D.resolve(Ne).then(function(me){oe.value=me,ie(oe)},function(me){return z("throw",me,ie,X)})}X(re.arg)}var U;s(this,"_invoke",{value:function(Y,ie){function X(){return new D(function(re,oe){z(Y,ie,re,oe)})}return U=U?U.then(X,X):X()}})}function O(I,D,z){var U=p;return function(H,Y){if(U===g)throw Error("Generator is already running");if(U===b){if(H==="throw")throw Y;return{value:n,done:!0}}for(z.method=H,z.arg=Y;;){var ie=z.delegate;if(ie){var X=P(ie,z);if(X){if(X===y)continue;return X}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(U===p)throw U=b,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);U=g;var re=v(I,D,z);if(re.type==="normal"){if(U=z.done?b:m,re.arg===y)continue;return{value:re.arg,done:z.done}}re.type==="throw"&&(U=b,z.method="throw",z.arg=re.arg)}}}function P(I,D){var z=D.method,U=I.iterator[z];if(U===n)return D.delegate=null,z==="throw"&&I.iterator.return&&(D.method="return",D.arg=n,P(I,D),D.method==="throw")||z!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+z+"' method")),y;var H=v(U,I.iterator,D.arg);if(H.type==="throw")return D.method="throw",D.arg=H.arg,D.delegate=null,y;var Y=H.arg;return Y?Y.done?(D[I.resultName]=Y.value,D.next=I.nextLoc,D.method!=="return"&&(D.method="next",D.arg=n),D.delegate=null,y):Y:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,y)}function R(I){var D={tryLoc:I[0]};1 in I&&(D.catchLoc=I[1]),2 in I&&(D.finallyLoc=I[2],D.afterLoc=I[3]),this.tryEntries.push(D)}function N(I){var D=I.completion||{};D.type="normal",delete D.arg,I.completion=D}function L(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(R,this),this.reset(!0)}function B(I){if(I||I===""){var D=I[u];if(D)return D.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var z=-1,U=function H(){for(;++z<I.length;)if(o.call(I,z))return H.value=I[z],H.done=!1,H;return H.value=n,H.done=!0,H};return U.next=U}}throw new TypeError(t(I)+" is not iterable")}return _.prototype=x,s(M,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:_,configurable:!0}),_.displayName=d(x,f,"GeneratorFunction"),a.isGeneratorFunction=function(I){var D=typeof I=="function"&&I.constructor;return!!D&&(D===_||(D.displayName||D.name)==="GeneratorFunction")},a.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,x):(I.__proto__=x,d(I,f,"GeneratorFunction")),I.prototype=Object.create(M),I},a.awrap=function(I){return{__await:I}},k(A.prototype),d(A.prototype,c,function(){return this}),a.AsyncIterator=A,a.async=function(I,D,z,U,H){H===void 0&&(H=Promise);var Y=new A(h(I,D,z,U),H);return a.isGeneratorFunction(D)?Y:Y.next().then(function(ie){return ie.done?ie.value:Y.next()})},k(M),d(M,f,"Generator"),d(M,u,function(){return this}),d(M,"toString",function(){return"[object Generator]"}),a.keys=function(I){var D=Object(I),z=[];for(var U in D)z.push(U);return z.reverse(),function H(){for(;z.length;){var Y=z.pop();if(Y in D)return H.value=Y,H.done=!1,H}return H.done=!0,H}},a.values=B,L.prototype={constructor:L,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!D)for(var z in this)z.charAt(0)==="t"&&o.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=n)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var z=this;function U(oe,Ne){return ie.type="throw",ie.arg=D,z.next=oe,Ne&&(z.method="next",z.arg=n),!!Ne}for(var H=this.tryEntries.length-1;H>=0;--H){var Y=this.tryEntries[H],ie=Y.completion;if(Y.tryLoc==="root")return U("end");if(Y.tryLoc<=this.prev){var X=o.call(Y,"catchLoc"),re=o.call(Y,"finallyLoc");if(X&&re){if(this.prev<Y.catchLoc)return U(Y.catchLoc,!0);if(this.prev<Y.finallyLoc)return U(Y.finallyLoc)}else if(X){if(this.prev<Y.catchLoc)return U(Y.catchLoc,!0)}else{if(!re)throw Error("try statement without catch or finally");if(this.prev<Y.finallyLoc)return U(Y.finallyLoc)}}}},abrupt:function(D,z){for(var U=this.tryEntries.length-1;U>=0;--U){var H=this.tryEntries[U];if(H.tryLoc<=this.prev&&o.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var Y=H;break}}Y&&(D==="break"||D==="continue")&&Y.tryLoc<=z&&z<=Y.finallyLoc&&(Y=null);var ie=Y?Y.completion:{};return ie.type=D,ie.arg=z,Y?(this.method="next",this.next=Y.finallyLoc,y):this.complete(ie)},complete:function(D,z){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&z&&(this.next=z),y},finish:function(D){for(var z=this.tryEntries.length-1;z>=0;--z){var U=this.tryEntries[z];if(U.finallyLoc===D)return this.complete(U.completion,U.afterLoc),N(U),y}},catch:function(D){for(var z=this.tryEntries.length-1;z>=0;--z){var U=this.tryEntries[z];if(U.tryLoc===D){var H=U.completion;if(H.type==="throw"){var Y=H.arg;N(U)}return Y}}throw Error("illegal catch attempt")},delegateYield:function(D,z,U){return this.delegate={iterator:B(D),resultName:z,nextLoc:U},this.method==="next"&&(this.arg=n),y}},a}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(P7);var rIe=P7.exports,W1=rIe(),nIe=W1;try{regeneratorRuntime=W1}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=W1:Function("r","regeneratorRuntime = r")(W1)}const _i=Ka(nIe);var aIe=1;function R7(){return aIe++}var kt;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(kt||(kt={}));var iIe=function(){function e(){js(this,e),this.config=void 0}return Vs(e,[{key:"get",value:function(){return this.config}},{key:"set",value:function(r){this.config=r}}]),e}(),Qg;(function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"})(Qg||(Qg={}));var B$;(function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"})(B$||(B$={}));var fv;(function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"})(fv||(fv={}));var cg;(function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"})(cg||(cg={}));var oIe="__DefineValuePlaceholder__";function sIe(){if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function F$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F$(Object(r),!0).forEach(function(n){Zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var $7=function(){function e(t,r){js(this,e),this.engine=t,this.configService=r,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return Vs(e,[{key:"init",value:function(){var r=this.configService.get(),n=r.canvas,a=r.engineOptions;this.initPromise=this.engine.init(z$({canvas:n||sIe(),antialiasing:!1},a))}},{key:"setBundle",value:function(r){this.compiledBundle=JSON.parse(JSON.stringify(r))}},{key:"setDispatch",value:function(r){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=r),this}},{key:"setMaxIteration",value:function(r){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=r),this}},{key:"setBinding",value:function(r,n){var a=this;if(typeof r=="string"){var i=ZAe(n)||dw(n)||eIe(n);if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find(function(l){return l.name===r});if(o)return o.value=n,this;var s=this.compiledBundle.context.uniforms.find(function(l){return l.name===r});s&&(i?(s.data=n,s.isReferer=!1,s.storageClass===fv.Uniform?this.model&&this.model.updateUniform(r,n):this.model&&this.model.updateBuffer(r,n)):(s.isReferer=!0,s.data=n))}}else Object.keys(r).forEach(function(l){a.setBinding(l,r[l])});return this}},{key:"execute",value:function(){var t=hc(_i.mark(function n(){var a=this,i,o,s=arguments;return _i.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=s.length>0&&s[0]!==void 0?s[0]:1,!this.dirty){u.next=6;break}return this.compiledBundle.context&&(i>1?this.compiledBundle.context.maxIteration=i:this.compiledBundle.context.maxIteration++),u.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(c){var f=c.isReferer;return f}).forEach(function(c){var f=c.data,d=c.name;a.model.confirmInput(f.model,d)}),o=0;o<i;o++)this.model.run();return this.engine.endFrame(),u.abrupt("return",this);case 12:case"end":return u.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"getOutput",value:function(){var t=hc(_i.mark(function n(){return _i.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.model.readData());case 1:case"end":return i.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"compile",value:function(){var t=hc(_i.mark(function n(){var a,i,o;return _i.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.initPromise;case 2:return a=z$({},this.compiledBundle.context),i=this.engine.supportWebGPU?this.engine.useWGSL?cg.WGSL:cg.GLSL450:cg.GLSL100,o=this.compiledBundle.shaders[i],a.defines.filter(function(u){return u.runtime}).forEach(function(u){var c="".concat(oIe).concat(u.name);o=o.replace(c,"".concat(u.value))}),a.shader=o,a.uniforms.forEach(function(u){if(!u.data&&u.storageClass===fv.StorageBuffer){var c=1;u.type===Qg.FloatArray?c=1:u.type===Qg.Vector4FloatArray&&(c=4),u.data=new Float32Array(a.output.length*c).fill(0)}}),this.compiledBundle.context=a,l.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=l.sent;case 12:case"end":return l.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()}]),e}(),B7={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){var r=function(V){return V instanceof Uint8Array||V instanceof Uint16Array||V instanceof Uint32Array||V instanceof Int8Array||V instanceof Int16Array||V instanceof Int32Array||V instanceof Float32Array||V instanceof Float64Array||V instanceof Uint8ClampedArray},n=function(V,ne){for(var ye=Object.keys(ne),rt=0;rt<ye.length;++rt)V[ye[rt]]=ne[ye[rt]];return V},a=`
`;function i(V){return typeof atob<"u"?atob(V):"base64:"+V}function o(V){var ne=new Error("(regl) "+V);throw console.error(ne),ne}function s(V,ne){V||o(ne)}function l(V){return V?": "+V:""}function u(V,ne,ye){V in ne||o("unknown parameter ("+V+")"+l(ye)+". possible values: "+Object.keys(ne).join())}function c(V,ne){r(V)||o("invalid parameter type"+l(ne)+". must be a typed array")}function f(V,ne){switch(ne){case"number":return typeof V=="number";case"object":return typeof V=="object";case"string":return typeof V=="string";case"boolean":return typeof V=="boolean";case"function":return typeof V=="function";case"undefined":return typeof V>"u";case"symbol":return typeof V=="symbol"}}function d(V,ne,ye){f(V,ne)||o("invalid parameter type"+l(ye)+". expected "+ne+", got "+typeof V)}function h(V,ne){V>=0&&(V|0)===V||o("invalid parameter type, ("+V+")"+l(ne)+". must be a nonnegative integer")}function v(V,ne,ye){ne.indexOf(V)<0&&o("invalid value"+l(ye)+". must be one of: "+ne)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(V){Object.keys(V).forEach(function(ne){p.indexOf(ne)<0&&o('invalid regl constructor argument "'+ne+'". must be one of '+p)})}function g(V,ne){for(V=V+"";V.length<ne;)V=" "+V;return V}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(V,ne){this.number=V,this.line=ne,this.errors=[]}function w(V,ne,ye){this.file=V,this.line=ne,this.message=ye}function _(){var V=new Error,ne=(V.stack||V).toString(),ye=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ne);if(ye)return ye[1];var rt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ne);return rt?rt[1]:"unknown"}function x(){var V=new Error,ne=(V.stack||V).toString(),ye=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ne);if(ye)return ye[1];var rt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ne);return rt?rt[1]:"unknown"}function S(V,ne){var ye=V.split(`
`),rt=1,yt=0,et={unknown:new b,0:new b};et.unknown.name=et[0].name=ne||_(),et.unknown.lines.push(new y(0,""));for(var st=0;st<ye.length;++st){var Mt=ye[st],It=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Mt);if(It)switch(It[1]){case"line":var Dt=/(\d+)(\s+\d+)?/.exec(It[2]);Dt&&(rt=Dt[1]|0,Dt[2]&&(yt=Dt[2]|0,yt in et||(et[yt]=new b)));break;case"define":var Ot=/SHADER_NAME(_B64)?\s+(.*)$/.exec(It[2]);Ot&&(et[yt].name=Ot[1]?i(Ot[2]):Ot[2]);break}et[yt].lines.push(new y(rt++,Mt))}return Object.keys(et).forEach(function(Ft){var Wt=et[Ft];Wt.lines.forEach(function(Tt){Wt.index[Tt.number]=Tt})}),et}function C(V){var ne=[];return V.split(`
`).forEach(function(ye){if(!(ye.length<5)){var rt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(ye);rt?ne.push(new w(rt[1]|0,rt[2]|0,rt[3].trim())):ye.length>0&&ne.push(new w("unknown",0,ye))}}),ne}function T(V,ne){ne.forEach(function(ye){var rt=V[ye.file];if(rt){var yt=rt.index[ye.line];if(yt){yt.errors.push(ye),rt.hasErrors=!0;return}}V.unknown.hasErrors=!0,V.unknown.lines[0].errors.push(ye)})}function M(V,ne,ye,rt,yt){if(!V.getShaderParameter(ne,V.COMPILE_STATUS)){var et=V.getShaderInfoLog(ne),st=rt===V.FRAGMENT_SHADER?"fragment":"vertex";L(ye,"string",st+" shader source must be a string",yt);var Mt=S(ye,yt),It=C(et);T(Mt,It),Object.keys(Mt).forEach(function(Dt){var Ot=Mt[Dt];if(!Ot.hasErrors)return;var Ft=[""],Wt=[""];function Tt(Gt,We){Ft.push(Gt),Wt.push(We||"")}Tt("file number "+Dt+": "+Ot.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Ot.lines.forEach(function(Gt){if(Gt.errors.length>0){Tt(g(Gt.number,4)+"|  ","background-color:yellow; font-weight:bold"),Tt(Gt.line+a,"color:red; background-color:yellow; font-weight:bold");var We=0;Gt.errors.forEach(function(lt){var Pt=lt.message,Xt=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Pt);if(Xt){var xt=Xt[1];switch(Pt=Xt[2],xt){case"assign":xt="=";break}We=Math.max(Gt.line.indexOf(xt,We),0)}else We=0;Tt(g("| ",6)),Tt(g("^^^",We+3)+a,"font-weight:bold"),Tt(g("| ",6)),Tt(Pt+a,"font-weight:bold")}),Tt(g("| ",6)+a)}else Tt(g(Gt.number,4)+"|  "),Tt(Gt.line+a,"color:red")}),typeof document<"u"&&!window.chrome?(Wt[0]=Ft.join("%c"),console.log.apply(console,Wt)):console.log(Ft.join(""))}),s.raise("Error compiling "+st+" shader, "+Mt[0].name)}}function k(V,ne,ye,rt,yt){if(!V.getProgramParameter(ne,V.LINK_STATUS)){var et=V.getProgramInfoLog(ne),st=S(ye,yt),Mt=S(rt,yt),It='Error linking program with vertex shader, "'+Mt[0].name+'", and fragment shader "'+st[0].name+'"';typeof document<"u"?console.log("%c"+It+a+"%c"+et,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(It+a+et),s.raise(It)}}function A(V){V._commandRef=_()}function O(V,ne,ye,rt){A(V);function yt(It){return It?rt.id(It):0}V._fragId=yt(V.static.frag),V._vertId=yt(V.static.vert);function et(It,Dt){Object.keys(Dt).forEach(function(Ot){It[rt.id(Ot)]=!0})}var st=V._uniformSet={};et(st,ne.static),et(st,ne.dynamic);var Mt=V._attributeSet={};et(Mt,ye.static),et(Mt,ye.dynamic),V._hasCount="count"in V.static||"count"in V.dynamic||"elements"in V.static||"elements"in V.dynamic}function P(V,ne){var ye=x();o(V+" in command "+(ne||_())+(ye==="unknown"?"":" called from "+ye))}function R(V,ne,ye){V||P(ne,ye||_())}function N(V,ne,ye,rt){V in ne||P("unknown parameter ("+V+")"+l(ye)+". possible values: "+Object.keys(ne).join(),rt||_())}function L(V,ne,ye,rt){f(V,ne)||P("invalid parameter type"+l(ye)+". expected "+ne+", got "+typeof V,rt||_())}function B(V){V()}function I(V,ne,ye){V.texture?v(V.texture._texture.internalformat,ne,"unsupported texture format for attachment"):v(V.renderbuffer._renderbuffer.format,ye,"unsupported renderbuffer format for attachment")}var D=33071,z=9728,U=9984,H=9985,Y=9986,ie=9987,X=5120,re=5121,oe=5122,Ne=5123,me=5124,xe=5125,ze=5126,te=32819,le=32820,Ae=33635,Ve=34042,Ie=36193,De={};De[X]=De[re]=1,De[oe]=De[Ne]=De[Ie]=De[Ae]=De[te]=De[le]=2,De[me]=De[xe]=De[ze]=De[Ve]=4;function Ge(V,ne){return V===le||V===te||V===Ae?2:V===Ve?4:De[V]*ne}function Qe(V){return!(V&V-1)&&!!V}function ke(V,ne,ye){var rt,yt=ne.width,et=ne.height,st=ne.channels;s(yt>0&&yt<=ye.maxTextureSize&&et>0&&et<=ye.maxTextureSize,"invalid texture shape"),(V.wrapS!==D||V.wrapT!==D)&&s(Qe(yt)&&Qe(et),"incompatible wrap mode for texture, both width and height must be power of 2"),ne.mipmask===1?yt!==1&&et!==1&&s(V.minFilter!==U&&V.minFilter!==Y&&V.minFilter!==H&&V.minFilter!==ie,"min filter requires mipmap"):(s(Qe(yt)&&Qe(et),"texture must be a square power of 2 to support mipmapping"),s(ne.mipmask===(yt<<1)-1,"missing or incomplete mipmap data")),ne.type===ze&&(ye.extensions.indexOf("oes_texture_float_linear")<0&&s(V.minFilter===z&&V.magFilter===z,"filter not supported, must enable oes_texture_float_linear"),s(!V.genMipmaps,"mipmap generation not supported with float textures"));var Mt=ne.images;for(rt=0;rt<16;++rt)if(Mt[rt]){var It=yt>>rt,Dt=et>>rt;s(ne.mipmask&1<<rt,"missing mipmap data");var Ot=Mt[rt];if(s(Ot.width===It&&Ot.height===Dt,"invalid shape for mip images"),s(Ot.format===ne.format&&Ot.internalformat===ne.internalformat&&Ot.type===ne.type,"incompatible type for mip image"),!Ot.compressed)if(Ot.data){var Ft=Math.ceil(Ge(Ot.type,st)*It/Ot.unpackAlignment)*Ot.unpackAlignment;s(Ot.data.byteLength===Ft*Dt,"invalid data for image, buffer size is inconsistent with image format")}else Ot.element||Ot.copy}else V.genMipmaps||s((ne.mipmask&1<<rt)===0,"extra mipmap data");ne.compressed&&s(!V.genMipmaps,"mipmap generation for compressed images not supported")}function q(V,ne,ye,rt){var yt=V.width,et=V.height,st=V.channels;s(yt>0&&yt<=rt.maxTextureSize&&et>0&&et<=rt.maxTextureSize,"invalid texture shape"),s(yt===et,"cube map must be square"),s(ne.wrapS===D&&ne.wrapT===D,"wrap mode not supported by cube map");for(var Mt=0;Mt<ye.length;++Mt){var It=ye[Mt];s(It.width===yt&&It.height===et,"inconsistent cube map face shape"),ne.genMipmaps&&(s(!It.compressed,"can not generate mipmap for compressed textures"),s(It.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Dt=It.images,Ot=0;Ot<16;++Ot){var Ft=Dt[Ot];if(Ft){var Wt=yt>>Ot,Tt=et>>Ot;s(It.mipmask&1<<Ot,"missing mipmap data"),s(Ft.width===Wt&&Ft.height===Tt,"invalid shape for mip images"),s(Ft.format===V.format&&Ft.internalformat===V.internalformat&&Ft.type===V.type,"incompatible type for mip image"),Ft.compressed||(Ft.data?s(Ft.data.byteLength===Wt*Tt*Math.max(Ge(Ft.type,st),Ft.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Ft.element||Ft.copy)}}}}var j=n(s,{optional:B,raise:o,commandRaise:P,command:R,parameter:u,commandParameter:N,constructor:m,type:d,commandType:L,isTypedArray:c,nni:h,oneOf:v,shaderError:M,linkError:k,callSite:x,saveCommandRef:A,saveDrawInfo:O,framebufferFormat:I,guessCommand:_,texture2D:ke,textureCube:q}),Ce=0,fe=0,ge=5,Ue=6;function tt(V,ne){this.id=Ce++,this.type=V,this.data=ne}function ot(V){return V.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Ye(V){if(V.length===0)return[];var ne=V.charAt(0),ye=V.charAt(V.length-1);if(V.length>1&&ne===ye&&(ne==='"'||ne==="'"))return['"'+ot(V.substr(1,V.length-2))+'"'];var rt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(V);if(rt)return Ye(V.substr(0,rt.index)).concat(Ye(rt[1])).concat(Ye(V.substr(rt.index+rt[0].length)));var yt=V.split(".");if(yt.length===1)return['"'+ot(V)+'"'];for(var et=[],st=0;st<yt.length;++st)et=et.concat(Ye(yt[st]));return et}function we(V){return"["+Ye(V).join("][")+"]"}function qe(V,ne){return new tt(V,we(ne+""))}function Be(V){return typeof V=="function"&&!V._reglType||V instanceof tt}function pe(V,ne){if(typeof V=="function")return new tt(fe,V);if(typeof V=="number"||typeof V=="boolean")return new tt(ge,V);if(Array.isArray(V))return new tt(Ue,V.map((ye,rt)=>pe(ye,ne+"["+rt+"]")));if(V instanceof tt)return V;j(!1,"invalid option type in uniform "+ne)}var Re={DynamicVariable:tt,define:qe,isDynamic:Be,unbox:pe,accessor:we},ft={next:typeof requestAnimationFrame=="function"?function(V){return requestAnimationFrame(V)}:function(V){return setTimeout(V,16)},cancel:typeof cancelAnimationFrame=="function"?function(V){return cancelAnimationFrame(V)}:clearTimeout},Ee=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function wt(){var V={"":0},ne=[""];return{id:function(ye){var rt=V[ye];return rt||(rt=V[ye]=ne.length,ne.push(ye),rt)},str:function(ye){return ne[ye]}}}function ar(V,ne,ye){var rt=document.createElement("canvas");n(rt.style,{border:0,margin:0,padding:0,top:0,left:0}),V.appendChild(rt),V===document.body&&(rt.style.position="absolute",n(V.style,{margin:0,padding:0}));function yt(){var Mt=window.innerWidth,It=window.innerHeight;if(V!==document.body){var Dt=V.getBoundingClientRect();Mt=Dt.right-Dt.left,It=Dt.bottom-Dt.top}rt.width=ye*Mt,rt.height=ye*It,n(rt.style,{width:Mt+"px",height:It+"px"})}var et;V!==document.body&&typeof ResizeObserver=="function"?(et=new ResizeObserver(function(){setTimeout(yt)}),et.observe(V)):window.addEventListener("resize",yt,!1);function st(){et?et.disconnect():window.removeEventListener("resize",yt),V.removeChild(rt)}return yt(),{canvas:rt,onDestroy:st}}function lr(V,ne){function ye(rt){try{return V.getContext(rt,ne)}catch{return null}}return ye("webgl")||ye("experimental-webgl")||ye("webgl-experimental")}function Wr(V){return typeof V.nodeName=="string"&&typeof V.appendChild=="function"&&typeof V.getBoundingClientRect=="function"}function In(V){return typeof V.drawArrays=="function"||typeof V.drawElements=="function"}function ir(V){return typeof V=="string"?V.split():(j(Array.isArray(V),"invalid extension array"),V)}function An(V){return typeof V=="string"?(j(typeof document<"u","not supported outside of DOM"),document.querySelector(V)):V}function Ro(V){var ne=V||{},ye,rt,yt,et,st={},Mt=[],It=[],Dt=typeof window>"u"?1:window.devicePixelRatio,Ot=!1,Ft=function(Gt){Gt&&j.raise(Gt)},Wt=function(){};if(typeof ne=="string"?(j(typeof document<"u","selector queries only supported in DOM enviroments"),ye=document.querySelector(ne),j(ye,"invalid query string for element")):typeof ne=="object"?Wr(ne)?ye=ne:In(ne)?(et=ne,yt=et.canvas):(j.constructor(ne),"gl"in ne?et=ne.gl:"canvas"in ne?yt=An(ne.canvas):"container"in ne&&(rt=An(ne.container)),"attributes"in ne&&(st=ne.attributes,j.type(st,"object","invalid context attributes")),"extensions"in ne&&(Mt=ir(ne.extensions)),"optionalExtensions"in ne&&(It=ir(ne.optionalExtensions)),"onDone"in ne&&(j.type(ne.onDone,"function","invalid or missing onDone callback"),Ft=ne.onDone),"profile"in ne&&(Ot=!!ne.profile),"pixelRatio"in ne&&(Dt=+ne.pixelRatio,j(Dt>0,"invalid pixel ratio"))):j.raise("invalid arguments to regl"),ye&&(ye.nodeName.toLowerCase()==="canvas"?yt=ye:rt=ye),!et){if(!yt){j(typeof document<"u","must manually specify webgl context outside of DOM environments");var Tt=ar(rt||document.body,Ft,Dt);if(!Tt)return null;yt=Tt.canvas,Wt=Tt.onDestroy}st.premultipliedAlpha===void 0&&(st.premultipliedAlpha=!0),et=lr(yt,st)}return et?{gl:et,canvas:yt,container:rt,extensions:Mt,optionalExtensions:It,pixelRatio:Dt,profile:Ot,onDone:Ft,onDestroy:Wt}:(Wt(),Ft("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function fo(V,ne){var ye={};function rt(st){j.type(st,"string","extension name must be string");var Mt=st.toLowerCase(),It;try{It=ye[Mt]=V.getExtension(Mt)}catch{}return!!It}for(var yt=0;yt<ne.extensions.length;++yt){var et=ne.extensions[yt];if(!rt(et))return ne.onDestroy(),ne.onDone('"'+et+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ne.optionalExtensions.forEach(rt),{extensions:ye,restore:function(){Object.keys(ye).forEach(function(st){if(ye[st]&&!rt(st))throw new Error("(regl): error restoring extension "+st)})}}}function ra(V,ne){for(var ye=Array(V),rt=0;rt<V;++rt)ye[rt]=ne(rt);return ye}var Ea=5120,Wi=5121,$o=5122,gs=5123,Li=5124,ci=5125,Vn=5126;function fi(V){for(var ne=16;ne<=1<<28;ne*=16)if(V<=ne)return ne;return 0}function Ar(V){var ne,ye;return ne=(V>65535)<<4,V>>>=ne,ye=(V>255)<<3,V>>>=ye,ne|=ye,ye=(V>15)<<2,V>>>=ye,ne|=ye,ye=(V>3)<<1,V>>>=ye,ne|=ye,ne|V>>1}function nt(){var V=ra(8,function(){return[]});function ne(et){var st=fi(et),Mt=V[Ar(st)>>2];return Mt.length>0?Mt.pop():new ArrayBuffer(st)}function ye(et){V[Ar(et.byteLength)>>2].push(et)}function rt(et,st){var Mt=null;switch(et){case Ea:Mt=new Int8Array(ne(st),0,st);break;case Wi:Mt=new Uint8Array(ne(st),0,st);break;case $o:Mt=new Int16Array(ne(2*st),0,st);break;case gs:Mt=new Uint16Array(ne(2*st),0,st);break;case Li:Mt=new Int32Array(ne(4*st),0,st);break;case ci:Mt=new Uint32Array(ne(4*st),0,st);break;case Vn:Mt=new Float32Array(ne(4*st),0,st);break;default:return null}return Mt.length!==st?Mt.subarray(0,st):Mt}function yt(et){ye(et.buffer)}return{alloc:ne,free:ye,allocType:rt,freeType:yt}}var vt=nt();vt.zero=nt();var Br=3408,sn=3410,Aa=3411,Ra=3412,Za=3413,Ia=3414,na=3415,Hi=33901,Zc=33902,mt=3379,gr=3386,Rr=34921,tn=36347,Yi=36348,ho=35661,T2=35660,k2=34930,A2=36349,I2=34076,O2=34024,Pq=7936,Dq=7937,Rq=7938,$q=35724,Bq=34047,Fq=36063,zq=34852,bm=3553,XO=34067,Gq=34069,jq=33984,Wv=6408,L2=5126,qO=5121,N2=36160,Vq=36053,Uq=36064,Wq=16384,Hq=function(V,ne){var ye=1;ne.ext_texture_filter_anisotropic&&(ye=V.getParameter(Bq));var rt=1,yt=1;ne.webgl_draw_buffers&&(rt=V.getParameter(zq),yt=V.getParameter(Fq));var et=!!ne.oes_texture_float;if(et){var st=V.createTexture();V.bindTexture(bm,st),V.texImage2D(bm,0,Wv,1,1,0,Wv,L2,null);var Mt=V.createFramebuffer();if(V.bindFramebuffer(N2,Mt),V.framebufferTexture2D(N2,Uq,bm,st,0),V.bindTexture(bm,null),V.checkFramebufferStatus(N2)!==Vq)et=!1;else{V.viewport(0,0,1,1),V.clearColor(1,0,0,1),V.clear(Wq);var It=vt.allocType(L2,4);V.readPixels(0,0,1,1,Wv,L2,It),V.getError()?et=!1:(V.deleteFramebuffer(Mt),V.deleteTexture(st),et=It[0]===1),vt.freeType(It)}}var Dt=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ot=!0;if(!Dt){var Ft=V.createTexture(),Wt=vt.allocType(qO,36);V.activeTexture(jq),V.bindTexture(XO,Ft),V.texImage2D(Gq,0,Wv,3,3,0,Wv,qO,Wt),vt.freeType(Wt),V.bindTexture(XO,null),V.deleteTexture(Ft),Ot=!V.getError()}return{colorBits:[V.getParameter(sn),V.getParameter(Aa),V.getParameter(Ra),V.getParameter(Za)],depthBits:V.getParameter(Ia),stencilBits:V.getParameter(na),subpixelBits:V.getParameter(Br),extensions:Object.keys(ne).filter(function(Tt){return!!ne[Tt]}),maxAnisotropic:ye,maxDrawbuffers:rt,maxColorAttachments:yt,pointSizeDims:V.getParameter(Hi),lineWidthDims:V.getParameter(Zc),maxViewportDims:V.getParameter(gr),maxCombinedTextureUnits:V.getParameter(ho),maxCubeMapSize:V.getParameter(I2),maxRenderbufferSize:V.getParameter(O2),maxTextureUnits:V.getParameter(k2),maxTextureSize:V.getParameter(mt),maxAttributes:V.getParameter(Rr),maxVertexUniforms:V.getParameter(tn),maxVertexTextureUnits:V.getParameter(T2),maxVaryingVectors:V.getParameter(Yi),maxFragmentUniforms:V.getParameter(A2),glsl:V.getParameter($q),renderer:V.getParameter(Dq),vendor:V.getParameter(Pq),version:V.getParameter(Rq),readFloat:et,npotTextureCube:Ot}};function ms(V){return!!V&&typeof V=="object"&&Array.isArray(V.shape)&&Array.isArray(V.stride)&&typeof V.offset=="number"&&V.shape.length===V.stride.length&&(Array.isArray(V.data)||r(V.data))}var vo=function(V){return Object.keys(V).map(function(ne){return V[ne]})},wm={shape:qq,flatten:Xq};function Yq(V,ne,ye){for(var rt=0;rt<ne;++rt)ye[rt]=V[rt]}function Kq(V,ne,ye,rt){for(var yt=0,et=0;et<ne;++et)for(var st=V[et],Mt=0;Mt<ye;++Mt)rt[yt++]=st[Mt]}function ZO(V,ne,ye,rt,yt,et){for(var st=et,Mt=0;Mt<ne;++Mt)for(var It=V[Mt],Dt=0;Dt<ye;++Dt)for(var Ot=It[Dt],Ft=0;Ft<rt;++Ft)yt[st++]=Ot[Ft]}function QO(V,ne,ye,rt,yt){for(var et=1,st=ye+1;st<ne.length;++st)et*=ne[st];var Mt=ne[ye];if(ne.length-ye===4){var It=ne[ye+1],Dt=ne[ye+2],Ot=ne[ye+3];for(st=0;st<Mt;++st)ZO(V[st],It,Dt,Ot,rt,yt),yt+=et}else for(st=0;st<Mt;++st)QO(V[st],ne,ye+1,rt,yt),yt+=et}function Xq(V,ne,ye,rt){var yt=1;if(ne.length)for(var et=0;et<ne.length;++et)yt*=ne[et];else yt=0;var st=rt||vt.allocType(ye,yt);switch(ne.length){case 0:break;case 1:Yq(V,ne[0],st);break;case 2:Kq(V,ne[0],ne[1],st);break;case 3:ZO(V,ne[0],ne[1],ne[2],st,0);break;default:QO(V,ne,0,st,0)}return st}function qq(V){for(var ne=[],ye=V;ye.length;ye=ye[0])ne.push(ye.length);return ne}var P2={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Zq=5120,Qq=5122,Jq=5124,eZ=5121,tZ=5123,rZ=5125,nZ=5126,aZ=5126,Qc={int8:Zq,int16:Qq,int32:Jq,uint8:eZ,uint16:tZ,uint32:rZ,float:nZ,float32:aZ},iZ=35048,oZ=35040,Em={dynamic:iZ,stream:oZ,static:35044},D2=wm.flatten,JO=wm.shape,eL=35044,sZ=35040,R2=5121,$2=5126,Du=[];Du[5120]=1,Du[5122]=2,Du[5124]=4,Du[5121]=1,Du[5123]=2,Du[5125]=4,Du[5126]=4;function _m(V){return P2[Object.prototype.toString.call(V)]|0}function tL(V,ne){for(var ye=0;ye<ne.length;++ye)V[ye]=ne[ye]}function rL(V,ne,ye,rt,yt,et,st){for(var Mt=0,It=0;It<ye;++It)for(var Dt=0;Dt<rt;++Dt)V[Mt++]=ne[yt*It+et*Dt+st]}function lZ(V,ne,ye,rt){var yt=0,et={};function st(We){this.id=yt++,this.buffer=V.createBuffer(),this.type=We,this.usage=eL,this.byteLength=0,this.dimension=1,this.dtype=R2,this.persistentData=null,ye.profile&&(this.stats={size:0})}st.prototype.bind=function(){V.bindBuffer(this.type,this.buffer)},st.prototype.destroy=function(){Wt(this)};var Mt=[];function It(We,lt){var Pt=Mt.pop();return Pt||(Pt=new st(We)),Pt.bind(),Ft(Pt,lt,sZ,0,1,!1),Pt}function Dt(We){Mt.push(We)}function Ot(We,lt,Pt){We.byteLength=lt.byteLength,V.bufferData(We.type,lt,Pt)}function Ft(We,lt,Pt,Xt,xt,er){var Ct;if(We.usage=Pt,Array.isArray(lt)){if(We.dtype=Xt||$2,lt.length>0){var jt;if(Array.isArray(lt[0])){Ct=JO(lt);for(var St=1,Vt=1;Vt<Ct.length;++Vt)St*=Ct[Vt];We.dimension=St,jt=D2(lt,Ct,We.dtype),Ot(We,jt,Pt),er?We.persistentData=jt:vt.freeType(jt)}else if(typeof lt[0]=="number"){We.dimension=xt;var yr=vt.allocType(We.dtype,lt.length);tL(yr,lt),Ot(We,yr,Pt),er?We.persistentData=yr:vt.freeType(yr)}else r(lt[0])?(We.dimension=lt[0].length,We.dtype=Xt||_m(lt[0])||$2,jt=D2(lt,[lt.length,lt[0].length],We.dtype),Ot(We,jt,Pt),er?We.persistentData=jt:vt.freeType(jt)):j.raise("invalid buffer data")}}else if(r(lt))We.dtype=Xt||_m(lt),We.dimension=xt,Ot(We,lt,Pt),er&&(We.persistentData=new Uint8Array(new Uint8Array(lt.buffer)));else if(ms(lt)){Ct=lt.shape;var Fr=lt.stride,Ht=lt.offset,Rt=0,Et=0,Pr=0,Hr=0;Ct.length===1?(Rt=Ct[0],Et=1,Pr=Fr[0],Hr=0):Ct.length===2?(Rt=Ct[0],Et=Ct[1],Pr=Fr[0],Hr=Fr[1]):j.raise("invalid shape"),We.dtype=Xt||_m(lt.data)||$2,We.dimension=Et;var or=vt.allocType(We.dtype,Rt*Et);rL(or,lt.data,Rt,Et,Pr,Hr,Ht),Ot(We,or,Pt),er?We.persistentData=or:vt.freeType(or)}else lt instanceof ArrayBuffer?(We.dtype=R2,We.dimension=xt,Ot(We,lt,Pt),er&&(We.persistentData=new Uint8Array(new Uint8Array(lt)))):j.raise("invalid buffer data")}function Wt(We){ne.bufferCount--,rt(We);var lt=We.buffer;j(lt,"buffer must not be deleted already"),V.deleteBuffer(lt),We.buffer=null,delete et[We.id]}function Tt(We,lt,Pt,Xt){ne.bufferCount++;var xt=new st(lt);et[xt.id]=xt;function er(St){var Vt=eL,yr=null,Fr=0,Ht=0,Rt=1;return Array.isArray(St)||r(St)||ms(St)||St instanceof ArrayBuffer?yr=St:typeof St=="number"?Fr=St|0:St&&(j.type(St,"object","buffer arguments must be an object, a number or an array"),"data"in St&&(j(yr===null||Array.isArray(yr)||r(yr)||ms(yr),"invalid data for buffer"),yr=St.data),"usage"in St&&(j.parameter(St.usage,Em,"invalid buffer usage"),Vt=Em[St.usage]),"type"in St&&(j.parameter(St.type,Qc,"invalid buffer type"),Ht=Qc[St.type]),"dimension"in St&&(j.type(St.dimension,"number","invalid dimension"),Rt=St.dimension|0),"length"in St&&(j.nni(Fr,"buffer length must be a nonnegative integer"),Fr=St.length|0)),xt.bind(),yr?Ft(xt,yr,Vt,Ht,Rt,Xt):(Fr&&V.bufferData(xt.type,Fr,Vt),xt.dtype=Ht||R2,xt.usage=Vt,xt.dimension=Rt,xt.byteLength=Fr),ye.profile&&(xt.stats.size=xt.byteLength*Du[xt.dtype]),er}function Ct(St,Vt){j(Vt+St.byteLength<=xt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+St.byteLength+" starting from offset "+Vt+" to a buffer of size "+xt.byteLength),V.bufferSubData(xt.type,Vt,St)}function jt(St,Vt){var yr=(Vt||0)|0,Fr;if(xt.bind(),r(St)||St instanceof ArrayBuffer)Ct(St,yr);else if(Array.isArray(St)){if(St.length>0)if(typeof St[0]=="number"){var Ht=vt.allocType(xt.dtype,St.length);tL(Ht,St),Ct(Ht,yr),vt.freeType(Ht)}else if(Array.isArray(St[0])||r(St[0])){Fr=JO(St);var Rt=D2(St,Fr,xt.dtype);Ct(Rt,yr),vt.freeType(Rt)}else j.raise("invalid buffer data")}else if(ms(St)){Fr=St.shape;var Et=St.stride,Pr=0,Hr=0,or=0,Jr=0;Fr.length===1?(Pr=Fr[0],Hr=1,or=Et[0],Jr=0):Fr.length===2?(Pr=Fr[0],Hr=Fr[1],or=Et[0],Jr=Et[1]):j.raise("invalid shape");var Gr=Array.isArray(St.data)?xt.dtype:_m(St.data),Qr=vt.allocType(Gr,Pr*Hr);rL(Qr,St.data,Pr,Hr,or,Jr,St.offset),Ct(Qr,yr),vt.freeType(Qr)}else j.raise("invalid data for buffer subdata");return er}return Pt||er(We),er._reglType="buffer",er._buffer=xt,er.subdata=jt,ye.profile&&(er.stats=xt.stats),er.destroy=function(){Wt(xt)},er}function Gt(){vo(et).forEach(function(We){We.buffer=V.createBuffer(),V.bindBuffer(We.type,We.buffer),V.bufferData(We.type,We.persistentData||We.byteLength,We.usage)})}return ye.profile&&(ne.getTotalBufferSize=function(){var We=0;return Object.keys(et).forEach(function(lt){We+=et[lt].stats.size}),We}),{create:Tt,createStream:It,destroyStream:Dt,clear:function(){vo(et).forEach(Wt),Mt.forEach(Wt)},getBuffer:function(We){return We&&We._buffer instanceof st?We._buffer:null},restore:Gt,_initBuffer:Ft}}var uZ=0,cZ=0,fZ=1,dZ=1,hZ=4,vZ=4,Od={points:uZ,point:cZ,lines:fZ,line:dZ,triangles:hZ,triangle:vZ,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},pZ=0,gZ=1,Hv=4,mZ=5120,Ld=5121,nL=5122,Nd=5123,aL=5124,Jc=5125,B2=34963,yZ=35040,bZ=35044;function wZ(V,ne,ye,rt){var yt={},et=0,st={uint8:Ld,uint16:Nd};ne.oes_element_index_uint&&(st.uint32=Jc);function Mt(Gt){this.id=et++,yt[this.id]=this,this.buffer=Gt,this.primType=Hv,this.vertCount=0,this.type=0}Mt.prototype.bind=function(){this.buffer.bind()};var It=[];function Dt(Gt){var We=It.pop();return We||(We=new Mt(ye.create(null,B2,!0,!1)._buffer)),Ft(We,Gt,yZ,-1,-1,0,0),We}function Ot(Gt){It.push(Gt)}function Ft(Gt,We,lt,Pt,Xt,xt,er){Gt.buffer.bind();var Ct;if(We){var jt=er;!er&&(!r(We)||ms(We)&&!r(We.data))&&(jt=ne.oes_element_index_uint?Jc:Nd),ye._initBuffer(Gt.buffer,We,lt,jt,3)}else V.bufferData(B2,xt,lt),Gt.buffer.dtype=Ct||Ld,Gt.buffer.usage=lt,Gt.buffer.dimension=3,Gt.buffer.byteLength=xt;if(Ct=er,!er){switch(Gt.buffer.dtype){case Ld:case mZ:Ct=Ld;break;case Nd:case nL:Ct=Nd;break;case Jc:case aL:Ct=Jc;break;default:j.raise("unsupported type for element array")}Gt.buffer.dtype=Ct}Gt.type=Ct,j(Ct!==Jc||!!ne.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var St=Xt;St<0&&(St=Gt.buffer.byteLength,Ct===Nd?St>>=1:Ct===Jc&&(St>>=2)),Gt.vertCount=St;var Vt=Pt;if(Pt<0){Vt=Hv;var yr=Gt.buffer.dimension;yr===1&&(Vt=pZ),yr===2&&(Vt=gZ),yr===3&&(Vt=Hv)}Gt.primType=Vt}function Wt(Gt){rt.elementsCount--,j(Gt.buffer!==null,"must not double destroy elements"),delete yt[Gt.id],Gt.buffer.destroy(),Gt.buffer=null}function Tt(Gt,We){var lt=ye.create(null,B2,!0),Pt=new Mt(lt._buffer);rt.elementsCount++;function Xt(xt){if(!xt)lt(),Pt.primType=Hv,Pt.vertCount=0,Pt.type=Ld;else if(typeof xt=="number")lt(xt),Pt.primType=Hv,Pt.vertCount=xt|0,Pt.type=Ld;else{var er=null,Ct=bZ,jt=-1,St=-1,Vt=0,yr=0;Array.isArray(xt)||r(xt)||ms(xt)?er=xt:(j.type(xt,"object","invalid arguments for elements"),"data"in xt&&(er=xt.data,j(Array.isArray(er)||r(er)||ms(er),"invalid data for element buffer")),"usage"in xt&&(j.parameter(xt.usage,Em,"invalid element buffer usage"),Ct=Em[xt.usage]),"primitive"in xt&&(j.parameter(xt.primitive,Od,"invalid element buffer primitive"),jt=Od[xt.primitive]),"count"in xt&&(j(typeof xt.count=="number"&&xt.count>=0,"invalid vertex count for elements"),St=xt.count|0),"type"in xt&&(j.parameter(xt.type,st,"invalid buffer type"),yr=st[xt.type]),"length"in xt?Vt=xt.length|0:(Vt=St,yr===Nd||yr===nL?Vt*=2:(yr===Jc||yr===aL)&&(Vt*=4))),Ft(Pt,er,Ct,jt,St,Vt,yr)}return Xt}return Xt(Gt),Xt._reglType="elements",Xt._elements=Pt,Xt.subdata=function(xt,er){return lt.subdata(xt,er),Xt},Xt.destroy=function(){Wt(Pt)},Xt}return{create:Tt,createStream:Dt,destroyStream:Ot,getElements:function(Gt){return typeof Gt=="function"&&Gt._elements instanceof Mt?Gt._elements:null},clear:function(){vo(yt).forEach(Wt)}}}var iL=new Float32Array(1),EZ=new Uint32Array(iL.buffer),_Z=5123;function oL(V){for(var ne=vt.allocType(_Z,V.length),ye=0;ye<V.length;++ye)if(isNaN(V[ye]))ne[ye]=65535;else if(V[ye]===1/0)ne[ye]=31744;else if(V[ye]===-1/0)ne[ye]=64512;else{iL[0]=V[ye];var rt=EZ[0],yt=rt>>>31<<15,et=(rt<<1>>>24)-127,st=rt>>13&1023;if(et<-24)ne[ye]=yt;else if(et<-14){var Mt=-14-et;ne[ye]=yt+(st+1024>>Mt)}else et>15?ne[ye]=yt+31744:ne[ye]=yt+(et+15<<10)+st}return ne}function sa(V){return Array.isArray(V)||r(V)}var sL=function(V){return!(V&V-1)&&!!V},xZ=34467,Ks=3553,F2=34067,xm=34069,ef=6408,z2=6406,Sm=6407,Yv=6409,Cm=6410,lL=32854,G2=32855,uL=36194,SZ=32819,CZ=32820,MZ=33635,TZ=34042,j2=6402,Mm=34041,V2=35904,U2=35906,Pd=36193,W2=33776,H2=33777,Y2=33778,K2=33779,cL=35986,fL=35987,dL=34798,hL=35840,vL=35841,pL=35842,gL=35843,mL=36196,Dd=5121,X2=5123,q2=5125,Kv=5126,kZ=10242,AZ=10243,IZ=10497,Z2=33071,OZ=33648,LZ=10240,NZ=10241,Q2=9728,PZ=9729,J2=9984,yL=9985,bL=9986,e_=9987,DZ=33170,Tm=4352,RZ=4353,$Z=4354,BZ=34046,FZ=3317,zZ=37440,GZ=37441,jZ=37443,wL=37444,Xv=33984,VZ=[J2,bL,yL,e_],km=[0,Yv,Cm,Sm,ef],Bo={};Bo[Yv]=Bo[z2]=Bo[j2]=1,Bo[Mm]=Bo[Cm]=2,Bo[Sm]=Bo[V2]=3,Bo[ef]=Bo[U2]=4;function Rd(V){return"[object "+V+"]"}var EL=Rd("HTMLCanvasElement"),_L=Rd("OffscreenCanvas"),xL=Rd("CanvasRenderingContext2D"),SL=Rd("ImageBitmap"),CL=Rd("HTMLImageElement"),ML=Rd("HTMLVideoElement"),UZ=Object.keys(P2).concat([EL,_L,xL,SL,CL,ML]),$d=[];$d[Dd]=1,$d[Kv]=4,$d[Pd]=2,$d[X2]=2,$d[q2]=4;var Qa=[];Qa[lL]=2,Qa[G2]=2,Qa[uL]=2,Qa[Mm]=4,Qa[W2]=.5,Qa[H2]=.5,Qa[Y2]=1,Qa[K2]=1,Qa[cL]=.5,Qa[fL]=1,Qa[dL]=1,Qa[hL]=.5,Qa[vL]=.25,Qa[pL]=.5,Qa[gL]=.25,Qa[mL]=.5;function TL(V){return Array.isArray(V)&&(V.length===0||typeof V[0]=="number")}function kL(V){if(!Array.isArray(V))return!1;var ne=V.length;return!(ne===0||!sa(V[0]))}function tf(V){return Object.prototype.toString.call(V)}function AL(V){return tf(V)===EL}function IL(V){return tf(V)===_L}function WZ(V){return tf(V)===xL}function HZ(V){return tf(V)===SL}function YZ(V){return tf(V)===CL}function KZ(V){return tf(V)===ML}function t_(V){if(!V)return!1;var ne=tf(V);return UZ.indexOf(ne)>=0?!0:TL(V)||kL(V)||ms(V)}function OL(V){return P2[Object.prototype.toString.call(V)]|0}function XZ(V,ne){var ye=ne.length;switch(V.type){case Dd:case X2:case q2:case Kv:var rt=vt.allocType(V.type,ye);rt.set(ne),V.data=rt;break;case Pd:V.data=oL(ne);break;default:j.raise("unsupported texture type, must specify a typed array")}}function LL(V,ne){return vt.allocType(V.type===Pd?Kv:V.type,ne)}function NL(V,ne){V.type===Pd?(V.data=oL(ne),vt.freeType(ne)):V.data=ne}function qZ(V,ne,ye,rt,yt,et){for(var st=V.width,Mt=V.height,It=V.channels,Dt=st*Mt*It,Ot=LL(V,Dt),Ft=0,Wt=0;Wt<Mt;++Wt)for(var Tt=0;Tt<st;++Tt)for(var Gt=0;Gt<It;++Gt)Ot[Ft++]=ne[ye*Tt+rt*Wt+yt*Gt+et];NL(V,Ot)}function Am(V,ne,ye,rt,yt,et){var st;if(typeof Qa[V]<"u"?st=Qa[V]:st=Bo[V]*$d[ne],et&&(st*=6),yt){for(var Mt=0,It=ye;It>=1;)Mt+=st*It*It,It/=2;return Mt}else return st*ye*rt}function ZZ(V,ne,ye,rt,yt,et,st){var Mt={"don't care":Tm,"dont care":Tm,nice:$Z,fast:RZ},It={repeat:IZ,clamp:Z2,mirror:OZ},Dt={nearest:Q2,linear:PZ},Ot=n({mipmap:e_,"nearest mipmap nearest":J2,"linear mipmap nearest":yL,"nearest mipmap linear":bL,"linear mipmap linear":e_},Dt),Ft={none:0,browser:wL},Wt={uint8:Dd,rgba4:SZ,rgb565:MZ,"rgb5 a1":CZ},Tt={alpha:z2,luminance:Yv,"luminance alpha":Cm,rgb:Sm,rgba:ef,rgba4:lL,"rgb5 a1":G2,rgb565:uL},Gt={};ne.ext_srgb&&(Tt.srgb=V2,Tt.srgba=U2),ne.oes_texture_float&&(Wt.float32=Wt.float=Kv),ne.oes_texture_half_float&&(Wt.float16=Wt["half float"]=Pd),ne.webgl_depth_texture&&(n(Tt,{depth:j2,"depth stencil":Mm}),n(Wt,{uint16:X2,uint32:q2,"depth stencil":TZ})),ne.webgl_compressed_texture_s3tc&&n(Gt,{"rgb s3tc dxt1":W2,"rgba s3tc dxt1":H2,"rgba s3tc dxt3":Y2,"rgba s3tc dxt5":K2}),ne.webgl_compressed_texture_atc&&n(Gt,{"rgb atc":cL,"rgba atc explicit alpha":fL,"rgba atc interpolated alpha":dL}),ne.webgl_compressed_texture_pvrtc&&n(Gt,{"rgb pvrtc 4bppv1":hL,"rgb pvrtc 2bppv1":vL,"rgba pvrtc 4bppv1":pL,"rgba pvrtc 2bppv1":gL}),ne.webgl_compressed_texture_etc1&&(Gt["rgb etc1"]=mL);var We=Array.prototype.slice.call(V.getParameter(xZ));Object.keys(Gt).forEach(function(de){var at=Gt[de];We.indexOf(at)>=0&&(Tt[de]=at)});var lt=Object.keys(Tt);ye.textureFormats=lt;var Pt=[];Object.keys(Tt).forEach(function(de){var at=Tt[de];Pt[at]=de});var Xt=[];Object.keys(Wt).forEach(function(de){var at=Wt[de];Xt[at]=de});var xt=[];Object.keys(Dt).forEach(function(de){var at=Dt[de];xt[at]=de});var er=[];Object.keys(Ot).forEach(function(de){var at=Ot[de];er[at]=de});var Ct=[];Object.keys(It).forEach(function(de){var at=It[de];Ct[at]=de});var jt=lt.reduce(function(de,at){var Je=Tt[at];return Je===Yv||Je===z2||Je===Yv||Je===Cm||Je===j2||Je===Mm||ne.ext_srgb&&(Je===V2||Je===U2)?de[Je]=Je:Je===G2||at.indexOf("rgba")>=0?de[Je]=ef:de[Je]=Sm,de},{});function St(){this.internalformat=ef,this.format=ef,this.type=Dd,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=wL,this.width=0,this.height=0,this.channels=0}function Vt(de,at){de.internalformat=at.internalformat,de.format=at.format,de.type=at.type,de.compressed=at.compressed,de.premultiplyAlpha=at.premultiplyAlpha,de.flipY=at.flipY,de.unpackAlignment=at.unpackAlignment,de.colorSpace=at.colorSpace,de.width=at.width,de.height=at.height,de.channels=at.channels}function yr(de,at){if(!(typeof at!="object"||!at)){if("premultiplyAlpha"in at&&(j.type(at.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),de.premultiplyAlpha=at.premultiplyAlpha),"flipY"in at&&(j.type(at.flipY,"boolean","invalid texture flip"),de.flipY=at.flipY),"alignment"in at&&(j.oneOf(at.alignment,[1,2,4,8],"invalid texture unpack alignment"),de.unpackAlignment=at.alignment),"colorSpace"in at&&(j.parameter(at.colorSpace,Ft,"invalid colorSpace"),de.colorSpace=Ft[at.colorSpace]),"type"in at){var Je=at.type;j(ne.oes_texture_float||!(Je==="float"||Je==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),j(ne.oes_texture_half_float||!(Je==="half float"||Je==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),j(ne.webgl_depth_texture||!(Je==="uint16"||Je==="uint32"||Je==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),j.parameter(Je,Wt,"invalid texture type"),de.type=Wt[Je]}var rr=de.width,en=de.height,ue=de.channels,Q=!1;"shape"in at?(j(Array.isArray(at.shape)&&at.shape.length>=2,"shape must be an array"),rr=at.shape[0],en=at.shape[1],at.shape.length===3&&(ue=at.shape[2],j(ue>0&&ue<=4,"invalid number of channels"),Q=!0),j(rr>=0&&rr<=ye.maxTextureSize,"invalid width"),j(en>=0&&en<=ye.maxTextureSize,"invalid height")):("radius"in at&&(rr=en=at.radius,j(rr>=0&&rr<=ye.maxTextureSize,"invalid radius")),"width"in at&&(rr=at.width,j(rr>=0&&rr<=ye.maxTextureSize,"invalid width")),"height"in at&&(en=at.height,j(en>=0&&en<=ye.maxTextureSize,"invalid height")),"channels"in at&&(ue=at.channels,j(ue>0&&ue<=4,"invalid number of channels"),Q=!0)),de.width=rr|0,de.height=en|0,de.channels=ue|0;var Se=!1;if("format"in at){var je=at.format;j(ne.webgl_depth_texture||!(je==="depth"||je==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),j.parameter(je,Tt,"invalid texture format");var Ke=de.internalformat=Tt[je];de.format=jt[Ke],je in Wt&&("type"in at||(de.type=Wt[je])),je in Gt&&(de.compressed=!0),Se=!0}!Q&&Se?de.channels=Bo[de.format]:Q&&!Se?de.channels!==km[de.format]&&(de.format=de.internalformat=km[de.channels]):Se&&Q&&j(de.channels===Bo[de.format],"number of channels inconsistent with specified format")}}function Fr(de){V.pixelStorei(zZ,de.flipY),V.pixelStorei(GZ,de.premultiplyAlpha),V.pixelStorei(jZ,de.colorSpace),V.pixelStorei(FZ,de.unpackAlignment)}function Ht(){St.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Rt(de,at){var Je=null;if(t_(at)?Je=at:at&&(j.type(at,"object","invalid pixel data type"),yr(de,at),"x"in at&&(de.xOffset=at.x|0),"y"in at&&(de.yOffset=at.y|0),t_(at.data)&&(Je=at.data)),j(!de.compressed||Je instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),at.copy){j(!Je,"can not specify copy and data field for the same texture");var rr=yt.viewportWidth,en=yt.viewportHeight;de.width=de.width||rr-de.xOffset,de.height=de.height||en-de.yOffset,de.needsCopy=!0,j(de.xOffset>=0&&de.xOffset<rr&&de.yOffset>=0&&de.yOffset<en&&de.width>0&&de.width<=rr&&de.height>0&&de.height<=en,"copy texture read out of bounds")}else if(!Je)de.width=de.width||1,de.height=de.height||1,de.channels=de.channels||4;else if(r(Je))de.channels=de.channels||4,de.data=Je,!("type"in at)&&de.type===Dd&&(de.type=OL(Je));else if(TL(Je))de.channels=de.channels||4,XZ(de,Je),de.alignment=1,de.needsFree=!0;else if(ms(Je)){var ue=Je.data;!Array.isArray(ue)&&de.type===Dd&&(de.type=OL(ue));var Q=Je.shape,Se=Je.stride,je,Ke,Le,Te,$e,ce;Q.length===3?(Le=Q[2],ce=Se[2]):(j(Q.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Le=1,ce=1),je=Q[0],Ke=Q[1],Te=Se[0],$e=Se[1],de.alignment=1,de.width=je,de.height=Ke,de.channels=Le,de.format=de.internalformat=km[Le],de.needsFree=!0,qZ(de,ue,Te,$e,ce,Je.offset)}else if(AL(Je)||IL(Je)||WZ(Je))AL(Je)||IL(Je)?de.element=Je:de.element=Je.canvas,de.width=de.element.width,de.height=de.element.height,de.channels=4;else if(HZ(Je))de.element=Je,de.width=Je.width,de.height=Je.height,de.channels=4;else if(YZ(Je))de.element=Je,de.width=Je.naturalWidth,de.height=Je.naturalHeight,de.channels=4;else if(KZ(Je))de.element=Je,de.width=Je.videoWidth,de.height=Je.videoHeight,de.channels=4;else if(kL(Je)){var _e=de.width||Je[0].length,se=de.height||Je.length,Fe=de.channels;sa(Je[0][0])?Fe=Fe||Je[0][0].length:Fe=Fe||1;for(var Xe=wm.shape(Je),gt=1,bt=0;bt<Xe.length;++bt)gt*=Xe[bt];var dt=LL(de,gt);wm.flatten(Je,Xe,"",dt),NL(de,dt),de.alignment=1,de.width=_e,de.height=se,de.channels=Fe,de.format=de.internalformat=km[Fe],de.needsFree=!0}de.type===Kv?j(ye.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):de.type===Pd&&j(ye.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Et(de,at,Je){var rr=de.element,en=de.data,ue=de.internalformat,Q=de.format,Se=de.type,je=de.width,Ke=de.height;Fr(de),rr?V.texImage2D(at,Je,Q,Q,Se,rr):de.compressed?V.compressedTexImage2D(at,Je,ue,je,Ke,0,en):de.needsCopy?(rt(),V.copyTexImage2D(at,Je,Q,de.xOffset,de.yOffset,je,Ke,0)):V.texImage2D(at,Je,Q,je,Ke,0,Q,Se,en||null)}function Pr(de,at,Je,rr,en){var ue=de.element,Q=de.data,Se=de.internalformat,je=de.format,Ke=de.type,Le=de.width,Te=de.height;Fr(de),ue?V.texSubImage2D(at,en,Je,rr,je,Ke,ue):de.compressed?V.compressedTexSubImage2D(at,en,Je,rr,Se,Le,Te,Q):de.needsCopy?(rt(),V.copyTexSubImage2D(at,en,Je,rr,de.xOffset,de.yOffset,Le,Te)):V.texSubImage2D(at,en,Je,rr,Le,Te,je,Ke,Q)}var Hr=[];function or(){return Hr.pop()||new Ht}function Jr(de){de.needsFree&&vt.freeType(de.data),Ht.call(de),Hr.push(de)}function Gr(){St.call(this),this.genMipmaps=!1,this.mipmapHint=Tm,this.mipmask=0,this.images=Array(16)}function Qr(de,at,Je){var rr=de.images[0]=or();de.mipmask=1,rr.width=de.width=at,rr.height=de.height=Je,rr.channels=de.channels=4}function bn(de,at){var Je=null;if(t_(at))Je=de.images[0]=or(),Vt(Je,de),Rt(Je,at),de.mipmask=1;else if(yr(de,at),Array.isArray(at.mipmap))for(var rr=at.mipmap,en=0;en<rr.length;++en)Je=de.images[en]=or(),Vt(Je,de),Je.width>>=en,Je.height>>=en,Rt(Je,rr[en]),de.mipmask|=1<<en;else Je=de.images[0]=or(),Vt(Je,de),Rt(Je,at),de.mipmask=1;Vt(de,de.images[0]),de.compressed&&(de.internalformat===W2||de.internalformat===H2||de.internalformat===Y2||de.internalformat===K2)&&j(de.width%4===0&&de.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function va(de,at){for(var Je=de.images,rr=0;rr<Je.length;++rr){if(!Je[rr])return;Et(Je[rr],at,rr)}}var Oa=[];function an(){var de=Oa.pop()||new Gr;St.call(de),de.mipmask=0;for(var at=0;at<16;++at)de.images[at]=null;return de}function _a(de){for(var at=de.images,Je=0;Je<at.length;++Je)at[Je]&&Jr(at[Je]),at[Je]=null;Oa.push(de)}function $n(){this.minFilter=Q2,this.magFilter=Q2,this.wrapS=Z2,this.wrapT=Z2,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Tm}function pa(de,at){if("min"in at){var Je=at.min;j.parameter(Je,Ot),de.minFilter=Ot[Je],VZ.indexOf(de.minFilter)>=0&&!("faces"in at)&&(de.genMipmaps=!0)}if("mag"in at){var rr=at.mag;j.parameter(rr,Dt),de.magFilter=Dt[rr]}var en=de.wrapS,ue=de.wrapT;if("wrap"in at){var Q=at.wrap;typeof Q=="string"?(j.parameter(Q,It),en=ue=It[Q]):Array.isArray(Q)&&(j.parameter(Q[0],It),j.parameter(Q[1],It),en=It[Q[0]],ue=It[Q[1]])}else{if("wrapS"in at){var Se=at.wrapS;j.parameter(Se,It),en=It[Se]}if("wrapT"in at){var je=at.wrapT;j.parameter(je,It),ue=It[je]}}if(de.wrapS=en,de.wrapT=ue,"anisotropic"in at){var Ke=at.anisotropic;j(typeof Ke=="number"&&Ke>=1&&Ke<=ye.maxAnisotropic,"aniso samples must be between 1 and "),de.anisotropic=at.anisotropic}if("mipmap"in at){var Le=!1;switch(typeof at.mipmap){case"string":j.parameter(at.mipmap,Mt,"invalid mipmap hint"),de.mipmapHint=Mt[at.mipmap],de.genMipmaps=!0,Le=!0;break;case"boolean":Le=de.genMipmaps=at.mipmap;break;case"object":j(Array.isArray(at.mipmap),"invalid mipmap type"),de.genMipmaps=!1,Le=!0;break;default:j.raise("invalid mipmap type")}Le&&!("min"in at)&&(de.minFilter=J2)}}function xa(de,at){V.texParameteri(at,NZ,de.minFilter),V.texParameteri(at,LZ,de.magFilter),V.texParameteri(at,kZ,de.wrapS),V.texParameteri(at,AZ,de.wrapT),ne.ext_texture_filter_anisotropic&&V.texParameteri(at,BZ,de.anisotropic),de.genMipmaps&&(V.hint(DZ,de.mipmapHint),V.generateMipmap(at))}var Sa=0,$a={},Ja=ye.maxTextureUnits,la=Array(Ja).map(function(){return null});function Yr(de){St.call(this),this.mipmask=0,this.internalformat=ef,this.id=Sa++,this.refCount=1,this.target=de,this.texture=V.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new $n,st.profile&&(this.stats={size:0})}function ei(de){V.activeTexture(Xv),V.bindTexture(de.target,de.texture)}function Mn(){var de=la[0];de?V.bindTexture(de.target,de.texture):V.bindTexture(Ks,null)}function Tr(de){var at=de.texture;j(at,"must not double destroy texture");var Je=de.unit,rr=de.target;Je>=0&&(V.activeTexture(Xv+Je),V.bindTexture(rr,null),la[Je]=null),V.deleteTexture(at),de.texture=null,de.params=null,de.pixels=null,de.refCount=0,delete $a[de.id],et.textureCount--}n(Yr.prototype,{bind:function(){var de=this;de.bindCount+=1;var at=de.unit;if(at<0){for(var Je=0;Je<Ja;++Je){var rr=la[Je];if(rr){if(rr.bindCount>0)continue;rr.unit=-1}la[Je]=de,at=Je;break}at>=Ja&&j.raise("insufficient number of texture units"),st.profile&&et.maxTextureUnits<at+1&&(et.maxTextureUnits=at+1),de.unit=at,V.activeTexture(Xv+at),V.bindTexture(de.target,de.texture)}return at},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Tr(this)}});function rn(de,at){var Je=new Yr(Ks);$a[Je.id]=Je,et.textureCount++;function rr(Q,Se){var je=Je.texInfo;$n.call(je);var Ke=an();return typeof Q=="number"?typeof Se=="number"?Qr(Ke,Q|0,Se|0):Qr(Ke,Q|0,Q|0):Q?(j.type(Q,"object","invalid arguments to regl.texture"),pa(je,Q),bn(Ke,Q)):Qr(Ke,1,1),je.genMipmaps&&(Ke.mipmask=(Ke.width<<1)-1),Je.mipmask=Ke.mipmask,Vt(Je,Ke),j.texture2D(je,Ke,ye),Je.internalformat=Ke.internalformat,rr.width=Ke.width,rr.height=Ke.height,ei(Je),va(Ke,Ks),xa(je,Ks),Mn(),_a(Ke),st.profile&&(Je.stats.size=Am(Je.internalformat,Je.type,Ke.width,Ke.height,je.genMipmaps,!1)),rr.format=Pt[Je.internalformat],rr.type=Xt[Je.type],rr.mag=xt[je.magFilter],rr.min=er[je.minFilter],rr.wrapS=Ct[je.wrapS],rr.wrapT=Ct[je.wrapT],rr}function en(Q,Se,je,Ke){j(!!Q,"must specify image data");var Le=Se|0,Te=je|0,$e=Ke|0,ce=or();return Vt(ce,Je),ce.width=0,ce.height=0,Rt(ce,Q),ce.width=ce.width||(Je.width>>$e)-Le,ce.height=ce.height||(Je.height>>$e)-Te,j(Je.type===ce.type&&Je.format===ce.format&&Je.internalformat===ce.internalformat,"incompatible format for texture.subimage"),j(Le>=0&&Te>=0&&Le+ce.width<=Je.width&&Te+ce.height<=Je.height,"texture.subimage write out of bounds"),j(Je.mipmask&1<<$e,"missing mipmap data"),j(ce.data||ce.element||ce.needsCopy,"missing image data"),ei(Je),Pr(ce,Ks,Le,Te,$e),Mn(),Jr(ce),rr}function ue(Q,Se){var je=Q|0,Ke=Se|0||je;if(je===Je.width&&Ke===Je.height)return rr;rr.width=Je.width=je,rr.height=Je.height=Ke,ei(Je);for(var Le=0;Je.mipmask>>Le;++Le){var Te=je>>Le,$e=Ke>>Le;if(!Te||!$e)break;V.texImage2D(Ks,Le,Je.format,Te,$e,0,Je.format,Je.type,null)}return Mn(),st.profile&&(Je.stats.size=Am(Je.internalformat,Je.type,je,Ke,!1,!1)),rr}return rr(de,at),rr.subimage=en,rr.resize=ue,rr._reglType="texture2d",rr._texture=Je,st.profile&&(rr.stats=Je.stats),rr.destroy=function(){Je.decRef()},rr}function hn(de,at,Je,rr,en,ue){var Q=new Yr(F2);$a[Q.id]=Q,et.cubeCount++;var Se=new Array(6);function je(Te,$e,ce,_e,se,Fe){var Xe,gt=Q.texInfo;for($n.call(gt),Xe=0;Xe<6;++Xe)Se[Xe]=an();if(typeof Te=="number"||!Te){var bt=Te|0||1;for(Xe=0;Xe<6;++Xe)Qr(Se[Xe],bt,bt)}else if(typeof Te=="object")if($e)bn(Se[0],Te),bn(Se[1],$e),bn(Se[2],ce),bn(Se[3],_e),bn(Se[4],se),bn(Se[5],Fe);else if(pa(gt,Te),yr(Q,Te),"faces"in Te){var dt=Te.faces;for(j(Array.isArray(dt)&&dt.length===6,"cube faces must be a length 6 array"),Xe=0;Xe<6;++Xe)j(typeof dt[Xe]=="object"&&!!dt[Xe],"invalid input for cube map face"),Vt(Se[Xe],Q),bn(Se[Xe],dt[Xe])}else for(Xe=0;Xe<6;++Xe)bn(Se[Xe],Te);else j.raise("invalid arguments to cube map");for(Vt(Q,Se[0]),ye.npotTextureCube||j(sL(Q.width)&&sL(Q.height),"your browser does not support non power or two texture dimensions"),gt.genMipmaps?Q.mipmask=(Se[0].width<<1)-1:Q.mipmask=Se[0].mipmask,j.textureCube(Q,gt,Se,ye),Q.internalformat=Se[0].internalformat,je.width=Se[0].width,je.height=Se[0].height,ei(Q),Xe=0;Xe<6;++Xe)va(Se[Xe],xm+Xe);for(xa(gt,F2),Mn(),st.profile&&(Q.stats.size=Am(Q.internalformat,Q.type,je.width,je.height,gt.genMipmaps,!0)),je.format=Pt[Q.internalformat],je.type=Xt[Q.type],je.mag=xt[gt.magFilter],je.min=er[gt.minFilter],je.wrapS=Ct[gt.wrapS],je.wrapT=Ct[gt.wrapT],Xe=0;Xe<6;++Xe)_a(Se[Xe]);return je}function Ke(Te,$e,ce,_e,se){j(!!$e,"must specify image data"),j(typeof Te=="number"&&Te===(Te|0)&&Te>=0&&Te<6,"invalid face");var Fe=ce|0,Xe=_e|0,gt=se|0,bt=or();return Vt(bt,Q),bt.width=0,bt.height=0,Rt(bt,$e),bt.width=bt.width||(Q.width>>gt)-Fe,bt.height=bt.height||(Q.height>>gt)-Xe,j(Q.type===bt.type&&Q.format===bt.format&&Q.internalformat===bt.internalformat,"incompatible format for texture.subimage"),j(Fe>=0&&Xe>=0&&Fe+bt.width<=Q.width&&Xe+bt.height<=Q.height,"texture.subimage write out of bounds"),j(Q.mipmask&1<<gt,"missing mipmap data"),j(bt.data||bt.element||bt.needsCopy,"missing image data"),ei(Q),Pr(bt,xm+Te,Fe,Xe,gt),Mn(),Jr(bt),je}function Le(Te){var $e=Te|0;if($e!==Q.width){je.width=Q.width=$e,je.height=Q.height=$e,ei(Q);for(var ce=0;ce<6;++ce)for(var _e=0;Q.mipmask>>_e;++_e)V.texImage2D(xm+ce,_e,Q.format,$e>>_e,$e>>_e,0,Q.format,Q.type,null);return Mn(),st.profile&&(Q.stats.size=Am(Q.internalformat,Q.type,je.width,je.height,!1,!0)),je}}return je(de,at,Je,rr,en,ue),je.subimage=Ke,je.resize=Le,je._reglType="textureCube",je._texture=Q,st.profile&&(je.stats=Q.stats),je.destroy=function(){Q.decRef()},je}function ua(){for(var de=0;de<Ja;++de)V.activeTexture(Xv+de),V.bindTexture(Ks,null),la[de]=null;vo($a).forEach(Tr),et.cubeCount=0,et.textureCount=0}st.profile&&(et.getTotalTextureSize=function(){var de=0;return Object.keys($a).forEach(function(at){de+=$a[at].stats.size}),de});function qs(){for(var de=0;de<Ja;++de){var at=la[de];at&&(at.bindCount=0,at.unit=-1,la[de]=null)}vo($a).forEach(function(Je){Je.texture=V.createTexture(),V.bindTexture(Je.target,Je.texture);for(var rr=0;rr<32;++rr)if(Je.mipmask&1<<rr)if(Je.target===Ks)V.texImage2D(Ks,rr,Je.internalformat,Je.width>>rr,Je.height>>rr,0,Je.internalformat,Je.type,null);else for(var en=0;en<6;++en)V.texImage2D(xm+en,rr,Je.internalformat,Je.width>>rr,Je.height>>rr,0,Je.internalformat,Je.type,null);xa(Je.texInfo,Je.target)})}function uf(){for(var de=0;de<Ja;++de){var at=la[de];at&&(at.bindCount=0,at.unit=-1,la[de]=null),V.activeTexture(Xv+de),V.bindTexture(Ks,null),V.bindTexture(F2,null)}}return{create2D:rn,createCube:hn,clear:ua,getTexture:function(de){return null},restore:qs,refresh:uf}}var Ru=36161,Im=32854,PL=32855,DL=36194,RL=33189,$L=36168,BL=34041,FL=35907,zL=34836,GL=34842,jL=34843,ys=[];ys[Im]=2,ys[PL]=2,ys[DL]=2,ys[RL]=2,ys[$L]=1,ys[BL]=4,ys[FL]=4,ys[zL]=16,ys[GL]=8,ys[jL]=6;function VL(V,ne,ye){return ys[V]*ne*ye}var QZ=function(V,ne,ye,rt,yt){var et={rgba4:Im,rgb565:DL,"rgb5 a1":PL,depth:RL,stencil:$L,"depth stencil":BL};ne.ext_srgb&&(et.srgba=FL),ne.ext_color_buffer_half_float&&(et.rgba16f=GL,et.rgb16f=jL),ne.webgl_color_buffer_float&&(et.rgba32f=zL);var st=[];Object.keys(et).forEach(function(Tt){var Gt=et[Tt];st[Gt]=Tt});var Mt=0,It={};function Dt(Tt){this.id=Mt++,this.refCount=1,this.renderbuffer=Tt,this.format=Im,this.width=0,this.height=0,yt.profile&&(this.stats={size:0})}Dt.prototype.decRef=function(){--this.refCount<=0&&Ot(this)};function Ot(Tt){var Gt=Tt.renderbuffer;j(Gt,"must not double destroy renderbuffer"),V.bindRenderbuffer(Ru,null),V.deleteRenderbuffer(Gt),Tt.renderbuffer=null,Tt.refCount=0,delete It[Tt.id],rt.renderbufferCount--}function Ft(Tt,Gt){var We=new Dt(V.createRenderbuffer());It[We.id]=We,rt.renderbufferCount++;function lt(Xt,xt){var er=0,Ct=0,jt=Im;if(typeof Xt=="object"&&Xt){var St=Xt;if("shape"in St){var Vt=St.shape;j(Array.isArray(Vt)&&Vt.length>=2,"invalid renderbuffer shape"),er=Vt[0]|0,Ct=Vt[1]|0}else"radius"in St&&(er=Ct=St.radius|0),"width"in St&&(er=St.width|0),"height"in St&&(Ct=St.height|0);"format"in St&&(j.parameter(St.format,et,"invalid renderbuffer format"),jt=et[St.format])}else typeof Xt=="number"?(er=Xt|0,typeof xt=="number"?Ct=xt|0:Ct=er):Xt?j.raise("invalid arguments to renderbuffer constructor"):er=Ct=1;if(j(er>0&&Ct>0&&er<=ye.maxRenderbufferSize&&Ct<=ye.maxRenderbufferSize,"invalid renderbuffer size"),!(er===We.width&&Ct===We.height&&jt===We.format))return lt.width=We.width=er,lt.height=We.height=Ct,We.format=jt,V.bindRenderbuffer(Ru,We.renderbuffer),V.renderbufferStorage(Ru,jt,er,Ct),j(V.getError()===0,"invalid render buffer format"),yt.profile&&(We.stats.size=VL(We.format,We.width,We.height)),lt.format=st[We.format],lt}function Pt(Xt,xt){var er=Xt|0,Ct=xt|0||er;return er===We.width&&Ct===We.height||(j(er>0&&Ct>0&&er<=ye.maxRenderbufferSize&&Ct<=ye.maxRenderbufferSize,"invalid renderbuffer size"),lt.width=We.width=er,lt.height=We.height=Ct,V.bindRenderbuffer(Ru,We.renderbuffer),V.renderbufferStorage(Ru,We.format,er,Ct),j(V.getError()===0,"invalid render buffer format"),yt.profile&&(We.stats.size=VL(We.format,We.width,We.height))),lt}return lt(Tt,Gt),lt.resize=Pt,lt._reglType="renderbuffer",lt._renderbuffer=We,yt.profile&&(lt.stats=We.stats),lt.destroy=function(){We.decRef()},lt}yt.profile&&(rt.getTotalRenderbufferSize=function(){var Tt=0;return Object.keys(It).forEach(function(Gt){Tt+=It[Gt].stats.size}),Tt});function Wt(){vo(It).forEach(function(Tt){Tt.renderbuffer=V.createRenderbuffer(),V.bindRenderbuffer(Ru,Tt.renderbuffer),V.renderbufferStorage(Ru,Tt.format,Tt.width,Tt.height)}),V.bindRenderbuffer(Ru,null)}return{create:Ft,clear:function(){vo(It).forEach(Ot)},restore:Wt}},zl=36160,r_=36161,rf=3553,Om=34069,UL=36064,WL=36096,HL=36128,YL=33306,KL=36053,JZ=36054,eQ=36055,tQ=36057,rQ=36061,nQ=36193,aQ=5121,iQ=5126,XL=6407,qL=6408,oQ=6402,sQ=[XL,qL],n_=[];n_[qL]=4,n_[XL]=3;var Lm=[];Lm[aQ]=1,Lm[iQ]=4,Lm[nQ]=2;var lQ=32854,uQ=32855,cQ=36194,fQ=33189,dQ=36168,ZL=34041,hQ=35907,vQ=34836,pQ=34842,gQ=34843,mQ=[lQ,uQ,cQ,hQ,pQ,gQ,vQ],Bd={};Bd[KL]="complete",Bd[JZ]="incomplete attachment",Bd[tQ]="incomplete dimensions",Bd[eQ]="incomplete, missing attachment",Bd[rQ]="unsupported";function yQ(V,ne,ye,rt,yt,et){var st={cur:null,next:null,dirty:!1,setFBO:null},Mt=["rgba"],It=["rgba4","rgb565","rgb5 a1"];ne.ext_srgb&&It.push("srgba"),ne.ext_color_buffer_half_float&&It.push("rgba16f","rgb16f"),ne.webgl_color_buffer_float&&It.push("rgba32f");var Dt=["uint8"];ne.oes_texture_half_float&&Dt.push("half float","float16"),ne.oes_texture_float&&Dt.push("float","float32");function Ot(Ht,Rt,Et){this.target=Ht,this.texture=Rt,this.renderbuffer=Et;var Pr=0,Hr=0;Rt?(Pr=Rt.width,Hr=Rt.height):Et&&(Pr=Et.width,Hr=Et.height),this.width=Pr,this.height=Hr}function Ft(Ht){Ht&&(Ht.texture&&Ht.texture._texture.decRef(),Ht.renderbuffer&&Ht.renderbuffer._renderbuffer.decRef())}function Wt(Ht,Rt,Et){if(Ht)if(Ht.texture){var Pr=Ht.texture._texture,Hr=Math.max(1,Pr.width),or=Math.max(1,Pr.height);j(Hr===Rt&&or===Et,"inconsistent width/height for supplied texture"),Pr.refCount+=1}else{var Jr=Ht.renderbuffer._renderbuffer;j(Jr.width===Rt&&Jr.height===Et,"inconsistent width/height for renderbuffer"),Jr.refCount+=1}}function Tt(Ht,Rt){Rt&&(Rt.texture?V.framebufferTexture2D(zl,Ht,Rt.target,Rt.texture._texture.texture,0):V.framebufferRenderbuffer(zl,Ht,r_,Rt.renderbuffer._renderbuffer.renderbuffer))}function Gt(Ht){var Rt=rf,Et=null,Pr=null,Hr=Ht;typeof Ht=="object"&&(Hr=Ht.data,"target"in Ht&&(Rt=Ht.target|0)),j.type(Hr,"function","invalid attachment data");var or=Hr._reglType;return or==="texture2d"?(Et=Hr,j(Rt===rf)):or==="textureCube"?(Et=Hr,j(Rt>=Om&&Rt<Om+6,"invalid cube map target")):or==="renderbuffer"?(Pr=Hr,Rt=r_):j.raise("invalid regl object for attachment"),new Ot(Rt,Et,Pr)}function We(Ht,Rt,Et,Pr,Hr){if(Et){var or=rt.create2D({width:Ht,height:Rt,format:Pr,type:Hr});return or._texture.refCount=0,new Ot(rf,or,null)}else{var Jr=yt.create({width:Ht,height:Rt,format:Pr});return Jr._renderbuffer.refCount=0,new Ot(r_,null,Jr)}}function lt(Ht){return Ht&&(Ht.texture||Ht.renderbuffer)}function Pt(Ht,Rt,Et){Ht&&(Ht.texture?Ht.texture.resize(Rt,Et):Ht.renderbuffer&&Ht.renderbuffer.resize(Rt,Et),Ht.width=Rt,Ht.height=Et)}var Xt=0,xt={};function er(){this.id=Xt++,xt[this.id]=this,this.framebuffer=V.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Ct(Ht){Ht.colorAttachments.forEach(Ft),Ft(Ht.depthAttachment),Ft(Ht.stencilAttachment),Ft(Ht.depthStencilAttachment)}function jt(Ht){var Rt=Ht.framebuffer;j(Rt,"must not double destroy framebuffer"),V.deleteFramebuffer(Rt),Ht.framebuffer=null,et.framebufferCount--,delete xt[Ht.id]}function St(Ht){var Rt;V.bindFramebuffer(zl,Ht.framebuffer);var Et=Ht.colorAttachments;for(Rt=0;Rt<Et.length;++Rt)Tt(UL+Rt,Et[Rt]);for(Rt=Et.length;Rt<ye.maxColorAttachments;++Rt)V.framebufferTexture2D(zl,UL+Rt,rf,null,0);V.framebufferTexture2D(zl,YL,rf,null,0),V.framebufferTexture2D(zl,WL,rf,null,0),V.framebufferTexture2D(zl,HL,rf,null,0),Tt(WL,Ht.depthAttachment),Tt(HL,Ht.stencilAttachment),Tt(YL,Ht.depthStencilAttachment);var Pr=V.checkFramebufferStatus(zl);!V.isContextLost()&&Pr!==KL&&j.raise("framebuffer configuration not supported, status = "+Bd[Pr]),V.bindFramebuffer(zl,st.next?st.next.framebuffer:null),st.cur=st.next,V.getError()}function Vt(Ht,Rt){var Et=new er;et.framebufferCount++;function Pr(or,Jr){var Gr;j(st.next!==Et,"can not update framebuffer which is currently in use");var Qr=0,bn=0,va=!0,Oa=!0,an=null,_a=!0,$n="rgba",pa="uint8",xa=1,Sa=null,$a=null,Ja=null,la=!1;if(typeof or=="number")Qr=or|0,bn=Jr|0||Qr;else if(!or)Qr=bn=1;else{j.type(or,"object","invalid arguments for framebuffer");var Yr=or;if("shape"in Yr){var ei=Yr.shape;j(Array.isArray(ei)&&ei.length>=2,"invalid shape for framebuffer"),Qr=ei[0],bn=ei[1]}else"radius"in Yr&&(Qr=bn=Yr.radius),"width"in Yr&&(Qr=Yr.width),"height"in Yr&&(bn=Yr.height);("color"in Yr||"colors"in Yr)&&(an=Yr.color||Yr.colors,Array.isArray(an)&&j(an.length===1||ne.webgl_draw_buffers,"multiple render targets not supported")),an||("colorCount"in Yr&&(xa=Yr.colorCount|0,j(xa>0,"invalid color buffer count")),"colorTexture"in Yr&&(_a=!!Yr.colorTexture,$n="rgba4"),"colorType"in Yr&&(pa=Yr.colorType,_a?(j(ne.oes_texture_float||!(pa==="float"||pa==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),j(ne.oes_texture_half_float||!(pa==="half float"||pa==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):pa==="half float"||pa==="float16"?(j(ne.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),$n="rgba16f"):(pa==="float"||pa==="float32")&&(j(ne.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),$n="rgba32f"),j.oneOf(pa,Dt,"invalid color type")),"colorFormat"in Yr&&($n=Yr.colorFormat,Mt.indexOf($n)>=0?_a=!0:It.indexOf($n)>=0?_a=!1:_a?j.oneOf(Yr.colorFormat,Mt,"invalid color format for texture"):j.oneOf(Yr.colorFormat,It,"invalid color format for renderbuffer"))),("depthTexture"in Yr||"depthStencilTexture"in Yr)&&(la=!!(Yr.depthTexture||Yr.depthStencilTexture),j(!la||ne.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Yr&&(typeof Yr.depth=="boolean"?va=Yr.depth:(Sa=Yr.depth,Oa=!1)),"stencil"in Yr&&(typeof Yr.stencil=="boolean"?Oa=Yr.stencil:($a=Yr.stencil,va=!1)),"depthStencil"in Yr&&(typeof Yr.depthStencil=="boolean"?va=Oa=Yr.depthStencil:(Ja=Yr.depthStencil,va=!1,Oa=!1))}var Mn=null,Tr=null,rn=null,hn=null;if(Array.isArray(an))Mn=an.map(Gt);else if(an)Mn=[Gt(an)];else for(Mn=new Array(xa),Gr=0;Gr<xa;++Gr)Mn[Gr]=We(Qr,bn,_a,$n,pa);j(ne.webgl_draw_buffers||Mn.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),j(Mn.length<=ye.maxColorAttachments,"too many color attachments, not supported"),Qr=Qr||Mn[0].width,bn=bn||Mn[0].height,Sa?Tr=Gt(Sa):va&&!Oa&&(Tr=We(Qr,bn,la,"depth","uint32")),$a?rn=Gt($a):Oa&&!va&&(rn=We(Qr,bn,!1,"stencil","uint8")),Ja?hn=Gt(Ja):!Sa&&!$a&&Oa&&va&&(hn=We(Qr,bn,la,"depth stencil","depth stencil")),j(!!Sa+!!$a+!!Ja<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var ua=null;for(Gr=0;Gr<Mn.length;++Gr)if(Wt(Mn[Gr],Qr,bn),j(!Mn[Gr]||Mn[Gr].texture&&sQ.indexOf(Mn[Gr].texture._texture.format)>=0||Mn[Gr].renderbuffer&&mQ.indexOf(Mn[Gr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Gr+" is invalid"),Mn[Gr]&&Mn[Gr].texture){var qs=n_[Mn[Gr].texture._texture.format]*Lm[Mn[Gr].texture._texture.type];ua===null?ua=qs:j(ua===qs,"all color attachments much have the same number of bits per pixel.")}return Wt(Tr,Qr,bn),j(!Tr||Tr.texture&&Tr.texture._texture.format===oQ||Tr.renderbuffer&&Tr.renderbuffer._renderbuffer.format===fQ,"invalid depth attachment for framebuffer object"),Wt(rn,Qr,bn),j(!rn||rn.renderbuffer&&rn.renderbuffer._renderbuffer.format===dQ,"invalid stencil attachment for framebuffer object"),Wt(hn,Qr,bn),j(!hn||hn.texture&&hn.texture._texture.format===ZL||hn.renderbuffer&&hn.renderbuffer._renderbuffer.format===ZL,"invalid depth-stencil attachment for framebuffer object"),Ct(Et),Et.width=Qr,Et.height=bn,Et.colorAttachments=Mn,Et.depthAttachment=Tr,Et.stencilAttachment=rn,Et.depthStencilAttachment=hn,Pr.color=Mn.map(lt),Pr.depth=lt(Tr),Pr.stencil=lt(rn),Pr.depthStencil=lt(hn),Pr.width=Et.width,Pr.height=Et.height,St(Et),Pr}function Hr(or,Jr){j(st.next!==Et,"can not resize a framebuffer which is currently in use");var Gr=Math.max(or|0,1),Qr=Math.max(Jr|0||Gr,1);if(Gr===Et.width&&Qr===Et.height)return Pr;for(var bn=Et.colorAttachments,va=0;va<bn.length;++va)Pt(bn[va],Gr,Qr);return Pt(Et.depthAttachment,Gr,Qr),Pt(Et.stencilAttachment,Gr,Qr),Pt(Et.depthStencilAttachment,Gr,Qr),Et.width=Pr.width=Gr,Et.height=Pr.height=Qr,St(Et),Pr}return Pr(Ht,Rt),n(Pr,{resize:Hr,_reglType:"framebuffer",_framebuffer:Et,destroy:function(){jt(Et),Ct(Et)},use:function(or){st.setFBO({framebuffer:Pr},or)}})}function yr(Ht){var Rt=Array(6);function Et(Hr){var or;j(Rt.indexOf(st.next)<0,"can not update framebuffer which is currently in use");var Jr={color:null},Gr=0,Qr=null,bn="rgba",va="uint8",Oa=1;if(typeof Hr=="number")Gr=Hr|0;else if(!Hr)Gr=1;else{j.type(Hr,"object","invalid arguments for framebuffer");var an=Hr;if("shape"in an){var _a=an.shape;j(Array.isArray(_a)&&_a.length>=2,"invalid shape for framebuffer"),j(_a[0]===_a[1],"cube framebuffer must be square"),Gr=_a[0]}else"radius"in an&&(Gr=an.radius|0),"width"in an?(Gr=an.width|0,"height"in an&&j(an.height===Gr,"must be square")):"height"in an&&(Gr=an.height|0);("color"in an||"colors"in an)&&(Qr=an.color||an.colors,Array.isArray(Qr)&&j(Qr.length===1||ne.webgl_draw_buffers,"multiple render targets not supported")),Qr||("colorCount"in an&&(Oa=an.colorCount|0,j(Oa>0,"invalid color buffer count")),"colorType"in an&&(j.oneOf(an.colorType,Dt,"invalid color type"),va=an.colorType),"colorFormat"in an&&(bn=an.colorFormat,j.oneOf(an.colorFormat,Mt,"invalid color format for texture"))),"depth"in an&&(Jr.depth=an.depth),"stencil"in an&&(Jr.stencil=an.stencil),"depthStencil"in an&&(Jr.depthStencil=an.depthStencil)}var $n;if(Qr)if(Array.isArray(Qr))for($n=[],or=0;or<Qr.length;++or)$n[or]=Qr[or];else $n=[Qr];else{$n=Array(Oa);var pa={radius:Gr,format:bn,type:va};for(or=0;or<Oa;++or)$n[or]=rt.createCube(pa)}for(Jr.color=Array($n.length),or=0;or<$n.length;++or){var xa=$n[or];j(typeof xa=="function"&&xa._reglType==="textureCube","invalid cube map"),Gr=Gr||xa.width,j(xa.width===Gr&&xa.height===Gr,"invalid cube map shape"),Jr.color[or]={target:Om,data:$n[or]}}for(or=0;or<6;++or){for(var Sa=0;Sa<$n.length;++Sa)Jr.color[Sa].target=Om+or;or>0&&(Jr.depth=Rt[0].depth,Jr.stencil=Rt[0].stencil,Jr.depthStencil=Rt[0].depthStencil),Rt[or]?Rt[or](Jr):Rt[or]=Vt(Jr)}return n(Et,{width:Gr,height:Gr,color:$n})}function Pr(Hr){var or,Jr=Hr|0;if(j(Jr>0&&Jr<=ye.maxCubeMapSize,"invalid radius for cube fbo"),Jr===Et.width)return Et;var Gr=Et.color;for(or=0;or<Gr.length;++or)Gr[or].resize(Jr);for(or=0;or<6;++or)Rt[or].resize(Jr);return Et.width=Et.height=Jr,Et}return Et(Ht),n(Et,{faces:Rt,resize:Pr,_reglType:"framebufferCube",destroy:function(){Rt.forEach(function(Hr){Hr.destroy()})}})}function Fr(){st.cur=null,st.next=null,st.dirty=!0,vo(xt).forEach(function(Ht){Ht.framebuffer=V.createFramebuffer(),St(Ht)})}return n(st,{getFramebuffer:function(Ht){if(typeof Ht=="function"&&Ht._reglType==="framebuffer"){var Rt=Ht._framebuffer;if(Rt instanceof er)return Rt}return null},create:Vt,createCube:yr,clear:function(){vo(xt).forEach(jt)},restore:Fr})}var bQ=5126,QL=34962;function a_(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=bQ,this.offset=0,this.stride=0,this.divisor=0}function wQ(V,ne,ye,rt,yt){for(var et=ye.maxAttributes,st=new Array(et),Mt=0;Mt<et;++Mt)st[Mt]=new a_;var It=0,Dt={},Ot={Record:a_,scope:{},state:st,currentVAO:null,targetVAO:null,restore:Wt()?xt:function(){},createVAO:er,getVAO:Gt,destroyBuffer:Ft,setVAO:Wt()?We:lt,clear:Wt()?Pt:function(){}};function Ft(Ct){for(var jt=0;jt<st.length;++jt){var St=st[jt];St.buffer===Ct&&(V.disableVertexAttribArray(jt),St.buffer=null)}}function Wt(){return ne.oes_vertex_array_object}function Tt(){return ne.angle_instanced_arrays}function Gt(Ct){return typeof Ct=="function"&&Ct._vao?Ct._vao:null}function We(Ct){if(Ct!==Ot.currentVAO){var jt=Wt();Ct?jt.bindVertexArrayOES(Ct.vao):jt.bindVertexArrayOES(null),Ot.currentVAO=Ct}}function lt(Ct){if(Ct!==Ot.currentVAO){if(Ct)Ct.bindAttrs();else for(var jt=Tt(),St=0;St<st.length;++St){var Vt=st[St];Vt.buffer?(V.enableVertexAttribArray(St),V.vertexAttribPointer(St,Vt.size,Vt.type,Vt.normalized,Vt.stride,Vt.offfset),jt&&Vt.divisor&&jt.vertexAttribDivisorANGLE(St,Vt.divisor)):(V.disableVertexAttribArray(St),V.vertexAttrib4f(St,Vt.x,Vt.y,Vt.z,Vt.w))}Ot.currentVAO=Ct}}function Pt(){vo(Dt).forEach(function(Ct){Ct.destroy()})}function Xt(){this.id=++It,this.attributes=[];var Ct=Wt();Ct?this.vao=Ct.createVertexArrayOES():this.vao=null,Dt[this.id]=this,this.buffers=[]}Xt.prototype.bindAttrs=function(){for(var Ct=Tt(),jt=this.attributes,St=0;St<jt.length;++St){var Vt=jt[St];Vt.buffer?(V.enableVertexAttribArray(St),V.bindBuffer(QL,Vt.buffer.buffer),V.vertexAttribPointer(St,Vt.size,Vt.type,Vt.normalized,Vt.stride,Vt.offset),Ct&&Vt.divisor&&Ct.vertexAttribDivisorANGLE(St,Vt.divisor)):(V.disableVertexAttribArray(St),V.vertexAttrib4f(St,Vt.x,Vt.y,Vt.z,Vt.w))}for(var yr=jt.length;yr<et;++yr)V.disableVertexAttribArray(yr)},Xt.prototype.refresh=function(){var Ct=Wt();Ct&&(Ct.bindVertexArrayOES(this.vao),this.bindAttrs(),Ot.currentVAO=this)},Xt.prototype.destroy=function(){if(this.vao){var Ct=Wt();this===Ot.currentVAO&&(Ot.currentVAO=null,Ct.bindVertexArrayOES(null)),Ct.deleteVertexArrayOES(this.vao),this.vao=null}Dt[this.id]&&(delete Dt[this.id],rt.vaoCount-=1)};function xt(){var Ct=Wt();Ct&&vo(Dt).forEach(function(jt){jt.refresh()})}function er(Ct){var jt=new Xt;rt.vaoCount+=1;function St(Vt){j(Array.isArray(Vt),"arguments to vertex array constructor must be an array"),j(Vt.length<et,"too many attributes"),j(Vt.length>0,"must specify at least one attribute");var yr={},Fr=jt.attributes;Fr.length=Vt.length;for(var Ht=0;Ht<Vt.length;++Ht){var Rt=Vt[Ht],Et=Fr[Ht]=new a_,Pr=Rt.data||Rt;if(Array.isArray(Pr)||r(Pr)||ms(Pr)){var Hr;jt.buffers[Ht]&&(Hr=jt.buffers[Ht],r(Pr)&&Hr._buffer.byteLength>=Pr.byteLength?Hr.subdata(Pr):(Hr.destroy(),jt.buffers[Ht]=null)),jt.buffers[Ht]||(Hr=jt.buffers[Ht]=yt.create(Rt,QL,!1,!0)),Et.buffer=yt.getBuffer(Hr),Et.size=Et.buffer.dimension|0,Et.normalized=!1,Et.type=Et.buffer.dtype,Et.offset=0,Et.stride=0,Et.divisor=0,Et.state=1,yr[Ht]=1}else yt.getBuffer(Rt)?(Et.buffer=yt.getBuffer(Rt),Et.size=Et.buffer.dimension|0,Et.normalized=!1,Et.type=Et.buffer.dtype,Et.offset=0,Et.stride=0,Et.divisor=0,Et.state=1):yt.getBuffer(Rt.buffer)?(Et.buffer=yt.getBuffer(Rt.buffer),Et.size=(+Rt.size||Et.buffer.dimension)|0,Et.normalized=!!Rt.normalized||!1,"type"in Rt?(j.parameter(Rt.type,Qc,"invalid buffer type"),Et.type=Qc[Rt.type]):Et.type=Et.buffer.dtype,Et.offset=(Rt.offset||0)|0,Et.stride=(Rt.stride||0)|0,Et.divisor=(Rt.divisor||0)|0,Et.state=1,j(Et.size>=1&&Et.size<=4,"size must be between 1 and 4"),j(Et.offset>=0,"invalid offset"),j(Et.stride>=0&&Et.stride<=255,"stride must be between 0 and 255"),j(Et.divisor>=0,"divisor must be positive"),j(!Et.divisor||!!ne.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Rt?(j(Ht>0,"first attribute must not be a constant"),Et.x=+Rt.x||0,Et.y=+Rt.y||0,Et.z=+Rt.z||0,Et.w=+Rt.w||0,Et.state=2):j(!1,"invalid attribute spec for location "+Ht)}for(var or=0;or<jt.buffers.length;++or)!yr[or]&&jt.buffers[or]&&(jt.buffers[or].destroy(),jt.buffers[or]=null);return jt.refresh(),St}return St.destroy=function(){for(var Vt=0;Vt<jt.buffers.length;++Vt)jt.buffers[Vt]&&jt.buffers[Vt].destroy();jt.buffers.length=0,jt.destroy()},St._vao=jt,St._reglType="vao",St(Ct)}return Ot}var JL=35632,EQ=35633,_Q=35718,xQ=35721;function SQ(V,ne,ye,rt){var yt={},et={};function st(We,lt,Pt,Xt){this.name=We,this.id=lt,this.location=Pt,this.info=Xt}function Mt(We,lt){for(var Pt=0;Pt<We.length;++Pt)if(We[Pt].id===lt.id){We[Pt].location=lt.location;return}We.push(lt)}function It(We,lt,Pt){var Xt=We===JL?yt:et,xt=Xt[lt];if(!xt){var er=ne.str(lt);xt=V.createShader(We),V.shaderSource(xt,er),V.compileShader(xt),j.shaderError(V,xt,er,We,Pt),Xt[lt]=xt}return xt}var Dt={},Ot=[],Ft=0;function Wt(We,lt){this.id=Ft++,this.fragId=We,this.vertId=lt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,rt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Tt(We,lt,Pt){var Xt,xt,er=It(JL,We.fragId),Ct=It(EQ,We.vertId),jt=We.program=V.createProgram();if(V.attachShader(jt,er),V.attachShader(jt,Ct),Pt)for(Xt=0;Xt<Pt.length;++Xt){var St=Pt[Xt];V.bindAttribLocation(jt,St[0],St[1])}V.linkProgram(jt),j.linkError(V,jt,ne.str(We.fragId),ne.str(We.vertId),lt);var Vt=V.getProgramParameter(jt,_Q);rt.profile&&(We.stats.uniformsCount=Vt);var yr=We.uniforms;for(Xt=0;Xt<Vt;++Xt)if(xt=V.getActiveUniform(jt,Xt),xt)if(xt.size>1)for(var Fr=0;Fr<xt.size;++Fr){var Ht=xt.name.replace("[0]","["+Fr+"]");Mt(yr,new st(Ht,ne.id(Ht),V.getUniformLocation(jt,Ht),xt))}else Mt(yr,new st(xt.name,ne.id(xt.name),V.getUniformLocation(jt,xt.name),xt));var Rt=V.getProgramParameter(jt,xQ);rt.profile&&(We.stats.attributesCount=Rt);var Et=We.attributes;for(Xt=0;Xt<Rt;++Xt)xt=V.getActiveAttrib(jt,Xt),xt&&Mt(Et,new st(xt.name,ne.id(xt.name),V.getAttribLocation(jt,xt.name),xt))}rt.profile&&(ye.getMaxUniformsCount=function(){var We=0;return Ot.forEach(function(lt){lt.stats.uniformsCount>We&&(We=lt.stats.uniformsCount)}),We},ye.getMaxAttributesCount=function(){var We=0;return Ot.forEach(function(lt){lt.stats.attributesCount>We&&(We=lt.stats.attributesCount)}),We});function Gt(){yt={},et={};for(var We=0;We<Ot.length;++We)Tt(Ot[We],null,Ot[We].attributes.map(function(lt){return[lt.location,lt.name]}))}return{clear:function(){var We=V.deleteShader.bind(V);vo(yt).forEach(We),yt={},vo(et).forEach(We),et={},Ot.forEach(function(lt){V.deleteProgram(lt.program)}),Ot.length=0,Dt={},ye.shaderCount=0},program:function(We,lt,Pt,Xt){j.command(We>=0,"missing vertex shader",Pt),j.command(lt>=0,"missing fragment shader",Pt);var xt=Dt[lt];xt||(xt=Dt[lt]={});var er=xt[We];if(er&&(er.refCount++,!Xt))return er;var Ct=new Wt(lt,We);return ye.shaderCount++,Tt(Ct,Pt,Xt),er||(xt[We]=Ct),Ot.push(Ct),n(Ct,{destroy:function(){if(Ct.refCount--,Ct.refCount<=0){V.deleteProgram(Ct.program);var jt=Ot.indexOf(Ct);Ot.splice(jt,1),ye.shaderCount--}xt[Ct.vertId].refCount<=0&&(V.deleteShader(et[Ct.vertId]),delete et[Ct.vertId],delete Dt[Ct.fragId][Ct.vertId]),Object.keys(Dt[Ct.fragId]).length||(V.deleteShader(yt[Ct.fragId]),delete yt[Ct.fragId],delete Dt[Ct.fragId])}})},restore:Gt,shader:It,frag:-1,vert:-1}}var CQ=6408,qv=5121,MQ=3333,Nm=5126;function TQ(V,ne,ye,rt,yt,et,st){function Mt(Ot){var Ft;ne.next===null?(j(yt.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Ft=qv):(j(ne.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Ft=ne.next.colorAttachments[0].texture._texture.type,et.oes_texture_float?(j(Ft===qv||Ft===Nm,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Ft===Nm&&j(st.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):j(Ft===qv,"Reading from a framebuffer is only allowed for the type 'uint8'"));var Wt=0,Tt=0,Gt=rt.framebufferWidth,We=rt.framebufferHeight,lt=null;r(Ot)?lt=Ot:Ot&&(j.type(Ot,"object","invalid arguments to regl.read()"),Wt=Ot.x|0,Tt=Ot.y|0,j(Wt>=0&&Wt<rt.framebufferWidth,"invalid x offset for regl.read"),j(Tt>=0&&Tt<rt.framebufferHeight,"invalid y offset for regl.read"),Gt=(Ot.width||rt.framebufferWidth-Wt)|0,We=(Ot.height||rt.framebufferHeight-Tt)|0,lt=Ot.data||null),lt&&(Ft===qv?j(lt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Ft===Nm&&j(lt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),j(Gt>0&&Gt+Wt<=rt.framebufferWidth,"invalid width for read pixels"),j(We>0&&We+Tt<=rt.framebufferHeight,"invalid height for read pixels"),ye();var Pt=Gt*We*4;return lt||(Ft===qv?lt=new Uint8Array(Pt):Ft===Nm&&(lt=lt||new Float32Array(Pt))),j.isTypedArray(lt,"data buffer for regl.read() must be a typedarray"),j(lt.byteLength>=Pt,"data buffer for regl.read() too small"),V.pixelStorei(MQ,4),V.readPixels(Wt,Tt,Gt,We,CQ,Ft,lt),lt}function It(Ot){var Ft;return ne.setFBO({framebuffer:Ot.framebuffer},function(){Ft=Mt(Ot)}),Ft}function Dt(Ot){return!Ot||!("framebuffer"in Ot)?Mt(Ot):It(Ot)}return Dt}function Fd(V){return Array.prototype.slice.call(V)}function zd(V){return Fd(V).join("")}function kQ(){var V=0,ne=[],ye=[];function rt(Ft){for(var Wt=0;Wt<ye.length;++Wt)if(ye[Wt]===Ft)return ne[Wt];var Tt="g"+V++;return ne.push(Tt),ye.push(Ft),Tt}function yt(){var Ft=[];function Wt(){Ft.push.apply(Ft,Fd(arguments))}var Tt=[];function Gt(){var We="v"+V++;return Tt.push(We),arguments.length>0&&(Ft.push(We,"="),Ft.push.apply(Ft,Fd(arguments)),Ft.push(";")),We}return n(Wt,{def:Gt,toString:function(){return zd([Tt.length>0?"var "+Tt.join(",")+";":"",zd(Ft)])}})}function et(){var Ft=yt(),Wt=yt(),Tt=Ft.toString,Gt=Wt.toString;function We(lt,Pt){Wt(lt,Pt,"=",Ft.def(lt,Pt),";")}return n(function(){Ft.apply(Ft,Fd(arguments))},{def:Ft.def,entry:Ft,exit:Wt,save:We,set:function(lt,Pt,Xt){We(lt,Pt),Ft(lt,Pt,"=",Xt,";")},toString:function(){return Tt()+Gt()}})}function st(){var Ft=zd(arguments),Wt=et(),Tt=et(),Gt=Wt.toString,We=Tt.toString;return n(Wt,{then:function(){return Wt.apply(Wt,Fd(arguments)),this},else:function(){return Tt.apply(Tt,Fd(arguments)),this},toString:function(){var lt=We();return lt&&(lt="else{"+lt+"}"),zd(["if(",Ft,"){",Gt(),"}",lt])}})}var Mt=yt(),It={};function Dt(Ft,Wt){var Tt=[];function Gt(){var xt="a"+Tt.length;return Tt.push(xt),xt}Wt=Wt||0;for(var We=0;We<Wt;++We)Gt();var lt=et(),Pt=lt.toString,Xt=It[Ft]=n(lt,{arg:Gt,toString:function(){return zd(["function(",Tt.join(),"){",Pt(),"}"])}});return Xt}function Ot(){var Ft=['"use strict";',Mt,"return {"];Object.keys(It).forEach(function(Gt){Ft.push('"',Gt,'":',It[Gt].toString(),",")}),Ft.push("}");var Wt=zd(Ft).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Tt=Function.apply(null,ne.concat(Wt));return Tt.apply(null,ye)}return{global:Mt,link:rt,block:yt,proc:Dt,scope:et,cond:st,compile:Ot}}var Gd="xyzw".split(""),eN=5121,jd=1,i_=2,o_=0,s_=1,l_=2,u_=3,Pm=4,tN=5,rN=6,nN="dither",aN="blend.enable",iN="blend.color",c_="blend.equation",f_="blend.func",oN="depth.enable",sN="depth.func",lN="depth.range",uN="depth.mask",d_="colorMask",cN="cull.enable",fN="cull.face",h_="frontFace",v_="lineWidth",dN="polygonOffset.enable",p_="polygonOffset.offset",hN="sample.alpha",vN="sample.enable",g_="sample.coverage",pN="stencil.enable",gN="stencil.mask",m_="stencil.func",y_="stencil.opFront",Zv="stencil.opBack",mN="scissor.enable",Dm="scissor.box",Gl="viewport",Qv="profile",nf="framebuffer",Jv="vert",ep="frag",af="elements",of="primitive",sf="count",Rm="offset",$m="instances",tp="vao",b_="Width",w_="Height",Vd=nf+b_,Ud=nf+w_,AQ=Gl+b_,IQ=Gl+w_,yN="drawingBuffer",bN=yN+b_,wN=yN+w_,OQ=[f_,c_,m_,y_,Zv,g_,Gl,Dm,p_],Wd=34962,LQ=34963,NQ=35632,PQ=35633,EN=3553,DQ=34067,RQ=2884,$Q=3042,BQ=3024,FQ=2960,zQ=2929,GQ=3089,jQ=32823,VQ=32926,UQ=32928,E_=5126,Bm=35664,Fm=35665,zm=35666,__=5124,Gm=35667,jm=35668,Vm=35669,x_=35670,Um=35671,Wm=35672,Hm=35673,rp=35674,np=35675,ap=35676,ip=35678,op=35680,_N=4,sp=1028,lf=1029,xN=2304,S_=2305,WQ=32775,HQ=32776,YQ=519,$u=7680,SN=0,CN=1,MN=32774,KQ=513,TN=36160,XQ=36064,Xs={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},kN=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Hd={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Bu={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},AN={frag:NQ,vert:PQ},C_={cw:xN,ccw:S_};function Ym(V){return Array.isArray(V)||r(V)||ms(V)}function IN(V){return V.sort(function(ne,ye){return ne===Gl?-1:ye===Gl?1:ne<ye?-1:1})}function Ni(V,ne,ye,rt){this.thisDep=V,this.contextDep=ne,this.propDep=ye,this.append=rt}function Fu(V){return V&&!(V.thisDep||V.contextDep||V.propDep)}function ha(V){return new Ni(!1,!1,!1,V)}function Ki(V,ne){var ye=V.type;if(ye===o_){var rt=V.data.length;return new Ni(!0,rt>=1,rt>=2,ne)}else if(ye===Pm){var yt=V.data;return new Ni(yt.thisDep,yt.contextDep,yt.propDep,ne)}else{if(ye===tN)return new Ni(!1,!1,!1,ne);if(ye===rN){for(var et=!1,st=!1,Mt=!1,It=0;It<V.data.length;++It){var Dt=V.data[It];if(Dt.type===s_)Mt=!0;else if(Dt.type===l_)st=!0;else if(Dt.type===u_)et=!0;else if(Dt.type===o_){et=!0;var Ot=Dt.data;Ot>=1&&(st=!0),Ot>=2&&(Mt=!0)}else Dt.type===Pm&&(et=et||Dt.data.thisDep,st=st||Dt.data.contextDep,Mt=Mt||Dt.data.propDep)}return new Ni(et,st,Mt,ne)}else return new Ni(ye===u_,ye===l_,ye===s_,ne)}}var ON=new Ni(!1,!1,!1,function(){});function qQ(V,ne,ye,rt,yt,et,st,Mt,It,Dt,Ot,Ft,Wt,Tt,Gt){var We=Dt.Record,lt={add:32774,subtract:32778,"reverse subtract":32779};ye.ext_blend_minmax&&(lt.min=WQ,lt.max=HQ);var Pt=ye.angle_instanced_arrays,Xt=ye.webgl_draw_buffers,xt={dirty:!0,profile:Gt.profile},er={},Ct=[],jt={},St={};function Vt(ue){return ue.replace(".","_")}function yr(ue,Q,Se){var je=Vt(ue);Ct.push(ue),er[je]=xt[je]=!!Se,jt[je]=Q}function Fr(ue,Q,Se){var je=Vt(ue);Ct.push(ue),Array.isArray(Se)?(xt[je]=Se.slice(),er[je]=Se.slice()):xt[je]=er[je]=Se,St[je]=Q}yr(nN,BQ),yr(aN,$Q),Fr(iN,"blendColor",[0,0,0,0]),Fr(c_,"blendEquationSeparate",[MN,MN]),Fr(f_,"blendFuncSeparate",[CN,SN,CN,SN]),yr(oN,zQ,!0),Fr(sN,"depthFunc",KQ),Fr(lN,"depthRange",[0,1]),Fr(uN,"depthMask",!0),Fr(d_,d_,[!0,!0,!0,!0]),yr(cN,RQ),Fr(fN,"cullFace",lf),Fr(h_,h_,S_),Fr(v_,v_,1),yr(dN,jQ),Fr(p_,"polygonOffset",[0,0]),yr(hN,VQ),yr(vN,UQ),Fr(g_,"sampleCoverage",[1,!1]),yr(pN,FQ),Fr(gN,"stencilMask",-1),Fr(m_,"stencilFunc",[YQ,0,-1]),Fr(y_,"stencilOpSeparate",[sp,$u,$u,$u]),Fr(Zv,"stencilOpSeparate",[lf,$u,$u,$u]),yr(mN,GQ),Fr(Dm,"scissor",[0,0,V.drawingBufferWidth,V.drawingBufferHeight]),Fr(Gl,Gl,[0,0,V.drawingBufferWidth,V.drawingBufferHeight]);var Ht={gl:V,context:Wt,strings:ne,next:er,current:xt,draw:Ft,elements:et,buffer:yt,shader:Ot,attributes:Dt.state,vao:Dt,uniforms:It,framebuffer:Mt,extensions:ye,timer:Tt,isBufferArgs:Ym},Rt={primTypes:Od,compareFuncs:Hd,blendFuncs:Xs,blendEquations:lt,stencilOps:Bu,glTypes:Qc,orientationType:C_};j.optional(function(){Ht.isArrayLike=sa}),Xt&&(Rt.backBuffer=[lf],Rt.drawBuffer=ra(rt.maxDrawbuffers,function(ue){return ue===0?[0]:ra(ue,function(Q){return XQ+Q})}));var Et=0;function Pr(){var ue=kQ(),Q=ue.link,Se=ue.global;ue.id=Et++,ue.batchId="0";var je=Q(Ht),Ke=ue.shared={props:"a0"};Object.keys(Ht).forEach(function(_e){Ke[_e]=Se.def(je,".",_e)}),j.optional(function(){ue.CHECK=Q(j),ue.commandStr=j.guessCommand(),ue.command=Q(ue.commandStr),ue.assert=function(_e,se,Fe){_e("if(!(",se,"))",this.CHECK,".commandRaise(",Q(Fe),",",this.command,");")},Rt.invalidBlendCombinations=kN});var Le=ue.next={},Te=ue.current={};Object.keys(St).forEach(function(_e){Array.isArray(xt[_e])&&(Le[_e]=Se.def(Ke.next,".",_e),Te[_e]=Se.def(Ke.current,".",_e))});var $e=ue.constants={};Object.keys(Rt).forEach(function(_e){$e[_e]=Se.def(JSON.stringify(Rt[_e]))}),ue.invoke=function(_e,se){switch(se.type){case o_:var Fe=["this",Ke.context,Ke.props,ue.batchId];return _e.def(Q(se.data),".call(",Fe.slice(0,Math.max(se.data.length+1,4)),")");case s_:return _e.def(Ke.props,se.data);case l_:return _e.def(Ke.context,se.data);case u_:return _e.def("this",se.data);case Pm:return se.data.append(ue,_e),se.data.ref;case tN:return se.data.toString();case rN:return se.data.map(function(Xe){return ue.invoke(_e,Xe)})}},ue.attribCache={};var ce={};return ue.scopeAttrib=function(_e){var se=ne.id(_e);if(se in ce)return ce[se];var Fe=Dt.scope[se];Fe||(Fe=Dt.scope[se]=new We);var Xe=ce[se]=Q(Fe);return Xe},ue}function Hr(ue){var Q=ue.static,Se=ue.dynamic,je;if(Qv in Q){var Ke=!!Q[Qv];je=ha(function(Te,$e){return Ke}),je.enable=Ke}else if(Qv in Se){var Le=Se[Qv];je=Ki(Le,function(Te,$e){return Te.invoke($e,Le)})}return je}function or(ue,Q){var Se=ue.static,je=ue.dynamic;if(nf in Se){var Ke=Se[nf];return Ke?(Ke=Mt.getFramebuffer(Ke),j.command(Ke,"invalid framebuffer object"),ha(function(Te,$e){var ce=Te.link(Ke),_e=Te.shared;$e.set(_e.framebuffer,".next",ce);var se=_e.context;return $e.set(se,"."+Vd,ce+".width"),$e.set(se,"."+Ud,ce+".height"),ce})):ha(function(Te,$e){var ce=Te.shared;$e.set(ce.framebuffer,".next","null");var _e=ce.context;return $e.set(_e,"."+Vd,_e+"."+bN),$e.set(_e,"."+Ud,_e+"."+wN),"null"})}else if(nf in je){var Le=je[nf];return Ki(Le,function(Te,$e){var ce=Te.invoke($e,Le),_e=Te.shared,se=_e.framebuffer,Fe=$e.def(se,".getFramebuffer(",ce,")");j.optional(function(){Te.assert($e,"!"+ce+"||"+Fe,"invalid framebuffer object")}),$e.set(se,".next",Fe);var Xe=_e.context;return $e.set(Xe,"."+Vd,Fe+"?"+Fe+".width:"+Xe+"."+bN),$e.set(Xe,"."+Ud,Fe+"?"+Fe+".height:"+Xe+"."+wN),Fe})}else return null}function Jr(ue,Q,Se){var je=ue.static,Ke=ue.dynamic;function Le(ce){if(ce in je){var _e=je[ce];j.commandType(_e,"object","invalid "+ce,Se.commandStr);var se=!0,Fe=_e.x|0,Xe=_e.y|0,gt,bt;return"width"in _e?(gt=_e.width|0,j.command(gt>=0,"invalid "+ce,Se.commandStr)):se=!1,"height"in _e?(bt=_e.height|0,j.command(bt>=0,"invalid "+ce,Se.commandStr)):se=!1,new Ni(!se&&Q&&Q.thisDep,!se&&Q&&Q.contextDep,!se&&Q&&Q.propDep,function(fr,Kr){var sr=fr.shared.context,Ir=gt;"width"in _e||(Ir=Kr.def(sr,".",Vd,"-",Fe));var Vr=bt;return"height"in _e||(Vr=Kr.def(sr,".",Ud,"-",Xe)),[Fe,Xe,Ir,Vr]})}else if(ce in Ke){var dt=Ke[ce],Nt=Ki(dt,function(fr,Kr){var sr=fr.invoke(Kr,dt);j.optional(function(){fr.assert(Kr,sr+"&&typeof "+sr+'==="object"',"invalid "+ce)});var Ir=fr.shared.context,Vr=Kr.def(sr,".x|0"),wn=Kr.def(sr,".y|0"),aa=Kr.def('"width" in ',sr,"?",sr,".width|0:","(",Ir,".",Vd,"-",Vr,")"),Pi=Kr.def('"height" in ',sr,"?",sr,".height|0:","(",Ir,".",Ud,"-",wn,")");return j.optional(function(){fr.assert(Kr,aa+">=0&&"+Pi+">=0","invalid "+ce)}),[Vr,wn,aa,Pi]});return Q&&(Nt.thisDep=Nt.thisDep||Q.thisDep,Nt.contextDep=Nt.contextDep||Q.contextDep,Nt.propDep=Nt.propDep||Q.propDep),Nt}else return Q?new Ni(Q.thisDep,Q.contextDep,Q.propDep,function(fr,Kr){var sr=fr.shared.context;return[0,0,Kr.def(sr,".",Vd),Kr.def(sr,".",Ud)]}):null}var Te=Le(Gl);if(Te){var $e=Te;Te=new Ni(Te.thisDep,Te.contextDep,Te.propDep,function(ce,_e){var se=$e.append(ce,_e),Fe=ce.shared.context;return _e.set(Fe,"."+AQ,se[2]),_e.set(Fe,"."+IQ,se[3]),se})}return{viewport:Te,scissor_box:Le(Dm)}}function Gr(ue,Q){var Se=ue.static,je=typeof Se[ep]=="string"&&typeof Se[Jv]=="string";if(je){if(Object.keys(Q.dynamic).length>0)return null;var Ke=Q.static,Le=Object.keys(Ke);if(Le.length>0&&typeof Ke[Le[0]]=="number"){for(var Te=[],$e=0;$e<Le.length;++$e)j(typeof Ke[Le[$e]]=="number","must specify all vertex attribute locations when using vaos"),Te.push([Ke[Le[$e]]|0,Le[$e]]);return Te}}return null}function Qr(ue,Q,Se){var je=ue.static,Ke=ue.dynamic;function Le(se){if(se in je){var Fe=ne.id(je[se]);j.optional(function(){Ot.shader(AN[se],Fe,j.guessCommand())});var Xe=ha(function(){return Fe});return Xe.id=Fe,Xe}else if(se in Ke){var gt=Ke[se];return Ki(gt,function(bt,dt){var Nt=bt.invoke(dt,gt),fr=dt.def(bt.shared.strings,".id(",Nt,")");return j.optional(function(){dt(bt.shared.shader,".shader(",AN[se],",",fr,",",bt.command,");")}),fr})}return null}var Te=Le(ep),$e=Le(Jv),ce=null,_e;return Fu(Te)&&Fu($e)?(ce=Ot.program($e.id,Te.id,null,Se),_e=ha(function(se,Fe){return se.link(ce)})):_e=new Ni(Te&&Te.thisDep||$e&&$e.thisDep,Te&&Te.contextDep||$e&&$e.contextDep,Te&&Te.propDep||$e&&$e.propDep,function(se,Fe){var Xe=se.shared.shader,gt;Te?gt=Te.append(se,Fe):gt=Fe.def(Xe,".",ep);var bt;$e?bt=$e.append(se,Fe):bt=Fe.def(Xe,".",Jv);var dt=Xe+".program("+bt+","+gt;return j.optional(function(){dt+=","+se.command}),Fe.def(dt+")")}),{frag:Te,vert:$e,progVar:_e,program:ce}}function bn(ue,Q){var Se=ue.static,je=ue.dynamic;function Ke(){if(af in Se){var se=Se[af];Ym(se)?se=et.getElements(et.create(se,!0)):se&&(se=et.getElements(se),j.command(se,"invalid elements",Q.commandStr));var Fe=ha(function(gt,bt){if(se){var dt=gt.link(se);return gt.ELEMENTS=dt,dt}return gt.ELEMENTS=null,null});return Fe.value=se,Fe}else if(af in je){var Xe=je[af];return Ki(Xe,function(gt,bt){var dt=gt.shared,Nt=dt.isBufferArgs,fr=dt.elements,Kr=gt.invoke(bt,Xe),sr=bt.def("null"),Ir=bt.def(Nt,"(",Kr,")"),Vr=gt.cond(Ir).then(sr,"=",fr,".createStream(",Kr,");").else(sr,"=",fr,".getElements(",Kr,");");return j.optional(function(){gt.assert(Vr.else,"!"+Kr+"||"+sr,"invalid elements")}),bt.entry(Vr),bt.exit(gt.cond(Ir).then(fr,".destroyStream(",sr,");")),gt.ELEMENTS=sr,sr})}return null}var Le=Ke();function Te(){if(of in Se){var se=Se[of];return j.commandParameter(se,Od,"invalid primitve",Q.commandStr),ha(function(Xe,gt){return Od[se]})}else if(of in je){var Fe=je[of];return Ki(Fe,function(Xe,gt){var bt=Xe.constants.primTypes,dt=Xe.invoke(gt,Fe);return j.optional(function(){Xe.assert(gt,dt+" in "+bt,"invalid primitive, must be one of "+Object.keys(Od))}),gt.def(bt,"[",dt,"]")})}else if(Le)return Fu(Le)?Le.value?ha(function(Xe,gt){return gt.def(Xe.ELEMENTS,".primType")}):ha(function(){return _N}):new Ni(Le.thisDep,Le.contextDep,Le.propDep,function(Xe,gt){var bt=Xe.ELEMENTS;return gt.def(bt,"?",bt,".primType:",_N)});return null}function $e(se,Fe){if(se in Se){var Xe=Se[se]|0;return j.command(!Fe||Xe>=0,"invalid "+se,Q.commandStr),ha(function(bt,dt){return Fe&&(bt.OFFSET=Xe),Xe})}else if(se in je){var gt=je[se];return Ki(gt,function(bt,dt){var Nt=bt.invoke(dt,gt);return Fe&&(bt.OFFSET=Nt,j.optional(function(){bt.assert(dt,Nt+">=0","invalid "+se)})),Nt})}else if(Fe&&Le)return ha(function(bt,dt){return bt.OFFSET="0",0});return null}var ce=$e(Rm,!0);function _e(){if(sf in Se){var se=Se[sf]|0;return j.command(typeof se=="number"&&se>=0,"invalid vertex count",Q.commandStr),ha(function(){return se})}else if(sf in je){var Fe=je[sf];return Ki(Fe,function(bt,dt){var Nt=bt.invoke(dt,Fe);return j.optional(function(){bt.assert(dt,"typeof "+Nt+'==="number"&&'+Nt+">=0&&"+Nt+"===("+Nt+"|0)","invalid vertex count")}),Nt})}else if(Le)if(Fu(Le)){if(Le)return ce?new Ni(ce.thisDep,ce.contextDep,ce.propDep,function(bt,dt){var Nt=dt.def(bt.ELEMENTS,".vertCount-",bt.OFFSET);return j.optional(function(){bt.assert(dt,Nt+">=0","invalid vertex offset/element buffer too small")}),Nt}):ha(function(bt,dt){return dt.def(bt.ELEMENTS,".vertCount")});var Xe=ha(function(){return-1});return j.optional(function(){Xe.MISSING=!0}),Xe}else{var gt=new Ni(Le.thisDep||ce.thisDep,Le.contextDep||ce.contextDep,Le.propDep||ce.propDep,function(bt,dt){var Nt=bt.ELEMENTS;return bt.OFFSET?dt.def(Nt,"?",Nt,".vertCount-",bt.OFFSET,":-1"):dt.def(Nt,"?",Nt,".vertCount:-1")});return j.optional(function(){gt.DYNAMIC=!0}),gt}return null}return{elements:Le,primitive:Te(),count:_e(),instances:$e($m,!1),offset:ce}}function va(ue,Q){var Se=ue.static,je=ue.dynamic,Ke={};return Ct.forEach(function(Le){var Te=Vt(Le);function $e(ce,_e){if(Le in Se){var se=ce(Se[Le]);Ke[Te]=ha(function(){return se})}else if(Le in je){var Fe=je[Le];Ke[Te]=Ki(Fe,function(Xe,gt){return _e(Xe,gt,Xe.invoke(gt,Fe))})}}switch(Le){case cN:case aN:case nN:case pN:case oN:case mN:case dN:case hN:case vN:case uN:return $e(function(ce){return j.commandType(ce,"boolean",Le,Q.commandStr),ce},function(ce,_e,se){return j.optional(function(){ce.assert(_e,"typeof "+se+'==="boolean"',"invalid flag "+Le,ce.commandStr)}),se});case sN:return $e(function(ce){return j.commandParameter(ce,Hd,"invalid "+Le,Q.commandStr),Hd[ce]},function(ce,_e,se){var Fe=ce.constants.compareFuncs;return j.optional(function(){ce.assert(_e,se+" in "+Fe,"invalid "+Le+", must be one of "+Object.keys(Hd))}),_e.def(Fe,"[",se,"]")});case lN:return $e(function(ce){return j.command(sa(ce)&&ce.length===2&&typeof ce[0]=="number"&&typeof ce[1]=="number"&&ce[0]<=ce[1],"depth range is 2d array",Q.commandStr),ce},function(ce,_e,se){j.optional(function(){ce.assert(_e,ce.shared.isArrayLike+"("+se+")&&"+se+".length===2&&typeof "+se+'[0]==="number"&&typeof '+se+'[1]==="number"&&'+se+"[0]<="+se+"[1]","depth range must be a 2d array")});var Fe=_e.def("+",se,"[0]"),Xe=_e.def("+",se,"[1]");return[Fe,Xe]});case f_:return $e(function(ce){j.commandType(ce,"object","blend.func",Q.commandStr);var _e="srcRGB"in ce?ce.srcRGB:ce.src,se="srcAlpha"in ce?ce.srcAlpha:ce.src,Fe="dstRGB"in ce?ce.dstRGB:ce.dst,Xe="dstAlpha"in ce?ce.dstAlpha:ce.dst;return j.commandParameter(_e,Xs,Te+".srcRGB",Q.commandStr),j.commandParameter(se,Xs,Te+".srcAlpha",Q.commandStr),j.commandParameter(Fe,Xs,Te+".dstRGB",Q.commandStr),j.commandParameter(Xe,Xs,Te+".dstAlpha",Q.commandStr),j.command(kN.indexOf(_e+", "+Fe)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+_e+", "+Fe+")",Q.commandStr),[Xs[_e],Xs[Fe],Xs[se],Xs[Xe]]},function(ce,_e,se){var Fe=ce.constants.blendFuncs;j.optional(function(){ce.assert(_e,se+"&&typeof "+se+'==="object"',"invalid blend func, must be an object")});function Xe(sr,Ir){var Vr=_e.def('"',sr,Ir,'" in ',se,"?",se,".",sr,Ir,":",se,".",sr);return j.optional(function(){ce.assert(_e,Vr+" in "+Fe,"invalid "+Le+"."+sr+Ir+", must be one of "+Object.keys(Xs))}),Vr}var gt=Xe("src","RGB"),bt=Xe("dst","RGB");j.optional(function(){var sr=ce.constants.invalidBlendCombinations;ce.assert(_e,sr+".indexOf("+gt+'+", "+'+bt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var dt=_e.def(Fe,"[",gt,"]"),Nt=_e.def(Fe,"[",Xe("src","Alpha"),"]"),fr=_e.def(Fe,"[",bt,"]"),Kr=_e.def(Fe,"[",Xe("dst","Alpha"),"]");return[dt,fr,Nt,Kr]});case c_:return $e(function(ce){if(typeof ce=="string")return j.commandParameter(ce,lt,"invalid "+Le,Q.commandStr),[lt[ce],lt[ce]];if(typeof ce=="object")return j.commandParameter(ce.rgb,lt,Le+".rgb",Q.commandStr),j.commandParameter(ce.alpha,lt,Le+".alpha",Q.commandStr),[lt[ce.rgb],lt[ce.alpha]];j.commandRaise("invalid blend.equation",Q.commandStr)},function(ce,_e,se){var Fe=ce.constants.blendEquations,Xe=_e.def(),gt=_e.def(),bt=ce.cond("typeof ",se,'==="string"');return j.optional(function(){function dt(Nt,fr,Kr){ce.assert(Nt,Kr+" in "+Fe,"invalid "+fr+", must be one of "+Object.keys(lt))}dt(bt.then,Le,se),ce.assert(bt.else,se+"&&typeof "+se+'==="object"',"invalid "+Le),dt(bt.else,Le+".rgb",se+".rgb"),dt(bt.else,Le+".alpha",se+".alpha")}),bt.then(Xe,"=",gt,"=",Fe,"[",se,"];"),bt.else(Xe,"=",Fe,"[",se,".rgb];",gt,"=",Fe,"[",se,".alpha];"),_e(bt),[Xe,gt]});case iN:return $e(function(ce){return j.command(sa(ce)&&ce.length===4,"blend.color must be a 4d array",Q.commandStr),ra(4,function(_e){return+ce[_e]})},function(ce,_e,se){return j.optional(function(){ce.assert(_e,ce.shared.isArrayLike+"("+se+")&&"+se+".length===4","blend.color must be a 4d array")}),ra(4,function(Fe){return _e.def("+",se,"[",Fe,"]")})});case gN:return $e(function(ce){return j.commandType(ce,"number",Te,Q.commandStr),ce|0},function(ce,_e,se){return j.optional(function(){ce.assert(_e,"typeof "+se+'==="number"',"invalid stencil.mask")}),_e.def(se,"|0")});case m_:return $e(function(ce){j.commandType(ce,"object",Te,Q.commandStr);var _e=ce.cmp||"keep",se=ce.ref||0,Fe="mask"in ce?ce.mask:-1;return j.commandParameter(_e,Hd,Le+".cmp",Q.commandStr),j.commandType(se,"number",Le+".ref",Q.commandStr),j.commandType(Fe,"number",Le+".mask",Q.commandStr),[Hd[_e],se,Fe]},function(ce,_e,se){var Fe=ce.constants.compareFuncs;j.optional(function(){function dt(){ce.assert(_e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}dt(se+"&&typeof ",se,'==="object"'),dt('!("cmp" in ',se,")||(",se,".cmp in ",Fe,")")});var Xe=_e.def('"cmp" in ',se,"?",Fe,"[",se,".cmp]",":",$u),gt=_e.def(se,".ref|0"),bt=_e.def('"mask" in ',se,"?",se,".mask|0:-1");return[Xe,gt,bt]});case y_:case Zv:return $e(function(ce){j.commandType(ce,"object",Te,Q.commandStr);var _e=ce.fail||"keep",se=ce.zfail||"keep",Fe=ce.zpass||"keep";return j.commandParameter(_e,Bu,Le+".fail",Q.commandStr),j.commandParameter(se,Bu,Le+".zfail",Q.commandStr),j.commandParameter(Fe,Bu,Le+".zpass",Q.commandStr),[Le===Zv?lf:sp,Bu[_e],Bu[se],Bu[Fe]]},function(ce,_e,se){var Fe=ce.constants.stencilOps;j.optional(function(){ce.assert(_e,se+"&&typeof "+se+'==="object"',"invalid "+Le)});function Xe(gt){return j.optional(function(){ce.assert(_e,'!("'+gt+'" in '+se+")||("+se+"."+gt+" in "+Fe+")","invalid "+Le+"."+gt+", must be one of "+Object.keys(Bu))}),_e.def('"',gt,'" in ',se,"?",Fe,"[",se,".",gt,"]:",$u)}return[Le===Zv?lf:sp,Xe("fail"),Xe("zfail"),Xe("zpass")]});case p_:return $e(function(ce){j.commandType(ce,"object",Te,Q.commandStr);var _e=ce.factor|0,se=ce.units|0;return j.commandType(_e,"number",Te+".factor",Q.commandStr),j.commandType(se,"number",Te+".units",Q.commandStr),[_e,se]},function(ce,_e,se){j.optional(function(){ce.assert(_e,se+"&&typeof "+se+'==="object"',"invalid "+Le)});var Fe=_e.def(se,".factor|0"),Xe=_e.def(se,".units|0");return[Fe,Xe]});case fN:return $e(function(ce){var _e=0;return ce==="front"?_e=sp:ce==="back"&&(_e=lf),j.command(!!_e,Te,Q.commandStr),_e},function(ce,_e,se){return j.optional(function(){ce.assert(_e,se+'==="front"||'+se+'==="back"',"invalid cull.face")}),_e.def(se,'==="front"?',sp,":",lf)});case v_:return $e(function(ce){return j.command(typeof ce=="number"&&ce>=rt.lineWidthDims[0]&&ce<=rt.lineWidthDims[1],"invalid line width, must be a positive number between "+rt.lineWidthDims[0]+" and "+rt.lineWidthDims[1],Q.commandStr),ce},function(ce,_e,se){return j.optional(function(){ce.assert(_e,"typeof "+se+'==="number"&&'+se+">="+rt.lineWidthDims[0]+"&&"+se+"<="+rt.lineWidthDims[1],"invalid line width")}),se});case h_:return $e(function(ce){return j.commandParameter(ce,C_,Te,Q.commandStr),C_[ce]},function(ce,_e,se){return j.optional(function(){ce.assert(_e,se+'==="cw"||'+se+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),_e.def(se+'==="cw"?'+xN+":"+S_)});case d_:return $e(function(ce){return j.command(sa(ce)&&ce.length===4,"color.mask must be length 4 array",Q.commandStr),ce.map(function(_e){return!!_e})},function(ce,_e,se){return j.optional(function(){ce.assert(_e,ce.shared.isArrayLike+"("+se+")&&"+se+".length===4","invalid color.mask")}),ra(4,function(Fe){return"!!"+se+"["+Fe+"]"})});case g_:return $e(function(ce){j.command(typeof ce=="object"&&ce,Te,Q.commandStr);var _e="value"in ce?ce.value:1,se=!!ce.invert;return j.command(typeof _e=="number"&&_e>=0&&_e<=1,"sample.coverage.value must be a number between 0 and 1",Q.commandStr),[_e,se]},function(ce,_e,se){j.optional(function(){ce.assert(_e,se+"&&typeof "+se+'==="object"',"invalid sample.coverage")});var Fe=_e.def('"value" in ',se,"?+",se,".value:1"),Xe=_e.def("!!",se,".invert");return[Fe,Xe]})}}),Ke}function Oa(ue,Q){var Se=ue.static,je=ue.dynamic,Ke={};return Object.keys(Se).forEach(function(Le){var Te=Se[Le],$e;if(typeof Te=="number"||typeof Te=="boolean")$e=ha(function(){return Te});else if(typeof Te=="function"){var ce=Te._reglType;ce==="texture2d"||ce==="textureCube"?$e=ha(function(_e){return _e.link(Te)}):ce==="framebuffer"||ce==="framebufferCube"?(j.command(Te.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Le+'"',Q.commandStr),$e=ha(function(_e){return _e.link(Te.color[0])})):j.commandRaise('invalid data for uniform "'+Le+'"',Q.commandStr)}else sa(Te)?$e=ha(function(_e){var se=_e.global.def("[",ra(Te.length,function(Fe){return j.command(typeof Te[Fe]=="number"||typeof Te[Fe]=="boolean","invalid uniform "+Le,_e.commandStr),Te[Fe]}),"]");return se}):j.commandRaise('invalid or missing data for uniform "'+Le+'"',Q.commandStr);$e.value=Te,Ke[Le]=$e}),Object.keys(je).forEach(function(Le){var Te=je[Le];Ke[Le]=Ki(Te,function($e,ce){return $e.invoke(ce,Te)})}),Ke}function an(ue,Q){var Se=ue.static,je=ue.dynamic,Ke={};return Object.keys(Se).forEach(function(Le){var Te=Se[Le],$e=ne.id(Le),ce=new We;if(Ym(Te))ce.state=jd,ce.buffer=yt.getBuffer(yt.create(Te,Wd,!1,!0)),ce.type=0;else{var _e=yt.getBuffer(Te);if(_e)ce.state=jd,ce.buffer=_e,ce.type=0;else if(j.command(typeof Te=="object"&&Te,"invalid data for attribute "+Le,Q.commandStr),"constant"in Te){var se=Te.constant;ce.buffer="null",ce.state=i_,typeof se=="number"?ce.x=se:(j.command(sa(se)&&se.length>0&&se.length<=4,"invalid constant for attribute "+Le,Q.commandStr),Gd.forEach(function(fr,Kr){Kr<se.length&&(ce[fr]=se[Kr])}))}else{Ym(Te.buffer)?_e=yt.getBuffer(yt.create(Te.buffer,Wd,!1,!0)):_e=yt.getBuffer(Te.buffer),j.command(!!_e,'missing buffer for attribute "'+Le+'"',Q.commandStr);var Fe=Te.offset|0;j.command(Fe>=0,'invalid offset for attribute "'+Le+'"',Q.commandStr);var Xe=Te.stride|0;j.command(Xe>=0&&Xe<256,'invalid stride for attribute "'+Le+'", must be integer betweeen [0, 255]',Q.commandStr);var gt=Te.size|0;j.command(!("size"in Te)||gt>0&&gt<=4,'invalid size for attribute "'+Le+'", must be 1,2,3,4',Q.commandStr);var bt=!!Te.normalized,dt=0;"type"in Te&&(j.commandParameter(Te.type,Qc,"invalid type for attribute "+Le,Q.commandStr),dt=Qc[Te.type]);var Nt=Te.divisor|0;"divisor"in Te&&(j.command(Nt===0||Pt,'cannot specify divisor for attribute "'+Le+'", instancing not supported',Q.commandStr),j.command(Nt>=0,'invalid divisor for attribute "'+Le+'"',Q.commandStr)),j.optional(function(){var fr=Q.commandStr,Kr=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Te).forEach(function(sr){j.command(Kr.indexOf(sr)>=0,'unknown parameter "'+sr+'" for attribute pointer "'+Le+'" (valid parameters are '+Kr+")",fr)})}),ce.buffer=_e,ce.state=jd,ce.size=gt,ce.normalized=bt,ce.type=dt||_e.dtype,ce.offset=Fe,ce.stride=Xe,ce.divisor=Nt}}Ke[Le]=ha(function(fr,Kr){var sr=fr.attribCache;if($e in sr)return sr[$e];var Ir={isStream:!1};return Object.keys(ce).forEach(function(Vr){Ir[Vr]=ce[Vr]}),ce.buffer&&(Ir.buffer=fr.link(ce.buffer),Ir.type=Ir.type||Ir.buffer+".dtype"),sr[$e]=Ir,Ir})}),Object.keys(je).forEach(function(Le){var Te=je[Le];function $e(ce,_e){var se=ce.invoke(_e,Te),Fe=ce.shared,Xe=ce.constants,gt=Fe.isBufferArgs,bt=Fe.buffer;j.optional(function(){ce.assert(_e,se+"&&(typeof "+se+'==="object"||typeof '+se+'==="function")&&('+gt+"("+se+")||"+bt+".getBuffer("+se+")||"+bt+".getBuffer("+se+".buffer)||"+gt+"("+se+'.buffer)||("constant" in '+se+"&&(typeof "+se+'.constant==="number"||'+Fe.isArrayLike+"("+se+".constant))))",'invalid dynamic attribute "'+Le+'"')});var dt={isStream:_e.def(!1)},Nt=new We;Nt.state=jd,Object.keys(Nt).forEach(function(Ir){dt[Ir]=_e.def(""+Nt[Ir])});var fr=dt.buffer,Kr=dt.type;_e("if(",gt,"(",se,")){",dt.isStream,"=true;",fr,"=",bt,".createStream(",Wd,",",se,");",Kr,"=",fr,".dtype;","}else{",fr,"=",bt,".getBuffer(",se,");","if(",fr,"){",Kr,"=",fr,".dtype;",'}else if("constant" in ',se,"){",dt.state,"=",i_,";","if(typeof "+se+'.constant === "number"){',dt[Gd[0]],"=",se,".constant;",Gd.slice(1).map(function(Ir){return dt[Ir]}).join("="),"=0;","}else{",Gd.map(function(Ir,Vr){return dt[Ir]+"="+se+".constant.length>"+Vr+"?"+se+".constant["+Vr+"]:0;"}).join(""),"}}else{","if(",gt,"(",se,".buffer)){",fr,"=",bt,".createStream(",Wd,",",se,".buffer);","}else{",fr,"=",bt,".getBuffer(",se,".buffer);","}",Kr,'="type" in ',se,"?",Xe.glTypes,"[",se,".type]:",fr,".dtype;",dt.normalized,"=!!",se,".normalized;");function sr(Ir){_e(dt[Ir],"=",se,".",Ir,"|0;")}return sr("size"),sr("offset"),sr("stride"),sr("divisor"),_e("}}"),_e.exit("if(",dt.isStream,"){",bt,".destroyStream(",fr,");","}"),dt}Ke[Le]=Ki(Te,$e)}),Ke}function _a(ue,Q){var Se=ue.static,je=ue.dynamic;if(tp in Se){var Ke=Se[tp];return Ke!==null&&Dt.getVAO(Ke)===null&&(Ke=Dt.createVAO(Ke)),ha(function(Te){return Te.link(Dt.getVAO(Ke))})}else if(tp in je){var Le=je[tp];return Ki(Le,function(Te,$e){var ce=Te.invoke($e,Le);return $e.def(Te.shared.vao+".getVAO("+ce+")")})}return null}function $n(ue){var Q=ue.static,Se=ue.dynamic,je={};return Object.keys(Q).forEach(function(Ke){var Le=Q[Ke];je[Ke]=ha(function(Te,$e){return typeof Le=="number"||typeof Le=="boolean"?""+Le:Te.link(Le)})}),Object.keys(Se).forEach(function(Ke){var Le=Se[Ke];je[Ke]=Ki(Le,function(Te,$e){return Te.invoke($e,Le)})}),je}function pa(ue,Q,Se,je,Ke){var Le=ue.static,Te=ue.dynamic;j.optional(function(){var sr=[nf,Jv,ep,af,of,Rm,sf,$m,Qv,tp].concat(Ct);function Ir(Vr){Object.keys(Vr).forEach(function(wn){j.command(sr.indexOf(wn)>=0,'unknown parameter "'+wn+'"',Ke.commandStr)})}Ir(Le),Ir(Te)});var $e=Gr(ue,Q),ce=or(ue),_e=Jr(ue,ce,Ke),se=bn(ue,Ke),Fe=va(ue,Ke),Xe=Qr(ue,Ke,$e);function gt(sr){var Ir=_e[sr];Ir&&(Fe[sr]=Ir)}gt(Gl),gt(Vt(Dm));var bt=Object.keys(Fe).length>0,dt={framebuffer:ce,draw:se,shader:Xe,state:Fe,dirty:bt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(dt.profile=Hr(ue),dt.uniforms=Oa(Se,Ke),dt.drawVAO=dt.scopeVAO=_a(ue),!dt.drawVAO&&Xe.program&&!$e&&ye.angle_instanced_arrays){var Nt=!0,fr=Xe.program.attributes.map(function(sr){var Ir=Q.static[sr];return Nt=Nt&&!!Ir,Ir});if(Nt&&fr.length>0){var Kr=Dt.getVAO(Dt.createVAO(fr));dt.drawVAO=new Ni(null,null,null,function(sr,Ir){return sr.link(Kr)}),dt.useVAO=!0}}return $e?dt.useVAO=!0:dt.attributes=an(Q,Ke),dt.context=$n(je),dt}function xa(ue,Q,Se){var je=ue.shared,Ke=je.context,Le=ue.scope();Object.keys(Se).forEach(function(Te){Q.save(Ke,"."+Te);var $e=Se[Te],ce=$e.append(ue,Q);Array.isArray(ce)?Le(Ke,".",Te,"=[",ce.join(),"];"):Le(Ke,".",Te,"=",ce,";")}),Q(Le)}function Sa(ue,Q,Se,je){var Ke=ue.shared,Le=Ke.gl,Te=Ke.framebuffer,$e;Xt&&($e=Q.def(Ke.extensions,".webgl_draw_buffers"));var ce=ue.constants,_e=ce.drawBuffer,se=ce.backBuffer,Fe;Se?Fe=Se.append(ue,Q):Fe=Q.def(Te,".next"),je||Q("if(",Fe,"!==",Te,".cur){"),Q("if(",Fe,"){",Le,".bindFramebuffer(",TN,",",Fe,".framebuffer);"),Xt&&Q($e,".drawBuffersWEBGL(",_e,"[",Fe,".colorAttachments.length]);"),Q("}else{",Le,".bindFramebuffer(",TN,",null);"),Xt&&Q($e,".drawBuffersWEBGL(",se,");"),Q("}",Te,".cur=",Fe,";"),je||Q("}")}function $a(ue,Q,Se){var je=ue.shared,Ke=je.gl,Le=ue.current,Te=ue.next,$e=je.current,ce=je.next,_e=ue.cond($e,".dirty");Ct.forEach(function(se){var Fe=Vt(se);if(!(Fe in Se.state)){var Xe,gt;if(Fe in Te){Xe=Te[Fe],gt=Le[Fe];var bt=ra(xt[Fe].length,function(Nt){return _e.def(Xe,"[",Nt,"]")});_e(ue.cond(bt.map(function(Nt,fr){return Nt+"!=="+gt+"["+fr+"]"}).join("||")).then(Ke,".",St[Fe],"(",bt,");",bt.map(function(Nt,fr){return gt+"["+fr+"]="+Nt}).join(";"),";"))}else{Xe=_e.def(ce,".",Fe);var dt=ue.cond(Xe,"!==",$e,".",Fe);_e(dt),Fe in jt?dt(ue.cond(Xe).then(Ke,".enable(",jt[Fe],");").else(Ke,".disable(",jt[Fe],");"),$e,".",Fe,"=",Xe,";"):dt(Ke,".",St[Fe],"(",Xe,");",$e,".",Fe,"=",Xe,";")}}}),Object.keys(Se.state).length===0&&_e($e,".dirty=false;"),Q(_e)}function Ja(ue,Q,Se,je){var Ke=ue.shared,Le=ue.current,Te=Ke.current,$e=Ke.gl;IN(Object.keys(Se)).forEach(function(ce){var _e=Se[ce];if(!(je&&!je(_e))){var se=_e.append(ue,Q);if(jt[ce]){var Fe=jt[ce];Fu(_e)?se?Q($e,".enable(",Fe,");"):Q($e,".disable(",Fe,");"):Q(ue.cond(se).then($e,".enable(",Fe,");").else($e,".disable(",Fe,");")),Q(Te,".",ce,"=",se,";")}else if(sa(se)){var Xe=Le[ce];Q($e,".",St[ce],"(",se,");",se.map(function(gt,bt){return Xe+"["+bt+"]="+gt}).join(";"),";")}else Q($e,".",St[ce],"(",se,");",Te,".",ce,"=",se,";")}})}function la(ue,Q){Pt&&(ue.instancing=Q.def(ue.shared.extensions,".angle_instanced_arrays"))}function Yr(ue,Q,Se,je,Ke){var Le=ue.shared,Te=ue.stats,$e=Le.current,ce=Le.timer,_e=Se.profile;function se(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Fe,Xe;function gt(sr){Fe=Q.def(),sr(Fe,"=",se(),";"),typeof Ke=="string"?sr(Te,".count+=",Ke,";"):sr(Te,".count++;"),Tt&&(je?(Xe=Q.def(),sr(Xe,"=",ce,".getNumPendingQueries();")):sr(ce,".beginQuery(",Te,");"))}function bt(sr){sr(Te,".cpuTime+=",se(),"-",Fe,";"),Tt&&(je?sr(ce,".pushScopeStats(",Xe,",",ce,".getNumPendingQueries(),",Te,");"):sr(ce,".endQuery();"))}function dt(sr){var Ir=Q.def($e,".profile");Q($e,".profile=",sr,";"),Q.exit($e,".profile=",Ir,";")}var Nt;if(_e){if(Fu(_e)){_e.enable?(gt(Q),bt(Q.exit),dt("true")):dt("false");return}Nt=_e.append(ue,Q),dt(Nt)}else Nt=Q.def($e,".profile");var fr=ue.block();gt(fr),Q("if(",Nt,"){",fr,"}");var Kr=ue.block();bt(Kr),Q.exit("if(",Nt,"){",Kr,"}")}function ei(ue,Q,Se,je,Ke){var Le=ue.shared;function Te(ce){switch(ce){case Bm:case Gm:case Um:return 2;case Fm:case jm:case Wm:return 3;case zm:case Vm:case Hm:return 4;default:return 1}}function $e(ce,_e,se){var Fe=Le.gl,Xe=Q.def(ce,".location"),gt=Q.def(Le.attributes,"[",Xe,"]"),bt=se.state,dt=se.buffer,Nt=[se.x,se.y,se.z,se.w],fr=["buffer","normalized","offset","stride"];function Kr(){Q("if(!",gt,".buffer){",Fe,".enableVertexAttribArray(",Xe,");}");var Ir=se.type,Vr;if(se.size?Vr=Q.def(se.size,"||",_e):Vr=_e,Q("if(",gt,".type!==",Ir,"||",gt,".size!==",Vr,"||",fr.map(function(aa){return gt+"."+aa+"!=="+se[aa]}).join("||"),"){",Fe,".bindBuffer(",Wd,",",dt,".buffer);",Fe,".vertexAttribPointer(",[Xe,Vr,Ir,se.normalized,se.stride,se.offset],");",gt,".type=",Ir,";",gt,".size=",Vr,";",fr.map(function(aa){return gt+"."+aa+"="+se[aa]+";"}).join(""),"}"),Pt){var wn=se.divisor;Q("if(",gt,".divisor!==",wn,"){",ue.instancing,".vertexAttribDivisorANGLE(",[Xe,wn],");",gt,".divisor=",wn,";}")}}function sr(){Q("if(",gt,".buffer){",Fe,".disableVertexAttribArray(",Xe,");",gt,".buffer=null;","}if(",Gd.map(function(Ir,Vr){return gt+"."+Ir+"!=="+Nt[Vr]}).join("||"),"){",Fe,".vertexAttrib4f(",Xe,",",Nt,");",Gd.map(function(Ir,Vr){return gt+"."+Ir+"="+Nt[Vr]+";"}).join(""),"}")}bt===jd?Kr():bt===i_?sr():(Q("if(",bt,"===",jd,"){"),Kr(),Q("}else{"),sr(),Q("}"))}je.forEach(function(ce){var _e=ce.name,se=Se.attributes[_e],Fe;if(se){if(!Ke(se))return;Fe=se.append(ue,Q)}else{if(!Ke(ON))return;var Xe=ue.scopeAttrib(_e);j.optional(function(){ue.assert(Q,Xe+".state","missing attribute "+_e)}),Fe={},Object.keys(new We).forEach(function(gt){Fe[gt]=Q.def(Xe,".",gt)})}$e(ue.link(ce),Te(ce.info.type),Fe)})}function Mn(ue,Q,Se,je,Ke){for(var Le=ue.shared,Te=Le.gl,$e,ce=0;ce<je.length;++ce){var _e=je[ce],se=_e.name,Fe=_e.info.type,Xe=Se.uniforms[se],gt=ue.link(_e),bt=gt+".location",dt;if(Xe){if(!Ke(Xe))continue;if(Fu(Xe)){var Nt=Xe.value;if(j.command(Nt!==null&&typeof Nt<"u",'missing uniform "'+se+'"',ue.commandStr),Fe===ip||Fe===op){j.command(typeof Nt=="function"&&(Fe===ip&&(Nt._reglType==="texture2d"||Nt._reglType==="framebuffer")||Fe===op&&(Nt._reglType==="textureCube"||Nt._reglType==="framebufferCube")),"invalid texture for uniform "+se,ue.commandStr);var fr=ue.link(Nt._texture||Nt.color[0]._texture);Q(Te,".uniform1i(",bt,",",fr+".bind());"),Q.exit(fr,".unbind();")}else if(Fe===rp||Fe===np||Fe===ap){j.optional(function(){j.command(sa(Nt),"invalid matrix for uniform "+se,ue.commandStr),j.command(Fe===rp&&Nt.length===4||Fe===np&&Nt.length===9||Fe===ap&&Nt.length===16,"invalid length for matrix uniform "+se,ue.commandStr)});var Kr=ue.global.def("new Float32Array(["+Array.prototype.slice.call(Nt)+"])"),sr=2;Fe===np?sr=3:Fe===ap&&(sr=4),Q(Te,".uniformMatrix",sr,"fv(",bt,",false,",Kr,");")}else{switch(Fe){case E_:j.commandType(Nt,"number","uniform "+se,ue.commandStr),$e="1f";break;case Bm:j.command(sa(Nt)&&Nt.length===2,"uniform "+se,ue.commandStr),$e="2f";break;case Fm:j.command(sa(Nt)&&Nt.length===3,"uniform "+se,ue.commandStr),$e="3f";break;case zm:j.command(sa(Nt)&&Nt.length===4,"uniform "+se,ue.commandStr),$e="4f";break;case x_:j.commandType(Nt,"boolean","uniform "+se,ue.commandStr),$e="1i";break;case __:j.commandType(Nt,"number","uniform "+se,ue.commandStr),$e="1i";break;case Um:j.command(sa(Nt)&&Nt.length===2,"uniform "+se,ue.commandStr),$e="2i";break;case Gm:j.command(sa(Nt)&&Nt.length===2,"uniform "+se,ue.commandStr),$e="2i";break;case Wm:j.command(sa(Nt)&&Nt.length===3,"uniform "+se,ue.commandStr),$e="3i";break;case jm:j.command(sa(Nt)&&Nt.length===3,"uniform "+se,ue.commandStr),$e="3i";break;case Hm:j.command(sa(Nt)&&Nt.length===4,"uniform "+se,ue.commandStr),$e="4i";break;case Vm:j.command(sa(Nt)&&Nt.length===4,"uniform "+se,ue.commandStr),$e="4i";break}Q(Te,".uniform",$e,"(",bt,",",sa(Nt)?Array.prototype.slice.call(Nt):Nt,");")}continue}else dt=Xe.append(ue,Q)}else{if(!Ke(ON))continue;dt=Q.def(Le.uniforms,"[",ne.id(se),"]")}Fe===ip?(j(!Array.isArray(dt),"must specify a scalar prop for textures"),Q("if(",dt,"&&",dt,'._reglType==="framebuffer"){',dt,"=",dt,".color[0];","}")):Fe===op&&(j(!Array.isArray(dt),"must specify a scalar prop for cube maps"),Q("if(",dt,"&&",dt,'._reglType==="framebufferCube"){',dt,"=",dt,".color[0];","}")),j.optional(function(){function Pi(bs,BN){ue.assert(Q,bs,'bad data or missing for uniform "'+se+'".  '+BN)}function M_(bs){j(!Array.isArray(dt),"must not specify an array type for uniform"),Pi("typeof "+dt+'==="'+bs+'"',"invalid type, expected "+bs)}function Fo(bs,BN){Array.isArray(dt)?j(dt.length===bs,"must have length "+bs):Pi(Le.isArrayLike+"("+dt+")&&"+dt+".length==="+bs,"invalid vector, should have length "+bs,ue.commandStr)}function $N(bs){j(!Array.isArray(dt),"must not specify a value type"),Pi("typeof "+dt+'==="function"&&'+dt+'._reglType==="texture'+(bs===EN?"2d":"Cube")+'"',"invalid texture type",ue.commandStr)}switch(Fe){case __:M_("number");break;case Gm:Fo(2);break;case jm:Fo(3);break;case Vm:Fo(4);break;case E_:M_("number");break;case Bm:Fo(2);break;case Fm:Fo(3);break;case zm:Fo(4);break;case x_:M_("boolean");break;case Um:Fo(2);break;case Wm:Fo(3);break;case Hm:Fo(4);break;case rp:Fo(4);break;case np:Fo(9);break;case ap:Fo(16);break;case ip:$N(EN);break;case op:$N(DQ);break}});var Ir=1;switch(Fe){case ip:case op:var Vr=Q.def(dt,"._texture");Q(Te,".uniform1i(",bt,",",Vr,".bind());"),Q.exit(Vr,".unbind();");continue;case __:case x_:$e="1i";break;case Gm:case Um:$e="2i",Ir=2;break;case jm:case Wm:$e="3i",Ir=3;break;case Vm:case Hm:$e="4i",Ir=4;break;case E_:$e="1f";break;case Bm:$e="2f",Ir=2;break;case Fm:$e="3f",Ir=3;break;case zm:$e="4f",Ir=4;break;case rp:$e="Matrix2fv";break;case np:$e="Matrix3fv";break;case ap:$e="Matrix4fv";break}if(Q(Te,".uniform",$e,"(",bt,","),$e.charAt(0)==="M"){var wn=Math.pow(Fe-rp+2,2),aa=ue.global.def("new Float32Array(",wn,")");Array.isArray(dt)?Q("false,(",ra(wn,function(Pi){return aa+"["+Pi+"]="+dt[Pi]}),",",aa,")"):Q("false,(Array.isArray(",dt,")||",dt," instanceof Float32Array)?",dt,":(",ra(wn,function(Pi){return aa+"["+Pi+"]="+dt+"["+Pi+"]"}),",",aa,")")}else Ir>1?Q(ra(Ir,function(Pi){return Array.isArray(dt)?dt[Pi]:dt+"["+Pi+"]"})):(j(!Array.isArray(dt),"uniform value must not be an array"),Q(dt));Q(");")}}function Tr(ue,Q,Se,je){var Ke=ue.shared,Le=Ke.gl,Te=Ke.draw,$e=je.draw;function ce(){var Vr=$e.elements,wn,aa=Q;return Vr?((Vr.contextDep&&je.contextDynamic||Vr.propDep)&&(aa=Se),wn=Vr.append(ue,aa)):wn=aa.def(Te,".",af),wn&&aa("if("+wn+")"+Le+".bindBuffer("+LQ+","+wn+".buffer.buffer);"),wn}function _e(){var Vr=$e.count,wn,aa=Q;return Vr?((Vr.contextDep&&je.contextDynamic||Vr.propDep)&&(aa=Se),wn=Vr.append(ue,aa),j.optional(function(){Vr.MISSING&&ue.assert(Q,"false","missing vertex count"),Vr.DYNAMIC&&ue.assert(aa,wn+">=0","missing vertex count")})):(wn=aa.def(Te,".",sf),j.optional(function(){ue.assert(aa,wn+">=0","missing vertex count")})),wn}var se=ce();function Fe(Vr){var wn=$e[Vr];return wn?wn.contextDep&&je.contextDynamic||wn.propDep?wn.append(ue,Se):wn.append(ue,Q):Q.def(Te,".",Vr)}var Xe=Fe(of),gt=Fe(Rm),bt=_e();if(typeof bt=="number"){if(bt===0)return}else Se("if(",bt,"){"),Se.exit("}");var dt,Nt;Pt&&(dt=Fe($m),Nt=ue.instancing);var fr=se+".type",Kr=$e.elements&&Fu($e.elements);function sr(){function Vr(){Se(Nt,".drawElementsInstancedANGLE(",[Xe,bt,fr,gt+"<<(("+fr+"-"+eN+")>>1)",dt],");")}function wn(){Se(Nt,".drawArraysInstancedANGLE(",[Xe,gt,bt,dt],");")}se?Kr?Vr():(Se("if(",se,"){"),Vr(),Se("}else{"),wn(),Se("}")):wn()}function Ir(){function Vr(){Se(Le+".drawElements("+[Xe,bt,fr,gt+"<<(("+fr+"-"+eN+")>>1)"]+");")}function wn(){Se(Le+".drawArrays("+[Xe,gt,bt]+");")}se?Kr?Vr():(Se("if(",se,"){"),Vr(),Se("}else{"),wn(),Se("}")):wn()}Pt&&(typeof dt!="number"||dt>=0)?typeof dt=="string"?(Se("if(",dt,">0){"),sr(),Se("}else if(",dt,"<0){"),Ir(),Se("}")):sr():Ir()}function rn(ue,Q,Se,je,Ke){var Le=Pr(),Te=Le.proc("body",Ke);return j.optional(function(){Le.commandStr=Q.commandStr,Le.command=Le.link(Q.commandStr)}),Pt&&(Le.instancing=Te.def(Le.shared.extensions,".angle_instanced_arrays")),ue(Le,Te,Se,je),Le.compile().body}function hn(ue,Q,Se,je){la(ue,Q),Se.useVAO?Se.drawVAO?Q(ue.shared.vao,".setVAO(",Se.drawVAO.append(ue,Q),");"):Q(ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"):(Q(ue.shared.vao,".setVAO(null);"),ei(ue,Q,Se,je.attributes,function(){return!0})),Mn(ue,Q,Se,je.uniforms,function(){return!0}),Tr(ue,Q,Q,Se)}function ua(ue,Q){var Se=ue.proc("draw",1);la(ue,Se),xa(ue,Se,Q.context),Sa(ue,Se,Q.framebuffer),$a(ue,Se,Q),Ja(ue,Se,Q.state),Yr(ue,Se,Q,!1,!0);var je=Q.shader.progVar.append(ue,Se);if(Se(ue.shared.gl,".useProgram(",je,".program);"),Q.shader.program)hn(ue,Se,Q,Q.shader.program);else{Se(ue.shared.vao,".setVAO(null);");var Ke=ue.global.def("{}"),Le=Se.def(je,".id"),Te=Se.def(Ke,"[",Le,"]");Se(ue.cond(Te).then(Te,".call(this,a0);").else(Te,"=",Ke,"[",Le,"]=",ue.link(function($e){return rn(hn,ue,Q,$e,1)}),"(",je,");",Te,".call(this,a0);"))}Object.keys(Q.state).length>0&&Se(ue.shared.current,".dirty=true;")}function qs(ue,Q,Se,je){ue.batchId="a1",la(ue,Q);function Ke(){return!0}ei(ue,Q,Se,je.attributes,Ke),Mn(ue,Q,Se,je.uniforms,Ke),Tr(ue,Q,Q,Se)}function uf(ue,Q,Se,je){la(ue,Q);var Ke=Se.contextDep,Le=Q.def(),Te="a0",$e="a1",ce=Q.def();ue.shared.props=ce,ue.batchId=Le;var _e=ue.scope(),se=ue.scope();Q(_e.entry,"for(",Le,"=0;",Le,"<",$e,";++",Le,"){",ce,"=",Te,"[",Le,"];",se,"}",_e.exit);function Fe(fr){return fr.contextDep&&Ke||fr.propDep}function Xe(fr){return!Fe(fr)}if(Se.needsContext&&xa(ue,se,Se.context),Se.needsFramebuffer&&Sa(ue,se,Se.framebuffer),Ja(ue,se,Se.state,Fe),Se.profile&&Fe(Se.profile)&&Yr(ue,se,Se,!1,!0),je)Se.useVAO?Se.drawVAO?Fe(Se.drawVAO)?se(ue.shared.vao,".setVAO(",Se.drawVAO.append(ue,se),");"):_e(ue.shared.vao,".setVAO(",Se.drawVAO.append(ue,_e),");"):_e(ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"):(_e(ue.shared.vao,".setVAO(null);"),ei(ue,_e,Se,je.attributes,Xe),ei(ue,se,Se,je.attributes,Fe)),Mn(ue,_e,Se,je.uniforms,Xe),Mn(ue,se,Se,je.uniforms,Fe),Tr(ue,_e,se,Se);else{var gt=ue.global.def("{}"),bt=Se.shader.progVar.append(ue,se),dt=se.def(bt,".id"),Nt=se.def(gt,"[",dt,"]");se(ue.shared.gl,".useProgram(",bt,".program);","if(!",Nt,"){",Nt,"=",gt,"[",dt,"]=",ue.link(function(fr){return rn(qs,ue,Se,fr,2)}),"(",bt,");}",Nt,".call(this,a0[",Le,"],",Le,");")}}function de(ue,Q){var Se=ue.proc("batch",2);ue.batchId="0",la(ue,Se);var je=!1,Ke=!0;Object.keys(Q.context).forEach(function(gt){je=je||Q.context[gt].propDep}),je||(xa(ue,Se,Q.context),Ke=!1);var Le=Q.framebuffer,Te=!1;Le?(Le.propDep?je=Te=!0:Le.contextDep&&je&&(Te=!0),Te||Sa(ue,Se,Le)):Sa(ue,Se,null),Q.state.viewport&&Q.state.viewport.propDep&&(je=!0);function $e(gt){return gt.contextDep&&je||gt.propDep}$a(ue,Se,Q),Ja(ue,Se,Q.state,function(gt){return!$e(gt)}),(!Q.profile||!$e(Q.profile))&&Yr(ue,Se,Q,!1,"a1"),Q.contextDep=je,Q.needsContext=Ke,Q.needsFramebuffer=Te;var ce=Q.shader.progVar;if(ce.contextDep&&je||ce.propDep)uf(ue,Se,Q,null);else{var _e=ce.append(ue,Se);if(Se(ue.shared.gl,".useProgram(",_e,".program);"),Q.shader.program)uf(ue,Se,Q,Q.shader.program);else{Se(ue.shared.vao,".setVAO(null);");var se=ue.global.def("{}"),Fe=Se.def(_e,".id"),Xe=Se.def(se,"[",Fe,"]");Se(ue.cond(Xe).then(Xe,".call(this,a0,a1);").else(Xe,"=",se,"[",Fe,"]=",ue.link(function(gt){return rn(uf,ue,Q,gt,2)}),"(",_e,");",Xe,".call(this,a0,a1);"))}}Object.keys(Q.state).length>0&&Se(ue.shared.current,".dirty=true;")}function at(ue,Q){var Se=ue.proc("scope",3);ue.batchId="a2";var je=ue.shared,Ke=je.current;xa(ue,Se,Q.context),Q.framebuffer&&Q.framebuffer.append(ue,Se),IN(Object.keys(Q.state)).forEach(function(Te){var $e=Q.state[Te],ce=$e.append(ue,Se);sa(ce)?ce.forEach(function(_e,se){Se.set(ue.next[Te],"["+se+"]",_e)}):Se.set(je.next,"."+Te,ce)}),Yr(ue,Se,Q,!0,!0),[af,Rm,sf,$m,of].forEach(function(Te){var $e=Q.draw[Te];$e&&Se.set(je.draw,"."+Te,""+$e.append(ue,Se))}),Object.keys(Q.uniforms).forEach(function(Te){var $e=Q.uniforms[Te].append(ue,Se);Array.isArray($e)&&($e="["+$e.join()+"]"),Se.set(je.uniforms,"["+ne.id(Te)+"]",$e)}),Object.keys(Q.attributes).forEach(function(Te){var $e=Q.attributes[Te].append(ue,Se),ce=ue.scopeAttrib(Te);Object.keys(new We).forEach(function(_e){Se.set(ce,"."+_e,$e[_e])})}),Q.scopeVAO&&Se.set(je.vao,".targetVAO",Q.scopeVAO.append(ue,Se));function Le(Te){var $e=Q.shader[Te];$e&&Se.set(je.shader,"."+Te,$e.append(ue,Se))}Le(Jv),Le(ep),Object.keys(Q.state).length>0&&(Se(Ke,".dirty=true;"),Se.exit(Ke,".dirty=true;")),Se("a1(",ue.shared.context,",a0,",ue.batchId,");")}function Je(ue){if(!(typeof ue!="object"||sa(ue))){for(var Q=Object.keys(ue),Se=0;Se<Q.length;++Se)if(Re.isDynamic(ue[Q[Se]]))return!0;return!1}}function rr(ue,Q,Se){var je=Q.static[Se];if(!je||!Je(je))return;var Ke=ue.global,Le=Object.keys(je),Te=!1,$e=!1,ce=!1,_e=ue.global.def("{}");Le.forEach(function(Fe){var Xe=je[Fe];if(Re.isDynamic(Xe)){typeof Xe=="function"&&(Xe=je[Fe]=Re.unbox(Xe));var gt=Ki(Xe,null);Te=Te||gt.thisDep,ce=ce||gt.propDep,$e=$e||gt.contextDep}else{switch(Ke(_e,".",Fe,"="),typeof Xe){case"number":Ke(Xe);break;case"string":Ke('"',Xe,'"');break;case"object":Array.isArray(Xe)&&Ke("[",Xe.join(),"]");break;default:Ke(ue.link(Xe));break}Ke(";")}});function se(Fe,Xe){Le.forEach(function(gt){var bt=je[gt];if(Re.isDynamic(bt)){var dt=Fe.invoke(Xe,bt);Xe(_e,".",gt,"=",dt,";")}})}Q.dynamic[Se]=new Re.DynamicVariable(Pm,{thisDep:Te,contextDep:$e,propDep:ce,ref:_e,append:se}),delete Q.static[Se]}function en(ue,Q,Se,je,Ke){var Le=Pr();Le.stats=Le.link(Ke),Object.keys(Q.static).forEach(function($e){rr(Le,Q,$e)}),OQ.forEach(function($e){rr(Le,ue,$e)});var Te=pa(ue,Q,Se,je,Le);return ua(Le,Te),at(Le,Te),de(Le,Te),n(Le.compile(),{destroy:function(){Te.shader.program.destroy()}})}return{next:er,current:xt,procs:function(){var ue=Pr(),Q=ue.proc("poll"),Se=ue.proc("refresh"),je=ue.block();Q(je),Se(je);var Ke=ue.shared,Le=Ke.gl,Te=Ke.next,$e=Ke.current;je($e,".dirty=false;"),Sa(ue,Q),Sa(ue,Se,null,!0);var ce;Pt&&(ce=ue.link(Pt)),ye.oes_vertex_array_object&&Se(ue.link(ye.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var _e=0;_e<rt.maxAttributes;++_e){var se=Se.def(Ke.attributes,"[",_e,"]"),Fe=ue.cond(se,".buffer");Fe.then(Le,".enableVertexAttribArray(",_e,");",Le,".bindBuffer(",Wd,",",se,".buffer.buffer);",Le,".vertexAttribPointer(",_e,",",se,".size,",se,".type,",se,".normalized,",se,".stride,",se,".offset);").else(Le,".disableVertexAttribArray(",_e,");",Le,".vertexAttrib4f(",_e,",",se,".x,",se,".y,",se,".z,",se,".w);",se,".buffer=null;"),Se(Fe),Pt&&Se(ce,".vertexAttribDivisorANGLE(",_e,",",se,".divisor);")}return Se(ue.shared.vao,".currentVAO=null;",ue.shared.vao,".setVAO(",ue.shared.vao,".targetVAO);"),Object.keys(jt).forEach(function(Xe){var gt=jt[Xe],bt=je.def(Te,".",Xe),dt=ue.block();dt("if(",bt,"){",Le,".enable(",gt,")}else{",Le,".disable(",gt,")}",$e,".",Xe,"=",bt,";"),Se(dt),Q("if(",bt,"!==",$e,".",Xe,"){",dt,"}")}),Object.keys(St).forEach(function(Xe){var gt=St[Xe],bt=xt[Xe],dt,Nt,fr=ue.block();if(fr(Le,".",gt,"("),sa(bt)){var Kr=bt.length;dt=ue.global.def(Te,".",Xe),Nt=ue.global.def($e,".",Xe),fr(ra(Kr,function(sr){return dt+"["+sr+"]"}),");",ra(Kr,function(sr){return Nt+"["+sr+"]="+dt+"["+sr+"];"}).join("")),Q("if(",ra(Kr,function(sr){return dt+"["+sr+"]!=="+Nt+"["+sr+"]"}).join("||"),"){",fr,"}")}else dt=je.def(Te,".",Xe),Nt=je.def($e,".",Xe),fr(dt,");",$e,".",Xe,"=",dt,";"),Q("if(",dt,"!==",Nt,"){",fr,"}");Se(fr)}),ue.compile()}(),compile:en}}function ZQ(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var QQ=34918,JQ=34919,LN=35007,eJ=function(V,ne){if(!ne.ext_disjoint_timer_query)return null;var ye=[];function rt(){return ye.pop()||ne.ext_disjoint_timer_query.createQueryEXT()}function yt(Pt){ye.push(Pt)}var et=[];function st(Pt){var Xt=rt();ne.ext_disjoint_timer_query.beginQueryEXT(LN,Xt),et.push(Xt),Tt(et.length-1,et.length,Pt)}function Mt(){ne.ext_disjoint_timer_query.endQueryEXT(LN)}function It(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Dt=[];function Ot(){return Dt.pop()||new It}function Ft(Pt){Dt.push(Pt)}var Wt=[];function Tt(Pt,Xt,xt){var er=Ot();er.startQueryIndex=Pt,er.endQueryIndex=Xt,er.sum=0,er.stats=xt,Wt.push(er)}var Gt=[],We=[];function lt(){var Pt,Xt,xt=et.length;if(xt!==0){We.length=Math.max(We.length,xt+1),Gt.length=Math.max(Gt.length,xt+1),Gt[0]=0,We[0]=0;var er=0;for(Pt=0,Xt=0;Xt<et.length;++Xt){var Ct=et[Xt];ne.ext_disjoint_timer_query.getQueryObjectEXT(Ct,JQ)?(er+=ne.ext_disjoint_timer_query.getQueryObjectEXT(Ct,QQ),yt(Ct)):et[Pt++]=Ct,Gt[Xt+1]=er,We[Xt+1]=Pt}for(et.length=Pt,Pt=0,Xt=0;Xt<Wt.length;++Xt){var jt=Wt[Xt],St=jt.startQueryIndex,Vt=jt.endQueryIndex;jt.sum+=Gt[Vt]-Gt[St];var yr=We[St],Fr=We[Vt];Fr===yr?(jt.stats.gpuTime+=jt.sum/1e6,Ft(jt)):(jt.startQueryIndex=yr,jt.endQueryIndex=Fr,Wt[Pt++]=jt)}Wt.length=Pt}}return{beginQuery:st,endQuery:Mt,pushScopeStats:Tt,update:lt,getNumPendingQueries:function(){return et.length},clear:function(){ye.push.apply(ye,et);for(var Pt=0;Pt<ye.length;Pt++)ne.ext_disjoint_timer_query.deleteQueryEXT(ye[Pt]);et.length=0,ye.length=0},restore:function(){et.length=0,ye.length=0}}},tJ=16384,rJ=256,nJ=1024,aJ=34962,NN="webglcontextlost",PN="webglcontextrestored",DN=1,iJ=2,oJ=3;function RN(V,ne){for(var ye=0;ye<V.length;++ye)if(V[ye]===ne)return ye;return-1}function sJ(V){var ne=Ro(V);if(!ne)return null;var ye=ne.gl,rt=ye.getContextAttributes(),yt=ye.isContextLost(),et=fo(ye,ne);if(!et)return null;var st=wt(),Mt=ZQ(),It=et.extensions,Dt=eJ(ye,It),Ot=Ee(),Ft=ye.drawingBufferWidth,Wt=ye.drawingBufferHeight,Tt={tick:0,time:0,viewportWidth:Ft,viewportHeight:Wt,framebufferWidth:Ft,framebufferHeight:Wt,drawingBufferWidth:Ft,drawingBufferHeight:Wt,pixelRatio:ne.pixelRatio},Gt={},We={elements:null,primitive:4,count:-1,offset:0,instances:-1},lt=Hq(ye,It),Pt=lZ(ye,Mt,ne,xt),Xt=wQ(ye,It,lt,Mt,Pt);function xt(Tr){return Xt.destroyBuffer(Tr)}var er=wZ(ye,It,Pt,Mt),Ct=SQ(ye,st,Mt,ne),jt=ZZ(ye,It,lt,function(){yr.procs.poll()},Tt,Mt,ne),St=QZ(ye,It,lt,Mt,ne),Vt=yQ(ye,It,lt,jt,St,Mt),yr=qQ(ye,st,It,lt,Pt,er,jt,Vt,Gt,Xt,Ct,We,Tt,Dt,ne),Fr=TQ(ye,Vt,yr.procs.poll,Tt,rt,It,lt),Ht=yr.next,Rt=ye.canvas,Et=[],Pr=[],Hr=[],or=[ne.onDestroy],Jr=null;function Gr(){if(Et.length===0){Dt&&Dt.update(),Jr=null;return}Jr=ft.next(Gr),Ja();for(var Tr=Et.length-1;Tr>=0;--Tr){var rn=Et[Tr];rn&&rn(Tt,null,0)}ye.flush(),Dt&&Dt.update()}function Qr(){!Jr&&Et.length>0&&(Jr=ft.next(Gr))}function bn(){Jr&&(ft.cancel(Gr),Jr=null)}function va(Tr){Tr.preventDefault(),yt=!0,bn(),Pr.forEach(function(rn){rn()})}function Oa(Tr){ye.getError(),yt=!1,et.restore(),Ct.restore(),Pt.restore(),jt.restore(),St.restore(),Vt.restore(),Xt.restore(),Dt&&Dt.restore(),yr.procs.refresh(),Qr(),Hr.forEach(function(rn){rn()})}Rt&&(Rt.addEventListener(NN,va,!1),Rt.addEventListener(PN,Oa,!1));function an(){Et.length=0,bn(),Rt&&(Rt.removeEventListener(NN,va),Rt.removeEventListener(PN,Oa)),Ct.clear(),Vt.clear(),St.clear(),jt.clear(),er.clear(),Pt.clear(),Xt.clear(),Dt&&Dt.clear(),or.forEach(function(Tr){Tr()})}function _a(Tr){j(!!Tr,"invalid args to regl({...})"),j.type(Tr,"object","invalid args to regl({...})");function rn(Ke){var Le=n({},Ke);delete Le.uniforms,delete Le.attributes,delete Le.context,delete Le.vao,"stencil"in Le&&Le.stencil.op&&(Le.stencil.opBack=Le.stencil.opFront=Le.stencil.op,delete Le.stencil.op);function Te($e){if($e in Le){var ce=Le[$e];delete Le[$e],Object.keys(ce).forEach(function(_e){Le[$e+"."+_e]=ce[_e]})}}return Te("blend"),Te("depth"),Te("cull"),Te("stencil"),Te("polygonOffset"),Te("scissor"),Te("sample"),"vao"in Ke&&(Le.vao=Ke.vao),Le}function hn(Ke,Le){var Te={},$e={};return Object.keys(Ke).forEach(function(ce){var _e=Ke[ce];if(Re.isDynamic(_e)){$e[ce]=Re.unbox(_e,ce);return}else if(Le&&Array.isArray(_e)){for(var se=0;se<_e.length;++se)if(Re.isDynamic(_e[se])){$e[ce]=Re.unbox(_e,ce);return}}Te[ce]=_e}),{dynamic:$e,static:Te}}var ua=hn(Tr.context||{},!0),qs=hn(Tr.uniforms||{},!0),uf=hn(Tr.attributes||{},!1),de=hn(rn(Tr),!1),at={gpuTime:0,cpuTime:0,count:0},Je=yr.compile(de,uf,qs,ua,at),rr=Je.draw,en=Je.batch,ue=Je.scope,Q=[];function Se(Ke){for(;Q.length<Ke;)Q.push(null);return Q}function je(Ke,Le){var Te;if(yt&&j.raise("context lost"),typeof Ke=="function")return ue.call(this,null,Ke,0);if(typeof Le=="function")if(typeof Ke=="number")for(Te=0;Te<Ke;++Te)ue.call(this,null,Le,Te);else if(Array.isArray(Ke))for(Te=0;Te<Ke.length;++Te)ue.call(this,Ke[Te],Le,Te);else return ue.call(this,Ke,Le,0);else if(typeof Ke=="number"){if(Ke>0)return en.call(this,Se(Ke|0),Ke|0)}else if(Array.isArray(Ke)){if(Ke.length)return en.call(this,Ke,Ke.length)}else return rr.call(this,Ke)}return n(je,{stats:at,destroy:function(){Je.destroy()}})}var $n=Vt.setFBO=_a({framebuffer:Re.define.call(null,DN,"framebuffer")});function pa(Tr,rn){var hn=0;yr.procs.poll();var ua=rn.color;ua&&(ye.clearColor(+ua[0]||0,+ua[1]||0,+ua[2]||0,+ua[3]||0),hn|=tJ),"depth"in rn&&(ye.clearDepth(+rn.depth),hn|=rJ),"stencil"in rn&&(ye.clearStencil(rn.stencil|0),hn|=nJ),j(!!hn,"called regl.clear with no buffer specified"),ye.clear(hn)}function xa(Tr){if(j(typeof Tr=="object"&&Tr,"regl.clear() takes an object as input"),"framebuffer"in Tr)if(Tr.framebuffer&&Tr.framebuffer_reglType==="framebufferCube")for(var rn=0;rn<6;++rn)$n(n({framebuffer:Tr.framebuffer.faces[rn]},Tr),pa);else $n(Tr,pa);else pa(null,Tr)}function Sa(Tr){j.type(Tr,"function","regl.frame() callback must be a function"),Et.push(Tr);function rn(){var hn=RN(Et,Tr);j(hn>=0,"cannot cancel a frame twice");function ua(){var qs=RN(Et,ua);Et[qs]=Et[Et.length-1],Et.length-=1,Et.length<=0&&bn()}Et[hn]=ua}return Qr(),{cancel:rn}}function $a(){var Tr=Ht.viewport,rn=Ht.scissor_box;Tr[0]=Tr[1]=rn[0]=rn[1]=0,Tt.viewportWidth=Tt.framebufferWidth=Tt.drawingBufferWidth=Tr[2]=rn[2]=ye.drawingBufferWidth,Tt.viewportHeight=Tt.framebufferHeight=Tt.drawingBufferHeight=Tr[3]=rn[3]=ye.drawingBufferHeight}function Ja(){Tt.tick+=1,Tt.time=Yr(),$a(),yr.procs.poll()}function la(){jt.refresh(),$a(),yr.procs.refresh(),Dt&&Dt.update()}function Yr(){return(Ee()-Ot)/1e3}la();function ei(Tr,rn){j.type(rn,"function","listener callback must be a function");var hn;switch(Tr){case"frame":return Sa(rn);case"lost":hn=Pr;break;case"restore":hn=Hr;break;case"destroy":hn=or;break;default:j.raise("invalid event, must be one of frame,lost,restore,destroy")}return hn.push(rn),{cancel:function(){for(var ua=0;ua<hn.length;++ua)if(hn[ua]===rn){hn[ua]=hn[hn.length-1],hn.pop();return}}}}var Mn=n(_a,{clear:xa,prop:Re.define.bind(null,DN),context:Re.define.bind(null,iJ),this:Re.define.bind(null,oJ),draw:_a({}),buffer:function(Tr){return Pt.create(Tr,aJ,!1,!1)},elements:function(Tr){return er.create(Tr,!1)},texture:jt.create2D,cube:jt.createCube,renderbuffer:St.create,framebuffer:Vt.create,framebufferCube:Vt.createCube,vao:Xt.createVAO,attributes:rt,frame:Sa,on:ei,limits:lt,hasExtension:function(Tr){return lt.extensions.indexOf(Tr.toLowerCase())>=0},read:Fr,destroy:an,_gl:ye,_refresh:la,poll:function(){Ja(),Dt&&Dt.update()},now:Yr,stats:Mt});return ne.onDone(null,Mn),Mn}return sJ})})(B7);var lIe=B7.exports;const uIe=Ka(lIe);var cIe=function(){function e(t,r){js(this,e),this.attribute=void 0,this.buffer=void 0;var n=r.buffer,a=r.offset,i=r.stride,o=r.normalized,s=r.size,l=r.divisor;this.buffer=n,this.attribute={buffer:n.get(),offset:a||0,stride:i||0,normalized:o||!1,divisor:l||0},s&&(this.attribute.size=s)}return Vs(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(r){this.buffer.subData(r)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),Ul,bp,Wl,Vo,wp,Wu,Ep,zy,el,pf,di,tl,rl,Gy,fIe=(Ul={},Zt(Ul,kt.POINTS,"points"),Zt(Ul,kt.LINES,"lines"),Zt(Ul,kt.LINE_LOOP,"line loop"),Zt(Ul,kt.LINE_STRIP,"line strip"),Zt(Ul,kt.TRIANGLES,"triangles"),Zt(Ul,kt.TRIANGLE_FAN,"triangle fan"),Zt(Ul,kt.TRIANGLE_STRIP,"triangle strip"),Ul),F7=(bp={},Zt(bp,kt.STATIC_DRAW,"static"),Zt(bp,kt.DYNAMIC_DRAW,"dynamic"),Zt(bp,kt.STREAM_DRAW,"stream"),bp),QA=(Wl={},Zt(Wl,kt.BYTE,"int8"),Zt(Wl,kt.UNSIGNED_INT,"int16"),Zt(Wl,kt.INT,"int32"),Zt(Wl,kt.UNSIGNED_BYTE,"uint8"),Zt(Wl,kt.UNSIGNED_SHORT,"uint16"),Zt(Wl,kt.UNSIGNED_INT,"uint32"),Zt(Wl,kt.FLOAT,"float"),Wl),dIe=(Vo={},Zt(Vo,kt.ALPHA,"alpha"),Zt(Vo,kt.LUMINANCE,"luminance"),Zt(Vo,kt.LUMINANCE_ALPHA,"luminance alpha"),Zt(Vo,kt.RGB,"rgb"),Zt(Vo,kt.RGBA,"rgba"),Zt(Vo,kt.RGBA4,"rgba4"),Zt(Vo,kt.RGB5_A1,"rgb5 a1"),Zt(Vo,kt.RGB565,"rgb565"),Zt(Vo,kt.DEPTH_COMPONENT,"depth"),Zt(Vo,kt.DEPTH_STENCIL,"depth stencil"),Vo),hIe=(wp={},Zt(wp,kt.DONT_CARE,"dont care"),Zt(wp,kt.NICEST,"nice"),Zt(wp,kt.FASTEST,"fast"),wp),G$=(Wu={},Zt(Wu,kt.NEAREST,"nearest"),Zt(Wu,kt.LINEAR,"linear"),Zt(Wu,kt.LINEAR_MIPMAP_LINEAR,"mipmap"),Zt(Wu,kt.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Zt(Wu,kt.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Zt(Wu,kt.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Wu),j$=(Ep={},Zt(Ep,kt.REPEAT,"repeat"),Zt(Ep,kt.CLAMP_TO_EDGE,"clamp"),Zt(Ep,kt.MIRRORED_REPEAT,"mirror"),Ep),vIe=(zy={},Zt(zy,kt.NONE,"none"),Zt(zy,kt.BROWSER_DEFAULT_WEBGL,"browser"),zy),pIe=(el={},Zt(el,kt.NEVER,"never"),Zt(el,kt.ALWAYS,"always"),Zt(el,kt.LESS,"less"),Zt(el,kt.LEQUAL,"lequal"),Zt(el,kt.GREATER,"greater"),Zt(el,kt.GEQUAL,"gequal"),Zt(el,kt.EQUAL,"equal"),Zt(el,kt.NOTEQUAL,"notequal"),el),V$=(pf={},Zt(pf,kt.FUNC_ADD,"add"),Zt(pf,kt.MIN_EXT,"min"),Zt(pf,kt.MAX_EXT,"max"),Zt(pf,kt.FUNC_SUBTRACT,"subtract"),Zt(pf,kt.FUNC_REVERSE_SUBTRACT,"reverse subtract"),pf),jy=(di={},Zt(di,kt.ZERO,"zero"),Zt(di,kt.ONE,"one"),Zt(di,kt.SRC_COLOR,"src color"),Zt(di,kt.ONE_MINUS_SRC_COLOR,"one minus src color"),Zt(di,kt.SRC_ALPHA,"src alpha"),Zt(di,kt.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Zt(di,kt.DST_COLOR,"dst color"),Zt(di,kt.ONE_MINUS_DST_COLOR,"one minus dst color"),Zt(di,kt.DST_ALPHA,"dst alpha"),Zt(di,kt.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Zt(di,kt.CONSTANT_COLOR,"constant color"),Zt(di,kt.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Zt(di,kt.CONSTANT_ALPHA,"constant alpha"),Zt(di,kt.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Zt(di,kt.SRC_ALPHA_SATURATE,"src alpha saturate"),di),gIe=(tl={},Zt(tl,kt.NEVER,"never"),Zt(tl,kt.ALWAYS,"always"),Zt(tl,kt.LESS,"less"),Zt(tl,kt.LEQUAL,"lequal"),Zt(tl,kt.GREATER,"greater"),Zt(tl,kt.GEQUAL,"gequal"),Zt(tl,kt.EQUAL,"equal"),Zt(tl,kt.NOTEQUAL,"notequal"),tl),eh=(rl={},Zt(rl,kt.ZERO,"zero"),Zt(rl,kt.KEEP,"keep"),Zt(rl,kt.REPLACE,"replace"),Zt(rl,kt.INVERT,"invert"),Zt(rl,kt.INCR,"increment"),Zt(rl,kt.DECR,"decrement"),Zt(rl,kt.INCR_WRAP,"increment wrap"),Zt(rl,kt.DECR_WRAP,"decrement wrap"),rl),mIe=(Gy={},Zt(Gy,kt.FRONT,"front"),Zt(Gy,kt.BACK,"back"),Gy),yIe=function(){function e(t,r){js(this,e),this.buffer=void 0;var n=r.data,a=r.usage,i=r.type;this.buffer=t.buffer({data:n,usage:F7[a||kt.STATIC_DRAW],type:QA[i||kt.UNSIGNED_BYTE]})}return Vs(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(r){var n=r.data,a=r.offset;this.buffer.subdata(n,a)}}]),e}();function eM(e,t){t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bIe(e){if(Array.isArray(e))return eM(e)}function wIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EIe(e,t){if(e){if(typeof e=="string")return eM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eM(e,t)}}function _Ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xIe(e){return bIe(e)||wIe(e)||EIe(e)||_Ie()}function U$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U$(Object(r),!0).forEach(function(n){Zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var SIe=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,H$=0,CIe=function(){function e(t,r){var n=this;js(this,e),this.reGl=t,this.context=r,this.entity=R7(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var a={};this.context.uniforms.forEach(function(u){var c=u.name,f=u.type,d=u.data,h=u.isReferer,v=u.storageClass;if(v===fv.StorageBuffer){if(h)n.textureCache[c]={data:void 0},a["".concat(c,"Size")]=function(){return d.compiledBundle.context.output.textureSize};else{n.textureCache[c]=n.calcDataTexture(c,f,d);var p=n.textureCache[c],m=p.textureWidth,g=p.isOutput;a["".concat(c,"Size")]=[m,m],g&&(n.outputTextureName=c,n.context.needPingpong&&(n.outputTextureName="".concat(c,"Output"),n.textureCache[n.outputTextureName]=n.calcDataTexture(c,f,d)))}a[c]=function(){return n.textureCache[c].texture}}else if(v===fv.Uniform){if(d&&(Array.isArray(d)||dw(d))&&d.length>16)throw new Error("invalid data type ".concat(f));a[c]=function(){return u.data}}});var i=this.getOuputDataTexture(),o=i.textureWidth,s=i.texelCount;a.u_OutputTextureSize=[o,o],a.u_OutputTexelCount=s,this.context.output.textureSize=[o,o];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:a,vert:SIe,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return Vs(e,[{key:"run",value:function(){var r=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){r.computeCommand()})}},{key:"readData",value:function(){var t=hc(_i.mark(function n(){var a=this,i,o,s,l,u,c,f,d;return _i.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){i=a.reGl.read()}),!i){v.next=6;break}if(o=this.getOuputDataTexture(),s=o.originalDataLength,l=o.elementsPerTexel,u=o.typedArrayConstructor,c=u===void 0?Float32Array:u,f=[],l!==4)for(d=0;d<i.length;d+=4)l===1?f.push(i[d]):l===2?f.push(i[d],i[d+1]):f.push(i[d],i[d+1],i[d+2]);else f=i;return v.abrupt("return",new c(f.slice(0,s)));case 6:return v.abrupt("return",new Float32Array);case 7:case"end":return v.stop()}},n,this)}));function r(){return t.apply(this,arguments)}return r}()},{key:"confirmInput",value:function(r,n){var a;this.entity===r.entity?(this.dynamicPingpong=!0,a=this):a=r,this.textureCache[n].id=a.getOuputDataTexture().id,this.textureCache[n].texture=a.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(r,n){var a=this.context.uniforms.find(function(l){var u=l.name;return u===r});if(a){var i=this.calcDataTexture(r,a.type,n),o=i.texture,s=i.data;this.textureCache[r].data=s,this.textureCache[r].texture=o}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var r=this.context.output.name;this.textureCache[r].id=this.getOuputDataTexture().id,this.textureCache[r].texture=this.getOuputDataTexture().texture}var n=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=n}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var r=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=r}},{key:"cloneDataTexture",value:function(r){var n=r.data,a=r.textureWidth;return W$(W$({},r),{},{id:H$++,texture:this.reGl.texture({width:a,height:a,data:n,type:"float"})})}},{key:"calcDataTexture",value:function(r,n,a){var i=1;n===Qg.Vector4FloatArray&&(i=4);for(var o=[],s=0;s<a.length;s+=i)i===1?o.push(a[s],0,0,0):i===2?o.push(a[s],a[s+1],0,0):i===3?o.push(a[s],a[s+1],a[s+2],0):i===4&&o.push(a[s],a[s+1],a[s+2],a[s+3]);var l=a.length,u=Math.ceil(l/i),c=Math.ceil(Math.sqrt(u)),f=c*c;u<f&&o.push.apply(o,xIe(new Array((f-u)*4).fill(0)));var d=this.reGl.texture({width:c,height:c,data:o,type:"float"});return{id:H$++,data:o,originalDataLength:l,typedArrayConstructor:dw(a)?a.constructor:void 0,textureWidth:c,texture:d,texelCount:u,elementsPerTexel:i,isOutput:r===this.context.output.name}}}]),e}(),MIe=function(){function e(t,r){js(this,e),this.elements=void 0;var n=r.data,a=r.usage,i=r.type,o=r.count;this.elements=t.elements({data:n,usage:F7[a||kt.STATIC_DRAW],type:QA[i||kt.UNSIGNED_BYTE],count:o})}return Vs(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(r){var n=r.data;this.elements.subdata(n)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),TIe=function(){function e(t,r){js(this,e),this.framebuffer=void 0;var n=r.width,a=r.height,i=r.color,o=r.colors;r.depth,r.stencil;var s={width:n,height:a};Array.isArray(o)&&(s.colors=o.map(function(l){return l.get()})),i&&typeof i!="boolean"&&(s.color=i.get()),this.framebuffer=t.framebuffer(s)}return Vs(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(r){var n=r.width,a=r.height;this.framebuffer.resize(n,a)}}]),e}();function kIe(e,t){return function(r){return e(t(r))}}var AIe=kIe,IIe=AIe,OIe=IIe(Object.getPrototypeOf,Object),LIe=OIe,NIe=qA,PIe=LIe,DIe=ZA,RIe="[object Object]",$Ie=Function.prototype,BIe=Object.prototype,z7=$Ie.toString,FIe=BIe.hasOwnProperty,zIe=z7.call(Object);function GIe(e){if(!DIe(e)||NIe(e)!=RIe)return!1;var t=PIe(e);if(t===null)return!0;var r=FIe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&z7.call(r)==zIe}var jIe=GIe;const VIe=Ka(jIe);function $x(e){var t={};return Object.keys(e).forEach(function(r){tM(r,e[r],t,"")}),t}function tM(e,t,r,n){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||dw(t)||t===""||t.resize!==void 0){r["".concat(n&&n+".").concat(e)]=t;return}VIe(t)&&Object.keys(t).forEach(function(a){tM(a,t[a],r,"".concat(n&&n+".").concat(e))}),Array.isArray(t)&&t.forEach(function(a,i){Object.keys(a).forEach(function(o){tM(o,a[o],r,"".concat(n&&n+".").concat(e,"[").concat(i,"]"))})})}function Y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(r),!0).forEach(function(n){Zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var UIe=function(){function e(t,r){js(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var n=r.vs,a=r.fs,i=r.defines,o=r.attributes,s=r.uniforms,l=r.primitive,u=r.count,c=r.elements,f=r.depth,d=r.blend,h=r.stencil,v=r.cull,p=r.instances,m=r.scissor,g=r.viewport,b={};s&&(this.uniforms=$x(s),Object.keys(s).forEach(function(x){b[x]=t.prop(x)}));var y={};Object.keys(o).forEach(function(x){y[x]=o[x].get()});var w=i&&this.generateDefines(i)||"",_={attributes:y,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(w,`
`).concat(a),uniforms:b,vert:`
`.concat(w,`
`).concat(n),primitive:fIe[l===void 0?kt.TRIANGLES:l]};p&&(_.instances=p),u&&(_.count=u),c&&(_.elements=c.get()),m&&(_.scissor=m),g&&(_.viewport=g),this.initDepthDrawParams({depth:f},_),this.initBlendDrawParams({blend:d},_),this.initStencilDrawParams({stencil:h},_),this.initCullDrawParams({cull:v},_),this.drawCommand=t(_)}return Vs(e,[{key:"addUniforms",value:function(r){this.uniforms=th(th({},this.uniforms),$x(r))}},{key:"draw",value:function(r){var n=th(th({},this.uniforms),$x(r.uniforms||{})),a={};Object.keys(n).forEach(function(i){var o=cv(n[i]);o==="boolean"||o==="number"||Array.isArray(n[i])||n[i].BYTES_PER_ELEMENT?a[i]=n[i]:o==="string"||(a[i]=n[i].get())}),this.drawCommand(a)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(r,n){var a=r.depth;a&&(n.depth={enable:a.enable===void 0?!0:!!a.enable,mask:a.mask===void 0?!0:!!a.mask,func:pIe[a.func||kt.LESS],range:a.range||[0,1]})}},{key:"initBlendDrawParams",value:function(r,n){var a=r.blend;if(a){var i=a.enable,o=a.func,s=a.equation,l=a.color,u=l===void 0?[0,0,0,0]:l;n.blend={enable:!!i,func:{srcRGB:jy[o&&o.srcRGB||kt.SRC_ALPHA],srcAlpha:jy[o&&o.srcAlpha||kt.SRC_ALPHA],dstRGB:jy[o&&o.dstRGB||kt.ONE_MINUS_SRC_ALPHA],dstAlpha:jy[o&&o.dstAlpha||kt.ONE_MINUS_SRC_ALPHA]},equation:{rgb:V$[s&&s.rgb||kt.FUNC_ADD],alpha:V$[s&&s.alpha||kt.FUNC_ADD]},color:u}}}},{key:"initStencilDrawParams",value:function(r,n){var a=r.stencil;if(a){var i=a.enable,o=a.mask,s=o===void 0?-1:o,l=a.func,u=l===void 0?{cmp:kt.ALWAYS,ref:0,mask:-1}:l,c=a.opFront,f=c===void 0?{fail:kt.KEEP,zfail:kt.KEEP,zpass:kt.KEEP}:c,d=a.opBack,h=d===void 0?{fail:kt.KEEP,zfail:kt.KEEP,zpass:kt.KEEP}:d;n.stencil={enable:!!i,mask:s,func:th(th({},u),{},{cmp:gIe[u.cmp]}),opFront:{fail:eh[f.fail],zfail:eh[f.zfail],zpass:eh[f.zpass]},opBack:{fail:eh[h.fail],zfail:eh[h.zfail],zpass:eh[h.zpass]}}}}},{key:"initCullDrawParams",value:function(r,n){var a=r.cull;if(a){var i=a.enable,o=a.face,s=o===void 0?kt.BACK:o;n.cull={enable:!!i,face:mIe[s]}}}},{key:"generateDefines",value:function(r){return Object.keys(r).map(function(n){return"#define ".concat(n," ").concat(Number(r[n]))}).join(`
`)}}]),e}(),WIe=function(){function e(t,r){js(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var n=r.data,a=r.type,i=a===void 0?kt.UNSIGNED_BYTE:a,o=r.width,s=r.height,l=r.flipY,u=l===void 0?!1:l,c=r.format,f=c===void 0?kt.RGBA:c,d=r.mipmap,h=d===void 0?!1:d,v=r.wrapS,p=v===void 0?kt.CLAMP_TO_EDGE:v,m=r.wrapT,g=m===void 0?kt.CLAMP_TO_EDGE:m,b=r.aniso,y=b===void 0?0:b,w=r.alignment,_=w===void 0?1:w,x=r.premultiplyAlpha,S=x===void 0?!1:x,C=r.mag,T=C===void 0?kt.NEAREST:C,M=r.min,k=M===void 0?kt.NEAREST:M,A=r.colorSpace,O=A===void 0?kt.BROWSER_DEFAULT_WEBGL:A;this.width=o,this.height=s;var P={width:o,height:s,type:QA[i],format:dIe[f],wrapS:j$[p],wrapT:j$[g],mag:G$[T],min:G$[k],alignment:_,flipY:u,colorSpace:vIe[O],premultiplyAlpha:S,aniso:y};n&&(P.data=n),typeof h=="number"?P.mipmap=hIe[h]:typeof h=="boolean"&&(P.mipmap=h),this.texture=t.texture(P)}return Vs(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(r){var n=r.width,a=r.height;this.texture.resize(n,a),this.width=n,this.height=a}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),HIe=function(){function e(){var t=this;js(this,e),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var r=hc(_i.mark(function n(a){return _i.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!a.uniforms){o.next=3;break}return o.next=3,Promise.all(Object.keys(a.uniforms).map(function(){var s=hc(_i.mark(function l(u){var c;return _i.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(a.uniforms[u]&&a.uniforms[u].load!==void 0)){d.next=5;break}return d.next=3,a.uniforms[u].load();case 3:c=d.sent,a.uniforms[u]=c;case 5:case"end":return d.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()));case 3:return o.abrupt("return",new UIe(t.gl,a));case 4:case"end":return o.stop()}},n)}));return function(n){return r.apply(this,arguments)}}(),this.createAttribute=function(r){return new cIe(t.gl,r)},this.createBuffer=function(r){return new yIe(t.gl,r)},this.createElements=function(r){return new MIe(t.gl,r)},this.createTexture2D=function(r){return new WIe(t.gl,r)},this.createFramebuffer=function(r){return new TIe(t.gl,r)},this.useFramebuffer=function(r,n){t.gl({framebuffer:r?r.get():null})(n)},this.createComputeModel=function(){var r=hc(_i.mark(function n(a){return _i.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new CIe(t.gl,a));case 1:case"end":return o.stop()}},n)}));return function(n){return r.apply(this,arguments)}}(),this.clear=function(r){var n=r.color,a=r.depth,i=r.stencil,o=r.framebuffer,s=o===void 0?null:o,l={color:n,depth:a,stencil:i};l.framebuffer=s===null?s:s.get(),t.gl.clear(l)},this.setScissor=function(r){t.gl&&t.gl._gl&&(r.enable&&r.box?(t.gl._gl.enable(kt.SCISSOR_TEST),t.gl._gl.scissor(r.box.x,r.box.y,r.box.width,r.box.height)):t.gl._gl.disable(kt.SCISSOR_TEST),t.gl._refresh())},this.viewport=function(r){var n=r.x,a=r.y,i=r.width,o=r.height;t.gl&&t.gl._gl&&(t.gl._gl.viewport(n,a,i,o),t.gl._refresh())},this.readPixels=function(r){var n=r.framebuffer,a=r.x,i=r.y,o=r.width,s=r.height,l={x:a,y:i,width:o,height:s};return n&&(l.framebuffer=n.get()),t.gl.read(l)},this.getCanvas=function(){return t.$canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl&&(t.gl.destroy(),t.inited=!1)}}return Vs(e,[{key:"init",value:function(){var t=hc(_i.mark(function n(a){return _i.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.inited){o.next=2;break}return o.abrupt("return");case 2:return this.$canvas=a.canvas,o.next=5,new Promise(function(s,l){uIe({canvas:a.canvas,attributes:{alpha:!0,antialias:a.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(c,f){(c||!f)&&l(c),s(f)}})});case 5:this.gl=o.sent,this.inited=!0;case 7:case"end":return o.stop()}},n,this)}));function r(n){return t.apply(this,arguments)}return r}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),e}(),YIe=function(){function e(){js(this,e),this.engine=void 0,this.configService=new iIe}return Vs(e,[{key:"setConfig",value:function(r){this.configService.set(r)}},{key:"setEngine",value:function(r){this.engine=r}},{key:"createEntity",value:function(){return R7()}},{key:"createKernel",value:function(r){var n=new $7(this.engine,this.configService);return typeof r=="string"?n.setBundle(JSON.parse(r)):n.setBundle(r),n.init(),n}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=new e;return n.setConfig(r),n.setEngine(new HIe),n}}]),e}();const KIe=Object.freeze(Object.defineProperty({__proto__:null,Kernel:$7,World:YIe},Symbol.toStringTag,{value:"Module"})),G7=Nl(KIe);var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.arrayToTextureData=Co.attributesToTextureData=Co.buildTextureDataWithTwoEdgeAttr=Co.buildTextureData=Co.proccessToFunc=void 0;var XIe=da(),hw=ME,qIe=function(e,t){var r;return e?(0,XIe.isNumber)(e)?r=function(){return e}:r=e:r=function(){return t||1},r};Co.proccessToFunc=qIe;var ZIe=function(e,t){var r=[],n=[],a={},i=0;for(i=0;i<e.length;i++){var o=e[i];a[o.id]=i,r.push(o.x),r.push(o.y),r.push(0),r.push(0),n.push([])}for(i=0;i<t.length;i++){var s=t[i],l=(0,hw.getEdgeTerminal)(s,"source"),u=(0,hw.getEdgeTerminal)(s,"target");!isNaN(a[l])&&!isNaN(a[u])&&(n[a[l]].push(a[u]),n[a[u]].push(a[l]))}var c=0;for(i=0;i<e.length;i++){var f=r.length,d=n[i],h=d.length;r[i*4+2]=f,r[i*4+3]=h,c=Math.max(c,h);for(var v=0;v<h;++v){var p=d[v];r.push(+p)}}for(;r.length%4!==0;)r.push(0);return{maxEdgePerVetex:c,array:new Float32Array(r)}};Co.buildTextureData=ZIe;var QIe=function(e,t,r,n){var a=[],i=[],o={},s=0;for(s=0;s<e.length;s++){var l=e[s];o[l.id]=s,a.push(l.x),a.push(l.y),a.push(0),a.push(0),i.push([])}for(s=0;s<t.length;s++){var u=t[s],c=(0,hw.getEdgeTerminal)(u,"source"),f=(0,hw.getEdgeTerminal)(u,"target");i[o[c]].push(o[f]),i[o[c]].push(r(u)),i[o[c]].push(n(u)),i[o[c]].push(0),i[o[f]].push(o[c]),i[o[f]].push(r(u)),i[o[f]].push(n(u)),i[o[f]].push(0)}var d=0;for(s=0;s<e.length;s++){var h=a.length,v=i[s],p=v.length;a[s*4+2]=h+1048576*p/4,a[s*4+3]=0,d=Math.max(d,p/4);for(var m=0;m<p;++m){var g=v[m];a.push(+g)}}for(;a.length%4!==0;)a.push(0);return{maxEdgePerVetex:d,array:new Float32Array(a)}};Co.buildTextureDataWithTwoEdgeAttr=QIe;var JIe=function(e,t){var r=[],n=e.length,a={};return t.forEach(function(i){e.forEach(function(o,s){if(a[i[o]]===void 0&&(a[i[o]]=Object.keys(a).length),r.push(a[i[o]]),s===n-1)for(;r.length%4!==0;)r.push(0)})}),{array:new Float32Array(r),count:Object.keys(a).length}};Co.attributesToTextureData=JIe;var eOe=function(e){for(var t=[],r=e.length,n=e[0].length,a=function(o){e.forEach(function(s,l){if(t.push(s[o]),l===r-1)for(;t.length%4!==0;)t.push(0)})},i=0;i<n;i++)a(i);return new Float32Array(t)};Co.arrayToTextureData=eOe;var ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.clusterBundle=ml.clusterCode=ml.fruchtermanBundle=ml.fruchtermanCode=void 0;ml.fruchtermanCode=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`;ml.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}';ml.clusterCode=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`;ml.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}';var tOe=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vy=ht&&ht.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},Uy=ht&&ht.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(X0,"__esModule",{value:!0});X0.FruchtermanGPULayout=void 0;var rOe=wa,rh=da(),K$=G7,X$=Co,q$=ml,nOe=mu,aOe=function(e){tOe(t,e);function t(r){var n=e.call(this)||this;return n.maxIteration=1e3,n.gravity=10,n.speed=1,n.clustering=!1,n.clusterField="cluster",n.clusterGravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return Vy(this,void 0,void 0,function(){var r,n,a,i,o,s=this;return Uy(this,function(l){switch(l.label){case 0:return r=this,n=r.nodes,!n||n.length===0?(r.onLayoutEnd&&r.onLayoutEnd(),[2]):(!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]),a=r.center,n.length===1?(n[0].x=a[0],n[0].y=a[1],r.onLayoutEnd&&r.onLayoutEnd(),[2]):(i={},o={},n.forEach(function(u,c){(0,rh.isNumber)(u.x)||(u.x=Math.random()*s.width),(0,rh.isNumber)(u.y)||(u.y=Math.random()*s.height),i[u.id]=u,o[u.id]=c}),r.nodeMap=i,r.nodeIdxMap=o,[4,r.run()]));case 1:return l.sent(),[2]}})})},t.prototype.executeWithWorker=function(r,n){return Vy(this,void 0,void 0,function(){var a,i,o,s,l,u=this;return Uy(this,function(c){switch(c.label){case 0:return a=this,i=a.nodes,o=a.center,!i||i.length===0?[2]:i.length===1?(i[0].x=o[0],i[0].y=o[1],[2]):(s={},l={},i.forEach(function(f,d){(0,rh.isNumber)(f.x)||(f.x=Math.random()*u.width),(0,rh.isNumber)(f.y)||(f.y=Math.random()*u.height),s[f.id]=f,l[f.id]=d}),a.nodeMap=s,a.nodeIdxMap=l,[4,a.run(r,n)]);case 1:return c.sent(),[2]}})})},t.prototype.run=function(r,n){return Vy(this,void 0,void 0,function(){var a,i,o,s,l,u,c,f,d,h,v,p,m,g,b,y,w,_,x,S,C,T,M,k,A,O,P=this;return Uy(this,function(R){switch(R.label){case 0:for(a=this,i=a.nodes,o=a.edges,s=a.maxIteration,l=a.center,u=a.height*a.width,c=Math.sqrt(u)/10,f=u/(i.length+1),d=Math.sqrt(f),h=a.speed,v=a.clustering,p=(0,X$.attributesToTextureData)([a.clusterField],i),m=p.array,g=p.count,i.forEach(function(N,L){var B=0,I=0;(0,rh.isNumber)(N.fx)&&(0,rh.isNumber)(N.fy)&&(B=N.fx||.001,I=N.fy||.001),m[4*L+1]=B,m[4*L+2]=I}),b=i.length,y=(0,X$.buildTextureData)(i,o),w=y.maxEdgePerVetex,_=y.array,x=a.workerEnabled,x?S=K$.World.create({canvas:r,engineOptions:{supportCompute:!0}}):S=K$.World.create({engineOptions:{supportCompute:!0}}),C=a.onLayoutEnd,T=[],M=0;M<g;M++)T.push(0,0,0,0);return k=S.createKernel(q$.fruchtermanBundle).setDispatch([b,1,1]).setBinding({u_Data:_,u_K:d,u_K2:f,u_Gravity:a.gravity,u_ClusterGravity:a.clusterGravity||a.gravity||1,u_Speed:h,u_MaxDisplace:c,u_Clustering:v?1:0,u_Center:l,u_AttributeArray:m,u_ClusterCenters:T,MAX_EDGE_PER_VERTEX:w,VERTEX_COUNT:b}),v&&(A=S.createKernel(q$.clusterBundle).setDispatch([g,1,1]).setBinding({u_Data:_,u_NodeAttributes:m,u_ClusterCenters:T,VERTEX_COUNT:b,CLUSTER_COUNT:g})),O=function(){return Vy(P,void 0,void 0,function(){var N,L;return Uy(this,function(B){switch(B.label){case 0:N=0,B.label=1;case 1:return N<s?[4,k.execute()]:[3,6];case 2:return B.sent(),v?(A.setBinding({u_Data:k}),[4,A.execute()]):[3,4];case 3:B.sent(),k.setBinding({u_ClusterCenters:A}),B.label=4;case 4:k.setBinding({u_MaxDisplace:c*=.99}),B.label=5;case 5:return N++,[3,1];case 6:return[4,k.getOutput()];case 7:return L=B.sent(),r?n.postMessage({type:nOe.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:L}):i.forEach(function(I,D){var z=L[4*D],U=L[4*D+1];I.x=z,I.y=U}),C&&C(),[2]}})})},[4,O()];case 1:return R.sent(),[2]}})})},t.prototype.getType=function(){return"fruchterman-gpu"},t}(rOe.Base);X0.FruchtermanGPULayout=aOe;var q0={},yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.aveMovementBundle=yl.aveMovementCode=yl.gForceBundle=yl.gForceCode=void 0;yl.gForceCode=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i 节点的第 p 条边开始的小格子位置
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // 大格子，大格子位置=小个子位置 / 4，
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // 每个节点属性占两个数组中各一格
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`;yl.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}';yl.aveMovementCode=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`;yl.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}';var iOe=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bx=ht&&ht.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},Fx=ht&&ht.__generator||function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(q0,"__esModule",{value:!0});q0.GForceGPULayout=void 0;var oOe=wa,Hl=da(),Z$=G7,Yl=Co,sOe=ME,Q$=yl,lOe=mu,uOe=function(e){iOe(t,e);function t(r){var n=e.call(this)||this;return n.maxIteration=1e3,n.edgeStrength=200,n.nodeStrength=1e3,n.coulombDisScale=.005,n.damping=.9,n.maxSpeed=1e3,n.minMovement=.5,n.interval=.02,n.factor=1,n.linkDistance=1,n.gravity=10,n.workerEnabled=!1,n.nodes=[],n.edges=[],n.width=300,n.height=300,n.nodeMap={},n.nodeIdxMap={},n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},t.prototype.execute=function(){return Bx(this,void 0,void 0,function(){var r,n,a,i,o;return Fx(this,function(s){switch(s.label){case 0:return r=this,n=r.nodes,!n||n.length===0?(r.onLayoutEnd&&r.onLayoutEnd(),[2]):(!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]),a=r.center,n.length===1?(n[0].x=a[0],n[0].y=a[1],r.onLayoutEnd&&r.onLayoutEnd(),[2]):(i={},o={},n.forEach(function(l,u){(0,Hl.isNumber)(l.x)||(l.x=Math.random()*r.width),(0,Hl.isNumber)(l.y)||(l.y=Math.random()*r.height),i[l.id]=l,o[l.id]=u}),r.nodeMap=i,r.nodeIdxMap=o,r.nodeStrength=(0,Yl.proccessToFunc)(r.nodeStrength,1),r.edgeStrength=(0,Yl.proccessToFunc)(r.edgeStrength,1),[4,r.run()]));case 1:return s.sent(),[2]}})})},t.prototype.executeWithWorker=function(r,n){var a=this,i=a.nodes,o=a.center;if(!(!i||i.length===0)){if(i.length===1){i[0].x=o[0],i[0].y=o[1];return}var s={},l={};i.forEach(function(u,c){(0,Hl.isNumber)(u.x)||(u.x=Math.random()*a.width),(0,Hl.isNumber)(u.y)||(u.y=Math.random()*a.height),s[u.id]=u,l[u.id]=c}),a.nodeMap=s,a.nodeIdxMap=l,a.nodeStrength=(0,Yl.proccessToFunc)(a.nodeStrength,1),a.edgeStrength=(0,Yl.proccessToFunc)(a.edgeStrength,1),a.run(r,n)}},t.prototype.run=function(r,n){return Bx(this,void 0,void 0,function(){var a,i,o,s,l,u,c,f,d,h,v,p,m,g,b,y,w,_,x,S,C,T,M,k,A,O,P,R=this;return Fx(this,function(N){switch(N.label){case 0:for(a=this,i=a.nodes,o=a.edges,s=a.maxIteration,!a.width&&typeof window<"u"&&(a.width=window.innerWidth),!a.height&&typeof window<"u"&&(a.height=window.innerHeight),l=i.length,a.linkDistance=(0,Yl.proccessToFunc)(a.linkDistance),a.edgeStrength=(0,Yl.proccessToFunc)(a.edgeStrength),u=(0,Yl.buildTextureDataWithTwoEdgeAttr)(i,o,a.linkDistance,a.edgeStrength),c=u.maxEdgePerVetex,f=u.array,a.degrees=(0,sOe.getDegree)(i.length,a.nodeIdxMap,o).map(function(L){return L.all}),d=[],h=[],v=[],p=[],m=[],g=[],b=[],a.getMass||(a.getMass=function(L){return a.degrees[a.nodeIdxMap[L.id]]||1}),y=a.gravity,w=a.center,i.forEach(function(L,B){d.push(a.getMass(L)),h.push(a.nodeStrength(L)),a.degrees[B]||(a.degrees[B]=0);var I=[w[0],w[1],y];if(a.getCenter){var D=a.getCenter(L,a.degrees[B]);D&&(0,Hl.isNumber)(D[0])&&(0,Hl.isNumber)(D[1])&&(0,Hl.isNumber)(D[2])&&(I=D)}v.push(I[0]),p.push(I[1]),m.push(I[2]),(0,Hl.isNumber)(L.fx)&&(0,Hl.isNumber)(L.fy)?(g.push(L.fx||.001),b.push(L.fy||.001)):(g.push(0),b.push(0))}),_=(0,Yl.arrayToTextureData)([d,a.degrees,h,g]),x=(0,Yl.arrayToTextureData)([v,p,m,b]),S=a.workerEnabled,S?C=Z$.World.create({canvas:r,engineOptions:{supportCompute:!0}}):C=Z$.World.create({engineOptions:{supportCompute:!0}}),T=a.onLayoutEnd,M=[],f.forEach(function(L){M.push(L)}),k=0;k<4;k++)M.push(0);return A=C.createKernel(Q$.gForceBundle).setDispatch([l,1,1]).setBinding({u_Data:f,u_damping:a.damping,u_maxSpeed:a.maxSpeed,u_minMovement:a.minMovement,u_coulombDisScale:a.coulombDisScale,u_factor:a.factor,u_NodeAttributeArray1:_,u_NodeAttributeArray2:x,MAX_EDGE_PER_VERTEX:c,VERTEX_COUNT:l,u_AveMovement:M,u_interval:a.interval}),O=C.createKernel(Q$.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:f,VERTEX_COUNT:l,u_AveMovement:[0,0,0,0]}),P=function(){return Bx(R,void 0,void 0,function(){var L,B,I;return Fx(this,function(D){switch(D.label){case 0:L=0,D.label=1;case 1:return L<s?[4,A.execute()]:[3,5];case 2:return D.sent(),O.setBinding({u_Data:A}),[4,O.execute()];case 3:D.sent(),B=Math.max(.02,a.interval-L*.002),A.setBinding({u_interval:B,u_AveMovement:O}),D.label=4;case 4:return L++,[3,1];case 5:return[4,A.getOutput()];case 6:return I=D.sent(),r?n.postMessage({type:lOe.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:I}):i.forEach(function(z,U){var H=I[4*U],Y=I[4*U+1];z.x=H,z.y=Y}),T&&T(),[2]}})})},[4,P()];case 1:return N.sent(),[2]}})})},t.prototype.getType=function(){return"gForce-gpu"},t}(oOe.Base);q0.GForceGPULayout=uOe;var Z0={},cOe=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Z0,"__esModule",{value:!0});Z0.ComboForceLayout=void 0;var fOe=wa,ln=da(),dOe=function(e){cOe(t,e);function t(r){var n=e.call(this)||this;return n.center=[0,0],n.maxIteration=100,n.gravity=10,n.comboGravity=10,n.linkDistance=10,n.alpha=1,n.alphaMin=.001,n.alphaDecay=1-Math.pow(n.alphaMin,1/300),n.alphaTarget=0,n.velocityDecay=.6,n.edgeStrength=.6,n.nodeStrength=30,n.preventOverlap=!1,n.preventNodeOverlap=!1,n.preventComboOverlap=!1,n.collideStrength=void 0,n.nodeCollideStrength=.5,n.comboCollideStrength=.5,n.comboSpacing=20,n.comboPadding=10,n.optimizeRangeFactor=1,n.onTick=function(){},n.onLayoutEnd=function(){},n.depthAttractiveForceScale=1,n.depthRepulsiveForceScale=2,n.nodes=[],n.edges=[],n.combos=[],n.comboTrees=[],n.width=300,n.height=300,n.bias=[],n.nodeMap={},n.oriComboMap={},n.indexMap={},n.comboMap={},n.previousLayouted=!1,n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},t.prototype.execute=function(){var r=this,n=r.nodes,a=r.center;if(r.comboTree={id:"comboTreeRoot",depth:-1,children:r.comboTrees},!n||n.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(n.length===1){n[0].x=a[0],n[0].y=a[1],r.onLayoutEnd&&r.onLayoutEnd();return}r.initVals(),r.run(),r.onLayoutEnd&&r.onLayoutEnd()},t.prototype.run=function(){var r=this,n=r.nodes,a=r.previousLayouted?r.maxIteration/5:r.maxIteration;!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight);var i=r.center,o=r.velocityDecay,s=r.comboMap;r.previousLayouted||r.initPos(s);for(var l=function(d){var h=[];n.forEach(function(v,p){h[p]={x:0,y:0}}),r.applyCalculate(h),r.applyComboCenterForce(h),n.forEach(function(v,p){!(0,ln.isNumber)(v.x)||!(0,ln.isNumber)(v.y)||(v.x+=h[p].x*o,v.y+=h[p].y*o)}),r.alpha+=(r.alphaTarget-r.alpha)*r.alphaDecay,r.onTick()},u=0;u<a;u++)l();var c=[0,0];n.forEach(function(d){!(0,ln.isNumber)(d.x)||!(0,ln.isNumber)(d.y)||(c[0]+=d.x,c[1]+=d.y)}),c[0]/=n.length,c[1]/=n.length;var f=[i[0]-c[0],i[1]-c[1]];n.forEach(function(d,h){!(0,ln.isNumber)(d.x)||!(0,ln.isNumber)(d.y)||(d.x+=f[0],d.y+=f[1])}),r.combos.forEach(function(d){var h=s[d.id];h&&h.empty&&(d.x=h.cx||d.x,d.y=h.cy||d.y)}),r.previousLayouted=!0},t.prototype.initVals=function(){var r=this,n=r.edges,a=r.nodes,i=r.combos,o={},s={},l={};a.forEach(function(L,B){s[L.id]=L,l[L.id]=B}),r.nodeMap=s,r.indexMap=l;var u={};i.forEach(function(L){u[L.id]=L}),r.oriComboMap=u,r.comboMap=r.getComboMap();var c=r.preventOverlap;r.preventComboOverlap=r.preventComboOverlap||c,r.preventNodeOverlap=r.preventNodeOverlap||c;var f=r.collideStrength;f&&(r.comboCollideStrength=f,r.nodeCollideStrength=f),r.comboCollideStrength=r.comboCollideStrength?r.comboCollideStrength:0,r.nodeCollideStrength=r.nodeCollideStrength?r.nodeCollideStrength:0;for(var d=0;d<n.length;++d){var h=(0,ln.getEdgeTerminal)(n[d],"source"),v=(0,ln.getEdgeTerminal)(n[d],"target");o[h]?o[h]++:o[h]=1,o[v]?o[v]++:o[v]=1}for(var p=[],d=0;d<n.length;++d){var h=(0,ln.getEdgeTerminal)(n[d],"source"),v=(0,ln.getEdgeTerminal)(n[d],"target");p[d]=o[h]/(o[h]+o[v])}this.bias=p;var m=r.nodeSize,g=r.nodeSpacing,b,y;if((0,ln.isNumber)(g)?y=function(){return g}:(0,ln.isFunction)(g)?y=g:y=function(){return 0},this.nodeSpacing=y,!m)b=function(L){if(L.size){if((0,ln.isArray)(L.size)){var B=L.size[0]>L.size[1]?L.size[0]:L.size[1];return B/2}if((0,ln.isObject)(L.size)){var B=L.size.width>L.size.height?L.size.width:L.size.height;return B/2}return L.size/2}return 10};else if((0,ln.isFunction)(m))b=function(L){return m(L)};else if((0,ln.isArray)(m)){var w=m[0]>m[1]?m[0]:m[1],_=w/2;b=function(L){return _}}else{var x=m/2;b=function(L){return x}}this.nodeSize=b;var S=r.comboSpacing,C;(0,ln.isNumber)(S)?C=function(){return S}:(0,ln.isFunction)(S)?C=S:C=function(){return 0},this.comboSpacing=C;var T=r.comboPadding,M;(0,ln.isNumber)(T)?M=function(){return T}:(0,ln.isArray)(T)?M=function(){return Math.max.apply(null,T)}:(0,ln.isFunction)(T)?M=T:M=function(){return 0},this.comboPadding=M;var k=this.linkDistance,A;k||(k=10),(0,ln.isNumber)(k)?A=function(L){return k}:A=k,this.linkDistance=A;var O=this.edgeStrength,P;O||(O=1),(0,ln.isNumber)(O)?P=function(L){return O}:P=O,this.edgeStrength=P;var R=this.nodeStrength,N;R||(R=30),(0,ln.isNumber)(R)?N=function(L){return R}:N=R,this.nodeStrength=N},t.prototype.initPos=function(r){var n=this,a=n.nodes;a.forEach(function(i,o){var s=i.comboId,l=r[s];s&&l?(i.x=l.cx+100/(o+1),i.y=l.cy+100/(o+1)):(i.x=100/(o+1),i.y=100/(o+1))})},t.prototype.getComboMap=function(){var r=this,n=r.nodeMap,a=r.comboTrees,i=r.oriComboMap,o={};return(a||[]).forEach(function(s){var l=[];(0,ln.traverseTreeUp)(s,function(u){if(u.itemType==="node"||!i[u.id])return!0;if(o[u.id]===void 0){var c={id:u.id,name:u.id,cx:0,cy:0,count:0,depth:r.oriComboMap[u.id].depth||0,children:[]};o[u.id]=c}var f=u.children;f&&f.forEach(function(v){if(!o[v.id]&&!n[v.id])return!0;l.push(v)});var d=o[u.id];if(d.cx=0,d.cy=0,l.length===0){d.empty=!0;var h=i[u.id];d.cx=h.x,d.cy=h.y}return l.forEach(function(v){if(d.count++,v.itemType!=="node"){var p=o[v.id];(0,ln.isNumber)(p.cx)&&(d.cx+=p.cx),(0,ln.isNumber)(p.cy)&&(d.cy+=p.cy);return}var m=n[v.id];m&&((0,ln.isNumber)(m.x)&&(d.cx+=m.x),(0,ln.isNumber)(m.y)&&(d.cy+=m.y))}),d.cx/=d.count||1,d.cy/=d.count||1,d.children=l,!0})}),o},t.prototype.applyComboCenterForce=function(r){var n=this,a=n.gravity,i=n.comboGravity||a,o=this.alpha,s=n.comboTrees,l=n.indexMap,u=n.nodeMap,c=n.comboMap;(s||[]).forEach(function(f){(0,ln.traverseTreeUp)(f,function(d){if(d.itemType==="node")return!0;var h=c[d.id];if(!h)return!0;var v=c[d.id],p=(v.depth+1)/10*.5,m=v.cx,g=v.cy;return v.cx=0,v.cy=0,v.children.forEach(function(b){if(b.itemType!=="node"){var y=c[b.id];y&&(0,ln.isNumber)(y.cx)&&(v.cx+=y.cx),y&&(0,ln.isNumber)(y.cy)&&(v.cy+=y.cy);return}var w=u[b.id],_=w.x-m||.005,x=w.y-g||.005,S=Math.sqrt(_*_+x*x),C=l[w.id],T=i*o/S*p;r[C].x-=_*T,r[C].y-=x*T,(0,ln.isNumber)(w.x)&&(v.cx+=w.x),(0,ln.isNumber)(w.y)&&(v.cy+=w.y)}),v.cx/=v.count||1,v.cy/=v.count||1,!0})})},t.prototype.applyCalculate=function(r){var n=this,a=n.comboMap,i=n.nodes,o={};i.forEach(function(l,u){i.forEach(function(c,f){if(!(u<f)){var d=l.x-c.x||.005,h=l.y-c.y||.005,v=d*d+h*h,p=Math.sqrt(v);v<1&&(v=p),o["".concat(l.id,"-").concat(c.id)]={vx:d,vy:h,vl2:v,vl:p},o["".concat(c.id,"-").concat(l.id)]={vl2:v,vl:p,vx:-d,vy:-h}}})}),n.updateComboSizes(a),n.calRepulsive(r,o),n.calAttractive(r,o);var s=n.preventComboOverlap;s&&n.comboNonOverlapping(r,a)},t.prototype.updateComboSizes=function(r){var n=this,a=n.comboTrees,i=n.nodeMap,o=n.nodeSize,s=n.comboSpacing,l=n.comboPadding;(a||[]).forEach(function(u){var c=[];(0,ln.traverseTreeUp)(u,function(f){if(f.itemType==="node")return!0;var d=r[f.id];if(!d)return!1;var h=f.children;h&&h.forEach(function(m){!r[m.id]&&!i[m.id]||c.push(m)}),d.minX=1/0,d.minY=1/0,d.maxX=-1/0,d.maxY=-1/0,c.forEach(function(m){if(m.itemType!=="node")return!0;var g=i[m.id];if(!g)return!0;var b=o(g),y=g.x-b,w=g.y-b,_=g.x+b,x=g.y+b;d.minX>y&&(d.minX=y),d.minY>w&&(d.minY=w),d.maxX<_&&(d.maxX=_),d.maxY<x&&(d.maxY=x)});var v=n.oriComboMap[f.id].size||10;(0,ln.isArray)(v)&&(v=v[0]);var p=Math.max(d.maxX-d.minX,d.maxY-d.minY,v);return d.r=p/2+s(d)/2+l(d),!0})})},t.prototype.comboNonOverlapping=function(r,n){var a=this,i=a.comboTree,o=a.comboCollideStrength,s=a.indexMap,l=a.nodeMap;(0,ln.traverseTreeUp)(i,function(u){if(!n[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")return!1;var c=u.children;return c&&c.length>1&&c.forEach(function(f,d){if(f.itemType==="node")return!1;var h=n[f.id];h&&c.forEach(function(v,p){if(d<=p||v.itemType==="node")return!1;var m=n[v.id];if(!m)return!1;var g=h.cx-m.cx||.005,b=h.cy-m.cy||.005,y=g*g+b*b,w=h.r||1,_=m.r||1,x=w+_,S=_*_,C=w*w;if(y<x*x){var T=f.children;if(!T||T.length===0)return!1;var M=v.children;if(!M||M.length===0)return!1;var k=Math.sqrt(y),A=(x-k)/k*o,O=g*A,P=b*A,R=S/(C+S),N=1-R;T.forEach(function(L){if(L.itemType!=="node")return!1;if(l[L.id]){var B=s[L.id];M.forEach(function(I){if(I.itemType!=="node"||!l[I.id])return!1;var D=s[I.id];r[B].x+=O*R,r[B].y+=P*R,r[D].x-=O*N,r[D].y-=P*N})}})}})}),!0})},t.prototype.calRepulsive=function(r,n){var a=this,i=a.nodes,o=a.width*a.optimizeRangeFactor,s=a.nodeStrength,l=a.alpha,u=a.nodeCollideStrength,c=a.preventNodeOverlap,f=a.nodeSize,d=a.nodeSpacing,h=a.depthRepulsiveForceScale,v=a.center;i.forEach(function(p,m){if(!(!p.x||!p.y)){if(v){var g=a.gravity,b=p.x-v[0]||.005,y=p.y-v[1]||.005,w=Math.sqrt(b*b+y*y);r[m].x-=b*g*l/w,r[m].y-=y*g*l/w}i.forEach(function(_,x){if(m!==x&&!(!_.x||!_.y)){var S=n["".concat(p.id,"-").concat(_.id)],C=S.vl2,T=S.vl;if(!(T>o)){var M=n["".concat(p.id,"-").concat(_.id)],k=M.vx,A=M.vy,O=Math.log(Math.abs(_.depth-p.depth)/10)+1||1;O=O<1?1:O,_.comboId!==p.comboId&&(O+=1);var P=O?Math.pow(h,O):1,R=s(_)*l/C*P;if(r[m].x+=k*R,r[m].y+=A*R,m<x&&c){var N=f(p)+d(p)||1,L=f(_)+d(_)||1,B=N+L;if(C<B*B){var I=(B-T)/T*u,D=L*L,z=D/(N*N+D),U=k*I,H=A*I;r[m].x+=U*z,r[m].y+=H*z,z=1-z,r[x].x-=U*z,r[x].y-=H*z}}}}})}})},t.prototype.calAttractive=function(r,n){var a=this,i=a.edges,o=a.linkDistance,s=a.alpha,l=a.edgeStrength,u=a.bias,c=a.depthAttractiveForceScale;i.forEach(function(f,d){var h=(0,ln.getEdgeTerminal)(f,"source"),v=(0,ln.getEdgeTerminal)(f,"target");if(!(!h||!v||h===v)){var p=a.indexMap[h],m=a.indexMap[v],g=a.nodeMap[h],b=a.nodeMap[v];if(!(!g||!b)){var y=g.depth===b.depth?0:Math.log(Math.abs(g.depth-b.depth)/10);g.comboId===b.comboId&&(y=y/2);var w=y?Math.pow(c,y):1;if(g.comboId!==b.comboId&&w===1?w=c/2:g.comboId===b.comboId&&(w=2),!(!(0,ln.isNumber)(b.x)||!(0,ln.isNumber)(g.x)||!(0,ln.isNumber)(b.y)||!(0,ln.isNumber)(g.y))){var _=n["".concat(v,"-").concat(h)],x=_.vl,S=_.vx,C=_.vy,T=(x-o(f))/x*s*l(f)*w,M=S*T,k=C*T,A=u[d];r[m].x-=M*A,r[m].y-=k*A,r[p].x+=M*(1-A),r[p].y+=k*(1-A)}}}})},t.prototype.getType=function(){return"comboForce"},t}(fOe.Base);Z0.ComboForceLayout=dOe;var _p={},J$;function j7(){if(J$)return _p;J$=1;var e=ht&&ht.__extends||function(){var s=function(l,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},s(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(l,u);function c(){this.constructor=l}l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),t=ht&&ht.__assign||function(){return t=Object.assign||function(s){for(var l,u=1,c=arguments.length;u<c;u++){l=arguments[u];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(s[f]=l[f])}return s},t.apply(this,arguments)};Object.defineProperty(_p,"__esModule",{value:!0}),_p.ComboCombinedLayout=void 0;var r=mu,n=wa,a=da(),i=q7(),o=function(s){e(l,s);function l(u){var c=s.call(this)||this;return c.center=[0,0],c.nodes=[],c.edges=[],c.combos=[],c.comboEdges=[],c.comboPadding=10,c.comboTrees=[],c.updateCfg(u),c}return l.prototype.getDefaultCfg=function(){return{}},l.prototype.execute=function(){var u=this,c=u.nodes,f=u.center;if(!c||c.length===0){u.onLayoutEnd&&u.onLayoutEnd();return}if(c.length===1){c[0].x=f[0],c[0].y=f[1],u.onLayoutEnd&&u.onLayoutEnd();return}u.initVals(),u.run(),u.onLayoutEnd&&u.onLayoutEnd()},l.prototype.run=function(){var u,c=this,f=c.nodes,d=c.edges,h=c.combos,v=c.comboEdges,p=c.center,m={};f.forEach(function(R){m[R.id]=R});var g={};h.forEach(function(R){g[R.id]=R});var b=c.getInnerGraphs(m),y=[],w=[],_={},x=!0;this.comboTrees.forEach(function(R){var N=b[R.id];if(N){var L=t(t({},R),{x:N.x||g[R.id].x,y:N.y||g[R.id].y,fx:N.fx||g[R.id].fx,fy:N.fy||g[R.id].fy,mass:N.mass||g[R.id].mass,size:N.size});w.push(L),!isNaN(L.x)&&L.x!==0&&!isNaN(L.y)&&L.y!==0?x=!1:(L.x=Math.random()*100,L.y=Math.random()*100),y.push(R.id),(0,a.traverseTreeUp)(R,function(B){return B.id!==R.id&&(_[B.id]=R.id),!0})}}),f.forEach(function(R){if(!(R.comboId&&g[R.comboId])){var N=t({},R);w.push(N),!isNaN(N.x)&&N.x!==0&&!isNaN(N.y)&&N.y!==0?x=!1:(N.x=Math.random()*100,N.y=Math.random()*100),y.push(R.id)}});var S=[];if(d.concat(v).forEach(function(R){var N=_[R.source]||R.source,L=_[R.target]||R.target;N!==L&&y.includes(N)&&y.includes(L)&&S.push({source:N,target:L})}),w!=null&&w.length){if(w.length===1)w[0].x=p[0],w[0].y=p[1];else{var C={nodes:w,edges:S},T=this.outerLayout||new i.GForceLayout({gravity:1,factor:4,linkDistance:function(R,N,L){var B,I,D=((((B=N.size)===null||B===void 0?void 0:B[0])||30)+(((I=L.size)===null||I===void 0?void 0:I[0])||30))/2;return Math.min(D*1.5,700)}}),M=(u=T.getType)===null||u===void 0?void 0:u.call(T);if(T.updateCfg({center:p,kg:5,preventOverlap:!0,animate:!1}),x&&r.FORCE_LAYOUT_TYPE_MAP[M]){var k=w.length<100?new i.MDSLayout:new i.GridLayout;k.layout(C)}T.layout(C)}w.forEach(function(R){var N=b[R.id];if(!N){var L=m[R.id];L&&(L.x=R.x,L.y=R.y);return}N.visited=!0,N.x=R.x,N.y=R.y,N.nodes.forEach(function(B){B.x+=R.x,B.y+=R.y})})}for(var A=Object.keys(b),O=function(R){var N=A[R],L=b[N];if(!L)return"continue";L.nodes.forEach(function(B){L.visited||(B.x+=L.x||0,B.y+=L.y||0),m[B.id]&&(m[B.id].x=B.x,m[B.id].y=B.y)}),g[N]&&(g[N].x=L.x,g[N].y=L.y)},P=A.length-1;P>=0;P--)O(P);return{nodes:f,edges:d,combos:h,comboEdges:v}},l.prototype.getInnerGraphs=function(u){var c=this,f=c.comboTrees,d=c.nodeSize,h=c.edges,v=c.comboPadding,p=c.spacing,m={},g=this.innerLayout||new i.ConcentricLayout({type:"concentric",sortBy:"id"});return g.center=[0,0],g.preventOverlap=!0,g.nodeSpacing=p,(f||[]).forEach(function(b){(0,a.traverseTreeUp)(b,function(y){var w,_=(v==null?void 0:v(y))||10;if((0,a.isArray)(_)&&(_=Math.max.apply(Math,_)),!((w=y.children)===null||w===void 0)&&w.length){var S=y.children.map(function(I){if(I.itemType==="combo")return m[I.id];var D=u[I.id]||{};return t(t({},D),I)}),C=S.map(function(I){return I.id}),T={nodes:S,edges:h.filter(function(I){return C.includes(I.source)&&C.includes(I.target)})},M=1/0;S.forEach(function(I){var D;I.size||(I.size=((D=m[I.id])===null||D===void 0?void 0:D.size)||(d==null?void 0:d(I))||[30,30]),(0,a.isNumber)(I.size)&&(I.size=[I.size,I.size]),M>I.size[0]&&(M=I.size[0]),M>I.size[1]&&(M=I.size[1])}),g.layout(T);var k=(0,a.getLayoutBBox)(S),A=k.minX,O=k.minY,P=k.maxX,R=k.maxY,N={x:(P+A)/2,y:(R+O)/2};T.nodes.forEach(function(I){I.x-=N.x,I.y-=N.y});var L=Math.max(P-A,M)+_*2,B=Math.max(R-O,M)+_*2;m[y.id]={id:y.id,nodes:S,size:[L,B]}}else if(y.itemType==="combo"){var x=_?[_*2,_*2]:[30,30];m[y.id]={id:y.id,nodes:[],size:x}}return!0})}),m},l.prototype.initVals=function(){var u=this,c=u.nodeSize,f=u.spacing,d,h;if((0,a.isNumber)(f)?h=function(){return f}:(0,a.isFunction)(f)?h=f:h=function(){return 0},this.spacing=h,!c)d=function(y){var w=h(y);if(y.size){if((0,a.isArray)(y.size)){var _=y.size[0]>y.size[1]?y.size[0]:y.size[1];return(_+w)/2}if((0,a.isObject)(y.size)){var _=y.size.width>y.size.height?y.size.width:y.size.height;return(_+w)/2}return(y.size+w)/2}return 10+w/2};else if((0,a.isFunction)(c))d=function(y){var w=c(y),_=h(y);if((0,a.isArray)(y.size)){var x=y.size[0]>y.size[1]?y.size[0]:y.size[1];return(x+_)/2}return((w||10)+_)/2};else if((0,a.isArray)(c)){var v=c[0]>c[1]?c[0]:c[1],p=v/2;d=function(y){return p+h(y)/2}}else{var m=c/2;d=function(y){return m+h(y)/2}}this.nodeSize=d;var g=u.comboPadding,b;(0,a.isNumber)(g)?b=function(){return g}:(0,a.isArray)(g)?b=function(){return Math.max.apply(null,g)}:(0,a.isFunction)(g)?b=g:b=function(){return 0},this.comboPadding=b},l.prototype.getType=function(){return"comboCombined"},l}(n.Base);return _p.ComboCombinedLayout=o,_p}var Q0={},JA={};Object.defineProperty(JA,"__esModule",{value:!0});var hOe=function(){function e(t){this.id=t.id||0,this.rx=t.rx,this.ry=t.ry,this.fx=0,this.fy=0,this.mass=t.mass,this.degree=t.degree,this.g=t.g||0}return e.prototype.distanceTo=function(t){var r=this.rx-t.rx,n=this.ry-t.ry;return Math.hypot(r,n)},e.prototype.setPos=function(t,r){this.rx=t,this.ry=r},e.prototype.resetForce=function(){this.fx=0,this.fy=0},e.prototype.addForce=function(t){var r=t.rx-this.rx,n=t.ry-this.ry,a=Math.hypot(r,n);a=a<1e-4?1e-4:a;var i=this.g*(this.degree+1)*(t.degree+1)/a;this.fx+=i*r/a,this.fy+=i*n/a},e.prototype.in=function(t){return t.contains(this.rx,this.ry)},e.prototype.add=function(t){var r=this.mass+t.mass,n=(this.rx*this.mass+t.rx*t.mass)/r,a=(this.ry*this.mass+t.ry*t.mass)/r,i=this.degree+t.degree,o={rx:n,ry:a,mass:r,degree:i};return new e(o)},e}();JA.default=hOe;var eI={};Object.defineProperty(eI,"__esModule",{value:!0});var vOe=function(){function e(t){this.xmid=t.xmid,this.ymid=t.ymid,this.length=t.length,this.massCenter=t.massCenter||[0,0],this.mass=t.mass||1}return e.prototype.getLength=function(){return this.length},e.prototype.contains=function(t,r){var n=this.length/2;return t<=this.xmid+n&&t>=this.xmid-n&&r<=this.ymid+n&&r>=this.ymid-n},e.prototype.NW=function(){var t=this.xmid-this.length/4,r=this.ymid+this.length/4,n=this.length/2,a={xmid:t,ymid:r,length:n},i=new e(a);return i},e.prototype.NE=function(){var t=this.xmid+this.length/4,r=this.ymid+this.length/4,n=this.length/2,a={xmid:t,ymid:r,length:n},i=new e(a);return i},e.prototype.SW=function(){var t=this.xmid-this.length/4,r=this.ymid-this.length/4,n=this.length/2,a={xmid:t,ymid:r,length:n},i=new e(a);return i},e.prototype.SE=function(){var t=this.xmid+this.length/4,r=this.ymid-this.length/4,n=this.length/2,a={xmid:t,ymid:r,length:n},i=new e(a);return i},e}();eI.default=vOe;var tI={};Object.defineProperty(tI,"__esModule",{value:!0});var pOe=function(){function e(t){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,t!=null&&(this.quad=t)}return e.prototype.insert=function(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new e(this.quad.NW()),this.NE=new e(this.quad.NE()),this.SW=new e(this.quad.SW()),this.SE=new e(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))},e.prototype._putBody=function(t){this.quad&&(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))},e.prototype._isExternal=function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null},e.prototype.updateForce=function(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{var r=this.quad?this.quad.getLength():0,n=this.body.distanceTo(t);r/n<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}},e}();tI.default=pOe;var gOe=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rI=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.ForceAtlas2Layout=void 0;var mOe=wa,Kl=da(),yOe=rI(JA),bOe=rI(eI),wOe=rI(tI),EOe=function(e){gOe(t,e);function t(r){var n=e.call(this)||this;return n.center=[0,0],n.width=300,n.height=300,n.nodes=[],n.edges=[],n.kr=5,n.kg=1,n.mode="normal",n.preventOverlap=!1,n.dissuadeHubs=!1,n.barnesHut=void 0,n.maxIteration=0,n.ks=.1,n.ksmax=10,n.tao=.1,n.onLayoutEnd=function(){},n.prune=void 0,n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{}},t.prototype.execute=function(){var r=this,n=r.nodes,a=r.onLayoutEnd,i=r.prune,o=r.maxIteration;!r.width&&typeof window<"u"&&(r.width=window.innerWidth),!r.height&&typeof window<"u"&&(r.height=window.innerHeight);for(var s=[],l=n.length,u=0;u<l;u+=1){var c=n[u],f=10,d=10;(0,Kl.isNumber)(c.size)&&(f=c.size,d=c.size),(0,Kl.isArray)(c.size)?(isNaN(c.size[0])||(f=c.size[0]),isNaN(c.size[1])||(d=c.size[1])):(0,Kl.isObject)(c.size)&&(f=c.size.width,d=c.size.height),r.getWidth&&!isNaN(r.getWidth(c))&&(d=r.getWidth(c)),r.getHeight&&!isNaN(r.getHeight(c))&&(f=r.getHeight(c));var h=Math.max(f,d);s.push(h)}r.barnesHut===void 0&&l>250&&(r.barnesHut=!0),r.prune===void 0&&l>100&&(r.prune=!0),this.maxIteration===0&&!r.prune?(o=250,l<=200&&l>100?o=1e3:l>200&&(o=1200),this.maxIteration=o):this.maxIteration===0&&i&&(o=100,l<=200&&l>100?o=500:l>200&&(o=950),this.maxIteration=o),r.kr||(r.kr=50,l>100&&l<=500?r.kr=20:l>500&&(r.kr=1)),r.kg||(r.kg=20,l>100&&l<=500?r.kg=10:l>500&&(r.kg=1)),this.nodes=r.updateNodesByForces(s),a()},t.prototype.updateNodesByForces=function(r){for(var n=this,a=n.edges,i=n.maxIteration,o=n.nodes,s=a.filter(function(S){var C=(0,Kl.getEdgeTerminal)(S,"source"),T=(0,Kl.getEdgeTerminal)(S,"target");return C!==T}),l=o.length,u=s.length,c=[],f={},d={},h=[],v=0;v<l;v+=1)f[o[v].id]=v,c[v]=0,(o[v].x===void 0||isNaN(o[v].x))&&(o[v].x=Math.random()*1e3),(o[v].y===void 0||isNaN(o[v].y))&&(o[v].y=Math.random()*1e3),h.push({x:o[v].x,y:o[v].y});for(var v=0;v<u;v+=1){for(var p=void 0,m=void 0,g=0,b=0,y=0;y<l;y+=1){var w=(0,Kl.getEdgeTerminal)(s[v],"source"),_=(0,Kl.getEdgeTerminal)(s[v],"target");o[y].id===w?(p=o[y],g=y):o[y].id===_&&(m=o[y],b=y),d[v]={sourceIdx:g,targetIdx:b}}p&&(c[f[p.id]]+=1),m&&(c[f[m.id]]+=1)}var x=i;if(o=this.iterate(x,f,d,u,c,r),n.prune){for(var y=0;y<u;y+=1)c[d[y].sourceIdx]<=1?(o[d[y].sourceIdx].x=o[d[y].targetIdx].x,o[d[y].sourceIdx].y=o[d[y].targetIdx].y):c[d[y].targetIdx]<=1&&(o[d[y].targetIdx].x=o[d[y].sourceIdx].x,o[d[y].targetIdx].y=o[d[y].sourceIdx].y);n.prune=!1,n.barnesHut=!1,x=100,o=this.iterate(x,f,d,u,c,r)}return o},t.prototype.iterate=function(r,n,a,i,o,s){for(var l=this,u=l.nodes,c=l.kr,f=l.preventOverlap,d=l.barnesHut,h=u.length,v=0,p=100,m=r,g=50,b=[],y=[],w=[],_=0;_<h;_+=1)if(b[2*_]=0,b[2*_+1]=0,d){var x={id:_,rx:u[_].x,ry:u[_].y,mass:1,g:c,degree:o[_]};w[_]=new yOe.default(x)}for(;m>0;){for(var _=0;_<h;_+=1)y[2*_]=b[2*_],y[2*_+1]=b[2*_+1],b[2*_]=0,b[2*_+1]=0;b=this.getAttrForces(m,g,i,n,a,o,s,b),d&&(f&&m>g||!f)?b=this.getOptRepGraForces(b,w,o):b=this.getRepGraForces(m,g,b,p,s,o);var S=this.updatePos(b,y,v,o);u=S.nodes,v=S.sg,m--,l.tick&&l.tick()}return u},t.prototype.getAttrForces=function(r,n,a,i,o,s,l,u){for(var c=this,f=c.nodes,d=c.preventOverlap,h=c.dissuadeHubs,v=c.mode,p=c.prune,m=0;m<a;m+=1){var g=f[o[m].sourceIdx],b=o[m].sourceIdx,y=f[o[m].targetIdx],w=o[m].targetIdx;if(!(p&&(s[b]<=1||s[w]<=1))){var _=[y.x-g.x,y.y-g.y],x=Math.hypot(_[0],_[1]);x=x<1e-4?1e-4:x,_[0]=_[0]/x,_[1]=_[1]/x,d&&r<n&&(x=x-l[b]-l[w]);var S=x,C=S;v==="linlog"&&(S=Math.log(1+x),C=S),h&&(S=x/s[b],C=x/s[w]),d&&r<n&&x<=0?(S=0,C=0):d&&r<n&&x>0&&(S=x,C=x),u[2*i[g.id]]+=S*_[0],u[2*i[y.id]]-=C*_[0],u[2*i[g.id]+1]+=S*_[1],u[2*i[y.id]+1]-=C*_[1]}}return u},t.prototype.getRepGraForces=function(r,n,a,i,o,s){for(var l=this,u=l.nodes,c=l.preventOverlap,f=l.kr,d=l.kg,h=l.center,v=l.prune,p=u.length,m=0;m<p;m+=1){for(var g=m+1;g<p;g+=1)if(!(v&&(s[m]<=1||s[g]<=1))){var b=[u[g].x-u[m].x,u[g].y-u[m].y],y=Math.hypot(b[0],b[1]);y=y<1e-4?1e-4:y,b[0]=b[0]/y,b[1]=b[1]/y,c&&r<n&&(y=y-o[m]-o[g]);var w=f*(s[m]+1)*(s[g]+1)/y;c&&r<n&&y<0?w=i*(s[m]+1)*(s[g]+1):c&&r<n&&y===0?w=0:c&&r<n&&y>0&&(w=f*(s[m]+1)*(s[g]+1)/y),a[2*m]-=w*b[0],a[2*g]+=w*b[0],a[2*m+1]-=w*b[1],a[2*g+1]+=w*b[1]}var _=[u[m].x-h[0],u[m].y-h[1]],x=Math.hypot(_[0],_[1]);_[0]=_[0]/x,_[1]=_[1]/x;var S=d*(s[m]+1);a[2*m]-=S*_[0],a[2*m+1]-=S*_[1]}return a},t.prototype.getOptRepGraForces=function(r,n,a){for(var i=this,o=i.nodes,s=i.kg,l=i.center,u=i.prune,c=o.length,f=9e10,d=-9e10,h=9e10,v=-9e10,p=0;p<c;p+=1)u&&a[p]<=1||(n[p].setPos(o[p].x,o[p].y),o[p].x>=d&&(d=o[p].x),o[p].x<=f&&(f=o[p].x),o[p].y>=v&&(v=o[p].y),o[p].y<=h&&(h=o[p].y));for(var m=Math.max(d-f,v-h),g={xmid:(d+f)/2,ymid:(v+h)/2,length:m,massCenter:l,mass:c},b=new bOe.default(g),y=new wOe.default(b),p=0;p<c;p+=1)u&&a[p]<=1||n[p].in(b)&&y.insert(n[p]);for(var p=0;p<c;p+=1)if(!(u&&a[p]<=1)){n[p].resetForce(),y.updateForce(n[p]),r[2*p]-=n[p].fx,r[2*p+1]-=n[p].fy;var w=[o[p].x-l[0],o[p].y-l[1]],_=Math.hypot(w[0],w[1]);_=_<1e-4?1e-4:_,w[0]=w[0]/_,w[1]=w[1]/_;var x=s*(a[p]+1);r[2*p]-=x*w[0],r[2*p+1]-=x*w[1]}return r},t.prototype.updatePos=function(r,n,a,i){for(var o=this,s=o.nodes,l=o.ks,u=o.tao,c=o.prune,f=o.ksmax,d=s.length,h=[],v=[],p=0,m=0,g=0;g<d;g+=1)if(!(c&&i[g]<=1)){var b=[r[2*g]-n[2*g],r[2*g+1]-n[2*g+1]],y=Math.hypot(b[0],b[1]),w=[r[2*g]+n[2*g],r[2*g+1]+n[2*g+1]],_=Math.hypot(w[0],w[1]);h[g]=y,v[g]=_/2,p+=(i[g]+1)*h[g],m+=(i[g]+1)*v[g]}var x=a;a=u*m/p,x!==0&&(a=a>1.5*x?1.5*x:a);for(var g=0;g<d;g+=1)if(!(c&&i[g]<=1)&&!((0,Kl.isNumber)(s[g].fx)&&(0,Kl.isNumber)(s[g].fy))){var S=l*a/(1+a*Math.sqrt(h[g])),C=Math.hypot(r[2*g],r[2*g+1]);C=C<1e-4?1e-4:C;var T=f/C;S=S>T?T:S;var M=S*r[2*g],k=S*r[2*g+1];s[g].x+=M,s[g].y+=k}return{nodes:s,sg:a}},t}(mOe.Base);Q0.ForceAtlas2Layout=EOe;var J0={},nI={},aI={},iI={},xh=ht&&ht.__assign||function(){return xh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},xh.apply(this,arguments)};Object.defineProperty(iI,"__esModule",{value:!0});var _Oe=function(){function e(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return e.prototype.init=function(t,r,n){this.cells=[],this.CELL_W=n.CELL_W||e.DEFAULT_CELL_W,this.CELL_H=n.CELL_H||e.DEFAULT_CELL_H,this.columnNum=Math.ceil(t/this.CELL_W),this.rowNum=Math.ceil(r/this.CELL_H),e.MIN_DIST=Math.pow(t,2)+Math.pow(r,2);for(var a=0;a<this.columnNum;a++){for(var i=[],o=0;o<this.rowNum;o++){var s={dx:a,dy:o,x:a*this.CELL_W,y:o*this.CELL_H,occupied:!1};i.push(s)}this.cells.push(i)}},e.prototype.findGridByNodeId=function(t){for(var r,n,a=0;a<this.columnNum;a++)for(var i=0;i<this.rowNum;i++)if(this.cells[a][i].node&&((n=(r=this.cells[a][i])===null||r===void 0?void 0:r.node)===null||n===void 0?void 0:n.id)===t)return{column:a,row:i};return null},e.prototype.sqdist=function(t,r){return Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)},e.prototype.occupyNearest=function(t){for(var r=e.MIN_DIST,n,a=null,i=0;i<this.columnNum;i++)for(var o=0;o<this.rowNum;o++)!this.cells[i][o].occupied&&(n=this.sqdist(t,this.cells[i][o]))<r&&(r=n,a=this.cells[i][o]);return a&&(a.occupied=!0),a},e.prototype.insertColumn=function(t,r){if(!(r<=0)){for(var n=0;n<r;n++){this.cells[n+this.columnNum]=[];for(var a=0;a<this.rowNum;a++)this.cells[n+this.columnNum][a]={dx:n,dy:a,x:n*this.CELL_W,y:a*this.CELL_H,occupied:!1,node:null}}for(var n=this.columnNum-1;n>t;n--)for(var a=0;a<this.rowNum;a++)this.cells[n+r][a]=xh(xh({},this.cells[n][a]),{x:(n+r)*this.CELL_W,y:a*this.CELL_H}),this.cells[n][a]={x:n*this.CELL_W,y:a*this.CELL_H,occupied:!0,node:null};for(var a=0;a<this.additionColumn.length;a++)this.additionColumn[a]>=t&&(this.additionColumn[a]+=r);for(var n=0;n<r;n++)this.additionColumn.push(t+n+1);this.columnNum+=r}},e.prototype.insertRow=function(t,r){if(!(r<=0)){for(var n=0;n<r;n++)for(var a=0;a<this.columnNum;a++)this.cells[a][n+this.rowNum]={dx:a,dy:n,x:a*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(var a=0;a<this.columnNum;a++)for(var n=this.rowNum-1;n>t;n--)this.cells[a][n+r]=xh(xh({},this.cells[a][n]),{dx:a,dy:n+r,x:a*this.CELL_W,y:(n+r)*this.CELL_H}),this.cells[a][n]={dx:a,dy:n,x:a*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null};for(var n=0;n<this.additionRow.length;n++)this.additionRow[n]>=t&&(this.additionRow[n]+=r);for(var a=0;a<r;a++)this.additionRow.push(t+a+1);this.rowNum+=r}},e.prototype.getNodes=function(){for(var t=[],r=0;r<this.columnNum;r++)for(var n=0;n<this.rowNum;n++)this.cells[r][n].node&&t.push(this.cells[r][n]);return t},e.MIN_DIST=50,e.DEFAULT_CELL_W=80,e.DEFAULT_CELL_H=80,e}();iI.default=_Oe;var xOe=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aI,"__esModule",{value:!0});var SOe=xOe(iI);function COe(e,t){if(!e.nodes||e.nodes.length===0)return e;var r=t.width,n=t.height,a=t.nodeMinGap,i=1e4,o=1e4;e.nodes.forEach(function(b){var y=b.size[0]||50,w=b.size[1]||50;i=Math.min(y,i),o=Math.min(w,o)});var s=new SOe.default;s.init(r,n,{CELL_H:o,CELL_W:i}),e.nodes.forEach(function(b){var y=s.occupyNearest(b);y&&(y.node={id:b.id,size:b.size},b.x=y.x,b.y=y.y,b.dx=y.dx,b.dy=y.dy)});for(var l=0;l<e.nodes.length;l++){var u=e.nodes[l],c=s.findGridByNodeId(u.id);if(!c)throw new Error("can not find node cell");var f=c.column,d=c.row;if(u.size[0]+a>i){for(var h=Math.ceil((u.size[0]+a)/i)-1,v=h,p=0;p<h;p++){var m=s.additionColumn.indexOf(f+p+1)>-1;if(m&&!s.cells[f+p+1][d].node)v--;else break}s.insertColumn(f,v)}if(u.size[1]+a>o){for(var h=Math.ceil((u.size[1]+a)/o)-1,v=h,p=0;p<h;p++){var m=s.additionRow.indexOf(d+p+1)>-1;if(m&&!s.cells[f][d+p+1].node)v--;else break}s.insertRow(d,v)}}for(var l=0;l<s.columnNum;l++)for(var g=function(y){var w=s.cells[l][y];if(w.node){var _=e.nodes.find(function(x){var S;return x.id===((S=w==null?void 0:w.node)===null||S===void 0?void 0:S.id)});_&&(_.x=w.x+_.size[0]/2,_.y=w.y+_.size[1]/2)}},p=0;p<s.rowNum;p++)g(p)}aI.default=COe;var oI={};Object.defineProperty(oI,"__esModule",{value:!0});var V7=1200,U7=800,Wy=1e7,xp=10,W7=3.141592653589793,zx=1.5707963267948966,MOe=W7*.375,TOe=W7*.625,H1=new Map,kOe=10,AOe=10,Gx=.8,e4=.1,IOe=.5;function OOe(e,t,r){var n=e.x-e.size[0]/2,a=e.y-e.size[1]/2,i=e.x+e.size[0]/2,o=e.y+e.size[1]/2,s=t.x-t.size[0]/2,l=t.y-t.size[1]/2,u=t.x+t.size[0]/2,c=t.y+t.size[1]/2,f=e.x,d=e.y,h=t.x,v=t.y,p=h-f,m=Math.atan2(p,v-d),g=0,b=0,y=0,w=0;m>zx?(b=a-c,g=s-i,y=parseFloat(b?(b/Math.cos(m)).toFixed(2):g.toFixed(2)),w=parseFloat(g?(g/Math.sin(m)).toFixed(2):b.toFixed(2))):0<m&&m<=zx?(b=l-o,g=s-i,b>g?y=w=parseFloat(b?(b/Math.cos(m)).toFixed(2):g.toFixed(2)):y=w=parseFloat(g?(g/Math.sin(m)).toFixed(2):b.toFixed(2))):m<-zx?(b=a-c,g=-(u-n),b>g?y=w=parseFloat(b?(b/Math.cos(m)).toFixed(2):g.toFixed(2)):y=w=parseFloat(g?(g/Math.sin(m)).toFixed(2):b.toFixed(2))):(b=l-o,Math.abs(p)>(i-n)/2?g=n-u:g=p,b>g?y=w=parseFloat(b?(b/Math.cos(m)).toFixed(2):g.toFixed(2)):y=w=parseFloat(g&&m!==0?(g/Math.sin(m)).toFixed(2):b.toFixed(2)));var _=parseFloat(m.toFixed(2)),x=r;return r&&(x=MOe<_&&_<TOe),{distance:Math.abs(y<w?y:w),isHoriz:x}}function H7(e,t){var r=H1.get(e.id)||[],n=r.find(function(N){return N.source===t.id||N.target===t.id}),a=e.size[0]*e.size[1],i=t.size[0]*t.size[1],o=a>i?t:e,s=a>i?e:t,l=o.x-o.size[0]/2,u=o.y-o.size[1]/2,c=o.x+o.size[0]/2,f=o.y+o.size[1]/2,d=s.x-s.size[0]/2,h=s.y-s.size[1]/2,v=s.x+s.size[0]/2,p=s.y+s.size[1]/2,m=o.x,g=o.y,b=s.x,y=s.y,w=c>=d&&v>=l&&f>=h&&p>=u,_=0,x=0;if(w){x=Math.sqrt(Math.pow(b-m,2)+Math.pow(y-g,2));var S=l>d?l:d,C=u>h?u:h,T=c<v?c:v,M=f<p?f:p,k=T-S,A=M-C,O=k*A;x===0&&(x=1e-7),_=xp*1/x*100+O,_*=Wy}else{var P=!1,R=OOe(o,s,P);x=R.distance,P=R.isHoriz,x<=xp?x!==0?n?_+=xp+Wy*1/x:_+=xp+Wy*xp/x:_+=Wy:(_+=x,n&&(_+=x*x))}return _}function Y7(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];(n.x<0||n.y<0||n.x>V7||n.y>U7)&&(t+=1e12);for(var a=r+1;a<e.length;a++)t+=H7(n,e[a])}return t}function LOe(e,t,r,n){var a=new Map;r.forEach(function(m,g){a.set(m.id,m)});var i=n.filter(function(m){return m.source===e.id||m.target===e.id})||[],o=[];i.forEach(function(m){var g=m.source===e.id?m.target:m.source,b=a.get(g);b&&o.push(b)});for(var s=!0,l=0;l<o.length;l++){var u=o[l],c=Math.atan((e.y-u.y)/(u.x-e.y))*180,f=Math.atan((t.y-u.y)/(u.x-t.y))*180,d=c<30||c>150,h=f<30||f>150,v=c>70&&c<110,p=f>70&&f<110;if(d&&!h||c*f<0){s=!1;break}else if(v&&!p||c*f<0){s=!1;break}else if((u.x-e.x)*(u.x-t.x)<0){s=!1;break}else if((u.y-e.y)*(u.y-t.y)<0){s=!1;break}}return s}function NOe(e,t){for(var r=!1,n=1,a=kOe*n,i=AOe*n,o=[a,-a,0,0],s=[0,0,i,-i],l=0;l<e.length;++l)for(var u=e[l],c=t4(u,e),f=0;f<o.length;f++){var d=LOe(u,{x:u.x+o[f],y:u.y+s[f]},e,t);if(d){u.x+=o[f],u.y+=s[f];var h=t4(u,e),v=Math.random();h<c||v<Gx&&v>e4?(c=h,r=!0):(u.x-=o[f],u.y-=s[f])}}return Gx>e4&&(Gx*=IOe),r?Y7(e):0}function t4(e,t){var r=0;(e.x<0||e.y<0||e.x+e.size[0]+20>V7||e.y+e.size[1]+20>U7)&&(r+=1e12);for(var n=0;n<t.length;++n)e.id!==t[n].id&&(r+=H7(e,t[n]));return r}function POe(e,t){if(e.length===0)return{nodes:e,edges:t};e.forEach(function(u){var c=t.filter(function(f){return f.source===u.id||f.target===u.id});H1.set(u,c)}),e.sort(function(u,c){var f,d;return((f=H1.get(u.id))===null||f===void 0?void 0:f.length)-((d=H1.get(c.id))===null||d===void 0?void 0:d.length)});for(var r=Y7(e),n=20,a=1,i=0,o=50,s=0;n>0&&(s++,!(s>=o));){var l=NOe(e,t);l!==0&&(i=l),a=i-r,r=i,a===0?--n:n=20}return e.forEach(function(u){u.x=u.x-u.size[0]/2,u.y=u.y-u.size[1]/2}),{nodes:e,edges:t}}oI.default=POe;var rM=ht&&ht.__assign||function(){return rM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},rM.apply(this,arguments)},DOe=ht&&ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ROe=ht&&ht.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$Oe=ht&&ht.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&DOe(t,e,r);return ROe(t,e),t},K7=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nI,"__esModule",{value:!0});var nh=$Oe(eA),BOe=K7(aI),FOe=K7(oI),zOe=Pv;function GOe(e,t){var r=e.nodes,n=e.edges,a=t.width,i=t.height;if(!(r!=null&&r.length))return Promise.resolve();var o=[];r.forEach(function(v){var p=n.filter(function(g){return g.source===v.id||g.target===v.id});if(p.length>1){var m=rM({},v);delete m.size,o.push(m)}});var s=[];n.forEach(function(v){var p=o.find(function(g){return g.id===v.source}),m=o.find(function(g){return g.id===v.target});p&&m&&s.push(v)});var l=new zOe.DagreLayout({type:"dagre",ranksep:t.nodeMinGap,nodesep:t.nodeMinGap}),u=l.layout({nodes:o,edges:s}).nodes;r.forEach(function(v){var p=(u||[]).find(function(m){return m.id===v.id});v.x=(p==null?void 0:p.x)||a/2,v.y=(p==null?void 0:p.y)||i/2});var c=JSON.parse(JSON.stringify(r)),f=JSON.parse(JSON.stringify(n)),d=nh.forceSimulation().nodes(c).force("link",nh.forceLink(f).id(function(v){return v.id}).distance(function(v){var p=s.find(function(m){return m.source===v.source&&m.target===v.target});return p?30:20})).force("charge",nh.forceManyBody()).force("center",nh.forceCenter(a/2,i/2)).force("x",nh.forceX(a/2)).force("y",nh.forceY(i/2)).alpha(.3).alphaDecay(.08).alphaMin(.001),h=new Promise(function(v){d.on("end",function(){r.forEach(function(_){var x=c.find(function(S){return S.id===_.id});x&&(_.x=x.x,_.y=x.y)});var p=Math.min.apply(Math,r.map(function(_){return _.x})),m=Math.max.apply(Math,r.map(function(_){return _.x})),g=Math.min.apply(Math,r.map(function(_){return _.y})),b=Math.max.apply(Math,r.map(function(_){return _.y})),y=a/(m-p),w=i/(b-g);r.forEach(function(_){_.x!==void 0&&y<1&&(_.x=(_.x-p)*y),_.y!==void 0&&w<1&&(_.y=(_.y-g)*w)}),r.forEach(function(_){_.sizeTemp=_.size,_.size=[10,10]}),(0,FOe.default)(r,n),r.forEach(function(_){_.size=_.sizeTemp||[],delete _.sizeTemp}),(0,BOe.default)({nodes:r,edges:n},t),v()})});return h}nI.default=GOe;var jOe=ht&&ht.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VOe=ht&&ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J0,"__esModule",{value:!0});J0.ERLayout=void 0;var UOe=wa,WOe=VOe(nI),HOe=function(e){jOe(t,e);function t(r){var n=e.call(this)||this;return n.width=300,n.height=300,n.nodeMinGap=50,n.onLayoutEnd=function(){},r&&n.updateCfg(r),n}return t.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},t.prototype.execute=function(){var r=this,n=r.nodes,a=r.edges;return n==null||n.forEach(function(i){i.size||(i.size=[50,50])}),(0,WOe.default)({nodes:n,edges:a},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){r.onLayoutEnd&&r.onLayoutEnd()})},t.prototype.getType=function(){return"er"},t}(UOe.Base);J0.ERLayout=HOe;var gf={},r4;function YOe(){if(r4)return gf;r4=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.Layouts=gf.Layout=void 0;var e=fu,t=P0,r=D0,n=$0,a=R0,i=Jk,o=B0,s=Pv,l=YA,u=H0,c=Y0,f=K0,d=X0,h=q0,v=Z0,p=j7(),m=Q0,g=J0,b=G0,y=da(),w=function(){function _(x){var S=(0,e.getLayoutByName)(x.type);this.layoutInstance=new S(x)}return _.prototype.layout=function(x){return this.layoutInstance.layout(x)},_.prototype.updateCfg=function(x){this.layoutInstance.updateCfg(x)},_.prototype.init=function(x){this.correctLayers(x.nodes),this.layoutInstance.init(x)},_.prototype.correctLayers=function(x){if(x!=null&&x.length){var S=1/0,C=[];if(x.forEach(function(M){(0,y.isString)(M.layer)&&(M.layer=parseInt(M.layer,10)),!(M.layer===void 0||isNaN(M.layer))&&(C.push(M),M.layer<S&&(S=M.layer))}),S<=0){var T=Math.abs(S)+1;C.forEach(function(M){return M.layer+=T})}}},_.prototype.execute=function(){this.layoutInstance.execute()},_.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},_.prototype.destroy=function(){return this.layoutInstance.destroy()},_}();return gf.Layout=w,gf.Layouts={force:i.ForceLayout,fruchterman:f.FruchtermanLayout,forceAtlas2:m.ForceAtlas2Layout,gForce:a.GForceLayout,force2:n.Force2Layout,dagre:s.DagreLayout,dagreCompound:b.DagreCompoundLayout,circular:o.CircularLayout,radial:l.RadialLayout,concentric:u.ConcentricLayout,grid:t.GridLayout,mds:c.MDSLayout,comboForce:v.ComboForceLayout,comboCombined:p.ComboCombinedLayout,random:r.RandomLayout,"gForce-gpu":h.GForceGPULayout,"fruchterman-gpu":d.FruchtermanGPULayout,er:g.ERLayout},gf}var X7={};Object.defineProperty(X7,"__esModule",{value:!0});var n4;function q7(){return n4||(n4=1,function(e){var t=ht&&ht.__createBinding||(Object.create?function(x,S,C,T){T===void 0&&(T=C);var M=Object.getOwnPropertyDescriptor(S,C);(!M||("get"in M?!S.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return S[C]}}),Object.defineProperty(x,T,M)}:function(x,S,C,T){T===void 0&&(T=C),x[T]=S[C]}),r=ht&&ht.__exportStar||function(x,S){for(var C in x)C!=="default"&&!Object.prototype.hasOwnProperty.call(S,C)&&t(S,x,C)};Object.defineProperty(e,"__esModule",{value:!0}),e.ERLayout=e.ForceAtlas2Layout=e.ComboCombinedLayout=e.ComboForceLayout=e.GForceGPULayout=e.FruchtermanGPULayout=e.FruchtermanLayout=e.MDSLayout=e.ConcentricLayout=e.RadialLayout=e.DagreCompoundLayout=e.DagreLayout=e.CircularLayout=e.ForceLayout=e.Force2Layout=e.GForceLayout=e.RandomLayout=e.GridLayout=e.Layouts=e.Layout=void 0;var n=P0;Object.defineProperty(e,"GridLayout",{enumerable:!0,get:function(){return n.GridLayout}});var a=D0;Object.defineProperty(e,"RandomLayout",{enumerable:!0,get:function(){return a.RandomLayout}});var i=R0;Object.defineProperty(e,"GForceLayout",{enumerable:!0,get:function(){return i.GForceLayout}});var o=$0;Object.defineProperty(e,"Force2Layout",{enumerable:!0,get:function(){return o.Force2Layout}});var s=Jk;Object.defineProperty(e,"ForceLayout",{enumerable:!0,get:function(){return s.ForceLayout}});var l=B0;Object.defineProperty(e,"CircularLayout",{enumerable:!0,get:function(){return l.CircularLayout}});var u=Pv;Object.defineProperty(e,"DagreLayout",{enumerable:!0,get:function(){return u.DagreLayout}});var c=G0;Object.defineProperty(e,"DagreCompoundLayout",{enumerable:!0,get:function(){return c.DagreCompoundLayout}});var f=YA;Object.defineProperty(e,"RadialLayout",{enumerable:!0,get:function(){return f.RadialLayout}});var d=H0;Object.defineProperty(e,"ConcentricLayout",{enumerable:!0,get:function(){return d.ConcentricLayout}});var h=Y0;Object.defineProperty(e,"MDSLayout",{enumerable:!0,get:function(){return h.MDSLayout}});var v=K0;Object.defineProperty(e,"FruchtermanLayout",{enumerable:!0,get:function(){return v.FruchtermanLayout}});var p=X0;Object.defineProperty(e,"FruchtermanGPULayout",{enumerable:!0,get:function(){return p.FruchtermanGPULayout}});var m=q0;Object.defineProperty(e,"GForceGPULayout",{enumerable:!0,get:function(){return m.GForceGPULayout}});var g=Z0;Object.defineProperty(e,"ComboForceLayout",{enumerable:!0,get:function(){return g.ComboForceLayout}});var b=j7();Object.defineProperty(e,"ComboCombinedLayout",{enumerable:!0,get:function(){return b.ComboCombinedLayout}});var y=Q0;Object.defineProperty(e,"ForceAtlas2Layout",{enumerable:!0,get:function(){return y.ForceAtlas2Layout}});var w=J0;Object.defineProperty(e,"ERLayout",{enumerable:!0,get:function(){return w.ERLayout}});var _=YOe();Object.defineProperty(e,"Layout",{enumerable:!0,get:function(){return _.Layout}}),Object.defineProperty(e,"Layouts",{enumerable:!0,get:function(){return _.Layouts}}),r(X7,e)}(cx)),cx}(function(e){var t=ht&&ht.__createBinding||(Object.create?function(a,i,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(i,o);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(a,s,l)}:function(a,i,o,s){s===void 0&&(s=o),a[s]=i[o]}),r=ht&&ht.__exportStar||function(a,i){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,a,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.getLayoutByName=e.unRegisterLayout=e.registerLayout=void 0;var n=fu;Object.defineProperty(e,"registerLayout",{enumerable:!0,get:function(){return n.registerLayout}}),Object.defineProperty(e,"unRegisterLayout",{enumerable:!0,get:function(){return n.unRegisterLayout}}),Object.defineProperty(e,"getLayoutByName",{enumerable:!0,get:function(){return n.getLayoutByName}}),r(q7(),e)})(fn);var Z7={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(typeof self<"u"?self:ht,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=36)}([function(r,n,a){var i=a(3);n.a=function(o){return Array.isArray?Array.isArray(o):Object(i.a)(o,"Array")}},function(r,n,a){var i=function(o){return o!==null&&typeof o!="function"&&isFinite(o.length)};n.a=i},function(r,n,a){var i=a(3);n.a=function(o){return Object(i.a)(o,"Function")}},function(r,n,a){var i={}.toString,o=function(s,l){return i.call(s)==="[object "+l+"]"};n.a=o},function(r,n,a){var i=a(3);n.a=function(o){return Object(i.a)(o,"String")}},function(r,n,a){var i=a(3),o=function(s){return Object(i.a)(s,"Number")};n.a=o},function(r,n,a){var i=a(38),o=i.mix;function s(l,u,c,f){return f===void 0&&(f="height"),c==="center"?(l[f]+u[f])/2:l.height}r.exports={assign:o,getHeight:s}},function(r,n,a){var i=function(o){return o==null};n.a=i},function(r,n,a){var i=a(0),o=a(12);function s(l,u){if(l){var c;if(Object(i.a)(l))for(var f=0,d=l.length;f<d&&(c=u(l[f],f),c!==!1);f++);else if(Object(o.a)(l)){for(var h in l)if(l.hasOwnProperty(h)&&(c=u(l[h],h),c===!1))break}}}n.a=s},function(r,n,a){var i=a(7);n.a=function(o){return Object(i.a)(o)?"":o.toString()}},function(r,n,a){var i=a(14),o=a(3),s=function(l){if(!Object(i.a)(l)||!Object(o.a)(l,"Object"))return!1;if(Object.getPrototypeOf(l)===null)return!0;for(var u=l;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(l)===u};n.a=s},function(r,n,a){var i=a(18),o=function(){function s(u,c){c===void 0&&(c={});var f=this;f.options=c,f.rootNode=i(u,c)}var l=s.prototype;return l.execute=function(){throw new Error("please override this method")},s}();r.exports=o},function(r,n,a){n.a=function(i){var o=typeof i;return i!==null&&o==="object"||o==="function"}},function(r,n,a){var i=a(1),o=function(s,l){return Object(i.a)(s)?s.indexOf(l)>-1:!1};n.a=o},function(r,n,a){var i=function(o){return typeof o=="object"&&o!==null};n.a=i},function(r,n,a){var i=a(8),o=a(2),s=Object.values?function(l){return Object.values(l)}:function(l){var u=[];return Object(i.a)(l,function(c,f){Object(o.a)(l)&&f==="prototype"||u.push(c)}),u};n.a=s},function(r,n,a){n.a=o;function i(s,l){for(var u in l)l.hasOwnProperty(u)&&u!=="constructor"&&l[u]!==void 0&&(s[u]=l[u])}function o(s,l,u,c){return l&&i(s,l),u&&i(s,u),c&&i(s,c),s}},function(r,n,a){var i=a(35),o=["LR","RL","TB","BT","H","V"],s=["LR","RL","H"],l=function(f){return s.indexOf(f)>-1},u=o[0];r.exports=function(c,f,d){var h=f.direction||u;if(f.isHorizontal=l(h),h&&o.indexOf(h)===-1)throw new TypeError("Invalid direction: "+h);if(h===o[0])d(c,f);else if(h===o[1])d(c,f),c.right2left();else if(h===o[2])d(c,f);else if(h===o[3])d(c,f),c.bottom2top();else if(h===o[4]||h===o[5]){var v=i(c,f),p=v.left,m=v.right;d(p,f),d(m,f),f.isHorizontal?p.right2left():p.bottom2top(),m.translate(p.x-m.x,p.y-m.y),c.x=p.x,c.y=m.y;var g=c.getBoundingBox();f.isHorizontal?g.top<0&&c.translate(0,-g.top):g.left<0&&c.translate(-g.left,0)}var b=f.fixedRoot;return b===void 0&&(b=!0),b&&c.translate(-(c.x+c.width/2+c.hgap),-(c.y+c.height/2+c.vgap)),c}},function(r,n,a){var i=a(6),o=18,s=o*2,l=o,u={getId:function(h){return h.id||h.name},getPreH:function(h){return h.preH||0},getPreV:function(h){return h.preV||0},getHGap:function(h){return h.hgap||l},getVGap:function(h){return h.vgap||l},getChildren:function(h){return h.children},getHeight:function(h){return h.height||s},getWidth:function(h){var v=h.label||" ";return h.width||v.split("").length*o}};function c(d,h){var v=this;if(v.vgap=v.hgap=0,d instanceof c)return d;v.data=d;var p=h.getHGap(d),m=h.getVGap(d);return v.preH=h.getPreH(d),v.preV=h.getPreV(d),v.width=h.getWidth(d),v.height=h.getHeight(d),v.width+=v.preH,v.height+=v.preV,v.id=h.getId(d),v.x=v.y=0,v.depth=0,v.children||(v.children=[]),v.addGap(p,m),v}i.assign(c.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(h,v){var p=this;p.hgap+=h,p.vgap+=v,p.width+=2*h,p.height+=2*v},eachNode:function(h){for(var v=this,p=[v],m;m=p.shift();)h(m),p=m.children.concat(p)},DFTraverse:function(h){this.eachNode(h)},BFTraverse:function(h){for(var v=this,p=[v],m;m=p.shift();)h(m),p=p.concat(m.children)},getBoundingBox:function(){var h={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(v){h.left=Math.min(h.left,v.x),h.top=Math.min(h.top,v.y),h.width=Math.max(h.width,v.x+v.width),h.height=Math.max(h.height,v.y+v.height)}),h},translate:function(h,v){h===void 0&&(h=0),v===void 0&&(v=0),this.eachNode(function(p){p.x+=h,p.y+=v,p.x+=p.preH,p.y+=p.preV})},right2left:function(){var h=this,v=h.getBoundingBox();h.eachNode(function(p){p.x=p.x-(p.x-v.left)*2-p.width}),h.translate(v.width,0)},bottom2top:function(){var h=this,v=h.getBoundingBox();h.eachNode(function(p){p.y=p.y-(p.y-v.top)*2-p.height}),h.translate(0,v.height)}});function f(d,h,v){h===void 0&&(h={}),h=i.assign({},u,h);var p=new c(d,h),m=[p],g;if(!v&&!d.collapsed){for(;g=m.shift();)if(!g.data.collapsed){var b=h.getChildren(g.data),y=b?b.length:0;if(g.children=new Array(y),b&&y)for(var w=0;w<y;w++){var _=new c(b[w],h);g.children[w]=_,m.push(_),_.parent=g,_.depth=g.depth+1}}}return p}r.exports=f},function(r,n,a){var i=a(1),o=function(s,l){if(!Object(i.a)(s))return s;for(var u=[],c=0;c<s.length;c++){var f=s[c];l(f,c)&&u.push(f)}return u};n.a=o},function(r,n,a){var i=a(7),o=a(21);function s(l,u){var c=Object(o.a)(u),f=c.length;if(Object(i.a)(l))return!f;for(var d=0;d<f;d+=1){var h=c[d];if(u[h]!==l[h]||!(h in l))return!1}return!0}n.a=s},function(r,n,a){var i=a(8),o=a(2),s=Object.keys?function(l){return Object.keys(l)}:function(l){var u=[];return Object(i.a)(l,function(c,f){Object(o.a)(l)&&f==="prototype"||u.push(f)}),u};n.a=s},function(r,n,a){var i=a(0);n.a=function(o){if(Object(i.a)(o))return o.reduce(function(s,l){return Math.max(s,l)},o[0])}},function(r,n,a){var i=a(0);n.a=function(o){if(Object(i.a)(o))return o.reduce(function(s,l){return Math.min(s,l)},o[0])}},function(r,n,a){var i=a(1),o=Array.prototype.splice,s=function(u,c){if(!Object(i.a)(u))return[];for(var f=u?c.length:0,d=f-1;f--;){var h=void 0,v=c[f];(f===d||v!==h)&&(h=v,o.call(u,v,1))}return u};n.a=s},function(r,n,a){var i=a(8),o=a(0),s=a(10),l=function(u,c,f){if(!Object(o.a)(u)&&!Object(s.a)(u))return u;var d=f;return Object(i.a)(u,function(h,v){d=c(d,h,v)}),d};n.a=l},function(r,n,a){n.a=i;function i(o,s){s===void 0&&(s=new Map);var l=[];if(Array.isArray(o))for(var u=0,c=o.length;u<c;u++){var f=o[u];s.has(f)||(l.push(f),s.set(f,!0))}return l}},function(r,n,a){n.a=l;var i=a(0),o=a(2),s=a(28);function l(u,c){if(!c)return{0:u};if(!Object(o.a)(c)){var f=Object(i.a)(c)?c:c.replace(/\s+/g,"").split("*");c=function(d){for(var h="_",v=0,p=f.length;v<p;v++)h+=d[f[v]]&&d[f[v]].toString();return h}}return Object(s.a)(u,c)}},function(r,n,a){var i=a(0),o=a(2),s=Object.prototype.hasOwnProperty;function l(u,c){if(!c||!Object(i.a)(u))return{};for(var f={},d=Object(o.a)(c)?c:function(m){return m[c]},h,v=0;v<u.length;v++){var p=u[v];h=d(p),s.call(f,h)?f[h].push(p):f[h]=[p]}return f}n.a=l},function(r,n,a){n.a=function(i,o){return i.hasOwnProperty(o)}},function(r,n,a){var i={}.toString,o=function(s){return i.call(s).replace(/^\[object /,"").replace(/]$/,"")};n.a=o},function(r,n,a){var i=Object.prototype,o=function(s){var l=s&&s.constructor,u=typeof l=="function"&&l.prototype||i;return s===u};n.a=o},function(r,n,a){var i=a(2);n.a=function(o,s){if(!Object(i.a)(o))throw new TypeError("Expected a function");var l=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=s?s.apply(this,u):u[0],d=l.cache;if(d.has(f))return d.get(f);var h=o.apply(this,u);return d.set(f,h),h};return l.cache=new Map,l}},function(r,n,a){var i=a(14),o=a(1),s=a(4),l=function(u,c){if(u===c)return!0;if(!u||!c||Object(s.a)(u)||Object(s.a)(c))return!1;if(Object(o.a)(u)||Object(o.a)(c)){if(u.length!==c.length)return!1;for(var f=!0,d=0;d<u.length&&(f=l(u[d],c[d]),!!f);d++);return f}if(Object(i.a)(u)||Object(i.a)(c)){var h=Object.keys(u),v=Object.keys(c);if(h.length!==v.length)return!1;for(var f=!0,d=0;d<h.length&&(f=l(u[h[d]],c[h[d]]),!!f);d++);return f}return!1};n.a=l},function(r,n,a){var i=a(116),o=a(15),s=a(32),l=a(4),u;n.a=Object(s.a)(function(c,f){f===void 0&&(f={});var d=f.fontSize,h=f.fontFamily,v=f.fontWeight,p=f.fontStyle,m=f.fontVariant;return u||(u=document.createElement("canvas").getContext("2d")),u.font=[p,m,v,d+"px",h].join(" "),u.measureText(Object(l.a)(c)?c:"").width},function(c,f){return f===void 0&&(f={}),Object(i.a)([c],Object(o.a)(f)).join("")})},function(r,n,a){var i=a(18);r.exports=function(o,s){for(var l=i(o.data,s,!0),u=i(o.data,s,!0),c=o.children.length,f=Math.round(c/2),d=s.getSide||function(m,g){return g<f?"right":"left"},h=0;h<c;h++){var v=o.children[h],p=d(v,h);p==="right"?u.children.push(v):l.children.push(v)}return l.eachNode(function(m){m.isRoot()||(m.side="left")}),u.eachNode(function(m){m.isRoot()||(m.side="right")}),{left:l,right:u}}},function(r,n,a){var i={compactBox:a(37),dendrogram:a(120),indented:a(122),mindmap:a(124)};r.exports=i},function(r,n,a){function i(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,o(v,p)}function o(v,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},o(v,p)}var s=a(11),l=a(119),u=a(17),c=a(6),f=function(v){i(p,v);function p(){return v.apply(this,arguments)||this}var m=p.prototype;return m.execute=function(){var b=this;return u(b.rootNode,b.options,l)},p}(s),d={};function h(v,p){return p=c.assign({},d,p),new f(v,p).execute()}r.exports=h},function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(13);a.d(n,"contains",function(){return i.a}),a.d(n,"includes",function(){return i.a});var o=a(39);a.d(n,"difference",function(){return o.a});var s=a(40);a.d(n,"find",function(){return s.a});var l=a(41);a.d(n,"findIndex",function(){return l.a});var u=a(42);a.d(n,"firstValue",function(){return u.a});var c=a(43);a.d(n,"flatten",function(){return c.a});var f=a(44);a.d(n,"flattenDeep",function(){return f.a});var d=a(45);a.d(n,"getRange",function(){return d.a});var h=a(46);a.d(n,"pull",function(){return h.a});var v=a(24);a.d(n,"pullAt",function(){return v.a});var p=a(25);a.d(n,"reduce",function(){return p.a});var m=a(47);a.d(n,"remove",function(){return m.a});var g=a(48);a.d(n,"sortBy",function(){return g.a});var b=a(49);a.d(n,"union",function(){return b.a});var y=a(26);a.d(n,"uniq",function(){return y.a});var w=a(50);a.d(n,"valuesOfKey",function(){return w.a});var _=a(51);a.d(n,"head",function(){return _.a});var x=a(52);a.d(n,"last",function(){return x.a});var S=a(53);a.d(n,"startsWith",function(){return S.a});var C=a(54);a.d(n,"endsWith",function(){return C.a});var T=a(19);a.d(n,"filter",function(){return T.a});var M=a(55);a.d(n,"every",function(){return M.a});var k=a(56);a.d(n,"some",function(){return k.a});var A=a(57);a.d(n,"group",function(){return A.a});var O=a(28);a.d(n,"groupBy",function(){return O.a});var P=a(27);a.d(n,"groupToMap",function(){return P.a});var R=a(58);a.d(n,"getWrapBehavior",function(){return R.a});var N=a(59);a.d(n,"wrapBehavior",function(){return N.a});var L=a(60);a.d(n,"number2color",function(){return L.a});var B=a(61);a.d(n,"parseRadius",function(){return B.a});var I=a(62);a.d(n,"clamp",function(){return I.a});var D=a(63);a.d(n,"fixedBase",function(){return D.a});var z=a(64);a.d(n,"isDecimal",function(){return z.a});var U=a(65);a.d(n,"isEven",function(){return U.a});var H=a(66);a.d(n,"isInteger",function(){return H.a});var Y=a(67);a.d(n,"isNegative",function(){return Y.a});var ie=a(68);a.d(n,"isNumberEqual",function(){return ie.a});var X=a(69);a.d(n,"isOdd",function(){return X.a});var re=a(70);a.d(n,"isPositive",function(){return re.a});var oe=a(22);a.d(n,"max",function(){return oe.a});var Ne=a(71);a.d(n,"maxBy",function(){return Ne.a});var me=a(23);a.d(n,"min",function(){return me.a});var xe=a(72);a.d(n,"minBy",function(){return xe.a});var ze=a(73);a.d(n,"mod",function(){return ze.a});var te=a(74);a.d(n,"toDegree",function(){return te.a});var le=a(75);a.d(n,"toInteger",function(){return le.a});var Ae=a(76);a.d(n,"toRadian",function(){return Ae.a});var Ve=a(77);a.d(n,"forIn",function(){return Ve.a});var Ie=a(29);a.d(n,"has",function(){return Ie.a});var De=a(78);a.d(n,"hasKey",function(){return De.a});var Ge=a(79);a.d(n,"hasValue",function(){return Ge.a});var Qe=a(21);a.d(n,"keys",function(){return Qe.a});var ke=a(20);a.d(n,"isMatch",function(){return ke.a});var q=a(15);a.d(n,"values",function(){return q.a});var j=a(80);a.d(n,"lowerCase",function(){return j.a});var Ce=a(81);a.d(n,"lowerFirst",function(){return Ce.a});var fe=a(82);a.d(n,"substitute",function(){return fe.a});var ge=a(83);a.d(n,"upperCase",function(){return ge.a});var Ue=a(84);a.d(n,"upperFirst",function(){return Ue.a});var tt=a(30);a.d(n,"getType",function(){return tt.a});var ot=a(85);a.d(n,"isArguments",function(){return ot.a});var Ye=a(0);a.d(n,"isArray",function(){return Ye.a});var we=a(1);a.d(n,"isArrayLike",function(){return we.a});var qe=a(86);a.d(n,"isBoolean",function(){return qe.a});var Be=a(87);a.d(n,"isDate",function(){return Be.a});var pe=a(88);a.d(n,"isError",function(){return pe.a});var Re=a(2);a.d(n,"isFunction",function(){return Re.a});var ft=a(89);a.d(n,"isFinite",function(){return ft.a});var Ee=a(7);a.d(n,"isNil",function(){return Ee.a});var wt=a(90);a.d(n,"isNull",function(){return wt.a});var ar=a(5);a.d(n,"isNumber",function(){return ar.a});var lr=a(12);a.d(n,"isObject",function(){return lr.a});var Wr=a(14);a.d(n,"isObjectLike",function(){return Wr.a});var In=a(10);a.d(n,"isPlainObject",function(){return In.a});var ir=a(31);a.d(n,"isPrototype",function(){return ir.a});var An=a(91);a.d(n,"isRegExp",function(){return An.a});var Ro=a(4);a.d(n,"isString",function(){return Ro.a});var fo=a(3);a.d(n,"isType",function(){return fo.a});var ra=a(92);a.d(n,"isUndefined",function(){return ra.a});var Ea=a(93);a.d(n,"isElement",function(){return Ea.a});var Wi=a(94);a.d(n,"requestAnimationFrame",function(){return Wi.a});var $o=a(95);a.d(n,"clearAnimationFrame",function(){return $o.a});var gs=a(96);a.d(n,"augment",function(){return gs.a});var Li=a(97);a.d(n,"clone",function(){return Li.a});var ci=a(98);a.d(n,"debounce",function(){return ci.a});var Vn=a(32);a.d(n,"memoize",function(){return Vn.a});var fi=a(99);a.d(n,"deepMix",function(){return fi.a});var Ar=a(8);a.d(n,"each",function(){return Ar.a});var nt=a(100);a.d(n,"extend",function(){return nt.a});var vt=a(101);a.d(n,"indexOf",function(){return vt.a});var Br=a(102);a.d(n,"isEmpty",function(){return Br.a});var sn=a(33);a.d(n,"isEqual",function(){return sn.a});var Aa=a(103);a.d(n,"isEqualWith",function(){return Aa.a});var Ra=a(104);a.d(n,"map",function(){return Ra.a});var Za=a(105);a.d(n,"mapValues",function(){return Za.a});var Ia=a(16);a.d(n,"mix",function(){return Ia.a}),a.d(n,"assign",function(){return Ia.a});var na=a(106);a.d(n,"get",function(){return na.a});var Hi=a(107);a.d(n,"set",function(){return Hi.a});var Zc=a(108);a.d(n,"pick",function(){return Zc.a});var mt=a(109);a.d(n,"omit",function(){return mt.a});var gr=a(110);a.d(n,"throttle",function(){return gr.a});var Rr=a(111);a.d(n,"toArray",function(){return Rr.a});var tn=a(9);a.d(n,"toString",function(){return tn.a});var Yi=a(112);a.d(n,"uniqueId",function(){return Yi.a});var ho=a(113);a.d(n,"noop",function(){return ho.a});var T2=a(114);a.d(n,"identity",function(){return T2.a});var k2=a(115);a.d(n,"size",function(){return k2.a});var A2=a(34);a.d(n,"measureTextWidth",function(){return A2.a});var I2=a(117);a.d(n,"getEllipsisText",function(){return I2.a});var O2=a(118);a.d(n,"Cache",function(){return O2.a})},function(r,n,a){var i=a(19),o=a(13),s=function(l,u){return u===void 0&&(u=[]),Object(i.a)(l,function(c){return!Object(o.a)(u,c)})};n.a=s},function(r,n,a){var i=a(2),o=a(20),s=a(0),l=a(10);function u(c,f){if(!Object(s.a)(c))return null;var d;if(Object(i.a)(f)&&(d=f),Object(l.a)(f)&&(d=function(v){return Object(o.a)(v,f)}),d){for(var h=0;h<c.length;h+=1)if(d(c[h]))return c[h]}return null}n.a=u},function(r,n,a){function i(o,s,l){l===void 0&&(l=0);for(var u=l;u<o.length;u++)if(s(o[u],u))return u;return-1}n.a=i},function(r,n,a){var i=a(7),o=a(0),s=function(l,u){for(var c=null,f=0;f<l.length;f++){var d=l[f],h=d[u];if(!Object(i.a)(h)){Object(o.a)(h)?c=h[0]:c=h;break}}return c};n.a=s},function(r,n,a){var i=a(0),o=function(s){if(!Object(i.a)(s))return[];for(var l=[],u=0;u<s.length;u++)l=l.concat(s[u]);return l};n.a=o},function(r,n,a){var i=a(0),o=function(s,l){if(l===void 0&&(l=[]),!Object(i.a)(s))l.push(s);else for(var u=0;u<s.length;u+=1)o(s[u],l);return l};n.a=o},function(r,n,a){var i=a(0),o=a(22),s=a(23),l=function(u){var c=u.filter(function(p){return!isNaN(p)});if(!c.length)return{min:0,max:0};if(Object(i.a)(u[0])){for(var f=[],d=0;d<u.length;d++)f=f.concat(u[d]);c=f}var h=Object(o.a)(c),v=Object(s.a)(c);return{min:v,max:h}};n.a=l},function(r,n,a){var i=Array.prototype,o=i.splice,s=i.indexOf,l=function(u){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];for(var d=0;d<c.length;d++)for(var h=c[d],v=-1;(v=s.call(u,h))>-1;)o.call(u,v,1);return u};n.a=l},function(r,n,a){var i=a(1),o=a(24),s=function(l,u){var c=[];if(!Object(i.a)(l))return c;for(var f=-1,d=[],h=l.length;++f<h;){var v=l[f];u(v,f,l)&&(c.push(v),d.push(f))}return Object(o.a)(l,d),c};n.a=s},function(r,n,a){var i=a(0),o=a(4),s=a(2);function l(u,c){var f;if(Object(s.a)(c))f=function(h,v){return c(h)-c(v)};else{var d=[];Object(o.a)(c)?d.push(c):Object(i.a)(c)&&(d=c),f=function(h,v){for(var p=0;p<d.length;p+=1){var m=d[p];if(h[m]>v[m])return 1;if(h[m]<v[m])return-1}return 0}}return u.sort(f),u}n.a=l},function(r,n,a){var i=a(26),o=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return Object(i.a)([].concat.apply([],s))};n.a=o},function(r,n,a){var i=a(0),o=a(7);n.a=function(s,l){for(var u=[],c={},f=0;f<s.length;f++){var d=s[f],h=d[l];if(!Object(o.a)(h)){Object(i.a)(h)||(h=[h]);for(var v=0;v<h.length;v++){var p=h[v];c[p]||(u.push(p),c[p]=!0)}}}return u}},function(r,n,a){n.a=o;var i=a(1);function o(s){if(Object(i.a)(s))return s[0]}},function(r,n,a){n.a=o;var i=a(1);function o(s){if(Object(i.a)(s)){var l=s;return l[l.length-1]}}},function(r,n,a){var i=a(0),o=a(4);function s(l,u){return Object(i.a)(l)||Object(o.a)(l)?l[0]===u:!1}n.a=s},function(r,n,a){var i=a(0),o=a(4);function s(l,u){return Object(i.a)(l)||Object(o.a)(l)?l[l.length-1]===u:!1}n.a=s},function(r,n,a){var i=function(o,s){for(var l=0;l<o.length;l++)if(!s(o[l],l))return!1;return!0};n.a=i},function(r,n,a){var i=function(o,s){for(var l=0;l<o.length;l++)if(s(o[l],l))return!0;return!1};n.a=i},function(r,n,a){var i=a(27);n.a=function(o,s){if(!s)return[o];var l=Object(i.a)(o,s),u=[];for(var c in l)u.push(l[c]);return u}},function(r,n,a){function i(o,s){return o["_wrap_"+s]}n.a=i},function(r,n,a){function i(o,s){if(o["_wrap_"+s])return o["_wrap_"+s];var l=function(u){o[s](u)};return o["_wrap_"+s]=l,l}n.a=i},function(r,n,a){var i={};function o(s){var l=i[s];if(!l){for(var u=s.toString(16),c=u.length;c<6;c++)u="0"+u;l="#"+u,i[s]=l}return l}n.a=o},function(r,n,a){var i=a(0);function o(s){var l=0,u=0,c=0,f=0;return Object(i.a)(s)?s.length===1?l=u=c=f=s[0]:s.length===2?(l=c=s[0],u=f=s[1]):s.length===3?(l=s[0],u=f=s[1],c=s[2]):(l=s[0],u=s[1],c=s[2],f=s[3]):l=u=c=f=s,{r1:l,r2:u,r3:c,r4:f}}n.a=o},function(r,n,a){var i=function(o,s,l){return o<s?s:o>l?l:o};n.a=i},function(r,n,a){var i=function(o,s){var l=s.toString(),u=l.indexOf(".");if(u===-1)return Math.round(o);var c=l.substr(u+1).length;return c>20&&(c=20),parseFloat(o.toFixed(c))};n.a=i},function(r,n,a){var i=a(5),o=function(s){return Object(i.a)(s)&&s%1!==0};n.a=o},function(r,n,a){var i=a(5),o=function(s){return Object(i.a)(s)&&s%2===0};n.a=o},function(r,n,a){var i=a(5),o=Number.isInteger?Number.isInteger:function(s){return Object(i.a)(s)&&s%1===0};n.a=o},function(r,n,a){var i=a(5),o=function(s){return Object(i.a)(s)&&s<0};n.a=o},function(r,n,a){n.a=o;var i=1e-5;function o(s,l,u){return u===void 0&&(u=i),Math.abs(s-l)<u}},function(r,n,a){var i=a(5),o=function(s){return Object(i.a)(s)&&s%2!==0};n.a=o},function(r,n,a){var i=a(5),o=function(s){return Object(i.a)(s)&&s>0};n.a=o},function(r,n,a){var i=a(0),o=a(2);n.a=function(s,l){if(Object(i.a)(s)){for(var u,c=-1/0,f=0;f<s.length;f++){var d=s[f],h=Object(o.a)(l)?l(d):d[l];h>c&&(u=d,c=h)}return u}}},function(r,n,a){var i=a(0),o=a(2);n.a=function(s,l){if(Object(i.a)(s)){for(var u,c=1/0,f=0;f<s.length;f++){var d=s[f],h=Object(o.a)(l)?l(d):d[l];h<c&&(u=d,c=h)}return u}}},function(r,n,a){var i=function(o,s){return(o%s+s)%s};n.a=i},function(r,n,a){var i=180/Math.PI,o=function(s){return i*s};n.a=o},function(r,n,a){n.a=parseInt},function(r,n,a){var i=Math.PI/180,o=function(s){return i*s};n.a=o},function(r,n,a){var i=a(8);n.a=i.a},function(r,n,a){var i=a(29);n.a=i.a},function(r,n,a){var i=a(13),o=a(15);n.a=function(s,l){return Object(i.a)(Object(o.a)(s),l)}},function(r,n,a){var i=a(9),o=function(s){return Object(i.a)(s).toLowerCase()};n.a=o},function(r,n,a){var i=a(9),o=function(s){var l=Object(i.a)(s);return l.charAt(0).toLowerCase()+l.substring(1)};n.a=o},function(r,n,a){function i(o,s){return!o||!s?o:o.replace(/\\?\{([^{}]+)\}/g,function(l,u){return l.charAt(0)==="\\"?l.slice(1):s[u]===void 0?"":s[u]})}n.a=i},function(r,n,a){var i=a(9),o=function(s){return Object(i.a)(s).toUpperCase()};n.a=o},function(r,n,a){var i=a(9),o=function(s){var l=Object(i.a)(s);return l.charAt(0).toUpperCase()+l.substring(1)};n.a=o},function(r,n,a){var i=a(3),o=function(s){return Object(i.a)(s,"Arguments")};n.a=o},function(r,n,a){var i=a(3),o=function(s){return Object(i.a)(s,"Boolean")};n.a=o},function(r,n,a){var i=a(3),o=function(s){return Object(i.a)(s,"Date")};n.a=o},function(r,n,a){var i=a(3),o=function(s){return Object(i.a)(s,"Error")};n.a=o},function(r,n,a){var i=a(5);n.a=function(o){return Object(i.a)(o)&&isFinite(o)}},function(r,n,a){var i=function(o){return o===null};n.a=i},function(r,n,a){var i=a(3),o=function(s){return Object(i.a)(s,"RegExp")};n.a=o},function(r,n,a){var i=function(o){return o===void 0};n.a=i},function(r,n,a){var i=function(o){return o instanceof Element||o instanceof HTMLDocument};n.a=i},function(r,n,a){n.a=i;function i(o){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(l){return setTimeout(l,16)};return s(o)}},function(r,n,a){n.a=i;function i(o){var s=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;s(o)}},function(r,n,a){var i=a(16),o=a(2),s=function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];for(var c=l[0],f=1;f<l.length;f++){var d=l[f];Object(o.a)(d)&&(d=d.prototype),Object(i.a)(c.prototype,d)}};n.a=s},function(r,n,a){var i=a(0),o=function(s){if(typeof s!="object"||s===null)return s;var l;if(Object(i.a)(s)){l=[];for(var u=0,c=s.length;u<c;u++)typeof s[u]=="object"&&s[u]!=null?l[u]=o(s[u]):l[u]=s[u]}else{l={};for(var f in s)typeof s[f]=="object"&&s[f]!=null?l[f]=o(s[f]):l[f]=s[f]}return l};n.a=o},function(r,n,a){function i(o,s,l){var u;return function(){var c=this,f=arguments,d=function(){u=null,l||o.apply(c,f)},h=l&&!u;clearTimeout(u),u=setTimeout(d,s),h&&o.apply(c,f)}}n.a=i},function(r,n,a){var i=a(0),o=a(10),s=5;function l(c,f,d,h){d=d||0,h=h||s;for(var v in f)if(f.hasOwnProperty(v)){var p=f[v];p!==null&&Object(o.a)(p)?(Object(o.a)(c[v])||(c[v]={}),d<h?l(c[v],p,d+1,h):c[v]=f[v]):Object(i.a)(p)?(c[v]=[],c[v]=c[v].concat(p)):p!==void 0&&(c[v]=p)}}var u=function(c){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];for(var h=0;h<f.length;h+=1)l(c,f[h]);return c};n.a=u},function(r,n,a){var i=a(16),o=a(2),s=function(l,u,c,f){Object(o.a)(u)||(c=u,u=l,l=function(){});var d=Object.create?function(v,p){return Object.create(v,{constructor:{value:p}})}:function(v,p){function m(){}m.prototype=v;var g=new m;return g.constructor=p,g},h=d(u.prototype,l);return l.prototype=Object(i.a)(h,l.prototype),l.superclass=d(u.prototype,u),Object(i.a)(h,c),Object(i.a)(l,f),l};n.a=s},function(r,n,a){var i=a(1),o=function(s,l){if(!Object(i.a)(s))return-1;var u=Array.prototype.indexOf;if(u)return u.call(s,l);for(var c=-1,f=0;f<s.length;f++)if(s[f]===l){c=f;break}return c};n.a=o},function(r,n,a){var i=a(7),o=a(1),s=a(30),l=a(31),u=Object.prototype.hasOwnProperty;function c(f){if(Object(i.a)(f))return!0;if(Object(o.a)(f))return!f.length;var d=Object(s.a)(f);if(d==="Map"||d==="Set")return!f.size;if(Object(l.a)(f))return!Object.keys(f).length;for(var h in f)if(u.call(f,h))return!1;return!0}n.a=c},function(r,n,a){var i=a(2),o=a(33);n.a=function(s,l,u){return Object(i.a)(u)?!!u(s,l):Object(o.a)(s,l)}},function(r,n,a){var i=a(1),o=function(s,l){if(!Object(i.a)(s))return s;for(var u=[],c=0;c<s.length;c++){var f=s[c];u.push(l(f,c))}return u};n.a=o},function(r,n,a){var i=a(7),o=a(12),s=function(l){return l};n.a=function(l,u){u===void 0&&(u=s);var c={};return Object(o.a)(l)&&!Object(i.a)(l)&&Object.keys(l).forEach(function(f){c[f]=u(l[f],f)}),c}},function(r,n,a){var i=a(4);n.a=function(o,s,l){for(var u=0,c=Object(i.a)(s)?s.split("."):s;o&&u<c.length;)o=o[c[u++]];return o===void 0||u<c.length?l:o}},function(r,n,a){var i=a(12),o=a(4),s=a(5);n.a=function(l,u,c){var f=l,d=Object(o.a)(u)?u.split("."):u;return d.forEach(function(h,v){v<d.length-1?(Object(i.a)(f[h])||(f[h]=Object(s.a)(d[v+1])?[]:{}),f=f[h]):f[h]=c}),l}},function(r,n,a){var i=a(8),o=a(10),s=Object.prototype.hasOwnProperty;n.a=function(l,u){if(l===null||!Object(o.a)(l))return{};var c={};return Object(i.a)(u,function(f){s.call(l,f)&&(c[f]=l[f])}),c}},function(r,n,a){var i=a(25);n.a=function(o,s){return Object(i.a)(o,function(l,u,c){return s.includes(c)||(l[c]=u),l},{})}},function(r,n,a){n.a=function(i,o,s){var l,u,c,f,d=0;s||(s={});var h=function(){d=s.leading===!1?0:Date.now(),l=null,f=i.apply(u,c),l||(u=c=null)},v=function(){var p=Date.now();!d&&s.leading===!1&&(d=p);var m=o-(p-d);return u=this,c=arguments,m<=0||m>o?(l&&(clearTimeout(l),l=null),d=p,f=i.apply(u,c),l||(u=c=null)):!l&&s.trailing!==!1&&(l=setTimeout(h,m)),f};return v.cancel=function(){clearTimeout(l),d=0,l=u=c=null},v}},function(r,n,a){var i=a(1);n.a=function(o){return Object(i.a)(o)?Array.prototype.slice.call(o):[]}},function(r,n,a){var i={};n.a=function(o){return o=o||"g",i[o]?i[o]+=1:i[o]=1,o+i[o]}},function(r,n,a){n.a=function(){}},function(r,n,a){n.a=function(i){return i}},function(r,n,a){n.a=s;var i=a(7),o=a(1);function s(l){return Object(i.a)(l)?0:Object(o.a)(l)?l.length:Object.keys(l).length}},function(r,n,a){n.a=i;function i(){for(var o=0,s=0,l=arguments.length;s<l;s++)o+=arguments[s].length;for(var u=Array(o),c=0,s=0;s<l;s++)for(var f=arguments[s],d=0,h=f.length;d<h;d++,c++)u[c]=f[d];return u}},function(r,n,a){var i=a(4),o=a(9),s=a(34);n.a=function(l,u,c,f){f===void 0&&(f="...");var d=16,h=Object(s.a)(f,c),v=Object(i.a)(l)?l:Object(o.a)(l),p=u,m=[],g,b;if(Object(s.a)(l,c)<=u)return l;for(;g=v.substr(0,d),b=Object(s.a)(g,c),!(b+h>p&&b>p);)if(m.push(g),p-=b,v=v.substr(d),!v)return m.join("");for(;g=v.substr(0,1),b=Object(s.a)(g,c),!(b+h>p);)if(m.push(g),p-=b,v=v.substr(1),!v)return m.join("");return""+m.join("")+f}},function(r,n,a){var i=function(){function o(){this.map={}}return o.prototype.has=function(s){return this.map[s]!==void 0},o.prototype.get=function(s,l){var u=this.map[s];return u===void 0?l:u},o.prototype.set=function(s,l){this.map[s]=l},o.prototype.clear=function(){this.map={}},o.prototype.delete=function(s){delete this.map[s]},o.prototype.size=function(){return Object.keys(this.map).length},o}();n.a=i},function(r,n){function a(c,f,d,h){h===void 0&&(h=[]);var v=this;v.w=c||0,v.h=f||0,v.y=d||0,v.x=0,v.c=h||[],v.cs=h.length,v.prelim=0,v.mod=0,v.shift=0,v.change=0,v.tl=null,v.tr=null,v.el=null,v.er=null,v.msel=0,v.mser=0}a.fromNode=function(c,f){if(!c)return null;var d=[];return c.children.forEach(function(h){d.push(a.fromNode(h,f))}),f?new a(c.height,c.width,c.x,d):new a(c.width,c.height,c.y,d)};function i(c,f,d){d?c.y+=f:c.x+=f,c.children.forEach(function(h){i(h,f,d)})}function o(c,f){var d=f?c.y:c.x;return c.children.forEach(function(h){d=Math.min(o(h,f),d)}),d}function s(c,f){var d=o(c,f);i(c,-d,f)}function l(c,f,d){d?f.y=c.x:f.x=c.x,c.c.forEach(function(h,v){l(h,f.children[v],d)})}function u(c,f,d){d=0,f?(c.x=d,d+=c.width):(c.y=d,d+=c.height),c.children.forEach(function(h){u(h,f,d)})}r.exports=function(c,f){f===void 0&&(f={});var d=f.isHorizontal;function h(A){if(A.cs===0){v(A);return}h(A.c[0]);for(var O=M(y(A.c[0].el),0,null),P=1;P<A.cs;++P){h(A.c[P]);var R=y(A.c[P].er);p(A,P,O),O=M(R,P,O)}x(A),v(A)}function v(A){A.cs===0?(A.el=A,A.er=A,A.msel=A.mser=0):(A.el=A.c[0].el,A.msel=A.c[0].msel,A.er=A.c[A.cs-1].er,A.mser=A.c[A.cs-1].mser)}function p(A,O,P){for(var R=A.c[O-1],N=R.mod,L=A.c[O],B=L.mod;R!==null&&L!==null;){y(R)>P.low&&(P=P.nxt);var I=N+R.prelim+R.w-(B+L.prelim);I>0&&(B+=I,m(A,O,P.index,I));var D=y(R),z=y(L);D<=z&&(R=b(R),R!==null&&(N+=R.mod)),D>=z&&(L=g(L),L!==null&&(B+=L.mod))}!R&&L?w(A,O,L,B):R&&!L&&_(A,O,R,N)}function m(A,O,P,R){A.c[O].mod+=R,A.c[O].msel+=R,A.c[O].mser+=R,C(A,O,P,R)}function g(A){return A.cs===0?A.tl:A.c[0]}function b(A){return A.cs===0?A.tr:A.c[A.cs-1]}function y(A){return A.y+A.h}function w(A,O,P,R){var N=A.c[0].el;N.tl=P;var L=R-P.mod-A.c[0].msel;N.mod+=L,N.prelim-=L,A.c[0].el=A.c[O].el,A.c[0].msel=A.c[O].msel}function _(A,O,P,R){var N=A.c[O].er;N.tr=P;var L=R-P.mod-A.c[O].mser;N.mod+=L,N.prelim-=L,A.c[O].er=A.c[O-1].er,A.c[O].mser=A.c[O-1].mser}function x(A){A.prelim=(A.c[0].prelim+A.c[0].mod+A.c[A.cs-1].mod+A.c[A.cs-1].prelim+A.c[A.cs-1].w)/2-A.w/2}function S(A,O){O+=A.mod,A.x=A.prelim+O,T(A);for(var P=0;P<A.cs;P++)S(A.c[P],O)}function C(A,O,P,R){if(P!==O-1){var N=O-P;A.c[P+1].shift+=R/N,A.c[O].shift-=R/N,A.c[O].change-=R-R/N}}function T(A){for(var O=0,P=0,R=0;R<A.cs;R++)O+=A.c[R].shift,P+=O+A.c[R].change,A.c[R].mod+=P}function M(A,O,P){for(;P!==null&&A>=P.low;)P=P.nxt;return{low:A,index:O,nxt:P}}u(c,d);var k=a.fromNode(c,d);return h(k),S(k,0),l(k,c,d),s(c,d),c}},function(r,n,a){function i(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,o(v,p)}function o(v,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},o(v,p)}var s=a(11),l=a(121),u=a(17),c=a(6),f=function(v){i(p,v);function p(){return v.apply(this,arguments)||this}var m=p.prototype;return m.execute=function(){var b=this;return b.rootNode.width=0,u(b.rootNode,b.options,l)},p}(s),d={};function h(v,p){return p=c.assign({},d,p),new f(v,p).execute()}r.exports=h},function(r,n,a){var i=a(6);function o(u,c){c===void 0&&(c=[]);var f=this;f.x=f.y=0,f.leftChild=f.rightChild=null,f.height=0,f.children=c}var s={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function l(u,c,f){f?(c.x=u.x,c.y=u.y):(c.x=u.y,c.y=u.x),u.children.forEach(function(d,h){l(d,c.children[h],f)})}r.exports=function(u,c){c===void 0&&(c={}),c=i.assign({},s,c);var f=0;function d(g){if(!g)return null;g.width=0,g.depth&&g.depth>f&&(f=g.depth);var b=g.children,y=b.length,w=new o(g.height,[]);return b.forEach(function(_,x){var S=d(_);w.children.push(S),x===0&&(w.leftChild=S),x===y-1&&(w.rightChild=S)}),w.originNode=g,w.isLeaf=g.isLeaf(),w}function h(g){if(g.isLeaf||g.children.length===0)g.drawingDepth=f;else{var b=g.children.map(function(w){return h(w)}),y=Math.min.apply(null,b);g.drawingDepth=y-1}return g.drawingDepth}var v;function p(g){g.x=g.drawingDepth*c.rankSep,g.isLeaf?(g.y=0,v&&(g.y=v.y+v.height+c.nodeSep,g.originNode.parent!==v.originNode.parent&&(g.y+=c.subTreeSep)),v=g):(g.children.forEach(function(b){p(b)}),g.y=(g.leftChild.y+g.rightChild.y)/2)}var m=d(u);return h(m),p(m),l(m,u,c.isHorizontal),u}},function(r,n,a){function i(m,g){m.prototype=Object.create(g.prototype),m.prototype.constructor=m,o(m,g)}function o(m,g){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,w){return y.__proto__=w,y},o(m,g)}var s=a(11),l=a(123),u=a(35),c=a(6),f=["LR","RL","H"],d=f[0],h=function(m){i(g,m);function g(){return m.apply(this,arguments)||this}var b=g.prototype;return b.execute=function(){var w=this,_=w.options,x=w.rootNode;_.isHorizontal=!0;var S=_.indent,C=S===void 0?20:S,T=_.dropCap,M=T===void 0?!0:T,k=_.direction,A=k===void 0?d:k,O=_.align;if(A&&f.indexOf(A)===-1)throw new TypeError("Invalid direction: "+A);if(A===f[0])l(x,C,M,O);else if(A===f[1])l(x,C,M,O),x.right2left();else if(A===f[2]){var P=u(x,_),R=P.left,N=P.right;l(R,C,M,O),R.right2left(),l(N,C,M,O);var L=R.getBoundingBox();N.translate(L.width,0),x.x=N.x-x.width/2}return x},g}(s),v={};function p(m,g){return g=c.assign({},v,g),new h(m,g).execute()}r.exports=p},function(r,n,a){var i=a(6);function o(s,l,u,c,f){var d=typeof u=="function"?u(s):u*s.depth;if(!c)try{if(s.id===s.parent.children[0].id){s.x+=d,s.y=l?l.y:0;return}}catch{}if(s.x+=d,l){if(s.y=l.y+i.getHeight(l,s,f),l.parent&&s.parent.id!==l.parent.id){var h=l.parent,v=h.y+i.getHeight(h,s,f);s.y=v>s.y?v:s.y}}else s.y=0}r.exports=function(s,l,u,c){var f=null;s.eachNode(function(d){o(d,f,l,u,c),f=d})}},function(r,n,a){function i(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,o(v,p)}function o(v,p){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,b){return g.__proto__=b,g},o(v,p)}var s=a(11),l=a(125),u=a(17),c=a(6),f=function(v){i(p,v);function p(){return v.apply(this,arguments)||this}var m=p.prototype;return m.execute=function(){var b=this;return u(b.rootNode,b.options,l)},p}(s),d={};function h(v,p){return p=c.assign({},d,p),new f(v,p).execute()}r.exports=h},function(r,n,a){var i=a(6);function o(u,c){var f=0;return u.children.length?u.children.forEach(function(d){f+=o(d,c)}):f=u.height,u._subTreeSep=c.getSubTreeSep(u.data),u.totalHeight=Math.max(u.height,f)+2*u._subTreeSep,u.totalHeight}function s(u){var c=u.children,f=c.length;if(f){c.forEach(function(g){s(g)});var d=c[0],h=c[f-1],v=h.y-d.y+h.height,p=0;if(c.forEach(function(g){p+=g.totalHeight}),v>u.height)u.y=d.y+v/2-u.height/2;else if(c.length!==1||u.height>p){var m=u.y+(u.height-v)/2-d.y;c.forEach(function(g){g.translate(0,m)})}else u.y=(d.y+d.height/2+h.y+h.height/2)/2-u.height/2}}var l={getSubTreeSep:function(){return 0}};r.exports=function(u,c){c===void 0&&(c={}),c=i.assign({},l,c),u.parent={x:0,width:0,height:0,y:0},u.BFTraverse(function(f){f.x=f.parent.x+f.parent.width}),u.parent=null,o(u,c),u.startY=0,u.y=u.totalHeight/2-u.height/2,u.eachNode(function(f){var d=f.children,h=d.length;if(h){var v=d[0];if(v.startY=f.startY+f._subTreeSep,h===1)v.y=f.y+f.height/2-v.height/2;else{v.y=v.startY+v.totalHeight/2-v.height/2;for(var p=1;p<h;p++){var m=d[p];m.startY=d[p-1].startY+d[p-1].totalHeight,m.y=m.startY+m.totalHeight/2-m.height/2}}}}),s(u)}}])})})(Z7);var KOe=Z7.exports;const vw=Ka(KOe);var a4=yi.traverseTree,XOe=function(t,r){var n;return t?pr(t)?n=function(i){return t}:n=t:n=function(i){return r||1},n},qOe=function(t,r){var n=[],a=[],i={},o=0;for(o=0;o<t.length;o++){var s=t[o];i[s.id]=o,n.push(s.x),n.push(s.y),n.push(0),n.push(0),a.push([])}for(o=0;o<r.length;o++){var l=r[o];a[i[l.source]].push(i[l.target]),a[i[l.target]].push(i[l.source])}var u=0;for(o=0;o<t.length;o++){var c=n.length,f=a[o],d=f.length;n[o*4+2]=c,n[o*4+3]=f.length,u=Math.max(u,f.length);for(var h=0;h<d;++h){var v=f[h];n.push(+v)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:u}},ZOe=function(t,r,n){var a=[],i=[],o={},s=0;for(s=0;s<t.length;s++){var l=t[s];o[l.id]=s,a.push(l.x),a.push(l.y),a.push(0),a.push(0),i.push([])}for(s=0;s<r.length;s++){var u=r[s];i[o[u.source]].push(o[u.target]),i[o[u.source]].push(n(u)),i[o[u.target]].push(o[u.source]),i[o[u.target]].push(n(u))}var c=0;for(s=0;s<t.length;s++){var f=a.length,d=i[s],h=d.length;a[s*4+2]=f,a[s*4+3]=h/2,c=Math.max(c,h/2);for(var v=0;v<h;++v){var p=d[v];a.push(+p)}}for(;a.length%4!==0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:c}},QOe=function(t,r,n,a){var i=[],o=[],s={},l=0;for(l=0;l<t.length;l++){var u=t[l];s[u.id]=l,i.push(u.x),i.push(u.y),i.push(0),i.push(0),o.push([])}for(l=0;l<r.length;l++){var c=r[l];o[s[c.source]].push(s[c.target]),o[s[c.source]].push(n(c)),o[s[c.source]].push(a(c)),o[s[c.source]].push(0),o[s[c.target]].push(s[c.source]),o[s[c.target]].push(n(c)),o[s[c.target]].push(a(c)),o[s[c.target]].push(0)}var f=0;for(l=0;l<t.length;l++){var d=i.length,h=o[l],v=h.length;i[l*4+2]=d+1048576*v/4,i[l*4+3]=0,f=Math.max(f,v/4);for(var p=0;p<v;++p){var m=h[p];i.push(+m)}}for(;i.length%4!==0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:f}},JOe=function(t,r){var n=[],a=t.length,i={};return r.forEach(function(o){t.forEach(function(s,l){if(i[o[s]]===void 0&&(i[o[s]]=Object.keys(i).length),n.push(i[o[s]]),l===a-1)for(;n.length%4!==0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(i).length}},eLe=function(t){for(var r=[],n=t.length,a=t[0].length,i=function(l){t.forEach(function(u,c){if(r.push(u[l]),c===n-1)for(;r.length%4!==0;)r.push(0)})},o=0;o<a;o++)i(o);return new Float32Array(r)},tLe=function(t,r){var n=["V","TB","BT"],a={x:1/0,y:1/0},i={x:-1/0,y:-1/0},o="x",s="y";r&&n.indexOf(r)>=0&&(s="x",o="y");var l=0;a4(t,function(f){return l++,f.x>i.x&&(i.x=f.x),f.x<a.x&&(a.x=f.x),f.y>i.y&&(i.y=f.y),f.y<a.y&&(a.y=f.y),!0});var u=Math.PI*2/l,c=i[s]-a[s];return c===0||a4(t,function(f){var d=(f[s]-a[s])/c*(Math.PI*2-u)+u,h=Math.abs(o==="x"?f.x-t.x:f.y-t.y);return f.x=h*Math.cos(d),f.y=h*Math.sin(d),!0}),t};const rLe=Object.freeze(Object.defineProperty({__proto__:null,arrayToTextureData:eLe,attributesToTextureData:JOe,buildTextureData:qOe,buildTextureDataWithOneEdgeAttr:ZOe,buildTextureDataWithTwoEdgeAttr:QOe,proccessToFunc:XOe,radialLayout:tLe},Symbol.toStringTag,{value:"Module"}));var Q7=function e(){return typeof window>"u"||typeof document>"u"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl")))}catch{return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var r=document.createElement("div");return r.id="webgl-error-message",r.style.fontFamily="monospace",r.style.fontSize="13px",r.style.fontWeight="normal",r.style.textAlign="center",r.style.background="#fff",r.style.color="#000",r.style.padding="1.5em",r.style.width="400px",r.style.margin="5em auto 0",this.webgl||(r.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),r},addGetWebGLMessage:function(r){r=r||{};var n=r.parent!==void 0?r.parent:document.body,a=r.id!==void 0?r.id:"oldie",i=e().getWebGLErrorMessage();i.id=a,n.appendChild(i)}}};const nLe=Object.freeze(Object.defineProperty({__proto__:null,gpuDetector:Q7},Symbol.toStringTag,{value:"Module"}));var J7=function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("firefox")>-1?"firefox":t.indexOf("safari")>-1?"safari":t.indexOf("opr")>-1?"opera":t.indexOf("chrome")>-1?"chrome":t.indexOf("trident")>-1?"ie 11":t.indexOf("ie")>-1?"ie":"unknown"};const aLe=Object.freeze(Object.defineProperty({__proto__:null,getBrowserName:J7},Symbol.toStringTag,{value:"Module"}));var Au=ee(ee(ee(ee(ee({},yi),Uge),rLe),nLe),aLe),iLe=Au.radialLayout,oLe=function(){function e(t){this.type=t.type,this.radial=t.radial,this.config=t}return e.prototype.init=function(t){var r=this;if(this.data=t,this.radial){this.layoutMethod=function(n){var a=vw[r.type](n,r.config);return iLe(a),a};return}this.layoutMethod=function(n){return vw[r.type](n,r.config)}},e.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},e.prototype.layout=function(t){return this.init(t),this.execute()},e}();fn.registerLayout("grid",fn.GridLayout);fn.registerLayout("random",fn.RandomLayout);fn.registerLayout("force",fn.ForceLayout);fn.registerLayout("circular",fn.CircularLayout);fn.registerLayout("dagre",fn.DagreLayout);fn.registerLayout("dagreCompound",fn.DagreCompoundLayout);fn.registerLayout("radial",fn.RadialLayout);fn.registerLayout("concentric",fn.ConcentricLayout);fn.registerLayout("mds",fn.MDSLayout);fn.registerLayout("fruchterman",fn.FruchtermanLayout);fn.registerLayout("fruchterman-gpu",fn.FruchtermanGPULayout);fn.registerLayout("gForce",fn.GForceLayout);fn.registerLayout("force2",fn.Force2Layout);fn.registerLayout("gForce-gpu",fn.GForceGPULayout);fn.registerLayout("comboForce",fn.ComboForceLayout);fn.registerLayout("comboCombined",fn.ComboCombinedLayout);fn.registerLayout("forceAtlas2",fn.ForceAtlas2Layout);var sLe=function(t,r){r.isCustomLayout=!0,fn.Layouts[t]=fn.registerLayout(t,r)},lLe=function(){function e(t,r){var n=t.toString(),a=new Blob(["importScripts('".concat(r,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(a))}return e}(),uLe=function(t){t===void 0&&(t="https://unpkg.com/@antv/layout@0.3.23/dist/layout.min.js");function r(){var a={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("force2",layout.Force2Layout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function i(s){var l=s.data.type;return l===a.RUN||l===a.GPURUN}function o(s){var l=this,u=s.data.type;switch(u){case a.RUN:{var c=s.data,f=c.nodes,d=c.edges,h=c.layoutCfg,v=h===void 0?{}:h,p=v.type,m=layout.getLayoutByName(p);if(!m){this.postMessage({type:a.ERROR,message:"layout ".concat(p," not found")});break}var g;v.onLayoutEnd=function(){l.postMessage({type:a.END,nodes:f}),g==null||g.destroy()},g=new m(v),g.init({nodes:f,edges:d}),g.execute();break}case a.GPURUN:{var b=s.data,y=b.nodes,d=b.edges,w=b.layoutCfg,v=w===void 0?{}:w,_=b.canvas,p=v.type,m=layout.getLayoutByName(p);if(!m){this.postMessage({type:a.ERROR,message:"layout ".concat(p," not found")});break}if(p.split("-")[1]!=="gpu"){this.postMessage({type:a.ERROR,message:"layout ".concat(p," does not support GPU")});break}var x=new m(v);x.init({nodes:y,edges:d}),x.executeWithWorker(_,this);break}}}onmessage=function(l){i(l)&&o(l)}}var n=new lLe(r,t);return n},ah={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function nM(e){"@babel/helpers - typeof";return nM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nM(e)}var i4=function(t){return setTimeout(t,16)},o4=function(t){return clearTimeout(t)},Hy={requestAnimationFrame:function(t){var r=typeof window<"u"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||i4;return r(t)},cancelAnimationFrame:function(t){var r=typeof window<"u"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||o4;return r(t)}},cLe=["fruchterman","gForce"],fLe=["force","grid","circular"],dLe=function(e){jr(t,e);function t(r){var n=e.call(this,r)||this;return n.graph=r,n.layoutCfg=r.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return t.prototype.initLayout=function(){},t.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker>"u"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=uLe(this.layoutCfg.workerScriptURL),this.worker)},t.prototype.stopWorker=function(){var r=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,r.requestId&&(Hy.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(Hy.cancelAnimationFrame(r.requestId2),r.requestId2=null))},t.prototype.execLayoutMethod=function(r,n){var a=this;return new Promise(function(i,o){return wo(a,void 0,void 0,function(){var s,l,u,c,f,p,d,h,v,p,m;return Eo(this,function(g){switch(g.label){case 0:if(s=this.graph,!s||s.get("destroyed"))return[2];l=r.type,r.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),i()},l&&this.isGPU&&(eW(l)?l="".concat(l,"-gpu"):console.warn("The '".concat(l,"' layout does not support GPU calculation for now, it will run in CPU."))),yi.isForce(l)?(u=r.onTick,c=r.animate,f=c===void 0&&(l==="force"||l==="force2"),p=function(){u&&u(),(c||f)&&s.refreshPositions()},r.tick=p):(l==="comboForce"||l==="comboCombined")&&(r.comboTrees=s.get("comboTrees")),d=!1;try{h=new fn.Layouts[l](r),this.layoutMethods[n]&&this.layoutMethods[n].destroy(),this.layoutMethods[n]=h}catch{console.warn("The layout method: '".concat(l,"' does not exist! Please specify it first.")),o()}return d=h.enableTick,d&&(v=r.onTick,p=function(){v&&v(),s.refreshPositions()},h.tick=p),m=this.filterLayoutData(this.data,r),pLe(m,n),h.init(m),s.emit("beforesublayout",{type:l}),[4,h.execute()];case 1:return g.sent(),h.isCustomLayout&&r.onLayoutEnd&&r.onLayoutEnd(),[2]}})})})},t.prototype.updateLayoutMethod=function(r,n){var a=this;return new Promise(function(i,o){return wo(a,void 0,void 0,function(){var s,l,u,c,f,d,h;return Eo(this,function(v){switch(v.label){case 0:return s=this.graph,l=n==null?void 0:n.type,n.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),i()},yi.isForce(l)&&(u=n.onTick,c=n.animate,f=c===void 0&&(l==="force"||l==="force2"),d=function(){u==null||u(),(c||f)&&s.refreshPositions()},n.tick=d),h=this.filterLayoutData(this.data,n),r.init(h),r.updateCfg(n),s.emit("beforesublayout",{type:l}),[4,r.execute()];case 1:return v.sent(),r.isCustomLayout&&n.onLayoutEnd&&n.onLayoutEnd(),[2]}})})})},t.prototype.layout=function(r){var n=this,a,i=this.graph;if(!(!i||i.get("destroyed"))){this.data=this.setDataFromGraph();var o=this.data,s=o.nodes,l=o.hiddenNodes;if(!s)return!1;var u=i.get("width"),c=i.get("height"),f={};Object.assign(f,{width:u,height:c,center:[u/2,c/2]},this.layoutCfg),this.layoutCfg=f;var d=f.type,h=!1;(a=this.layoutMethods)===null||a===void 0||a.forEach(function(_){var x;return h=!!(!((x=_.nodes)===null||x===void 0)&&x.length)||h});var v=this.destoryLayoutMethods();i.emit("beforelayout");var p=Promise.resolve();h&&d&&(v==null?void 0:v.length)===1&&v[0]===d?this.tweakInit():p=this.initPositions(f.center,s);var m=this.initPositions(f.center,l);m.then(),this.isGPU=s4(f,d);var g=f.onLayoutEnd,b=f.layoutEndFormatted,y=f.adjust;if(b||(f.layoutEndFormatted=!0,f.onAllLayoutEnd=function(){return wo(n,void 0,void 0,function(){return Eo(this,function(_){switch(_.label){case 0:return g&&g(s),this.refreshLayout(),y&&f.pipes?[4,this.adjustPipesBox(this.data,y)]:[3,2];case 1:_.sent(),this.refreshLayout(),_.label=2;case 2:return i.emit("afterlayout"),[2]}})})}),this.stopWorker(),f.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;var w=!1;return f.type?(w=!0,p=p.then(function(){return wo(n,void 0,void 0,function(){return Eo(this,function(_){switch(_.label){case 0:return[4,this.execLayoutMethod(f,0)];case 1:return[2,_.sent()]}})})})):f.pipes&&(w=!0,f.pipes.forEach(function(_,x){p=p.then(function(){return wo(n,void 0,void 0,function(){return Eo(this,function(S){switch(S.label){case 0:return[4,this.execLayoutMethod(_,x)];case 1:return[2,S.sent()]}})})})})),w?p.then(function(){f.onAllLayoutEnd&&f.onAllLayoutEnd(),r&&r()}).catch(function(_){console.warn("graph layout failed,",_)}):(i.refreshPositions(),r==null||r()),!1}},t.prototype.tweakInit=function(){var r=this,n=r.data,a=r.graph,i=n.nodes,o=n.edges;if(i!=null&&i.length){var s={};i.forEach(function(c){var f=c.x,d=c.y;!isNaN(f)&&!isNaN(d)&&(s[c.id]={x:f,y:d},c.mass=c.mass||2)}),o.forEach(function(c){var f=c.source,d=c.target,h=s[f],v=s[d];!h&&v?s[f]={x:v.x+(Math.random()-.5)*80,y:v.y+(Math.random()-.5)*80}:!v&&h&&(s[d]={x:h.x+(Math.random()-.5)*80,y:h.y+(Math.random()-.5)*80})});var l=a.get("width"),u=a.get("height");i.forEach(function(c){var f=s[c.id]||{x:l/2+(Math.random()-.5)*20,y:u/2+(Math.random()-.5)*20};c.x=f.x,c.y=f.y})}},t.prototype.initWithPreset=function(r,n){var a=this;return new Promise(function(i,o){return wo(a,void 0,void 0,function(){var s,l,u,c,f,d,h;return Eo(this,function(v){switch(v.label){case 0:return s=this,l=s.layoutCfg,u=s.data,c=l.preset,!(c!=null&&c.type)||!fn.Layouts[c==null?void 0:c.type]?(n==null||n(),i(),[2,!1]):(f=s4(c,c.type),d=f?"".concat(c.type,"-gpu"):c.type,h=new fn.Layouts[d](c),delete l.preset,h.init(u),[4,h.execute()]);case 1:return v.sent(),r==null||r(),i(),[2,!0]}})})})},t.prototype.layoutWithWorker=function(r,n){var a=this,i=this,o=i.layoutCfg,s=i.graph,l=this.getWorker(),u=this.workerData;if(!l)return!1;u.requestId=null,u.requestId2=null,u.currentTick=null,u.currentTickData=null,s.emit("beforelayout");var c=Promise.resolve(),f=!1;if(o.type)f=!0,c=c.then(function(){return a.runWebworker(l,r,o)});else if(o.pipes){f=!0;for(var d=function(g){c=c.then(function(){return a.runWebworker(l,r,g)})},h=0,v=o.pipes;h<v.length;h++){var p=v[h];d(p)}}return f&&c.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd(),n==null||n()}).catch(function(m){console.error("layout failed",m)}),!0},t.prototype.runWebworker=function(r,n,a){var i=this,o=this.isGPU,s=this.filterLayoutData(n,a),l=s.nodes,u=s.edges,c=document.createElement("canvas"),f=o&&typeof window<"u"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in c,d=hLe(a,function(v){return typeof v!="function"});if(!f)r.postMessage({type:ah.RUN,nodes:l,edges:u,layoutCfg:d});else{var h=c.transferControlToOffscreen();d.type="".concat(d.type,"-gpu"),r.postMessage({type:ah.GPURUN,nodes:l,edges:u,layoutCfg:d,canvas:h},[h])}return new Promise(function(v,p){r.onmessage=function(m){i.handleWorkerMessage(v,p,m,s,a)}})},t.prototype.handleWorkerMessage=function(r,n,a,i,o){var s=this,l=s.graph,u=s.workerData,c=a.data,f=c.type,d=function(){o.onTick&&o.onTick()};switch(f){case ah.TICK:u.currentTick=c.currentTick,u.currentTickData=c,u.requestId||(u.requestId=Hy.requestAnimationFrame(function(){jx(i,c),l.refreshPositions(),d(),c.currentTick===c.totalTicks?r():u.currentTick===c.totalTicks&&(u.requestId2=Hy.requestAnimationFrame(function(){jx(i,u.currentTickData),l.refreshPositions(),u.requestId2=null,d(),r()})),u.requestId=null}));break;case ah.END:u.currentTick==null&&(jx(i,c),r());break;case ah.GPUEND:u.currentTick==null&&(vLe(i,c),r());break;case ah.ERROR:console.warn("Web-Worker layout error!",c.message),n();break;default:n();break}},t.prototype.updateLayoutCfg=function(r){var n=this,a=this,i=a.graph,o=a.layoutMethods;if(!(!i||i.get("destroyed"))){var s=r.disableTriggerLayout,l=Ga(r,["disableTriggerLayout"]),u=Cr({},this.layoutCfg,l);if(this.layoutCfg=u,!s){if(!(o!=null&&o.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(l.workerEnabled&&this.layoutWithWorker(this.data,null))){i.emit("beforelayout");var c=Promise.resolve(),f=!1;(o==null?void 0:o.length)===1?(f=!0,c=c.then(function(){return wo(n,void 0,void 0,function(){return Eo(this,function(d){switch(d.label){case 0:return[4,this.updateLayoutMethod(o[0],u)];case 1:return[2,d.sent()]}})})})):o!=null&&o.length&&(f=!0,o.forEach(function(d,h){var v=u.pipes[h];c=c.then(function(){return wo(n,void 0,void 0,function(){return Eo(this,function(p){switch(p.label){case 0:return[4,this.updateLayoutMethod(d,v)];case 1:return[2,p.sent()]}})})})})),f&&c.then(function(){u.onAllLayoutEnd&&u.onAllLayoutEnd()}).catch(function(d){console.warn("layout failed",d)})}}}},t.prototype.adjustPipesBox=function(r,n){var a=this;return new Promise(function(i){var o=r.nodes;o!=null&&o.length||i(),fLe.includes(n)||(console.warn("The adjust type ".concat(n," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),i());var s={center:a.layoutCfg.center,nodeSize:function(v){return Math.max(v.height,v.width)},preventOverlap:!0,onLayoutEnd:function(){}},l=a.getLayoutBBox(o),u=l.groupNodes,c=l.layoutNodes,f=un(c);s.onLayoutEnd=function(){c==null||c.forEach(function(h,v){var p,m,g,b=h.x-((p=f[v])===null||p===void 0?void 0:p.x),y=h.y-((m=f[v])===null||m===void 0?void 0:m.y);(g=u[v])===null||g===void 0||g.forEach(function(w){w.x+=b,w.y+=y})}),i()};var d=new fn.Layouts[n](s);d.layout({nodes:c})})},t.prototype.destroy=function(){this.destoryLayoutMethods();var r=this.worker;r&&(r.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},t}(Kj);function jx(e,t){for(var r=e.nodes,n=t.nodes,a=r.length,i=0;i<a;i++){var o=r[i];o.x=n[i].x,o.y=n[i].y}}function hLe(e,t){var r={};return e&&nM(e)==="object"?(Object.keys(e).forEach(function(n){e.hasOwnProperty(n)&&t(e[n])&&(r[n]=e[n])}),r):e}function vLe(e,t){for(var r=e.nodes,n=t.vertexEdgeData,a=r.length,i=0;i<a;i++){var o=r[i],s=n[4*i],l=n[4*i+1];o.x=s,o.y=l}}function pLe(e,t){var r;if(!((r=e==null?void 0:e.nodes)===null||r===void 0)&&r.length){var n=e.nodes;n.forEach(function(a){a.layoutOrder=t})}}function eW(e){return cLe.includes(e)}function s4(e,t){var r=t;t&&t.split("-")[1]==="gpu"&&(r=t.split("-")[0],e.gpuEnabled=!0);var n=!1;return e.gpuEnabled&&(n=!0,Q7().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),n=!1)),n&&!eW(r)&&(console.warn("The '".concat(r,"' layout does not support GPU calculation for now, it will run in CPU.")),n=!1),n}var l4=vs,gLe="svg",tW=function(e){jr(t,e);function t(r){var n=e.call(this,r)||this,a=n.get("defaultNode");return a||n.set("defaultNode",{type:"circle"}),a.type||(a.type="circle",n.set("defaultNode",a)),n.destroyed=!1,n}return t.prototype.initLayoutController=function(){var r=new dLe(this);this.set({layoutController:r})},t.prototype.initEventController=function(){var r=new Zge(this);this.set({eventController:r})},t.prototype.initCanvas=function(){var r=this.get("container");if(typeof r=="string"&&(r=document.getElementById(r),this.set("container",r)),!r)throw new Error("invalid container");var n=r.clientWidth,a=r.clientHeight,i=this.get("width")||n,o=this.get("height")||a;!this.get("width")&&!this.get("height")&&(this.set("width",n),this.set("height",a));var s=this.get("renderer"),l;if(s===gLe)l=new ig({container:r,width:i,height:o});else{var u={container:r,width:i,height:o},c=this.get("pixelRatio");c&&(u.pixelRatio=c,window.devicePixelRatio=c),l=new tu(u)}this.set("canvas",l)},t.prototype.initPlugins=function(){var r=this;pt(r.get("plugins"),function(n){!n.destroyed&&n.initPlugin&&n.initPlugin(r)})},t.prototype.downloadImageWatermark=function(r,n,a,i){return wo(this,void 0,void 0,function(){var o,s,l;return Eo(this,function(u){switch(u.label){case 0:return o=r.style.backgroundImage,s=o.slice(5,o.length-2),l=new Image,l.src=s,[4,new Promise(function(c){l.onload=function(){var f=n.createPattern(l,"repeat");n.rect(0,0,a,i),n.fillStyle=f,n.fill(),c("")}})];case 1:return u.sent(),[2]}})})},t.prototype.asyncToDataUrl=function(r,n,a,i,o,s){var l=this,u=document.querySelector(".g6-graph-watermarker"),c=this.get("canvas"),f=c.getRenderer(),d=s||c.get("el"),h="";r||(r="image/png"),setTimeout(function(){return wo(l,void 0,void 0,function(){var v,p,m,g,b,y,w,_,x,S;return Eo(this,function(C){switch(C.label){case 0:return f!=="svg"?[3,1]:(v=d.cloneNode(!0),p=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),m=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",p),m.replaceChild(v,m.documentElement),g=new XMLSerializer().serializeToString(m),h="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(g)),[3,4]);case 1:return b=void 0,y=d.getContext("2d"),w=i||this.get("width"),_=o||this.get("height"),x=void 0,u?[4,this.downloadImageWatermark(u,y,w,_)]:[3,3];case 2:C.sent(),C.label=3;case 3:if(n){S=typeof window<"u"?window.devicePixelRatio:1;try{b=y.getImageData(0,0,w*S,_*S),x=y.globalCompositeOperation,y.globalCompositeOperation="destination-over",y.fillStyle=n,y.fillRect(0,0,w,_)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}h=d.toDataURL(r),n&&(y.clearRect(0,0,w,_),y.putImageData(b,0,0),y.globalCompositeOperation=x),C.label=4;case 4:return a&&a(h),[2]}})})},16)},t.prototype.toDataURL=function(r,n){var a=this.get("canvas"),i=a.getRenderer(),o=a.get("el");r||(r="image/png");var s="";if(i==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);c.replaceChild(l,c.documentElement);var f=new XMLSerializer().serializeToString(c);s="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(f))}else{var d=void 0,h=o.getContext("2d"),v=Math.max(this.get("width"),500),p=Math.max(this.get("height"),500),m=void 0;if(n){var g=typeof window<"u"&&window.devicePixelRatio||1;try{d=h.getImageData(0,0,v*g,p*g),m=h.globalCompositeOperation,h.globalCompositeOperation="destination-over",h.fillStyle=n,h.fillRect(0,0,v,p)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}s=o.toDataURL(r),n&&(h.clearRect(0,0,v,p),h.putImageData(d,0,0),h.globalCompositeOperation=m)}return s},t.prototype.toFullDataURL=function(r,n,a){var i=this.get("group").getCanvasBBox(),o=i.height,s=i.width,l=this.get("renderer"),u=Kn('<div id="virtual-image"></div>'),c=a?a.backgroundColor:void 0,f=a?a.padding:void 0;f?pr(f)&&(f=[f,f,f,f]):f=[0,0,0,0];var d=o+f[0]+f[2],h=s+f[1]+f[3],v={container:u,height:d,width:h,quickHit:!0},p=l==="svg"?new ig(v):new tu(v),m=this.get("group"),g=m.clone(),b=un(g.getMatrix());b||(b=[1,0,0,0,1,0,0,0,1]);var y=(i.maxX+i.minX)/2,w=(i.maxY+i.minY)/2;b=l4(b,[["t",-y,-w],["t",s/2+f[3],o/2+f[0]]]),g.resetMatrix(),g.setMatrix(b),p.add(g);var _=p.get("el"),x="";n||(n="image/png"),setTimeout(function(){if(l==="svg"){var S=_.cloneNode(!0),C=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),T=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",C);T.replaceChild(S,T.documentElement);var M=new XMLSerializer().serializeToString(T);x="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(M))}else{var k=void 0,A=_.getContext("2d"),O=void 0;if(c){var P=typeof window<"u"?window.devicePixelRatio:1;try{k=A.getImageData(0,0,h*P,d*P),O=A.globalCompositeOperation,A.globalCompositeOperation="destination-over",A.fillStyle=c,A.fillRect(0,0,h,d)}catch{console.error("Download image failed. Out of memory at ImageData creation")}}x=_.toDataURL(n),c&&(A.clearRect(0,0,h,d),A.putImageData(k,0,0),A.globalCompositeOperation=O)}r&&r(x)},16)},t.prototype.downloadFullImage=function(r,n,a){var i=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),c=Kn('<div id="virtual-image"></div>'),f=document.querySelector(".g6-graph-watermarker"),d=a?a.backgroundColor:void 0,h=a?a.padding:void 0;h?pr(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var v=s+h[0]+h[2],p=l+h[1]+h[3];if(f){var m=this.get("graphWaterMarker").cfg||{},g=m.width,b=m.height;v=Math.ceil(v/b)*b,p=Math.ceil(p/g)*g}var y={container:c,height:v,width:p},w=u==="svg"?new ig(y):new tu(y),_=this.get("group"),x=Yge(_),S=un(x.getMatrix());S||(S=[1,0,0,0,1,0,0,0,1]);var C=(o.maxX+o.minX)/2,T=(o.maxY+o.minY)/2;S=l4(S,[["t",-C,-T],["t",l/2+h[3],s/2+h[0]]]),x.resetMatrix(),x.setMatrix(S),w.add(x);var M=w.get("el");n||(n="image/png"),this.asyncToDataUrl(n,d,function(k){var A=document.createElement("a"),O=(r||"graph")+(u==="svg"?".svg":".".concat(n.split("/")[1]));i.dataURLToImage(k,u,A,O);var P=document.createEvent("MouseEvents");P.initEvent("click",!1,!1),A.dispatchEvent(P)},p,v,M)},t.prototype.downloadImage=function(r,n,a){var i=this,o=this;o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();n||(n="image/png");var u=(r||"graph")+(l==="svg"?".svg":".".concat(n.split("/")[1])),c=document.createElement("a");o.asyncToDataUrl(n,a,function(f){i.dataURLToImage(f,l,c,u);var d=document.createEvent("MouseEvents");d.initEvent("click",!1,!1),c.dispatchEvent(d)})},t.prototype.dataURLToImage=function(r,n,a,i){if(!r||r==="data:"){console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items");return}if(typeof window<"u")if(window.Blob&&window.URL&&n!=="svg"){var o=r.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),c=u.length,f=new Uint8Array(c);c--;)f[c]=u.charCodeAt(c);var d=new Blob([f],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(d,i):a.addEventListener("click",function(){a.download=i,a.href=window.URL.createObjectURL(d)})}else a.addEventListener("click",function(){a.download=i,a.href=r})},t.prototype.addPlugin=function(r){var n=this;r.destroyed||(n.get("plugins").push(r),r.initPlugin(n))},t.prototype.removePlugin=function(r){var n=this.get("plugins"),a=n.indexOf(r);a>=0&&(r.destroyPlugin(),n.splice(a,1))},t.prototype.setImageWaterMarker=function(r,n){r===void 0&&(r=Hf.waterMarkerImage);var a=this.get("container");Lt(a)&&(a=document.getElementById(a)),a.style.position||(a.style.position="relative");var i=this.get("graphWaterMarker"),o=zn({},Hf.imageWaterMarkerConfig,n),s=o.width,l=o.height,u=o.compatible,c=o.image;if(!r){var f=u?a:document.querySelector(".g6-graph-watermarker");f&&(f.style.cssText=void 0),i&&i.clear();return}if(i)i.clear();else{var d={container:a,width:s,height:l,capture:!1},h=this.get("pixelRatio");h&&(d.pixelRatio=h,window.devicePixelRatio=h),i=new tu(d),this.set("graphWaterMarker",i)}i.get("el").style.display="none";var v=i.get("context"),p=c.rotate,m=c.x,g=c.y;v.rotate(-p*Math.PI/180);var b=new Image;b.crossOrigin="anonymous",b.src=r,b.onload=function(){if(v.drawImage(b,m,g,c.width,c.height),v.rotate(p*Math.PI/180),u)a.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var y=document.querySelector(".g6-graph-watermarker");y||(y=document.createElement("div"),y.className="g6-graph-watermarker"),y.className="g6-graph-watermarker",i.destroyed||(y.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),a.appendChild(y))}}},t.prototype.setTextWaterMarker=function(r,n){var a=this.get("container");Lt(a)&&(a=document.getElementById(a)),a.style.position||(a.style.position="relative");var i=this.get("graphWaterMarker"),o=zn({},Hf.textWaterMarkerConfig,n),s=o.width,l=o.height,u=o.compatible,c=o.text;if(!(r!=null&&r.length)){var f=u?a:document.querySelector(".g6-graph-watermarker");f&&(f.style.cssText=void 0),i&&i.clear();return}if(i)i.clear();else{var d={container:a,width:s,height:l,capture:!1},h=this.get("pixelRatio");h&&(d.pixelRatio=h,window.devicePixelRatio=h),i=new tu(d),this.set("graphWaterMarker",i)}i.get("el").style.display="none";var v=i.get("context"),p=c.rotate,m=c.fill,g=c.fontFamily,b=c.fontSize,y=c.baseline,w=c.x,_=c.y,x=c.lineHeight;v.rotate(-p*Math.PI/180),v.font="".concat(b,"px ").concat(g),v.fillStyle=m,v.textBaseline=y;for(var S=Lt(r)?[r]:r,C=S.length-1;C>=0;C--)v.fillText(S[C],w,_+C*x);if(v.rotate(p*Math.PI/180),u)a.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var T=document.querySelector(".g6-graph-watermarker");T||(T=document.createElement("div"),T.className="g6-graph-watermarker"),T.style.cssText="background-image: url(".concat(i.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),a.appendChild(T)}},t.prototype.destroy=function(){var r,n,a,i;pt(this.get("plugins"),function(c){c.destroyPlugin()});var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var l=o[s];if(l){var u=l.parentElement;u&&u.removeChild(l)}}(r=this.get("eventController"))===null||r===void 0||r.destroy(),(n=this.get("layoutController"))===null||n===void 0||n.destroy(),(a=this.get("graphWaterMarker"))===null||a===void 0||a.destroy(),(i=document.querySelector(".g6-graph-watermarker"))===null||i===void 0||i.remove(),e.prototype.destroy.call(this)},t}(Uj);function aM(e){"@babel/helpers - typeof";return aM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aM(e)}function rW(e,t){if(t=new WeakMap,e===null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(aM(e)!=="object")return e;if(t.get(e))return t.get(e);var r=Array.isArray(e)?[]:{};t.set(e,r);for(var n in e)e.hasOwnProperty(n)&&e[n]!==void 0&&(r[n]=rW(e[n],t));return r}function mLe(e){try{return structuredClone(e)}catch{return rW(e)}}var yLe=Au.radialLayout,Vx=Au.traverseTree,bLe=function(e){jr(t,e);function t(r){var n=e.call(this,r)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return t.prototype.getLayout=function(){var r=this.get("layout");return r?typeof r=="function"?r:(r.type||(r.type="dendrogram"),r.direction||(r.direction=r.type==="indented"?"LR":"TB"),r.radial?function(n){var a=vw[r.type](n,r);return yLe(a),a}:function(n){return vw[r.type](n,r)}):null},t.indexOfChild=function(r,n){var a=-1;return pt(r,function(i,o){if(n===i.id)return a=o,!1}),a},t.prototype.getDefaultCfg=function(){var r=e.prototype.getDefaultCfg.call(this);return r.animate=!0,r},t.prototype.innerAddChild=function(r,n,a){var i=this,o=r.data;o&&(o.x=r.x,o.y=r.y,o.depth=r.depth);var s=i.addItem("node",o,!1);if(n){if(s.set("parent",n),a){var l=n.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=n.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var c=n.get("children");c?c.push(s):n.set("children",[s]),i.addItem("edge",{source:n.get("id"),target:s.get("id"),id:"".concat(n.get("id"),":").concat(s.get("id"))},!1)}return pt(r.children||[],function(f){i.innerAddChild(f,s,a)}),i.emit("afteraddchild",{item:s,parent:n}),s},t.prototype.innerUpdateChild=function(r,n,a){var i=this,o=i.findById(r.id);if(!o){i.innerAddChild(r,n,a);return}pt(r.children||[],function(v){i.innerUpdateChild(v,o,a)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var c=s[u].getModel();t.indexOfChild(r.children||[],c.id)===-1&&(i.innerRemoveChild(c.id,{x:r.x,y:r.y},a),s.splice(u,1))}}var f,d;o.get("originAttrs")&&(f=o.get("originAttrs").x,d=o.get("originAttrs").y);var h=o.getModel();a&&o.set("originAttrs",{x:h.x,y:h.y}),o.set("model",Object.assign(h,r.data)),(f!==r.x||d!==r.y)&&o.updatePosition({x:r.x,y:r.y})},t.prototype.innerRemoveChild=function(r,n,a){var i=this,o=i.findById(r);if(o)if(pt(o.get("children"),function(l){i.innerRemoveChild(l.getModel().id,n,a)}),a){var s=o.getModel();o.set("to",n),o.set("originAttrs",{x:s.x,y:s.y}),i.get("removeList").push(o)}else i.removeItem(o,!1)},t.prototype.changeData=function(r,n){n===void 0&&(n=!0);var a=this;this.getNodes().map(function(i){return a.clearItemStates(i)}),this.getEdges().map(function(i){return a.clearItemStates(i)}),n&&this.get("enabledStack")&&this.pushStack("changedata",{before:a.get("originData"),after:r||a.get("data")}),r?(a.data(r),a.render(!1)):a.layout(this.get("fitView"))},t.prototype.changeLayout=function(r){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var n=this;n.updateLayout(r)},t.prototype.updateLayout=function(r,n,a,i){i===void 0&&(i=!0);var o=this;if(!r){console.warn("layout cannot be null");return}if(i&&this.get("enabledStack")&&this.pushStack("layout",{before:o.get("layout"),after:r}),o.set("layout",r),o.set("layoutMethod",o.getLayout()),o.layout(),n){var s=a;s||(n==="begin"?s={x:0,y:0}:s={x:this.getWidth()/2,y:this.getHeight()/2}),s=this.getPointByCanvas(s.x,s.y);var l=this.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];s.x=s.x*l[0]+l[6],s.y=s.y*l[0]+l[7];var u=this.getGroup().getCanvasBBox(),c=u.minX,f=u.maxX,d=u.minY,h=u.maxY,v={x:(c+f)/2,y:(d+h)/2};n==="begin"&&(v.x=c,v.y=d),this.translate(s.x-v.x,s.y-v.y)}},t.prototype.refreshLayout=function(r){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var n=this;n.layout(r)},t.prototype.layout=function(r){var n=this,a=this,i=a.get("data"),o=a.get("layoutMethod"),s=a.get("layout"),l=i;if(s!=null&&s.excludeInvisibles){i=un(a.get("data"));var u={};Vx(i,function(d){var h=d.children;if(!(h!=null&&h.length))return!0;for(var v=h.length-1;v>=0;v--){var p=n.findById(h[v].id),m=p?!p.isVisible():h[v].visible===!1;m&&(u[d.id]=u[d.id]||[],u[d.id].push({idx:v,child:h.splice(v,1)[0]}))}}),l=o?o(i,a.get("layout")):i,Vx(l,function(d){var h=u[d.id];if(h!=null&&h.length)for(var v=h.length-1;v>=0;v--){var p=h[v],m=p.idx,g=p.child;d.children.splice(m,0,g)}})}else l=o?o(i,a.get("layout")):i;var c=a.get("animate");if(a.emit("beforerefreshlayout",{data:i,layoutData:l}),a.emit("beforelayout"),a.innerUpdateChild(l,void 0,c),r){var f=a.get("viewController");f.fitView()}c?a.layoutAnimate(l):(a.refresh(),a.paint()),a.emit("afterrefreshlayout",{data:i,layoutData:l}),a.emit("afterlayout")},t.prototype.addChild=function(r,n,a){a===void 0&&(a=!0);var i=this;i.emit("beforeaddchild",{model:r,parent:n}),Lt(n)||(n=n.get("id"));var o=i.findDataById(n);if(o){o.children||(o.children=[]),o.children.push(r);var s=i.findById(n);s.refresh(),i.changeData(void 0,a)}},t.prototype.updateChildren=function(r,n,a){a===void 0&&(a=!0);var i=this,o=i.findById(n);if(!n||!o){console.warn("Update children failed! There is no node with id '".concat(n,"'"));return}var s=i.findDataById(n);s.children=r,o.refresh(),i.changeData(void 0,a)},t.prototype.updateChild=function(r,n,a){a===void 0&&(a=!0);var i=this;if(!n||!i.findById(n)){i.changeData(r,a);return}var o=i.findDataById(n),s=i.findById(r.id);if(o.children||(o.children=[]),!s)o.children.push(r);else{var l=t.indexOfChild(o.children,r.id);l>-1&&(o.children[l]=r)}var u=i.findById(n);u==null||u.refresh(),i.changeData(void 0,a)},t.prototype.removeChild=function(r,n){n===void 0&&(n=!0);var a=this,i=a.findById(r),o;if(i?o=i==null?void 0:i.get("parent"):o=a.getNodes().find(function(f){var d=f.getModel().children||[];return!!d.find(function(h){return h.id===r})}),o&&!o.destroyed){var s=o.get("id"),l=a.findDataById(s),u=l&&l.children||[],c=t.indexOfChild(u,r);u.splice(c,1),o.refresh()}a.changeData(void 0,n)},t.prototype.findDataById=function(r,n){var a=this;if(n||(n=a.get("data")),r===n.id)return n;var i=null;return pt(n.children||[],function(o){if(o.id===r)return i=o,!1;if(i=a.findDataById(r,o),i)return!1}),i},t.prototype.layoutAnimate=function(r,n){var a=this,i=this.get("animateCfg");a.emit("beforeanimate",{data:r}),a.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Vx(r,function(s){var l=a.findById(s.id);if(l){var u=l.get("originAttrs"),c=l.get("model");if(u||(u={x:c.x,y:c.y},l.set("originAttrs",u)),n){var f=n(l,o,u,r);l.set("model",Object.assign(c,f))}else c.x=u.x+(s.x-u.x)*o,c.y=u.y+(s.y-u.y)*o}return!0}),pt(a.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),c=s.get("to");l.x=u.x+(c.x-u.x)*o,l.y=u.y+(c.y-u.y)*o}),a.refreshPositions()},{duration:i.duration,easing:i.ease,callback:function(){pt(a.getNodes(),function(s){s.set("originAttrs",null)}),pt(a.get("removeList"),function(s){a.removeItem(s,!1)}),a.set("removeList",[]),i.callback&&i.callback(),a.emit("afteranimate",{data:r})},delay:i.delay})},t.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},t.prototype.isLayoutAnimating=function(){return this.layoutAnimating},t.prototype.render=function(r){r===void 0&&(r=!0);var n=this,a=n.get("data");if(!a||!si(a)||!Object.keys(a).length)throw new Error("data must be defined first");n.clear(),r&&this.get("enabledStack")&&this.clearStack(),n.emit("beforerender"),n.layout(this.get("fitView")),n.emit("afterrender")},t.prototype.save=function(){return this.get("data")},t.prototype.data=function(r){e.prototype.data.call(this,r),this.set("originData",mLe(r))},t}(tW),co=function(){function e(t){this._cfgs=zn(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return e.prototype.getDefaultCfgs=function(){return{}},e.prototype.initPlugin=function(t){var r=this;r.set("graph",t);var n=r.getEvents(),a={};pt(n,function(i,o){var s=If(r,i);a[o]=s,t.on(o,s)}),this._events=a,this.init()},e.prototype.getEvents=function(){return{}},e.prototype.get=function(t){var r;return(r=this._cfgs)===null||r===void 0?void 0:r[t]},e.prototype.set=function(t,r){this._cfgs[t]=r},e.prototype.destroy=function(){},e.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),r=this._events;pt(r,function(n,a){t.off(a,n)}),this._events=null,this._cfgs=null,this.destroyed=!0},e}(),wLe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u4="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",ELe=function(e){wLe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{img:u4,follow:!0}},t.prototype.init=function(){var r=this.get("graph"),n=r.get("container"),a=r.get("canvas").get("el"),i=this.get("img")||u4;i.includes("url(")||(i='url("'.concat(i,'")'));var o=Kn(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),s=Kn(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `.concat(i,`;
        user-select: none
        '></div>`));this.set("container",o),this.set("gridContainer",s),this.positionInit(),o.appendChild(s),n.insertBefore(o,a)},t.prototype.positionInit=function(){var r=this.get("graph"),n=r.get("minZoom"),a=r.get("width"),i=r.get("height");on(this.get("container"),{width:"".concat(a,"px"),height:"".concat(i,"px")});var o=a*80/n,s=i*80/n;on(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(s,"px"),left:"-".concat(o/2,"px"),top:"-".concat(s/2,"px")})},t.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},t.prototype.updateGrid=function(r){var n=this.get("gridContainer"),a=r.matrix;a||(a=[1,0,0,0,1,0,0,0,1]);var i=this.get("follow"),o="matrix(".concat(a[0],", ").concat(a[1],", ").concat(a[3],", ").concat(a[4],", ").concat(i?a[6]:"0",", ").concat(i?a[7]:"0",")");on(n,{transform:o})},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var r=this.get("graph"),n=r.get("container"),a=this.get("container");n.removeChild(a)},t}(co),sI={exports:{}},c4=[],Sp=[],_Le="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function nW(e,t){if(t=t||{},e===void 0)throw new Error(_Le);var r=t.prepend===!0?"prepend":"append",n=t.container!==void 0?t.container:document.querySelector("head"),a=c4.indexOf(n);a===-1&&(a=c4.push(n)-1,Sp[a]={});var i;return Sp[a]!==void 0&&Sp[a][r]!==void 0?i=Sp[a][r]:(i=Sp[a][r]=xLe(),r==="prepend"?n.insertBefore(i,n.childNodes[0]):n.appendChild(i)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),i.styleSheet?i.styleSheet.cssText+=e:i.textContent+=e,i}function xLe(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}sI.exports=nW;sI.exports.insertCss=nW;var SLe=sI.exports;const QE=Ka(SLe);var CLe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();typeof document<"u"&&QE(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var MLe=function(e){CLe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(n){return`
          <ul class='g6-contextmenu-ul'>
            <li>菜单项1</li>
            <li>菜单项2</li>
          </ul>
        `},shouldBegin:function(n){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},t.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},t.prototype.init=function(){var r=this.get("className"),n=Kn("<div class=".concat(r||"g6-component-contextmenu","></div>"));on(n,{top:"0px",position:"absolute",visibility:"hidden"});var a=this.get("container");a||(a=this.get("graph").get("container")),Lt(a)&&(a=document.getElementById(a)),a.appendChild(n),this.set("menu",n)},t.prototype.onMenuShow=function(r){var n=this;r.preventDefault();var a=this.get("itemTypes");if(r.item){if(r.item&&r.item.getType&&a.indexOf(r.item.getType())===-1){n.onMenuHide();return}}else if(a.indexOf("canvas")===-1){n.onMenuHide();return}var i=this.get("shouldBegin");if(i(r)){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(r,l);Lt(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var c=this.get("handleMenuClick");if(c){var f=function(C){c(C.target,r.item,l)};this.set("handleMenuClickWrapper",f),o.addEventListener("click",f)}var d=l.get("width"),h=l.get("height"),v=o.getBoundingClientRect(),p=this.get("offsetX")||0,m=this.get("offsetY")||0,g=l.getContainer().offsetTop,b=l.getContainer().offsetLeft,y=r.canvasX+b+p,w=r.canvasY+g+m;y+v.width>d&&(y=r.canvasX-v.width-p+b),w+v.height>h&&(w=r.canvasY-v.height-m+g),w<0&&(w=0),on(o,{top:"".concat(w,"px"),left:"".concat(y,"px"),visibility:"visible"});var _=this.get("trigger")==="click",x=function(C){if(_){_=!1;return}n.onMenuHide()};document.body.addEventListener("click",x),this.set("handler",x)}},t.prototype.removeMenuEventListener=function(){var r=this.get("handleMenuClickWrapper"),n=this.get("handler");if(r){var a=this.get("menu");a.removeEventListener("click",r),this.set("handleMenuClickWrapper",null)}n&&document.body.removeEventListener("click",n)},t.prototype.onMenuHide=function(){var r=this.get("menu");r&&on(r,{visibility:"hidden"}),this.removeMenuEventListener()},t.prototype.destroy=function(){var r=this.get("menu");if(this.removeMenuEventListener(),r){var n=this.get("container");n||(n=this.get("graph").get("container")),Lt(n)&&(n=document.getElementById(n)),n.removeChild(r)}},t}(co),TLe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iM=function(){return iM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},iM.apply(this,arguments)},f4=Math.max,kLe=vs,ALe="default",ILe="keyShape",OLe="delegate",d4="svg",LLe=function(e){TLe(t,e);function t(r){var n=e.call(this,r)||this;return n.handleUpdateCanvas=C0(function(a){var i=n;i.destroyed||i.updateCanvas()},100,!1),n}return t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var r=this,n=this._cfgs,a=n.size,i=n.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,u=navigator.userAgent.toLowerCase().indexOf("safari")>-1,c=Kn(`
      <div
        class=`.concat(n.viewportClassName,`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff;
          cursor:move'
        draggable=`).concat(!(u||l),`
      </div>`)),f=0,d=0,h=!1,v=0,p=0,m=0,g=0,b=0,y=0,w=u||l?"mousedown":"dragstart";c.addEventListener(w,function(C){var T,M;if(C.dataTransfer){var k=new Image;k.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(M=(T=C.dataTransfer).setDragImage)===null||M===void 0||M.call(T,k,0,0);try{C.dataTransfer.setData("text/html","view-port-minimap")}catch{C.dataTransfer.setData("text","view-port-minimap")}}if(n.refresh=!1,C.target===c){var A=c.style;v=parseInt(A.left,10),p=parseInt(A.top,10),m=parseInt(A.width,10),g=parseInt(A.height,10),!(m>a[0]||g>a[1])&&(y=i.getZoom(),b=r.get("ratio"),h=!0,f=C.clientX,d=C.clientY)}},!1);var _=function(T){if(!(!h||hr(T.clientX)||hr(T.clientY))){var M=f-T.clientX,k=d-T.clientY;(v-M<0||v-M+m>=a[0])&&(M=0),(p-k<0||p-k+g>=a[1])&&(k=0),v-=M,p-=k,on(c,{left:"".concat(v,"px"),top:"".concat(p,"px")}),i.translate(M*y/b,k*y/b),f=T.clientX,d=T.clientY}};!u&&!l&&c.addEventListener("drag",_,!1);var x=function(){h=!1,n.refresh=!0},S=u||l?"mouseup":"dragend";c.addEventListener(S,x,!1),s.addEventListener("mouseleave",x),s.addEventListener("mouseup",x),(u||l)&&s.addEventListener("mousemove",_,!1),this.set("viewport",c),s.appendChild(c)}},t.prototype.updateViewport=function(){if(!this.destroyed){var r=this.get("ratio"),n=this.get("totaldx"),a=this.get("totaldy"),i=this.get("graph"),o=this.get("size"),s=i.get("canvas").get("el"),l=i.get("width")||s.scrollWidth||500,u=i.get("height")||s.scrollHeight||500,c=i.getPointByCanvas(0,0),f=i.getPointByCanvas(l,u),d=this.get("viewport");d||this.initViewport();var h=(f.x-c.x)*r,v=(f.y-c.y)*r,p=c.x*r+n,m=c.y*r+a,g=p+h,b=m+v;p<0&&(h+=p,p=0),g>o[0]&&(h=h-(g-o[0])),m<0&&(v+=m,m=0),b>o[1]&&(v=v-(b-o[1])),this.set("ratio",r);var y="".concat(p,"px"),w="".concat(m,"px");on(d,{left:y,top:w,width:"".concat(h,"px"),height:"".concat(v,"px")})}},t.prototype.updateGraphShapes=function(){var r=this._cfgs.graph,n=this.get("canvas"),a=r.get("group");if(!a.destroyed){n.clear();var i;this.get("hideEdge")?(i=n.addGroup(),a.get("children").forEach(function(s){s.get("id").includes("-edge")||i.add(s.clone())})):(i=a.clone(),i.resetMatrix(),n.add(i));var o=r.get("renderer");o===d4&&this.updateVisible(i)}},t.prototype.updateVisible=function(r){var n=this;if(!r.isGroup()&&!r.get("visible"))r.hide();else{var a=r.get("children");if(!a||!a.length)return;a.forEach(function(i){i.get("visible")||i.hide(),n.updateVisible(i)})}},t.prototype.updateKeyShapes=function(){var r=this,n=this._cfgs.graph,a=this.get("canvas"),i=a.get("children")[0]||a.addGroup();this.get("hideEdge")||pt(n.getEdges(),function(l){r.updateOneEdgeKeyShape(l,i)}),pt(n.getNodes(),function(l){r.updateOneNodeKeyShape(l,i)});var o=n.getCombos();if(o&&o.length){var s=i.find(function(l){return l.get("name")==="comboGroup"})||i.addGroup({name:"comboGroup"});setTimeout(function(){r.destroyed||(pt(o,function(l){r.updateOneComboKeyShape(l,s)}),s==null||s.sort(),s==null||s.toBack(),r.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.updateOneComboKeyShape=function(r,n){if(!this.destroyed){var a=this.get("itemMap")||{},i=a[r.get("id")],o=r.getBBox(),s=r.get("keyShape").clone(),l=s.attr(),u={x:o.centerX,y:o.centerY};i?u=Object.assign(l,u):(i=s,n.add(i));var c=i.get("type");(c==="rect"||c==="image")&&(u.x=o.minX,u.y=o.minY),i.attr(u),r.isVisible()?i.show():i.hide(),i.exist=!0;var f=r.getModel().depth;isNaN(f)||i.set("zIndex",f),a[r.get("id")]=i,this.set("itemMap",a)}},t.prototype.updateOneNodeKeyShape=function(r,n){var a=this.get("itemMap")||{},i=a[r.get("id")],o=r.getBBox(),s=r.get("keyShape").clone(),l=s.attr(),u={x:o.centerX,y:o.centerY};i?(u=Object.assign(l,u),i.toFront()):(i=s,n.add(i));var c=i.get("type");(c==="rect"||c==="image")&&(u.x=o.minX,u.y=o.minY),i.attr(u),r.isVisible()?i.show():i.hide(),i.exist=!0;var f=r.getModel().depth;isNaN(f)||i.set("zIndex",f),a[r.get("id")]=i,this.set("itemMap",a)},t.prototype.updateDelegateShapes=function(){var r=this,n=this._cfgs.graph,a=this.get("canvas"),i=a.get("children")[0]||a.addGroup();this.get("hideEdge")||pt(n.getEdges(),function(l){r.updateOneEdgeKeyShape(l,i)}),pt(n.getNodes(),function(l){r.updateOneNodeDelegateShape(l,i)});var o=n.getCombos();if(o&&o.length){var s=i.find(function(l){return l.get("name")==="comboGroup"})||i.addGroup({name:"comboGroup"});setTimeout(function(){r.destroyed||(pt(o,function(l){r.updateOneComboKeyShape(l,s)}),s==null||s.sort(),s==null||s.toBack(),r.updateCanvas())},250)}this.clearDestroyedShapes()},t.prototype.clearDestroyedShapes=function(){var r=this.get("itemMap")||{},n=Object.keys(r);if(!(!n||n.length===0))for(var a=n.length-1;a>=0;a--){var i=r[n[a]],o=i.exist;i.exist=!1,o||(i.remove(),delete r[n[a]])}},t.prototype.updateOneEdgeKeyShape=function(r,n){var a=this.get("itemMap")||{},i=a[r.get("id")];if(i){var o=r.get("keyShape").attr("path");i.attr("path",o)}else i=r.get("keyShape").clone(),n.add(i);r.isVisible()?i.show():i.hide(),i.exist=!0,a[r.get("id")]=i,this.set("itemMap",a)},t.prototype.updateOneNodeDelegateShape=function(r,n){var a=this.get("delegateStyle"),i=this.get("itemMap")||{},o=i[r.get("id")],s=r.getBBox();if(o){var l={x:s.minX,y:s.minY,width:s.width,height:s.height};o.attr(l),o.toFront()}else o=n.addShape("rect",{attrs:iM({x:s.minX,y:s.minY,width:s.width,height:s.height},a),name:"minimap-node-shape"});r.isVisible()?o.show():o.hide(),o.exist=!0,i[r.get("id")]=o,this.set("itemMap",i)},t.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},t.prototype.initContainer=function(){var r=this,n=r.get("graph"),a=r.get("size"),i=r.get("className"),o=r.get("container"),s=Kn("<div class='".concat(i,"' style='width: ").concat(a[0],"px; height: ").concat(a[1],"px; overflow: hidden'></div>"));Lt(o)&&(o=document.getElementById(o)),o?o.appendChild(s):n.get("container").appendChild(s),r.set("container",s);var l=Kn('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l),l.addEventListener("dragenter",function(f){f.preventDefault()}),l.addEventListener("dragover",function(f){f.preventDefault()});var u,c=n.get("renderer");c===d4?u=new ig({container:l,width:a[0],height:a[1]}):u=new tu({container:l,width:a[0],height:a[1]}),r.set("canvas",u),r.updateCanvas()},t.prototype.updateCanvas=function(){if(!this.destroyed){var r=this.get("refresh");if(r){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var a=this.get("size"),i=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!i.destroyed){switch(o){case ALe:this.updateGraphShapes();break;case ILe:this.updateKeyShapes();break;case OLe:this.updateDelegateShapes();break}var l=i.get("children")[0];if(l){l.resetMatrix();var u=l.getCanvasBBox(),c=n.get("canvas").getCanvasBBox(),f=n.getZoom()||1,d=c.width/f,h=c.height/f;Number.isFinite(u.width)&&(d=f4(u.width,d),h=f4(u.height,h)),d+=2*s,h+=2*s;var v=Math.min(a[0]/d,a[1]/h),p=[1,0,0,0,1,0,0,0,1],m=0,g=0;Number.isFinite(u.minX)&&(m=-u.minX),Number.isFinite(u.minY)&&(g=-u.minY);var b=(a[0]-(d-2*s)*v)/2,y=(a[1]-(h-2*s)*v)/2;p=kLe(p,[["t",m,g],["s",v,v],["t",b,y]]),l.setMatrix(p),this.set("ratio",v),this.set("totaldx",b+m*v),this.set("totaldy",y+g*v),this.set("dx",b),this.set("dy",y),this.updateViewport()}}}}}},t.prototype.getCanvas=function(){return this.get("canvas")},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.destroy=function(){var r;(r=this.get("canvas"))===null||r===void 0||r.destroy();var n=this.get("container");n!=null&&n.parentNode&&n.parentNode.removeChild(n)},t}(co),NLe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();function nl(e,t,r){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}function PLe(e,t){return e.x*t.x+e.y*t.y}function h4(e,t){var r=(t.source.y-t.target.y)/(t.source.x-t.target.x),n=(r*r*t.source.x+r*(e.y-t.source.y)+e.x)/(r*r+1),a=r*(n-t.source.x)+t.source.y;return{x:n,y:a}}var DLe=function(e){NLe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},t.prototype.init=function(){var r=this.get("graph"),n=this.get("onTick"),a=function(){n&&n(),r.refreshPositions()};this.set("tick",a)},t.prototype.bundling=function(r){var n=this;if(n.set("data",r),!n.isTicking()){var a=r.edges||[],i=r.nodes||[],o={},s=!1;if(i.forEach(function(w){(w.x===null||!w.y===null||w.x===void 0||!w.y===void 0)&&(s=!0),o[w.id]=w}),s)throw new Error("please layout the graph or assign x and y for nodes first");n.set("nodeIdMap",o);var l=n.get("divisions"),u=n.get("divRate"),c=n.divideEdges(l);n.set("edgePoints",c);var f=n.getEdgeBundles();n.set("edgeBundles",f);for(var d=n.get("cycles"),h=n.get("iterations"),v=n.get("iterRate"),p=n.get("lambda"),m=0;m<d;m++){for(var g=function(_){var x=[];a.forEach(function(S,C){if(S.source!==S.target){var T=o[S.source],M=o[S.target];x[C]=n.getEdgeForces({source:T,target:M},C,l,p);for(var k=0;k<l+1;k++)c[C][k].x+=x[C][k].x,c[C][k].y+=x[C][k].y}})},b=0;b<h;b++)g(b);p=p/2,l*=u,h*=v,c=n.divideEdges(l),n.set("edgePoints",c)}a.forEach(function(w,_){w.source!==w.target&&(w.type="polyline",w.controlPoints=c[_].slice(1,c[_].length-1))});var y=n.get("graph");y.refresh()}},t.prototype.updateBundling=function(r){var n=this,a=r.data;if(a&&n.set("data",a),n.get("ticking")&&n.set("ticking",!1),Object.keys(r).forEach(function(o){n.set(o,r[o])}),r.onTick){var i=this.get("graph");n.set("tick",function(){r.onTick(),i.refresh()})}n.bundling(a)},t.prototype.divideEdges=function(r){var n=this,a=n.get("data").edges,i=n.get("nodeIdMap"),o=n.get("edgePoints");return(!o||o===void 0)&&(o=[]),a.forEach(function(s,l){var u;(!o[l]||o[l]===void 0)&&(o[l]=[]);var c=i[s.source],f=i[s.target];if(r===1)o[l].push({x:c.x,y:c.y}),o[l].push({x:.5*(c.x+f.x),y:.5*(c.y+f.y)}),o[l].push({x:f.x,y:f.y});else{var d=0;!((u=o[l])===null||u===void 0)&&u.length?d=n.getEdgeLength(o[l]):d=nl({x:c.x,y:c.y},{x:f.x,y:f.y});var h=d/(r+1),v=h,p=[{x:c.x,y:c.y}];o[l].forEach(function(m,g){if(g!==0){for(var b=nl(m,o[l][g-1]);b>v;){var y=v/b,w={x:o[l][g-1].x,y:o[l][g-1].y};w.x+=y*(m.x-o[l][g-1].x),w.y+=y*(m.y-o[l][g-1].y),p.push(w),b-=v,v=h}v-=b}}),p.push({x:f.x,y:f.y}),o[l]=p}}),o},t.prototype.getEdgeLength=function(r){var n=0;return r.forEach(function(a,i){i!==0&&(n+=nl(a,r[i-1]))}),n},t.prototype.getEdgeBundles=function(){var r=this,n=r.get("data"),a=n.edges||[],i=r.get("bundleThreshold"),o=r.get("nodeIdMap"),s=r.get("edgeBundles");return s||(s=[]),a.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),a.forEach(function(l,u){var c=o[l.source],f=o[l.target];a.forEach(function(d,h){if(!(h<=u)){var v=o[d.source],p=o[d.target],m=r.getBundleScore({source:c,target:f},{source:v,target:p});m>=i&&(s[u].push(h),s[h].push(u))}})}),s},t.prototype.getBundleScore=function(r,n){var a=this;r.vx=r.target.x-r.source.x,r.vy=r.target.y-r.source.y,n.vx=n.target.x-n.source.x,n.vy=n.target.y-n.source.y,r.length=nl({x:r.source.x,y:r.source.y},{x:r.target.x,y:r.target.y}),n.length=nl({x:n.source.x,y:n.source.y},{x:n.target.x,y:n.target.y});var i=a.getAngleScore(r,n),o=a.getScaleScore(r,n),s=a.getPositionScore(r,n),l=a.getVisibilityScore(r,n);return i*o*s*l},t.prototype.getAngleScore=function(r,n){var a=PLe({x:r.vx,y:r.vy},{x:n.vx,y:n.vy});return a/(r.length*n.length)},t.prototype.getScaleScore=function(r,n){var a=(r.length+n.length)/2,i=2/(a/Math.min(r.length,n.length)+Math.max(r.length,n.length)/a);return i},t.prototype.getPositionScore=function(r,n){var a=(r.length+n.length)/2,i={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2},o={x:(n.source.x+n.target.x)/2,y:(n.source.y+n.target.y)/2},s=nl(i,o);return a/(a+s)},t.prototype.getVisibilityScore=function(r,n){var a=this.getEdgeVisibility(r,n),i=this.getEdgeVisibility(n,r);return a<i?a:i},t.prototype.getEdgeVisibility=function(r,n){var a=h4(n.source,r),i=h4(n.target,r),o={x:(a.x+i.x)/2,y:(a.y+i.y)/2},s={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2};return Math.max(0,1-2*nl(o,s)/nl(a,i))},t.prototype.getEdgeForces=function(r,n,a,i){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(nl(r.source,r.target)*(a+1)),c=[{x:0,y:0}],f=1;f<a;f++){var d={x:0,y:0},h=o.getSpringForce({pre:s[n][f-1],cur:s[n][f],next:s[n][f+1]},u),v=o.getElectrostaticForce(f,n);d.x=i*(h.x+v.x),d.y=i*(h.y+v.y),c.push(d)}return c.push({x:0,y:0}),c},t.prototype.getSpringForce=function(r,n){var a=r.pre.x+r.next.x-2*r.cur.x,i=r.pre.y+r.next.y-2*r.cur.y;return a*=n,i*=n,{x:a,y:i}},t.prototype.getElectrostaticForce=function(r,n){var a=this,i=a.get("eps"),o=a.get("edgeBundles"),s=a.get("edgePoints"),l=o[n],u={x:0,y:0};return l.forEach(function(c){var f={x:s[c][r].x-s[n][r].x,y:s[c][r].y-s[n][r].y};if(Math.abs(f.x)>i||Math.abs(f.y)>i){var d=nl(s[c][r],s[n][r]),h=1/d;u.x+=f.x*h,u.y+=f.y*h}}),u},t.prototype.isTicking=function(){return this.get("ticking")},t.prototype.getSimulation=function(){return this.get("forceSimulation")},t.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),e.prototype.destroy.call(this)},t}(co),RLe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oM=function(){return oM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},oM.apply(this,arguments)},Yy=.05,v4={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},$Le=function(e){RLe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:un(v4),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},t.prototype.getEvents=function(){var r;switch(this.get("trigger")){case"click":r={click:"magnify"};break;case"drag":r={click:"createDelegate"};break;default:r={mousemove:"magnify"};break}return r},t.prototype.init=function(){var r=this,n=r.get("r");r.set("cachedMagnifiedModels",[]),r.set("cachedOriginPositions",{}),r.set("r2",n*n);var a=r.get("d");r.set("molecularParam",(a+1)*n)},t.prototype.createDelegate=function(r){var n=this,a=this,i=a.get("delegate");(!i||i.destroyed)&&(a.magnify(r),i=a.get("delegate"),i.on("dragstart",function(o){a.set("delegateCenterDiff",{x:i.attr("x")-o.x,y:i.attr("y")-o.y})}),i.on("drag",function(o){a.magnify(o)}),this.get("scaleDBy")==="wheel"&&i.on("mousewheel",function(o){n.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&i.on("mousewheel",function(o){a.scaleRByWheel(o)}))},t.prototype.scaleRByWheel=function(r){var n=this;if(!(!r||!r.originalEvent)){r.preventDefault&&r.preventDefault();var a=n.get("graph"),i,o=n.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||a.getPointByClient(r.clientX,r.clientY);r.originalEvent.wheelDelta<0?i=1-Yy:i=1/(1-Yy);var u=n.get("maxR"),c=n.get("minR"),f=n.get("r");(f>(u||a.get("height"))&&i>1||f<(c||a.get("height")*.05)&&i<1)&&(i=1),f*=i,n.set("r",f),n.set("r2",f*f);var d=n.get("d");n.set("molecularParam",(d+1)*f),n.set("delegateCenterDiff",void 0),n.magnify(r,l)}},t.prototype.scaleRByDrag=function(r){var n=this;if(r){var a=n.get("dragPrePos"),i=n.get("graph"),o,s=i.getPointByClient(r.clientX,r.clientY);r.x-a.x<0?o=1-Yy:o=1/(1-Yy);var l=n.get("maxR"),u=n.get("minR"),c=n.get("r");(c>(l||i.get("height"))&&o>1||c<(u||i.get("height")*.05)&&o<1)&&(o=1),c*=o,n.set("r",c),n.set("r2",c*c);var f=n.get("d");n.set("molecularParam",(f+1)*c),n.magnify(r,s),n.set("dragPrePos",{x:r.x,y:r.y})}},t.prototype.scaleDByWheel=function(r){var n=this;if(!(!r&&!r.originalEvent)){r.preventDefault&&r.preventDefault();var a=0;r.originalEvent.wheelDelta<0?a=-.1:a=.1;var i=n.get("d"),o=i+a,s=n.get("maxD"),l=n.get("minD");if(o<s&&o>l){n.set("d",o);var u=n.get("r");n.set("molecularParam",(o+1)*u);var c=n.get("delegate"),f=c?{x:c.attr("x"),y:c.attr("y")}:void 0;n.set("delegateCenterDiff",void 0),n.magnify(r,f)}}},t.prototype.scaleDByDrag=function(r){var n=this,a=n.get("dragPrePos"),i=r.x-a.x>0?.1:-.1,o=n.get("d"),s=o+i,l=n.get("maxD"),u=n.get("minD");if(s<l&&s>u){n.set("d",s);var c=n.get("r");n.set("molecularParam",(s+1)*c),n.magnify(r)}n.set("dragPrePos",{x:r.x,y:r.y})},t.prototype.magnify=function(r,n){var a=this;a.restoreCache();var i=a.get("graph"),o=a.get("cachedMagnifiedModels"),s=a.get("cachedOriginPositions"),l=a.get("showLabel"),u=a.get("r"),c=a.get("r2"),f=a.get("d"),d=a.get("molecularParam"),h=i.getNodes(),v=h.length,p=n?{x:n.x,y:n.y}:{x:r.x,y:r.y};a.get("dragging")&&(a.get("trigger")==="mousemove"||a.get("trigger")==="click")&&(p=a.get("cacheCenter"));var m=a.get("delegateCenterDiff");m&&(p.x+=m.x,p.y+=m.y),a.updateDelegate(p,u);for(var g=0;g<v;g++){var b=h[g].getModel(),y=b.x,w=b.y;if(!(isNaN(y)||isNaN(w))){var _=(y-p.x)*(y-p.x)+(w-p.y)*(w-p.y);if(!isNaN(_)&&_<c&&_!==0){var x=Math.sqrt(_),S=d*x/(f*x+u),C=(y-p.x)/x,T=(w-p.y)/x;if(b.x=C*S+p.x,b.y=T*S+p.y,s[b.id]||(s[b.id]={x:y,y:w,texts:[]}),o.push(b),l&&2*x<u)for(var M=h[g],k=M.getContainer(),A=k.getChildren(),O=A.length,P=0;P<O;P++){var R=A[P];R.get("type")==="text"&&(s[b.id].texts.push({visible:R.get("visible"),shape:R}),R.set("visible",!0))}}}}i.refreshPositions()},t.prototype.restoreCache=function(){for(var r=this,n=r.get("cachedMagnifiedModels"),a=r.get("cachedOriginPositions"),i=n.length,o=0;o<i;o++){var s=n[o],l=s.id,u=a[l];s.x=u.x,s.y=u.y;for(var c=u.texts.length,f=0;f<c;f++){var d=u.texts[f];d.shape.set("visible",d.visible)}}r.set("cachedMagnifiedModels",[]),r.set("cachedOriginPositions",{})},t.prototype.updateParams=function(r){var n=this,a=r.r,i=r.d,o=r.trigger,s=r.minD,l=r.maxD,u=r.minR,c=r.maxR,f=r.scaleDBy,d=r.scaleRBy;isNaN(r.r)||(n.set("r",a),n.set("r2",a*a)),isNaN(i)||n.set("d",i),isNaN(l)||n.set("maxD",l),isNaN(s)||n.set("minD",s),isNaN(c)||n.set("maxR",c),isNaN(u)||n.set("minR",u);var h=n.get("d"),v=n.get("r");if(n.set("molecularParam",(h+1)*v),(o==="mousemove"||o==="click"||o==="drag")&&n.set("trigger",o),f==="drag"||f==="wheel"||f==="unset"){n.set("scaleDBy",f),n.get("delegate").remove(),n.get("delegate").destroy();var p=n.get("dPercentText");p&&(p.remove(),p.destroy())}if(d==="drag"||d==="wheel"||d==="unset"){n.set("scaleRBy",d),n.get("delegate").remove(),n.get("delegate").destroy();var p=n.get("dPercentText");p&&(p.remove(),p.destroy())}},t.prototype.updateDelegate=function(r,n){var a=this,i=this,o=i.get("graph"),s=i.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=i.get("delegateStyle")||v4;s=l.addShape("circle",{attrs:oM({r:n/1.5,x:r.x,y:r.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(v){i.scaleRByWheel(v)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(v){i.set("dragging",!0),i.set("cacheCenter",{x:v.x,y:v.y}),i.set("dragPrePos",{x:v.x,y:v.y})}),s.on("drag",function(v){i.scaleRByDrag(v)}),s.on("dragend",function(v){i.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(v){a.scaleDByWheel(v)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(v){i.set("dragging",!0),i.set("cacheCenter",{x:v.x,y:v.y}),i.set("dragPrePos",{x:v.x,y:v.y})}),s.on("drag",function(v){a.scaleDByDrag(v)}),s.on("dragend",function(v){i.set("dragging",!1)})))}else s.attr({x:r.x,y:r.y,r:n/1.5});if(i.get("showDPercent")){var c=Math.round((i.get("d")-i.get("minD"))/(i.get("maxD")-i.get("minD"))*100),f=i.get("dPercentText"),d=r.y+n/1.5+16;if(!f||f.destroyed){var h=o.get("group");f=h.addShape("text",{attrs:{text:"".concat(c,"%"),x:r.x,y:d,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),i.set("dPercentText",f)}else f.attr({text:"".concat(c,"%"),x:r.x,y:d})}i.set("delegate",s)},t.prototype.clear=function(){var r=this.get("graph");this.restoreCache(),r.refreshPositions();var n=this.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy());var a=this.get("dPercentText");a&&!a.destroyed&&(a.remove(),a.destroy())},t.prototype.destroy=function(){this.clear()},t}(co),BLe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p4=.05;typeof document<"u"&&QE(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var FLe=function(t){if(!t)return[];if(t.composedPath)return t.composedPath();for(var r=[],n=t.target;n;){if(r.push(n),n.tagName==="HTML")return r.push(document,window),r;n=n.parentElement}return r},zLe=function(e){BLe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(n){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},t.prototype.init=function(){var r=this,n=this.get("graph"),a=this.get("getContent"),i=a(n),o=i;Lt(i)&&(o=Kn(i));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),Lt(l)&&(l=document.getElementById(l)),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(f){var d=FLe(f).filter(function(v){return v.nodeName==="LI"});if(d.length!==0){var h=d[0].getAttribute("code");h&&(u?u(h,n):r.handleDefaultOperator(h))}});var c=this.get("position");c&&on(o,{top:"".concat(c.y,"px"),left:"".concat(c.x,"px")}),this.bindUndoRedo()},t.prototype.bindUndoRedo=function(){var r=this.get("graph"),n=document.querySelector('.g6-component-toolbar li[code="undo"]'),a=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),i=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!n||!a||!i||!o||(n.setAttribute("style","cursor: not-allowed"),a.setAttribute("style","opacity: 0.4"),i.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4"),r.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,c=l.length,f=u.length;c===0?(n.setAttribute("style","cursor: not-allowed"),a.setAttribute("style","opacity: 0.4")):(n.removeAttribute("style"),a.removeAttribute("style")),f===0?(i.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(i.removeAttribute("style"),o.removeAttribute("style"))}))},t.prototype.undo=function(){var r=this.get("graph"),n=r.getUndoStack();if(!(!n||n.length===0)){var a=n.pop();if(a){var i=a.action;r.pushStack(i,un(a.data),"redo");var o=a.data.before;if(i==="add"&&(o=a.data.after),!o)return;switch(i){case"visible":{Object.keys(o).forEach(function(f){var d=o[f];d&&d.forEach(function(h){var v=r.findById(h.id);h.visible?r.showItem(v,!1):r.hideItem(v,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(f){var d=o[f];d&&d.forEach(function(h){var v=r.findById(h.id);delete h.id,r.updateItem(v,h,!1),v.getType()==="combo"&&r.updateCombo(v)})});break;case"changedata":r.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(f){var d=o[f];d&&d.forEach(function(h){var v=h.itemType;delete h.itemType,r.addItem(v,h,!1)})});break}case"add":Object.keys(o).forEach(function(f){var d=o[f];d&&d.forEach(function(h){r.removeItem(h.id,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(f){var d=o[f];d&&d.forEach(function(h){r.updateComboTree(h.id,h.parentId,!1)})});break;case"createCombo":var s=a.data.after.combos,l=s[s.length-1];Object.keys(o).forEach(function(f){var d=o[f];d&&d.forEach(function(h){r.updateComboTree(h.id,h.parentId,!1)})}),r.removeItem(l.id,!1);break;case"uncombo":var u=o.combos[o.combos.length-1],c=o.nodes.concat(o.combos).map(function(f){return f.id}).filter(function(f){return f!==u.id});r.createCombo(u,c,!1);break;case"layout":r.updateLayout(o,void 0,void 0,!1);break}}}},t.prototype.redo=function(){var r=this.get("graph"),n=r.getRedoStack();if(!(!n||n.length===0)){var a=n.pop();if(a){var i=a.action,o=a.data.after;if(r.pushStack(i,un(a.data)),i==="delete"&&(o=a.data.before),!o)return;switch(i){case"visible":{Object.keys(o).forEach(function(c){var f=o[c];f&&f.forEach(function(d){var h=r.findById(d.id);d.visible?r.showItem(h,!1):r.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(c){var f=o[c];f&&f.forEach(function(d){var h=r.findById(d.id);delete d.id,r.updateItem(h,d,!1),h.getType()==="combo"&&r.updateCombo(h)})});break;case"changedata":r.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(c){r.removeItem(c.id,!1)}),o.nodes&&o.nodes.forEach(function(c){r.removeItem(c.id,!1)}),o.combos&&o.combos.forEach(function(c){r.removeItem(c.id,!1)});break;case"add":{Object.keys(o).forEach(function(c){var f=o[c];f&&f.forEach(function(d){var h=d.itemType;delete d.itemType,r.addItem(h,d,!1)})});break}case"updateComboTree":Object.keys(o).forEach(function(c){var f=o[c];f&&f.forEach(function(d){r.updateComboTree(d.id,d.parentId,!1)})});break;case"createCombo":var s=o.combos[o.combos.length-1];r.createCombo(s,s.children.map(function(c){return c.id}),!1);break;case"uncombo":var l=a.data.before.combos,u=l[l.length-1];r.uncombo(u.id,!1);break;case"layout":r.updateLayout(o,void 0,void 0,!1);break}}}},t.prototype.zoomOut=function(){var r=this.get("graph"),n=r.getZoom(),a=1/(1-p4*this.get("zoomSensitivity")),i=this.get("maxZoom")||r.get("maxZoom");a*n>i||r.zoomTo(n*a)},t.prototype.zoomIn=function(){var r=this.get("graph"),n=r.getZoom(),a=1-p4*this.get("zoomSensitivity"),i=this.get("minZoom")||r.get("minZoom");a*n<i||r.zoomTo(n*a)},t.prototype.realZoom=function(){var r=this.get("graph");r.zoomTo(1)},t.prototype.autoZoom=function(){var r=this.get("graph");r.fitView([20,20])},t.prototype.handleDefaultOperator=function(r){switch(r){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom();break}},t.prototype.destroy=function(){var r=this.get("toolBar");if(r){var n=this.get("container");n||(n=this.get("graph").get("container")),Lt(n)&&(n=document.getElementById(n)),n.removeChild(r)}var a=this.get("handleClick");a&&r.removeEventListener("click",a)},t}(co),GLe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();typeof document<"u"&&QE(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var jLe=function(e){GLe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(n){return`
          <h4 class='tooltip-type'>类型：`.concat(n.item.getType(),`</h4>
          <span class='tooltip-id'>ID：`).concat(n.item.getID(),`</span>
        `)},shouldBegin:function(n){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},t.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},t.prototype.init=function(){var r=this,n=r.get("className")||"g6-component-tooltip",a=Kn("<div class='".concat(n,"'></div>")),i=r.get("container");i||(i=r.get("graph").get("container")),Lt(i)&&(i=document.getElementById(i)),on(a,{position:"absolute",visibility:"hidden",display:"none"}),i.appendChild(a),r.get("trigger")!=="click"&&(a.addEventListener("mouseenter",function(o){on(a,{visibility:"visible",display:"unset"})}),a.addEventListener("mouseleave",function(o){r.hideTooltip()})),r.set("tooltip",a)},t.prototype.onClick=function(r){var n=this.get("itemTypes");if(!(r.item&&r.item.getType&&n.indexOf(r.item.getType())===-1)){var a=r.item,i=this.get("graph");this.currentTarget===a?(this.currentTarget=null,this.hideTooltip(),i.emit("tooltipchange",{item:r.item,action:"hide"})):(this.currentTarget=a,this.showTooltip(r),i.emit("tooltipchange",{item:r.item,action:"show"}))}},t.prototype.onMouseEnter=function(r){var n=this.get("itemTypes");if(!(r.item&&r.item.getType&&n.indexOf(r.item.getType())===-1)){var a=r.item,i=this.get("graph");this.currentTarget=a,this.showTooltip(r),i.emit("tooltipchange",{item:r.item,action:"show"})}},t.prototype.onMouseMove=function(r){var n=this.get("itemTypes");r.item&&r.item.getType&&n.indexOf(r.item.getType())===-1||!this.currentTarget||r.item!==this.currentTarget||this.showTooltip(r)},t.prototype.onMouseLeave=function(){this.hideTooltip();var r=this.get("graph");r.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},t.prototype.clearContainer=function(){var r=this.get("tooltip");r&&(r.innerHTML="")},t.prototype.showTooltip=function(r){if(r.item){var n=this.get("itemTypes");if(!(r.item.getType&&n.indexOf(r.item.getType())===-1)){var a=this.get("tooltip"),i=this.get("getContent"),o=i(r);Lt(o)?a.innerHTML=o:(this.clearContainer(),a.appendChild(o)),this.updatePosition(r)}}},t.prototype.hideTooltip=function(){var r=this.get("tooltip");r&&on(r,{visibility:"hidden",display:"none"})},t.prototype.updatePosition=function(r){var n=this.get("shouldBegin"),a=this.get("tooltip");if(!n(r)){on(a,{visibility:"hidden",display:"none"});return}var i=this.get("graph"),o=i.get("width"),s=i.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,c=i.getPointByClient(r.clientX,r.clientY),f=this.get("fixToNode"),d=r.item;if(d.getType&&d.getType()==="node"&&f&&wr(f)&&f.length>=2){var h=d.getBBox();c={x:h.minX+h.width*f[0],y:h.minY+h.height*f[1]}}var v=i.getCanvasByPoint(c.x,c.y),p=v.x,m=v.y,g=i.getContainer(),b={x:p+g.offsetLeft+l,y:m+g.offsetTop+u};on(a,{visibility:"visible",display:"unset"});var y=a.getBoundingClientRect();p+y.width+l>o&&(b.x-=y.width+l),m+y.height+u>s&&(b.y-=y.height+u,b.y<0&&(b.y=0)),on(a,{left:"".concat(b.x,"px"),top:"".concat(b.y,"px")})},t.prototype.hide=function(){this.onMouseLeave()},t.prototype.destroy=function(){var r=this.get("tooltip");if(r){var n=this.get("container");n||(n=this.get("graph").get("container")),Lt(n)&&(n=document.getElementById(n)),n.removeChild(r)}},t}(co),aW="timebarstartplay",iW="timebarendplay",cl="valuechange",Yf="timebarConfigChanged",vc="playPauseBtn",Jg="nextStepBtn",e0="preStepBtn",VLe=function(){function e(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.container,s=t.text,l=t.padding,u=l===void 0?[4,4,4,4]:l,c=t.className,f=c===void 0?"g6-component-timebar-tooltip":c,d=t.backgroundColor,h=d===void 0?"#000":d,v=t.textColor,p=v===void 0?"#fff":v,m=t.opacity,g=m===void 0?.8:m,b=t.fontSize,y=b===void 0?12:b;this.container=o,this.className=f,this.backgroundColor=h,this.textColor=p,this.x=n,this.y=i,this.text=s,this.padding=u,this.opacity=g,this.fontSize=y,this.render()}return e.prototype.render=function(){var t=this,r=t.className;t.x,t.y;var n=t.backgroundColor,a=t.textColor,i=t.text,o=t.padding,s=t.opacity,l=t.fontSize,u=t.container,c=Kn("<div class='".concat(r,`' style="position: absolute; width: fit-content; height: fit-content; opacity: `).concat(s,'"></div>'));Lt(u)&&(u=document.getElementById(u)),u.appendChild(c),t.parentHeight=u.offsetHeight,t.parentWidth=u.offsetWidth,on(c,{visibility:"hidden",top:0,left:0});var f=Kn(`
      <div style='position: absolute; white-space:nowrap; background-color: `.concat(n,"; font-size: ").concat(l,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(a,"; padding: ").concat(o[0],"px ").concat(o[1],"px ").concat(o[2],"px ").concat(o[3],"px'></div>"));f.innerHTML=i,c.appendChild(f),t.backgroundDOM=f;var d=Kn("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(n,"'></div>"));c.appendChild(d),t.arrowDOM=d,t.container=c},e.prototype.show=function(t){var r=this,n=t.text,a=t.x;t.y,t.clientX,t.clientY,r.backgroundDOM.innerHTML=n;var i=r.backgroundDOM.offsetWidth,o=r.backgroundDOM.offsetHeight,s=r.arrowDOM.offsetWidth,l=r.arrowDOM.offsetHeight;on(r.container,{top:"".concat(-o-l,"px"),left:"".concat(a,"px"),visibility:"visible"}),on(r.backgroundDOM,{marginLeft:"".concat(-i/2,"px")}),on(r.arrowDOM,{marginLeft:"".concat(-s/2,"px"),top:"".concat(o,"px")});var u=a-i/2,c=a+i/2;u<0?on(r.backgroundDOM,{marginLeft:"".concat(-i/2-u,"px")}):c>r.parentWidth&&on(r.backgroundDOM,{marginLeft:"".concat(-i/2-c+r.parentWidth+12,"px")})},e.prototype.hide=function(){on(this.container,{top:0,left:0,visibility:"hidden"})},e}(),sM=function(){return sM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},sM.apply(this,arguments)},ULe=function(){function e(t){this.config=zn({},t),this.init()}return e.prototype.update=function(t){this.config=zn({},this.config,t),this.updateElement(),this.renderMarker()},e.prototype.init=function(){this.initElement(),this.renderMarker()},e.prototype.initElement=function(){var t=this.config,r=t.group,n=t.style,a=n.scale,i=a===void 0?1:a,o=n.offsetX,s=o===void 0?0:o,l=n.offsetY,u=l===void 0?0:l,c=this.config.x+s,f=this.config.y+u,d=r.addGroup({name:vc});this.startMarkerGroup=d.addGroup({name:vc}),this.circle=r.addShape("circle",{attrs:sM({x:c,y:f,r:this.config.r*i},n),name:vc}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(c,f,i),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=d.addGroup({name:vc});var h=.25*this.config.r*i,v=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c-.375*this.config.r*i,y:f-v/2,width:h,height:v,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:c+1/8*this.config.r*i,y:f-v/2,width:h,height:v,fill:n.stroke||"#aaa",lineWidth:0}})},e.prototype.updateElement=function(){var t=this.config.style,r=t.scale,n=r===void 0?1:r,a=t.offsetX,i=a===void 0?0:a,o=t.offsetY,s=o===void 0?0:o,l=this.config.x+i,u=this.config.y+s;this.circle.attr("x",l),this.circle.attr("y",u),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(l,u,n));var c=.25*this.config.r*n,f=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",l-(1/4+1/8)*this.config.r*n),this.pauseLeftMarker.attr("y",u-f/2),this.pauseLeftMarker.attr("width",c),this.pauseLeftMarker.attr("height",f),this.pauseRightMarker.attr("x",l+1/8*this.config.r*n),this.pauseRightMarker.attr("y",u-f/2),this.pauseRightMarker.attr("width",c),this.pauseRightMarker.attr("height",f)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},e.prototype.getStartMarkerPath=function(t,r,n){var a=.5*this.config.r*Math.sqrt(3)*n;return[["M",t-a/Math.sqrt(3)/2,r-a/2],["L",t+a/Math.sqrt(3),r],["L",t-a/Math.sqrt(3)/2,r+a/2]]},e}(),Ca=function(){return Ca=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ca.apply(this,arguments)},Cp=vs,WLe="#aaa",HLe="green",YLe={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},KLe={fill:"#fff"},XLe={fill:"green"},oW={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},sW={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},qLe={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:oW,timeTypeControllerStyle:sW},Ux=110,Hu=50,sl={SINGLE:"single",RANGE:"range"},lW=function(){function e(t){this.controllerCfg=zn({},qLe,t),this.group=t.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||sl.RANGE,this.fontFamily=t.fontFamily||"Arial, sans-serif",this.init()}return e.prototype.init=function(){this.renderPlayButton()},e.prototype.getNextMarkerPath=function(t,r,n){return[["M",t,r-n],["L",t+n,r],["L",t,r+n],["Z",t,r-n],["M",t,r],["L",t-n,r-n],["L",t-n,r+n],["Z"]]},e.prototype.getPreMarkerPath=function(t,r,n){return[["M",t,r-n],["L",t-n,r],["L",t,r+n],["L",t,r-n],["M",t,r],["L",t+n,r-n],["L",t+n,r+n],["Z"]]},e.prototype.renderPlayButton=function(){var t=this.controllerCfg,r=t.width,n=t.height,a=t.x,i=t.y,o=t.hideTimeTypeController,s=t.fill,l=s===void 0?WLe:s,u=t.stroke,c=u===void 0?HLe:u,f=t.containerStyle,d=f===void 0?{}:f,h=Ca(Ca({},YLe),t.playBtnStyle||{}),v=Ca(Ca({},KLe),t.preBtnStyle||{}),p=Ca(Ca({},XLe),t.nextBtnStyle||{}),m=n/2-5,g=i+10,b=this.controllerGroup.addShape("rect",{attrs:Ca({x:a,y:g,width:r,height:n,stroke:c,fill:l},d),name:"container-rect"});this.playButton?this.playButton.update({x:r/2,y:g,r:m}):this.playButton=new ULe({group:this.controllerGroup,x:r/2,y:g+m+5,r:m,isPlay:this.isPlay,style:h});var y=v.offsetX||0,w=v.offsetY||0,_=(v.scale||1)*m;this.controllerGroup.addShape("path",{attrs:Ca({path:this.getPreMarkerPath(r/2-5*m+y,g+m+5+w,_*.5)},v),name:e0});var x=p.offsetX||0,S=p.offsetY||0,C=(p.scale||1)*m;this.controllerGroup.addShape("path",{attrs:Ca({path:this.getNextMarkerPath(r/2+5*m+x,g+m+5+S,C*.5)},p),name:Jg}),b.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var T=this.controllerCfg.scale,M=T===void 0?1:T,k=this.controllerGroup.getCanvasBBox(),A=(k.maxX+k.minX)/2,O=(k.maxY+k.minY)/2,P=Cp([1,0,0,0,1,0,0,0,1],[["t",-A,-O],["s",M,M],["t",A,O]]);this.controllerGroup.setMatrix(P)},e.prototype.renderSpeedBtn=function(){var t=this.controllerCfg,r=t.y,n=t.width,a=t.hideTimeTypeController,i=Ca(Ca({},oW),this.controllerCfg.speedControllerStyle||{}),o=i.scroller,s=o===void 0?{}:o,l=i.text,u=l===void 0?{}:l,c=i.pointer,f=c===void 0?{}:c,d=i.scale,h=d===void 0?1:d,v=i.offsetX,p=v===void 0?0:v,m=i.offsetY,g=m===void 0?0:m,b=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=b;var y=5;this.speedAxisY=[19,22,26,32,39];for(var w=0;w<5;w++){var _=r+this.speedAxisY[w],x=n-(a?Hu:Ux);b.addShape("line",{attrs:Ca({x1:x,x2:x+15,y1:_,y2:_},s),speed:y,name:"speed-rect"}),this.speedAxisY[w]=_,y=y-1}this.speedText=b.addShape("text",{attrs:Ca({x:n-(a?Hu:Ux)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=b.addShape("path",{attrs:Ca({path:this.getPointerPath(n-(a?Hu:Ux),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},f),name:"speed-pointer"});var S=this.speedGroup.getCanvasBBox(),C=(S.maxX+S.minX)/2,T=(S.maxY+S.minY)/2,M=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];M=Cp(M,[["t",-C,-T],["s",h,h],["t",C+p*h,T+g*h]]),this.speedGroup.setMatrix(M)},e.prototype.getPointerPath=function(t,r){return[["M",t,r],["L",t-10,r-4],["L",t-10,r+4],["Z"]]},e.prototype.renderToggleTime=function(){var t,r,n=this.controllerCfg,a=n.width,i=n.defaultTimeType,o=Ca(Ca({},sW),this.controllerCfg.timeTypeControllerStyle||{}),s=o.scale,l=s===void 0?1:s,u=o.offsetX,c=u===void 0?0:u,f=o.offsetY,d=f===void 0?0:f,h=o.box,v=h===void 0?{}:h,p=o.check,m=p===void 0?{}:p,g=o.text,b=g===void 0?{}:g;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var y=i===sl.SINGLE;this.toggleGroup.addShape("rect",{attrs:Ca({x:a-Hu,y:this.speedAxisY[0]+3.5},v),isChecked:y,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Ca({path:[["M",a-Hu+3,this.speedAxisY[1]+6],["L",a-Hu+7,this.speedAxisY[1]+10],["L",a-Hu+12,this.speedAxisY[1]+4]]},m),capture:!1,name:"check-icon"}),y||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Ca({text:y?((t=this.controllerCfg)===null||t===void 0?void 0:t.timeRangeControllerText)||"时间范围":((r=this.controllerCfg)===null||r===void 0?void 0:r.timePointControllerText)||"单一时间",x:a-Hu+15,y:this.speedAxisY[0]+4,fontFamily:typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},b),name:"checked-text"});var w=this.toggleGroup.getCanvasBBox(),_=(w.maxX+w.minX)/2,x=(w.maxY+w.minY)/2,S=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];S=Cp(S,[["t",-_,-x],["s",l,l],["t",_+c*l,x+d*l]]),this.toggleGroup.setMatrix(S)},e.prototype.bindEvent=function(){var t=this;this.speedGroup.on("speed-rect:click",function(r){var n=r.target.attr("y1"),a=t.speedPoint.attr("matrix"),i=t.speedAxisY.indexOf(a[7]||0),o=t.speedAxisY.indexOf(n),s=t.speedAxisY[o]-t.speedAxisY[i];a=Cp(a,[["t",0,s]]),t.speedPoint.setMatrix(a),t.currentSpeed=t.speedAxisY.length-o,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(Yf,{speed:t.currentSpeed,type:t.currentType})}),this.speedGroup.on("mousewheel",function(r){r.preventDefault();var n=t.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],a=n[7],i=t.speedAxisY.indexOf(a);if(i===-1){var o=1/0;t.speedAxisY.forEach(function(l,u){var c=Math.abs(l-a);o>c&&(o=c,i=u)})}r.originalEvent.deltaY>0?i=Math.max(0,i-1):i=Math.min(t.speedAxisY.length-1,i+1);var s=t.speedAxisY[i]-a;n=Cp(n,[["t",0,s]]),t.speedPoint.setMatrix(n),t.currentSpeed=t.speedAxisY.length-i,t.speedText.attr("text","".concat(t.currentSpeed,".0X")),t.group.emit(Yf,{speed:t.currentSpeed,type:t.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(r){var n,a,i=r.target.get("isChecked");i?(t.checkedIcon.hide(),t.checkedText.attr("text",((a=t.controllerCfg)===null||a===void 0?void 0:a.timePointControllerText)||"单一时间"),t.currentType=sl.RANGE):(t.checkedIcon.show(),t.checkedText.attr("text",((n=t.controllerCfg)===null||n===void 0?void 0:n.timeRangeControllerText)||"时间范围"),t.currentType=sl.SINGLE),r.target.set("isChecked",!i),t.group.emit(Yf,{type:t.currentType,speed:t.currentSpeed})})},e.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},e}(),fg=function(){return fg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},fg.apply(this,arguments)},ZLe=vs,QLe={fill:"#5B8FF9"},JLe={fill:"#e6e8e9"},eNe=function(){function e(t){this.frameCount=0,this.fontFamily="Arial, sans-serif";var r=t.graph,n=t.canvas,a=t.group,i=t.width,o=t.height,s=t.padding,l=t.data,u=t.start,c=t.end,f=t.x,d=f===void 0?0:f,h=t.y,v=h===void 0?0:h,p=t.tickLabelFormatter,m=t.selectedTickStyle,g=m===void 0?QLe:m,b=t.unselectedTickStyle,y=b===void 0?JLe:b,w=t.tooltipBackgroundColor,_=t.tooltipFomatter,x=t.tickLabelStyle,S=t.controllerCfg,C=S===void 0?{speed:1}:S;this.graph=r,this.group=a,this.sliceGroup=a.addGroup({name:"slice-group"}),this.canvas=n,this.width=i,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=c,this.tickLabelFormatter=p,this.tickLabelStyle=x||{},this.selectedTickStyle=g,this.unselectedTickStyle=y,this.controllerCfg=C,this.currentSpeed=C.speed||1,this.x=d,this.y=v,this.tooltipBackgroundColor=w,this.tooltipFomatter=_,this.fontFamily=typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return e.prototype.renderSlices=function(){var t=this,r=this,n=r.width,a=r.height,i=r.padding,o=r.data,s=r.start,l=r.end,u=r.tickLabelFormatter,c=r.selectedTickStyle,f=r.unselectedTickStyle,d=r.tickLabelStyle,h=n-2*i,v=10,p=4,m=3*i+p+v,g=a-m-2*i,b=2,y=o.length,w=(h-b*(y-1))/y;this.tickWidth=w;var _=this.sliceGroup,x=[],S=[],C=Math.round(y*s),T=Math.round(y*l);this.startTickRectId=C,this.endTickRectId=T;var M=d.rotate;delete d.rotate,o.forEach(function(A,O){var P=O>=C&&O<=T,R=P?c:f,N=_.addShape("rect",{attrs:fg({x:i+O*(w+b),y:i,width:w,height:g},R),draggable:!0,name:"tick-rect-".concat(O)}),L=_.addShape("rect",{attrs:{x:i+O*w+b*(2*O-1)/2,y:i,width:O===0||O===y-1?w+b/2:w+b,height:g,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(O)});L.toFront();var B=N.getBBox(),I=(B.minX+B.maxX)/2;x.push({rect:N,pickRect:L,value:A.date,x:I,y:B.minY});var D;if(u?(D=u(A),!Lt(D)&&D&&(D=A.date)):O%Math.round(y/10)===0&&(D=A.date),D){S.push(D);var z=B.maxY+i*2;_.addShape("line",{attrs:{stroke:"#BFBFBF",x1:I,y1:z,x2:I,y2:z+p},name:"tick-line"});var U=z+p+i,H=_.addShape("text",{attrs:fg({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:I,y:U,textAlign:"center",text:D,textBaseline:"top",fontSize:10,fontFamily:t.fontFamily||"Arial, sans-serif"},d),capture:!1,name:"tick-label"}),Y=H.getBBox();if(Y.maxX>n?H.attr("textAlign","right"):Y.minX<0&&H.attr("textAlign","left"),pr(M)&&S.length!==10){var ie=ZLe([1,0,0,0,1,0,0,0,1],[["t",-I,-U],["r",M],["t",I-5,U+2]]);H.attr({textAlign:"left",matrix:ie})}S.length===1?H.attr({textAlign:"left"}):S.length===10&&H.attr({textAlign:"right"})}}),this.tickRects=x;var k=this.group;this.currentSpeed=1,this.controllerBtnGroup=new lW(fg({group:k,x:this.x,y:this.y+a+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},e.prototype.initEvent=function(){var t=this,r=this.sliceGroup;r.on("click",function(c){var f=c.target;if(!(f.get("type")!=="rect"||!f.get("name"))){var d=parseInt(f.get("name").split("-")[2],10);if(!isNaN(d)){var h=t.tickRects,v=t.unselectedTickStyle;h.forEach(function(b){b.rect.attr(v)});var p=t.selectedTickStyle;h[d].rect.attr(p),t.startTickRectId=d,t.endTickRectId=d;var m=h.length,g=d/m;t.graph.emit(cl,{value:[g,g]})}}}),r.on("dragstart",function(c){var f=t.tickRects,d=t.unselectedTickStyle;f.forEach(function(b){b.rect.attr(d)});var h=c.target,v=parseInt(h.get("name").split("-")[2],10),p=t.selectedTickStyle;f[v].rect.attr(p),t.startTickRectId=v;var m=f.length,g=v/m;t.graph.emit(cl,{value:[g,g]}),t.dragging=!0}),r.on("dragover",function(c){if(t.dragging&&c.target.get("type")==="rect"){for(var f=parseInt(c.target.get("name").split("-")[2],10),d=t.startTickRectId,h=t.tickRects,v=t.selectedTickStyle,p=t.unselectedTickStyle,m=0;m<h.length;m++){var g=m>=d&&m<=f?v:p;h[m].rect.attr(g)}var b=h.length;t.endTickRectId=f;var y=d/b,w=f/b;t.graph.emit(cl,{value:[y,w]})}}),r.on("drop",function(c){if(t.dragging&&(t.dragging=!1,c.target.get("type")==="rect")){var f=t.startTickRectId,d=parseInt(c.target.get("name").split("-")[2],10);if(!(d<f)){var h=t.selectedTickStyle,v=t.tickRects;v[d].rect.attr(h),t.endTickRectId=d;var p=v.length,m=f/p,g=d/p;t.graph.emit(cl,{value:[m,g]})}}});var n=this,a=n.tooltipBackgroundColor,i=n.tooltipFomatter,o=n.canvas,s=new VLe({container:o.get("container"),backgroundColor:a}),l=this.tickRects;l.forEach(function(c){var f=c.pickRect;f.on("mouseenter",function(d){var h=d.target;if(h.get("type")==="rect"){var v=parseInt(h.get("name").split("-")[2],10),p=o.getClientByPoint(l[v].x,l[v].y);s.show({x:l[v].x,y:l[v].y,clientX:p.x,clientY:p.y,text:i?i(l[v].value):l[v].value})}}),f.on("mouseleave",function(d){s.hide()})});var u=this.group;u.on("".concat(vc,":click"),function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),u.on("".concat(Jg,":click"),function(){t.updateStartEnd(1)}),u.on("".concat(e0,":click"),function(){t.updateStartEnd(-1)}),u.on(Yf,function(c){c.type;var f=c.speed;t.currentSpeed=f})},e.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(aW,null)):this.playHandler&&(typeof window<"u"&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(iW,null))},e.prototype.startPlay=function(){var t=this;return typeof window<"u"?window.requestAnimationFrame(function(){var r=t.currentSpeed;t.frameCount%(60/r)===0&&(t.frameCount=0,t.updateStartEnd(1)),t.frameCount++,t.isPlay&&(t.playHandler=t.startPlay())}):void 0},e.prototype.updateStartEnd=function(t){var r=this,n=this.tickRects,a=n.length,i=this.unselectedTickStyle,o=this.selectedTickStyle,s=r.endTickRectId;if(t>0?r.endTickRectId++:(n[r.endTickRectId].rect.attr(i),r.endTickRectId--),s!==r.startTickRectId)r.endTickRectId<r.startTickRectId&&(r.startTickRectId=r.endTickRectId);else{for(var l=r.startTickRectId;l<=r.endTickRectId-1;l++)n[l].rect.attr(i);r.startTickRectId=r.endTickRectId}if(n[r.endTickRectId]){n[r.endTickRectId].rect.attr(o);var u=r.startTickRectId/a,c=r.endTickRectId/a;this.graph.emit(cl,{value:[u,c]})}},e.prototype.destory=function(){var t=this.sliceGroup;t.off("click"),t.off("dragstart"),t.off("dragover"),t.off("drop"),this.tickRects.forEach(function(r){var n=r.pickRect;n.off("mouseenter"),n.off("mouseleave")}),this.tickRects.length=0,t.off("".concat(vc,":click")),t.off("".concat(Jg,":click")),t.off("".concat(e0,":click")),t.off(Yf),this.sliceGroup.destroy()},e}(),uW={};function tNe(e){return uW[e]}function Rl(e,t){uW[e]=t}var lI=function(){function e(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return e.prototype.translate=function(t){return t},e.prototype.change=function(t){Cr(this.__cfg__,t),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var t=this;return td(this.ticks,function(r,n){return si(r)?r:{text:t.getText(r,n),tickValue:r,value:t.scale(r)}})},e.prototype.getText=function(t,r){var n=this.formatter,a=n?n(t,r):t;return hr(a)||!ta(a.toString)?"":a.toString()},e.prototype.getConfig=function(t){return this.__cfg__[t]},e.prototype.init=function(){Cr(this,this.__cfg__),this.setDomain(),F8(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var t=this.tickMethod,r=[];if(Lt(t)){var n=tNe(t);if(!n)throw new Error("There is no method to to calculate ticks!");r=n(this)}else ta(t)&&(r=t(this));return r},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(t,r,n){return pr(t)?(t-r)/(n-r):NaN},e.prototype.calcValue=function(t,r,n){return r+t*(n-r)},e}(),em=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cat",r.isCategory=!0,r}return t.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var r=0;r<this.values.length;r++)this.translateIndexMap.set(this.values[r],r)}},t.prototype.translate=function(r){this.buildIndexMap();var n=this.translateIndexMap.get(r);return n===void 0&&(n=pr(r)?r:NaN),n},t.prototype.scale=function(r){var n=this.translate(r),a=this.calcPercent(n,this.min,this.max);return this.calcValue(a,this.rangeMin(),this.rangeMax())},t.prototype.invert=function(r){var n=this.max-this.min,a=this.calcPercent(r,this.rangeMin(),this.rangeMax()),i=Math.round(n*a)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},t.prototype.getText=function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=r;return pr(r)&&!this.values.includes(r)&&(i=this.values[i]),e.prototype.getText.apply(this,tE([i],n))},t.prototype.initCfg=function(){this.tickMethod="cat"},t.prototype.setDomain=function(){if(hr(this.getConfig("min"))&&(this.min=0),hr(this.getConfig("max"))){var r=this.values.length;this.max=r>1?r-1:r}this.translateIndexMap&&(this.translateIndexMap=void 0)},t}(lI),cW=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,qu="\\d\\d?",Yu="\\d\\d",rNe="\\d{3}",nNe="\\d{4}",dg="[^\\s]+",fW=/\[([^]*?)\]/gm;function dW(e,t){for(var r=[],n=0,a=e.length;n<a;n++)r.push(e[n].substr(0,t));return r}var g4=function(e){return function(t,r){var n=r[e].map(function(i){return i.toLowerCase()}),a=n.indexOf(t.toLowerCase());return a>-1?a:null}};function Lc(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,a=t;n<a.length;n++){var i=a[n];for(var o in i)e[o]=i[o]}return e}var hW=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],vW=["January","February","March","April","May","June","July","August","September","October","November","December"],aNe=dW(vW,3),iNe=dW(hW,3),uI={dayNamesShort:iNe,dayNames:hW,monthNamesShort:aNe,monthNames:vW,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},pw=Lc({},uI),pW=function(e){return pw=Lc(pw,e)},m4=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},qi=function(e,t){for(t===void 0&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},oNe={D:function(e){return String(e.getDate())},DD:function(e){return qi(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return qi(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return qi(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return qi(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return qi(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return qi(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return qi(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return qi(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return qi(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return qi(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return qi(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+qi(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+qi(Math.floor(Math.abs(t)/60),2)+":"+qi(Math.abs(t)%60,2)}},y4=function(e){return+e-1},b4=[null,qu],w4=[null,dg],E4=["isPm",dg,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],_4=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=+t[1]*60+parseInt(t[2],10);return t[0]==="+"?r:-r}return 0}],sNe={D:["day",qu],DD:["day",Yu],Do:["day",qu+dg,function(e){return parseInt(e,10)}],M:["month",qu,y4],MM:["month",Yu,y4],YY:["year",Yu,function(e){var t=new Date,r=+(""+t.getFullYear()).substr(0,2);return+(""+(+e>68?r-1:r)+e)}],h:["hour",qu,void 0,"isPm"],hh:["hour",Yu,void 0,"isPm"],H:["hour",qu],HH:["hour",Yu],m:["minute",qu],mm:["minute",Yu],s:["second",qu],ss:["second",Yu],YYYY:["year",nNe],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",Yu,function(e){return+e*10}],SSS:["millisecond",rNe],d:b4,dd:b4,ddd:w4,dddd:w4,MMM:["month",dg,g4("monthNamesShort")],MMMM:["month",dg,g4("monthNames")],a:E4,A:E4,ZZ:_4,Z:_4},gw={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},gW=function(e){return Lc(gw,e)},mW=function(e,t,r){if(t===void 0&&(t=gw.default),r===void 0&&(r={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=gw[t]||t;var n=[];t=t.replace(fW,function(i,o){return n.push(o),"@@@"});var a=Lc(Lc({},pw),r);return t=t.replace(cW,function(i){return oNe[i](e,a)}),t.replace(/@@@/g,function(){return n.shift()})};function yW(e,t,r){if(r===void 0&&(r={}),typeof t!="string")throw new Error("Invalid format in fecha parse");if(t=gw[t]||t,e.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],s=t.replace(fW,function(w,_){return o.push(m4(_)),"@@@"}),l={},u={};s=m4(s).replace(cW,function(w){var _=sNe[w],x=_[0],S=_[1],C=_[3];if(l[x])throw new Error("Invalid format. "+x+" specified twice in format");return l[x]=!0,C&&(u[C]=!0),i.push(_),"("+S+")"}),Object.keys(u).forEach(function(w){if(!l[w])throw new Error("Invalid format. "+w+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=e.match(new RegExp(s,"i"));if(!c)return null;for(var f=Lc(Lc({},pw),r),d=1;d<c.length;d++){var h=i[d-1],v=h[0],p=h[2],m=p?p(c[d],f):+c[d];if(m==null)return null;a[v]=m}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var g;if(a.timezoneOffset==null){g=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var b=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],d=0,y=b.length;d<y;d++)if(l[b[d][0]]&&a[b[d][0]]!==g[b[d][1]]())return null}else if(g=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return g}var bW={format:mW,parse:yW,defaultI18n:uI,setGlobalDateI18n:pW,setGlobalDateMasks:gW};const lNe=Object.freeze(Object.defineProperty({__proto__:null,assign:Lc,default:bW,defaultI18n:uI,format:mW,parse:yW,setGlobalDateI18n:pW,setGlobalDateMasks:gW},Symbol.toStringTag,{value:"Module"}));function uNe(e){return function(t,r,n,a){for(var i=hr(n)?0:n,o=hr(a)?t.length:a;i<o;){var s=i+o>>>1;e(t[s])>r?o=s:i=s+1}return i}}var x4="format";function wW(e,t){var r=lNe[x4]||bW[x4];return r(e,t)}function mw(e){return Lt(e)&&(e.indexOf("T")>0?e=new Date(e).getTime():e=new Date(e.replace(/-/gi,"/")).getTime()),JT(e)&&(e=e.getTime()),e}var Cs=1e3,Kf=60*Cs,Xf=60*Kf,iu=24*Xf,hg=iu*31,S4=iu*365,Mp=[["HH:mm:ss",Cs],["HH:mm:ss",Cs*10],["HH:mm:ss",Cs*30],["HH:mm",Kf],["HH:mm",Kf*10],["HH:mm",Kf*30],["HH",Xf],["HH",Xf*6],["HH",Xf*12],["YYYY-MM-DD",iu],["YYYY-MM-DD",iu*4],["YYYY-WW",iu*7],["YYYY-MM",hg],["YYYY-MM",hg*4],["YYYY-MM",hg*6],["YYYY",iu*380]];function cNe(e,t,r){var n=(t-e)/r,a=uNe(function(o){return o[1]})(Mp,n)-1,i=Mp[a];return a<0?i=Mp[0]:a>=Mp.length&&(i=rs(Mp)),i}var fNe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="timeCat",r}return t.prototype.translate=function(r){r=mw(r);var n=this.values.indexOf(r);return n===-1&&(pr(r)&&r<this.values.length?n=r:n=NaN),n},t.prototype.getText=function(r,n){var a=this.translate(r);if(a>-1){var i=this.values[a],o=this.formatter;return i=o?o(i,n):wW(i,this.mask),i}return r},t.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},t.prototype.setDomain=function(){var r=this.values;pt(r,function(n,a){r[a]=mw(n)}),r.sort(function(n,a){return n-a}),e.prototype.setDomain.call(this)},t}(em),JE=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isContinuous=!0,r}return t.prototype.scale=function(r){if(hr(r))return NaN;var n=this.rangeMin(),a=this.rangeMax(),i=this.max,o=this.min;if(i===o)return n;var s=this.getScalePercent(r);return n+s*(a-n)},t.prototype.init=function(){e.prototype.init.call(this);var r=this.ticks,n=wl(r),a=rs(r);n<this.min&&(this.min=n),a>this.max&&(this.max=a),hr(this.minLimit)||(this.min=n),hr(this.maxLimit)||(this.max=a)},t.prototype.setDomain=function(){var r=T8(this.values),n=r.min,a=r.max;hr(this.min)&&(this.min=n),hr(this.max)&&(this.max=a),this.min>this.max&&(this.min=n,this.max=a)},t.prototype.calculateTicks=function(){var r=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=rE(n,function(a){return a>=r.min&&a<=r.max})),n},t.prototype.getScalePercent=function(r){var n=this.max,a=this.min;return(r-a)/(n-a)},t.prototype.getInvertPercent=function(r){return(r-this.rangeMin())/(this.rangeMax()-this.rangeMin())},t}(lI),tm=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="linear",r.isLinear=!0,r}return t.prototype.invert=function(r){var n=this.getInvertPercent(r);return this.min+n*(this.max-this.min)},t.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},t}(JE);function sc(e,t){var r=Math.E,n;return t>=0?n=Math.pow(r,Math.log(t)/e):n=Math.pow(r,Math.log(-t)/e)*-1,n}function Xo(e,t){return e===1?1:Math.log(t)/Math.log(e)}function EW(e,t,r){hr(r)&&(r=Math.max.apply(null,e));var n=r;return pt(e,function(a){a>0&&a<n&&(n=a)}),n===r&&(n=r/t),n>1&&(n=1),n}var dNe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r}return t.prototype.invert=function(r){var n=this.base,a=Xo(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,s,l=this.positiveMin;if(l){if(r===0)return 0;s=Xo(n,l/n);var u=1/(a-s)*o;if(r<u)return r/u*l}else s=Xo(n,this.min);var c=(r-i)/o,f=c*(a-s)+s;return Math.pow(n,f)},t.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},t.prototype.setDomain=function(){e.prototype.setDomain.call(this);var r=this.min;if(r<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");r===0&&(this.positiveMin=EW(this.values,this.base,this.max))},t.prototype.getScalePercent=function(r){var n=this.max,a=this.min;if(n===a||r<=0)return 0;var i=this.base,o=this.positiveMin;o&&(a=o*1/i);var s;return r<o?s=r/o/(Xo(i,n)-Xo(i,a)):s=(Xo(i,r)-Xo(i,a))/(Xo(i,n)-Xo(i,a)),s},t}(JE),hNe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="pow",r}return t.prototype.invert=function(r){var n=this.getInvertPercent(r),a=this.exponent,i=sc(a,this.max),o=sc(a,this.min),s=n*(i-o)+o,l=s>=0?1:-1;return Math.pow(s,a)*l},t.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},t.prototype.getScalePercent=function(r){var n=this.max,a=this.min;if(n===a)return 0;var i=this.exponent,o=(sc(i,r)-sc(i,a))/(sc(i,n)-sc(i,a));return o},t}(JE),vNe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="time",r}return t.prototype.getText=function(r,n){var a=this.translate(r),i=this.formatter;return i?i(a,n):wW(a,this.mask)},t.prototype.scale=function(r){var n=r;return(Lt(n)||JT(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},t.prototype.translate=function(r){return mw(r)},t.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},t.prototype.setDomain=function(){var r=this.values,n=this.getConfig("min"),a=this.getConfig("max");if((!hr(n)||!pr(n))&&(this.min=this.translate(this.min)),(!hr(a)||!pr(a))&&(this.max=this.translate(this.max)),r&&r.length){var i=[],o=1/0,s=o,l=0;pt(r,function(u){var c=mw(u);if(isNaN(c))throw new TypeError("Invalid Time: "+u+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),l<c&&(l=c),i.push(c)}),r.length>1&&(this.minTickInterval=s-o),hr(n)&&(this.min=o),hr(a)&&(this.max=l)}},t}(tm),_W=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="quantize",r}return t.prototype.invert=function(r){var n=this.ticks,a=n.length,i=this.getInvertPercent(r),o=Math.floor(i*(a-1));if(o>=a-1)return rs(n);if(o<0)return wl(n);var s=n[o],l=n[o+1],u=o/(a-1),c=(o+1)/(a-1);return s+(i-u)/(c-u)*(l-s)},t.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},t.prototype.calculateTicks=function(){var r=e.prototype.calculateTicks.call(this);return this.nice||(rs(r)!==this.max&&r.push(this.max),wl(r)!==this.min&&r.unshift(this.min)),r},t.prototype.getScalePercent=function(r){var n=this.ticks;if(r<wl(n))return 0;if(r>rs(n))return 1;var a=0;return pt(n,function(i,o){if(r>=i)a=o;else return!1}),a/(n.length-1)},t}(JE),pNe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="quantile",r}return t.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},t}(_W),xW={};function gNe(e){return xW[e]}function $l(e,t){if(gNe(e))throw new Error("type '"+e+"' existed.");xW[e]=t}var mNe=function(e){jr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="identity",r.isIdentity=!0,r}return t.prototype.calculateTicks=function(){return this.values},t.prototype.scale=function(r){return this.values[0]!==r&&pr(r)?r:this.range[0]},t.prototype.invert=function(r){var n=this.range;return r<n[0]||r>n[1]?NaN:this.values[0]},t}(lI);function SW(e){var t=e.values,r=e.tickInterval,n=e.tickCount,a=e.showLast;if(pr(r)){var i=rE(t,function(v,p){return p%r===0}),o=rs(t);return a&&rs(i)!==o&&i.push(o),i}var s=t.length,l=e.min,u=e.max;if(hr(l)&&(l=0),hr(u)&&(u=t.length-1),!pr(n)||n>=s)return t.slice(l,u+1);if(n<=0||u<=0)return[];for(var c=n===1?s:Math.floor(s/(n-1)),f=[],d=l,h=0;h<n&&!(d>=u);h++)d=Math.min(l+h*c,u),h===n-1&&a?f.push(t[u]):f.push(t[d]);return f}function yNe(e){var t=e.min,r=e.max,n=e.nice,a=e.tickCount,i=new bNe;return i.domain([t,r]),n&&i.nice(a),i.ticks(a)}var Wx=5,C4=Math.sqrt(50),M4=Math.sqrt(10),T4=Math.sqrt(2),bNe=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},e.prototype.nice=function(t){var r,n;t===void 0&&(t=Wx);var a=this._domain.slice(),i=0,o=this._domain.length-1,s=this._domain[i],l=this._domain[o],u;return l<s&&(r=[l,s],s=r[0],l=r[1],n=[o,i],i=n[0],o=n[1]),u=Y1(s,l,t),u>0?(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,u=Y1(s,l,t)):u<0&&(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,u=Y1(s,l,t)),u>0?(a[i]=Math.floor(s/u)*u,a[o]=Math.ceil(l/u)*u,this.domain(a)):u<0&&(a[i]=Math.ceil(s*u)/u,a[o]=Math.floor(l*u)/u,this.domain(a)),this},e.prototype.ticks=function(t){return t===void 0&&(t=Wx),wNe(this._domain[0],this._domain[this._domain.length-1],t||Wx)},e}();function wNe(e,t,r){var n,a=-1,i,o,s;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),(s=Y1(e,t,r))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(i=Math.ceil(t-e+1));++a<i;)o[a]=(e+a)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(i=Math.ceil(e-t+1));++a<i;)o[a]=(e-a)/s;return n&&o.reverse(),o}function Y1(e,t,r){var n=(t-e)/Math.max(0,r),a=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,a);return a>=0?(i>=C4?10:i>=M4?5:i>=T4?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=C4?10:i>=M4?5:i>=T4?2:1)}function k4(e,t,r){var n;return r==="ceil"?n=Math.ceil(e/t):r==="floor"?n=Math.floor(e/t):n=Math.round(e/t),n*t}function cI(e,t,r){var n=k4(e,r,"floor"),a=k4(t,r,"ceil");n=x1(n,r),a=x1(a,r);for(var i=[],o=Math.max((a-n)/(Math.pow(2,12)-1),r),s=n;s<=a;s=s+o){var l=x1(s,o);i.push(l)}return{min:n,max:a,ticks:i}}function fI(e,t,r){var n,a=e.minLimit,i=e.maxLimit,o=e.min,s=e.max,l=e.tickCount,u=l===void 0?5:l,c=hr(a)?hr(t)?o:t:a,f=hr(i)?hr(r)?s:r:i;if(c>f&&(n=[c,f],f=n[0],c=n[1]),u<=2)return[c,f];for(var d=(f-c)/(u-1),h=[],v=0;v<u;v++)h.push(c+d*v);return h}function ENe(e){var t=e.min,r=e.max,n=e.tickInterval,a=e.minLimit,i=e.maxLimit,o=yNe(e);return!hr(a)||!hr(i)?fI(e,wl(o),rs(o)):n?cI(t,r,n).ticks:o}function Sf(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var _Ne=[1,5,2,2.5,4,3],A4=Number.EPSILON*100;function xNe(e,t){return(e%t+t)%t}function SNe(e){return Math.round(e*1e12)/1e12}function CNe(e,t,r,n,a,i){var o=iE(t),s=ek(t,e),l=0,u=xNe(n,i);return(u<A4||i-u<A4)&&n<=0&&a>=0&&(l=1),1-s/(o-1)-r+l}function MNe(e,t,r){var n=iE(t),a=ek(t,e),i=1;return 1-a/(n-1)-r+i}function TNe(e,t,r,n,a,i){var o=(e-1)/(i-a),s=(t-1)/(Math.max(i,n)-Math.min(r,a));return 2-Math.max(o/s,s/o)}function kNe(e,t){return e>=t?2-(e-1)/(t-1):1}function ANe(e,t,r,n){var a=t-e;return 1-.5*(Math.pow(t-n,2)+Math.pow(e-r,2))/Math.pow(.1*a,2)}function INe(e,t,r){var n=t-e;if(r>n){var a=(r-n)/2;return 1-Math.pow(a,2)/Math.pow(.1*n,2)}return 1}function ONe(){return 1}function LNe(e,t,r,n,a,i){r===void 0&&(r=5),n===void 0&&(n=!0),a=_Ne,i=[.25,.2,.5,.05];var o=r<0?0:Math.round(r);if(Number.isNaN(e)||Number.isNaN(t)||typeof e!="number"||typeof t!="number"||!o)return{min:0,max:0,ticks:[]};if(t-e<1e-15||o===1)return{min:e,max:t,ticks:[e]};if(t-e>1e148){var s=r||5,l=(t-e)/s;return{min:e,max:t,ticks:Array(s).fill(null).map(function(z,U){return Sf(e+l*U)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var f=0;f<a.length;f+=1){var d=a[f],h=MNe(d,a,c);if(i[0]*h+i[1]+i[2]+i[3]<u.score){c=1/0;break}for(var v=2;v<1/0;){var p=kNe(v,o);if(i[0]*h+i[1]+i[2]*p+i[3]<u.score)break;for(var m=(t-e)/(v+1)/c/d,g=Math.ceil(Math.log10(m));g<1/0;){var b=c*d*Math.pow(10,g),y=INe(e,t,b*(v-1));if(i[0]*h+i[1]*y+i[2]*p+i[3]<u.score)break;var w=Math.floor(t/b)*c-(v-1)*c,_=Math.ceil(e/b)*c;if(w<=_)for(var s=_-w,x=0;x<=s;x+=1){var S=w+x,C=S*(b/c),T=C+b*(v-1),M=b,k=CNe(d,a,c,C,T,M),A=ANe(e,t,C,T),O=TNe(v,o,e,t,C,T),P=ONe(),R=i[0]*k+i[1]*A+i[2]*O+i[3]*P;R>u.score&&(!n||C<=e&&T>=t)&&(u.lmin=C,u.lmax=T,u.lstep=M,u.score=R)}g+=1}v+=1}}c+=1}var N=Sf(u.lmax),L=Sf(u.lmin),B=Sf(u.lstep),I=Math.floor(SNe((N-L)/B))+1,D=new Array(I);D[0]=Sf(L);for(var f=1;f<I;f++)D[f]=Sf(D[f-1]+B);return{min:Math.min(e,wl(D)),max:Math.max(t,rs(D)),ticks:D}}function NNe(e){var t=e.min,r=e.max,n=e.tickCount,a=e.nice,i=e.tickInterval,o=e.minLimit,s=e.maxLimit,l=LNe(t,r,n,a).ticks;return!hr(o)||!hr(s)?fI(e,wl(l),rs(l)):i?cI(t,r,i).ticks:l}function PNe(e){var t=e.base,r=e.tickCount,n=e.min,a=e.max,i=e.values,o,s=Xo(t,a);if(n>0)o=Math.floor(Xo(t,n));else{var l=EW(i,t,a);o=Math.floor(Xo(t,l))}for(var u=s-o,c=Math.ceil(u/r),f=[],d=o;d<s+c;d=d+c)f.push(Math.pow(t,d));return n<=0&&f.unshift(0),f}function CW(e,t,r){if(r===void 0&&(r=5),e===t)return{max:t,min:e,ticks:[e]};var n=r<0?0:Math.round(r);if(n===0)return{max:t,min:e,ticks:[]};var a=1.5,i=.5+1.5*a,o=t-e,s=o/n,l=Math.pow(10,Math.floor(Math.log10(s))),u=l;2*l-s<a*(s-u)&&(u=2*l,5*l-s<i*(s-u)&&(u=5*l,10*l-s<a*(s-u)&&(u=10*l)));for(var c=Math.ceil(t/u),f=Math.floor(e/u),d=Math.max(c*u,t),h=Math.min(f*u,e),v=Math.floor((d-h)/u)+1,p=new Array(v),m=0;m<v;m++)p[m]=Sf(h+m*u);return{min:h,max:d,ticks:p}}function DNe(e){var t=e.exponent,r=e.tickCount,n=Math.ceil(sc(t,e.max)),a=Math.floor(sc(t,e.min)),i=CW(a,n,r).ticks;return i.map(function(o){var s=o>=0?1:-1;return Math.pow(o,t)*s})}function RNe(e,t){var r=e.length*t;return t===1?e[e.length-1]:t===0?e[0]:r%1!==0?e[Math.ceil(r)-1]:e.length%2===0?(e[r-1]+e[r])/2:e[r]}function $Ne(e){var t=e.tickCount,r=e.values;if(!r||!r.length)return[];for(var n=r.slice().sort(function(s,l){return s-l}),a=[],i=0;i<t;i++){var o=i/(t-1);a.push(RNe(n,o))}return a}function BNe(e){var t=e.min,r=e.max,n=e.tickCount,a=e.tickInterval,i=e.minLimit,o=e.maxLimit,s=CW(t,r,n).ticks;return!hr(i)||!hr(o)?fI(e,wl(s),rs(s)):a?cI(t,r,a).ticks:s}function FNe(e){var t=e.min,r=e.max,n=e.minTickInterval,a=e.tickInterval,i=e.tickCount;if(a)i=Math.ceil((r-t)/a);else{a=cNe(t,r,i)[1];var o=(r-t)/a,s=o/i;s>1&&(a=a*Math.ceil(s)),n&&a<n&&(a=n)}a=Math.max(Math.floor((r-t)/(Math.pow(2,12)-1)),a);for(var l=[],u=t;u<r+a;u+=a)l.push(u);return l}function zNe(e){var t=SW(ee({showLast:!0},e));return t}function yw(e){return new Date(e).getFullYear()}function GNe(e){return new Date(e,0,1).getTime()}function lM(e){return new Date(e).getMonth()}function jNe(e,t){var r=yw(e),n=yw(t),a=lM(e),i=lM(t);return(n-r)*12+(i-a)%12}function VNe(e,t){return new Date(e,t,1).getTime()}function UNe(e,t){return Math.ceil((t-e)/iu)}function WNe(e,t){return Math.ceil((t-e)/Xf)}function HNe(e,t){return Math.ceil((t-e)/(60*1e3))}function YNe(e){var t=e.min,r=e.max,n=e.minTickInterval,a=e.tickCount,i=e.tickInterval,o=[];i||(i=(r-t)/a,n&&i<n&&(i=n)),i=Math.max(Math.floor((r-t)/(Math.pow(2,12)-1)),i);var s=yw(t);if(i>S4)for(var l=yw(r),u=Math.ceil(i/S4),c=s;c<=l+u;c=c+u)o.push(GNe(c));else if(i>hg)for(var f=Math.ceil(i/hg),d=lM(t),h=jNe(t,r),c=0;c<=h+f;c=c+f)o.push(VNe(s,c+d));else if(i>iu)for(var v=new Date(t),p=v.getFullYear(),m=v.getMonth(),g=v.getDate(),b=Math.ceil(i/iu),y=UNe(t,r),c=0;c<y+b;c=c+b)o.push(new Date(p,m,g+c).getTime());else if(i>Xf)for(var v=new Date(t),p=v.getFullYear(),m=v.getMonth(),b=v.getDate(),w=v.getHours(),_=Math.ceil(i/Xf),x=WNe(t,r),c=0;c<=x+_;c=c+_)o.push(new Date(p,m,b,w+c).getTime());else if(i>Kf)for(var S=HNe(t,r),C=Math.ceil(i/Kf),c=0;c<=S+C;c=c+C)o.push(t+c*Kf);else{var T=i;T<Cs&&(T=Cs);for(var M=Math.floor(t/Cs)*Cs,k=Math.ceil((r-t)/Cs),A=Math.ceil(T/Cs),c=0;c<k+A;c=c+A)o.push(M+c*Cs)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),o}Rl("cat",SW);Rl("time-cat",zNe);Rl("wilkinson-extended",NNe);Rl("r-pretty",BNe);Rl("time",FNe);Rl("time-pretty",YNe);Rl("log",PNe);Rl("pow",DNe);Rl("quantile",$Ne);Rl("d3-linear",ENe);$l("cat",em);$l("category",em);$l("identity",mNe);$l("linear",tm);$l("log",dNe);$l("pow",hNe);$l("time",vNe);$l("timeCat",fNe);$l("quantize",_W);$l("quantile",pNe);var KNe=function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};function XNe(e){return td(e,function(t,r){var n=r===0?"M":"L",a=t[0],i=t[1];return[n,a,i]})}function MW(e){return XNe(e)}function qNe(e){if(e.length<=2)return MW(e);var t=[];pt(e,function(o){Cc(o,t.slice(t.length-2))||t.push(o[0],o[1])});var r=Mj(t,!1),n=wl(e),a=n[0],i=n[1];return r.unshift(["M",a,i]),r}function ZNe(e,t,r,n){n===void 0&&(n=!0);var a=new tm({values:e}),i=new em({values:td(e,function(s,l){return l})}),o=td(e,function(s,l){return[i.scale(l)*t,r-a.scale(s)*r]});return n?qNe(o):MW(o)}function QNe(e,t,r,n){n===void 0&&(n=5);for(var a=new tm({values:e}),i=new em({values:td(e,function(d,h){return h})}),o=td(e,function(d,h){return[i.scale(h)*t,r-a.scale(d)*r]}),s=[],l=0;l<o.length;l++){var u=o[l],c={x:u[0],y:u[1],y0:r,size:n},f=tPe(c);s.push.apply(s,f)}return rPe(s)}function JNe(e,t){var r=new tm({values:e}),n=Math.max(0,r.min);return t-r.scale(n)*t}function ePe(e,t,r,n){var a=KNe([],e,!0),i=JNe(n,r);return a.push(["L",t,i]),a.push(["L",0,i]),a.push(["Z"]),a}function tPe(e){var t=e.x,r=e.y,n=e.y0,a=e.size,i,o;wr(r)?(i=r[0],o=r[1]):(i=n,o=r);var s,l;wr(t)?(s=t[0],l=t[1]):(s=t-a/2,l=t+a/2);var u=[{x:s,y:i},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:i}),u}function rPe(e,t){var r=[],n=e[0];r.push(["M",n.x,n.y]);for(var a=1,i=e.length;a<i;a++)r.push(["L",e[a].x,e[a].y]);return r}var vg=function(){return vg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vg.apply(this,arguments)},nPe={stroke:"#C5C5C5",strokeOpacity:.85},aPe={fill:"#CACED4",opacity:.85},iPe=function(){function e(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.width,s=o===void 0?200:o,l=t.height,u=l===void 0?26:l,c=t.smooth,f=c===void 0?!0:c,d=t.isArea,h=d===void 0?!1:d,v=t.data,p=v===void 0?[]:v,m=t.lineStyle,g=t.areaStyle,b=t.group,y=t.interval,w=y===void 0?null:y;this.group=b,this.x=n,this.y=i,this.width=s,this.height=u,this.data=p,this.smooth=f,this.isArea=h,this.lineStyle=Object.assign({},nPe,m),this.areaStyle=Object.assign({},aPe,g),this.intervalConfig=w,this.renderLine()}return e.prototype.renderLine=function(){var t=this,r=t.x,n=t.y,a=t.width,i=t.height;t.barWidth;var o=t.data,s=t.smooth,l=t.isArea,u=t.lineStyle,c=t.areaStyle,f=this.group.addGroup({name:"trend-group"});if(o){var d=ZNe(o,a,i,s);if(f.addShape("path",{attrs:vg({path:d},u),name:"trend-line"}),l){var h=ePe(d,a,i,o);f.addShape("path",{attrs:vg({path:h},c),name:"trend-area"})}}this.intervalConfig&&f.addShape("path",{attrs:vg({path:QNe(this.intervalConfig.data,a,i,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),f.move(r,n)},e.prototype.destory=function(){this.group.destroy()},e}(),Sh=function(){return Sh=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Sh.apply(this,arguments)},oPe={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},sPe={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},I4=function(){function e(t){var r=t.group,n=t.name,a=t.type,i=t.x,o=i===void 0?0:i,s=t.y,l=s===void 0?0:s,u=t.width,c=u===void 0?2:u,f=t.height,d=f===void 0?24:f,h=t.style,v=h===void 0?{}:h;this.group=r,this.name=n,this.handleType=a,this.x=o,this.y=l,this.width=c,this.height=d,a==="trend"?this.style=Sh(Sh({},oPe),v):a==="simple"&&(this.style=Sh(Sh({},sPe),v)),this.renderHandle()}return e.prototype.setX=function(t){this.setXY(t,void 0)},e.prototype.setY=function(t){this.setXY(void 0,t)},e.prototype.setXY=function(t,r){pr(t)&&(this.x=t),pr(r)&&(this.y=r),this.updateXY()},e.prototype.renderHandle=function(){var t=this,r=t.width,n=t.height,a=t.style,i=t.name,o=a.fill,s=a.stroke,l=a.radius,u=a.opacity,c=a.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:r,height:n,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:"".concat(i,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:r/2,y:0,r:2*r,fill:o,stroke:s,radius:l,opacity:u,cursor:c,lineAppendWidth:12},name:"".concat(i,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:r/2,y:n,r:2*r,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:"".concat(i,"-handler")})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:r/2,y:n/2,r:2*r,fill:o,stroke:s,radius:l,opacity:u,cursor:c,lineWidth:2},name:"".concat(i,"-handler")})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},e.prototype.bindSimpleEvents=function(){var t=this,r=this.name;this.handleGroup.on("".concat(r,"-handler:mouseenter"),function(){var n=t.style.highLightFill;t.topCircle.attr("fill",n)}),this.handleGroup.on("".concat(r,"-handler:mouseleave"),function(){var n=t.style.fill;t.topCircle.attr("fill",n)})},e.prototype.bindTrendEvents=function(){var t=this,r=this.name;this.handleGroup.on("".concat(r,"-handler:mouseenter"),function(){var n=t.style.highLightFill;t.verticalLine.attr("fill",n),t.topCircle.attr("fill",n),t.bottomCircle.attr("fill",n)}),this.handleGroup.on("".concat(r,"-handler:mouseleave"),function(){var n=t.style.fill;t.verticalLine.attr("fill",n),t.topCircle.attr("fill",n),t.bottomCircle.attr("fill",n)})},e.prototype.show=function(){this.handleGroup.show()},e.prototype.hide=function(){this.handleGroup.hide()},e.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},e}(),Un=function(){return Un=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Un.apply(this,arguments)},lPe=vs,uPe={fill:"#416180",opacity:.05},cPe={fill:"#416180",opacity:.15,radius:5},fPe={fill:"#5B8FF9",opacity:.3,cursor:"grab"},uM=2,dPe={width:uM,height:24},hPe={textBaseline:"middle",fill:"#000",opacity:.45},vPe={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},pPe={lineWidth:1,stroke:"#ccc"},gPe=function(){function e(t){var r=this;this.prevX=0,this.onMouseDown=function(z){return function(U){r.currentHandler=z;var H=U.originalEvent;H.stopPropagation(),H.preventDefault(),r.prevX=Zl(H,"touches.0.pageX",H.pageX);var Y=r.canvas.get("container");Y.addEventListener("mousemove",r.onMouseMove),Y.addEventListener("mouseup",r.onMouseUp),Y.addEventListener("mouseleave",r.onMouseUp),Y.addEventListener("touchmove",r.onMouseMove),Y.addEventListener("touchend",r.onMouseUp),Y.addEventListener("touchcancel",r.onMouseUp)}},this.onMouseMove=function(z){z.stopPropagation(),z.preventDefault();var U=Zl(z,"touches.0.pageX",z.pageX),H=U-r.prevX,Y=r.adjustOffsetRange(H/r.width);r.updateStartEnd(Y),r.updateUI(),r.prevX=U},this.onMouseUp=function(){r.currentHandler&&(r.currentHandler=void 0);var z=r.canvas.get("container");z&&(z.removeEventListener("mousemove",r.onMouseMove),z.removeEventListener("mouseup",r.onMouseUp),z.removeEventListener("mouseleave",r.onMouseUp),z.removeEventListener("touchmove",r.onMouseMove),z.removeEventListener("touchend",r.onMouseUp),z.removeEventListener("touchcancel",r.onMouseUp))};var n=t.x,a=n===void 0?0:n,i=t.y,o=i===void 0?0:i,s=t.width,l=s===void 0?100:s,u=t.height,c=t.padding,f=c===void 0?10:c,d=t.trendCfg,h=t.controllerCfg,v=h===void 0?{speed:1}:h,p=t.backgroundStyle,m=p===void 0?{}:p,g=t.foregroundStyle,b=g===void 0?{}:g,y=t.handlerStyle,w=y===void 0?{}:y,_=t.textStyle,x=_===void 0?{}:_,S=t.start,C=S===void 0?0:S,T=t.end,M=T===void 0?1:T,k=t.minText,A=k===void 0?"":k,O=t.maxText,P=O===void 0?"":O,R=t.group,N=t.graph,L=t.canvas,B=t.tick,I=B===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(U){return U},ticks:[]}:B,D=t.type;this.graph=N,this.canvas=L,this.group=R,this.timeBarType=D,this.x=a,this.y=o,this.width=l,this.height=u,this.padding=f,this.ticks=I.ticks,this.trendCfg=d,this.controllerCfg=v,this.currentSpeed=v.speed||1,this.tickLabelFormatter=I.tickLabelFormatter,D==="trend"?this.backgroundStyle=Un(Un({},uPe),m):D==="simple"&&(this.backgroundStyle=Un(Un({},cPe),m)),this.foregroundStyle=Un(Un({},fPe),b),this.handlerStyle=Un(Un({},dPe),w),this.textStyle=Un(Un({},hPe),x),this.tickLabelStyle=Un(Un({},vPe),I.tickLabelStyle),this.tickLineStyle=Un(Un({},pPe),I.tickLineStyle),this.currentMode=v.defaultTimeType||sl.RANGE,this.start=C,this.end=M,this.minText=A,this.maxText=P,this.fontFamily=typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return e.prototype.update=function(t){var r=t.x,n=t.y,a=t.width,i=t.height,o=t.minText,s=t.maxText,l=t.start,u=t.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),Cr(this,{x:r,y:n,width:a,height:i,minText:o,maxText:s}),this.updateUI()},e.prototype.setText=function(t,r){this.minTextShape.attr("text",t),this.maxTextShape.attr("text",r)},e.prototype.renderSlider=function(){var t=this,r=this,n=r.width,a=r.height,i=r.timeBarType;if(i==="trend"&&iE(Zl(this.trendCfg,"data"))){var o=new iPe(Un(Un({x:this.x,y:this.y,width:n,height:a},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:Un({x:0,y:0,width:n,height:a},this.backgroundStyle),name:"background"});var l=this.group.addGroup();i==="trend"?(this.minTextShape=l.addShape("text",{attrs:Un({x:0,y:a/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:Un({y:a/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=l.addShape("text",{attrs:Un({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:Un({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Un({x:0,y:this.y,height:a},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(g){g.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(g){g.target.attr("cursor",t.foregroundStyle.cursor||"grab")});var u=Zl(this.handlerStyle,"width",2),c=Zl(this.handlerStyle,"height",24),f=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new I4({name:"minHandlerShape",group:f,type:i,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var d=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new I4({name:"maxHandlerShape",group:d,type:i,x:this.x,y:this.y,width:u,height:c,style:this.handlerStyle});var h=this.ticks,v=n/(h.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(g){g.destroy()});var p=-1/0,m=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=h.map(function(g,b){t.tickPosList.push(t.x+b*v);var y;t.tickLabelFormatter?(y=t.tickLabelFormatter(g),!Lt(y)&&y&&(y=g.date)):y=g.date;var w=t.x+b*v,_=t.y+a+5,x=t.group.addShape("text",{attrs:Un({x:w,y:_,text:y,fontFamily:t.fontFamily||"Arial, sans-serif"},t.tickLabelStyle),name:"tick-label"});if(pr(m)&&b!==h.length-1){var S=lPe([1,0,0,0,1,0,0,0,1],[["t",-w,-_],["r",m],["t",w-5,_+2]]);x.attr({textAlign:"left",matrix:S})}b===0?x.attr({textAlign:"left"}):b!==h.length-1&&x.attr({textAlign:"right"});var C=t.group.addShape("line",{attrs:Un({x1:t.x+b*v,y1:t.y+a+2,x2:t.x+b*v,y2:t.y+a+6},t.tickLineStyle),name:"tick-line"});C.toBack();var T=x.getBBox();return T.minX>p?(x.show(),C.show(),p=T.minX+T.width+10):(x.hide(),C.hide()),x}),this.controllerBtnGroup=new lW(Un({group:this.group,x:this.x,y:this.y+a+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents(),this.currentMode===sl.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},e.prototype.bindEvents=function(){var t=this,r=this.group.find(function(a){return a.get("name")==="minHandlerShape"});r&&(r.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),r.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find(function(a){return a.get("name")==="maxHandlerShape"});n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(vc,":click"),function(){t.isPlay=!t.isPlay,t.currentHandler=t.maxHandlerShape,t.changePlayStatus()}),this.group.on("".concat(Jg,":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(.01),t.updateUI()}),this.group.on("".concat(e0,":click"),function(){t.currentHandler=t.maxHandlerShape,t.updateStartEnd(-.01),t.updateUI()}),this.group.on(Yf,function(a){var i=a.type,o=a.speed;t.currentSpeed=o,t.currentMode=i,i===sl.SINGLE?(t.minHandlerShape.hide(),t.foregroundShape.hide(),t.minTextShape.hide()):i===sl.RANGE&&(t.minHandlerShape.show(),t.foregroundShape.show(),t.minTextShape.show())})},e.prototype.adjustTickIndex=function(t){for(var r=0;r<this.tickPosList.length-1;r++)if(this.tickPosList[r]<=t&&t<=this.tickPosList[r+1])return Math.abs(this.tickPosList[r]-t)<Math.abs(t-this.tickPosList[r+1])?r:r+1;return 0},e.prototype.adjustOffsetRange=function(t){switch(this.currentHandler){case this.minHandlerShape:{var r=0-this.start,n=1-this.start;return Math.min(n,Math.max(r,t))}case this.maxHandlerShape:{var r=0-this.end,n=1-this.end;return Math.min(n,Math.max(r,t))}case this.foregroundShape:{var r=0-this.start,n=1-this.end;return Math.min(n,Math.max(r,t))}default:return 0}},e.prototype.updateStartEnd=function(t){var r=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(r):r==null?void 0:r.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n==null?void 0:n.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=t,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=t,this.end+=t,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(r):r.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break}},e.prototype.updateUI=function(){var t=this;this.start<0&&(this.start=0),this.start>1&&(this.start=1),this.end>1&&(this.end=1),this.end<0&&(this.end=0);var r=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",r),this.foregroundShape.attr("width",n-r);var a=Zl(this.handlerStyle,"width",uM);this.setText(this.minText,this.maxText);var i=this.dodgeText([r,n]),o=i[0],s=i[1];this.minHandlerShape.setX(r-a/2),pt(o,function(l,u){return t.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(n-a/2),pt(s,function(l,u){return t.maxTextShape.attr(u,l)}),this.currentMode===sl.RANGE?this.graph.emit(cl,{value:[this.start,this.end].sort()}):this.currentMode===sl.SINGLE&&this.graph.emit(cl,{value:[this.end,this.end]})},e.prototype.dodgeText=function(t){var r,n,a=2,i=Zl(this.handlerStyle,"width",uM),o=this.minTextShape,s=this.maxTextShape,l=t[0],u=t[1],c=!1;l>u&&(r=[u,l],l=r[0],u=r[1],n=[s,o],o=n[0],s=n[1],c=!0);var f=o.getBBox(),d=s.getBBox(),h=null,v=null;return this.timeBarType==="trend"?(h=l-f.width<this.x+a?{x:l+i/2+a,textAlign:"left"}:{x:l-i/2-a,textAlign:"right"},v=u+d.width>this.x+this.width?{x:u-i/2-a,textAlign:"right"}:{x:u+i/2+a,textAlign:"left"}):this.timeBarType==="simple"&&(h=o.attr("x")>f.width?{x:l,textAlign:"center"}:{x:l,textAlign:"left"},v=s.attr("x")>this.width-d.width?{x:u,textAlign:"right"}:{x:u,textAlign:"center"}),c?[v,h]:[h,v]},e.prototype.startPlay=function(){var t=this;return typeof window<"u"?window.requestAnimationFrame(function(){var r=t,n=r.ticks,a=r.width,i=t.currentSpeed,o=a/n.length,s=o/((10-i)*1e3/60),l=t.adjustOffsetRange(s/t.width);t.updateStartEnd(l),t.updateUI(),t.isPlay&&(t.playHandler=t.startPlay())}):void 0},e.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(aW,null)):this.playHandler&&(typeof window<"u"&&window.cancelAnimationFrame(this.playHandler),t&&this.graph.emit(iW,null))},e.prototype.destory=function(){this.graph.off(cl,function(){});var t=this.group,r=t.find(function(a){return a.get("name")==="minHandlerShape"});r&&(r.off("minHandlerShape-handler:mousedown"),r.off("minHandlerShape-handler:touchstart"),r.destroy());var n=t.find(function(a){return a.get("name")==="maxHandlerShape"});n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),t.off("".concat(vc,":click")),t.off("".concat(Jg,":click")),t.off("".concat(e0,":click")),t.off(Yf),t.destroy(),this.trendComponent&&this.trendComponent.destory()},e}(),mPe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ql=function(){return Ql=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ql.apply(this,arguments)},yPe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},bPe=4,wPe=26,EPe=function(e){mPe(t,e);function t(r){var n=e.call(this,r)||this;return n.afterrenderListener=function(a){return n.filterData({})},n.valueChangeListener=Ng(function(a){return n.filterData(a)},200,{trailing:!0,leading:!0}),n.changeData=function(a){var i=n.get("graph");n.cacheGraphData=i.get("data"),n.filterData({})},n}return t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{},putInGraphContainer:!0}},t.prototype.initContainer=function(){var r=this.get("graph"),n=this._cfgs,a=n.width,i=n.height,o=n.putInGraphContainer,s=this.get("className")||"g6-component-timebar",l=this.get("container"),u;if(l?(Lt(l)&&(l=document.getElementById(l)),u=l):(u=Kn("<div class='".concat(s,"'></div>")),on(u,{position:"relative"})),o){var c=this.get("graph").get("container");c.appendChild(u)}this.set("timeBarContainer",u);var f,d=r.get("renderer");d==="SVG"?f=new ig({container:u,width:a,height:i}):f=new tu({container:u,width:a,height:i}),this.get("containerCSS")&&on(u,this.get("containerCSS")),this.set("canvas",f)},t.prototype.init=function(){this.initContainer();var r=this.get("canvas"),n=r.addGroup({name:"timebar-group"});this.set("timeBarGroup",n),this.renderTrend(),this.initEvent();var a=typeof window<"u"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",a)},t.prototype.play=function(){this.togglePlay(!0)},t.prototype.pause=function(){this.togglePlay(!1)},t.prototype.togglePlay=function(r){var n=this.get("timebar");n&&(n.isPlay=!!r,n.changePlayStatus())},t.prototype.renderTrend=function(){var r=this,n=this._cfgs,a=n.width,i=n.x,o=n.y,s=n.padding,l=n.type,u=n.trend,c=n.slider,f=n.controllerCfg,d=n.textStyle,h=n.tick,v=n.backgroundStyle,p=n.foregroundStyle,m=u.data,g=yPe(u,["data"]),b=a-2*s,y=l==="trend"?wPe:bPe,w=this.get("graph"),_=this.get("timeBarGroup"),x=this.get("canvas"),S=null;if(l==="trend"||l==="simple"){var C=this.get("getValue");S=new gPe(Ql(Ql({graph:w,canvas:x,group:_,type:l,x:i+s,y:l==="trend"?o+s:o+s+15,width:b,height:y,padding:s,backgroundStyle:v,foregroundStyle:p,trendCfg:Ql(Ql({},g),{data:m.map(function(M){return(C==null?void 0:C(M))||M.value})})},c),{tick:{ticks:m,tickLabelFormatter:h.tickLabelFormatter,tickLabelStyle:h.tickLabelStyle,tickLineStyle:h.tickLineStyle},handlerStyle:Ql(Ql({},c.handlerStyle),{height:c.height||y}),controllerCfg:f,textStyle:d}))}else l==="tick"&&(S=new eNe(Ql({graph:w,canvas:x,group:_,x:i+s,y:o+s,width:a,height:42,padding:2,controllerCfg:f},h)));var T=function M(){var k=r.get("timebar");k.draggingHandler=!1,k.isPlay&&(k.isPlay=!1,k.currentHandler=k.maxHandlerShape,k.changePlayStatus()),document.removeEventListener("mouseup",M)};x.on("mousedown",function(M){(M.target.get("name")==="maxHandlerShape-handler"||M.target.get("name")==="minHandlerShape-handler"||M.target===S.foregroundShape)&&document.addEventListener("mouseup",T)}),this.set("timebar",S)},t.prototype.filterData=function(r){var n,a=r.value;if(!a){a=[];var i=this._cfgs.type;!i||i==="trend"||i==="simple"?(a[0]=this._cfgs.slider.start,a[1]=this._cfgs.slider.end):i==="tick"&&(a[0]=this._cfgs.tick.start,a[1]=this._cfgs.tick.end)}var o=null,s=this._cfgs.type;if(s==="trend"||s==="simple"?o=this._cfgs.trend.data:s==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("请配置 TimeBar 组件的数据");return}var l=this.get("rangeChange"),u=this.get("graph"),c=Math.round(o.length*a[0]),f=Math.round(o.length*a[1]);f=f>=o.length?o.length-1:f,c=c>=o.length?o.length-1:c;var d=(n=this._cfgs.tick)===null||n===void 0?void 0:n.tickLabelFormatter,h=d?d(o[c]):o[c].date,v=d?d(o[f]):o[f].date;if(s!=="tick"){var p=this.get("timebar");p.setText(h,v)}if(l)l(u,h,v);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=u.get("data"));var m=this.get("filterItemTypes"),g=this.get("changeData"),b=this.get("getDate"),y=this.get("shouldIgnore"),w=o[c].date,_=o[f].date;if(g||g===void 0){var x=this.cacheGraphData.nodes,S=this.cacheGraphData.edges,C={},T={};u.getNodes().forEach(function(M){return C[M.getID()]=!0}),u.getEdges().forEach(function(M){return T[M.getID()]=!0}),m.includes("node")&&(x==null||x.forEach(function(M){var k=+((b==null?void 0:b(M))||M.date),A=k>=w&&k<=_||(y==null?void 0:y("node",M,{min:w,max:_})),O=C[M.id];O&&!A?(u.removeItem(M.id),C[M.id]=!1):!O&&A&&(u.addItem("node",M),C[M.id]=!0)}),S==null||S.forEach(function(M){var k=C[M.source]&&C[M.target]||(y==null?void 0:y("edge",M,{min:w,max:_})),A=!!u.findById(M.id);A&&!k?(u.removeItem(M.id),T[M.id]=!1):!A&&k?(u.addItem("edge",M),T[M.id]=!0):A||(T[M.id]=!1)})),(this.get("filterEdge")||m.includes("edge"))&&(S==null||S.filter(function(M){var k=+((b==null?void 0:b(M))||M.date),A=k>=w&&k<=_||(y==null?void 0:y("edge",M,{min:w,max:_})),O=C[M.source]&&C[M.target],P=A&&O,R=T[M.id];R&&!P?(T[M.id]=!1,u.removeItem(M.id)):!R&&P&&(T[M.id]=!0,u.addItem("edge",M))}))}else m.includes("node")&&u.getNodes().forEach(function(M){var k=M.getModel();if(!(y!=null&&y("node",k,{min:w,max:_}))){var A=+((b==null?void 0:b(k))||k.date);A<w||A>_?u.hideItem(M):u.showItem(M)}}),(this.get("filterEdge")||m.includes("edge"))&&u.getEdges().forEach(function(M){var k=M.getModel();if(!(y!=null&&y("edge",k,{min:o[c].date,max:o[f].date}))){var A=+((b==null?void 0:b(k))||k.date);if(A<o[c].date||A>o[f].date)u.hideItem(M);else{var O=M.getSource().isVisible(),P=M.getTarget().isVisible();O&&P&&u.showItem(M)}}})}},t.prototype.initEvent=function(){var r=this.get("graph");r.on("afterchangedata",this.changeData),r.on("afterrender",this.afterrenderListener),r.on(cl,this.valueChangeListener)},t.prototype.destroy=function(){var r=this.get("graph");r.off("afterchangedata",this.changeData),r.off("afterrender",this.afterrenderListener),r.off(cl,this.valueChangeListener);var n=this.get("timebar");n&&n.destory&&n.destory(),e.prototype.destroy.call(this);var a=this.get("timeBarContainer");if(a){var i=this.get("container");i||(i=this.get("graph").get("container")),Lt(i)&&(i=document.getElementById(i)),i===a&&(i=i.parentElement),i.removeChild(a)}},t}(co),_Pe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xPe=yi.applyMatrix;function SPe(e,t){var r,n;if(e.naturalWidth)r=e.naturalWidth,n=e.naturalHeight;else{var a=new Image;a.src=e.src,a.onload=function(){}}return[r,n]}var CPe=function(e){_Pe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},t.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},t.prototype.disableRefresh=function(){this.set("refresh",!1)},t.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},t.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},t.prototype.initViewport=function(){var r=this,n=this._cfgs,a=n.graph;if(!this.destroyed){var i=this.get("container");Lt(i)&&(i=document.getElementById(i));var o=Kn("<div class=".concat(n.viewportClassName,`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff;
        cursor:move'
      </div>`)),s=0,l=0,u=!1,c=0,f=0,d=0,h=0,v=0,p=0;i.addEventListener("mousedown",function(m){if(n.refresh=!1,m.target===o){var g=o.style;d=parseInt(g.width,10),h=parseInt(g.height,10);var b=r.get("width"),y=r.get("height");d>b||h>y||(p=a.getZoom(),v=r.get("ratio"),u=!0,s=m.clientX,l=m.clientY)}},!1),i.addEventListener("mousemove",function(m){if(!(!u||hr(m.clientX)||hr(m.clientY))){var g=r.get("width"),b=r.get("height"),y=o.style;c=parseInt(y.left,10),f=parseInt(y.top,10),d=parseInt(y.width,10),h=parseInt(y.height,10);var w=s-m.clientX,_=l-m.clientY;c-w<0?w=c:c-w+d>=g&&(w=0),f-_<0?_=f:f-_+h>=b&&(_=0),c-=w,f-=_,on(o,{left:"".concat(c,"px"),top:"".concat(f,"px")}),a.translate(w*p/v,_*p/v),s=m.clientX,l=m.clientY}},!1),i.addEventListener("mouseleave",function(){u=!1,n.refresh=!0},!1),i.addEventListener("mouseup",function(){u=!1,n.refresh=!0},!1),this.set("viewport",o),i.appendChild(o)}},t.prototype.updateViewport=function(){if(!this.destroyed){var r=this.get("ratio"),n=this.get("width"),a=this.get("height"),i=this.get("graph"),o=i.get("width"),s=i.get("height"),l=o/s,u=i.getGroup(),c=u.getCanvasBBox(),f=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],d=[c.maxX-c.minX,c.maxY-c.minY],h={centerX:f[0],centerY:f[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>l?(h.width=d[0],h.height=h.width/l):(h.height=d[1],h.width=h.height*l),h.minX=f[0]-h.width/2,h.minY=f[1]-h.height/2;var v=u.getMatrix();v||(v=[1,0,0,0,1,0,0,0,1]);var p=rk([1,0,0,0,1,0,0,0,1],v),m=xPe({x:h.minX,y:h.minY},p),g=i.getCanvasByPoint(m.x,m.y),b=this.get("viewport");b||this.initViewport();var y=o/h.width,w=y*n,_=y*a,x=n*-g.x/h.width,S=a*-g.y/h.height,C=x+w,T=S+_;x<0&&(w+=x,x=0),C>n&&(w=w-(C-n)),S<0&&(_+=S,S=0),T>a&&(_=_-(T-a)),this.set("ratio",r);var M="".concat(x,"px"),k="".concat(S,"px");on(b,{left:M,top:k,width:"".concat(w,"px"),height:"".concat(_,"px")})}},t.prototype.init=function(){this.initContainer()},t.prototype.initContainer=function(){var r=this,n=r.get("graph"),a=n.get("width"),i=n.get("height"),o=i/a,s=r.get("className"),l=r.get("container"),u=r.get("width"),c=r.get("height");!u&&!c&&(u=200),u?(c=o*u,r.set("height",c)):(u=1/o*c,r.set("width",u));var f=Kn("<div class='".concat(s,"' style='width: ").concat(u,"px; height: ").concat(c,"px; overflow: hidden; position: relative;'></div>"));Lt(l)&&(l=document.getElementById(l)),l?l.appendChild(f):n.get("container").appendChild(f),r.set("container",f);var d=Kn('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');f.appendChild(d);var h=Kn('<span style="display: table-cell; vertical-align: middle; "></span>');d.appendChild(h),r.set("containerDOM",d),r.set("containerSpan",h);var v=Kn('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));r.set("imgDOM",v),r.updateImgSize(),h.appendChild(v),r.updateCanvas()},t.prototype.updateImgSize=function(){var r=this,n=r.get("imgDOM"),a=r.get("width"),i=r.get("height");n.onload=function(){var o=SPe(n);o[0]>o[1]?n.width=a:n.height=i}},t.prototype.updateCanvas=function(){var r=this.get("refresh");if(r){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var a=this.get("width"),i=n.get("canvas").getCanvasBBox(),o=i.width,s=a/o;this.set("ratio",s),this.updateViewport()}}},t.prototype.getViewport=function(){return this.get("viewport")},t.prototype.getContainer=function(){return this.get("container")},t.prototype.updateGraphImg=function(r){var n=this,a=n.get("imgDOM");a.remove(),n.set("graphImg",r);var i=Kn('<img alt="" src="'.concat(r,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));n.set("imgDOM",i),i.src=r,n.updateImgSize();var o=n.get("containerSpan");o.appendChild(i),n.updateCanvas()},t.prototype.destroy=function(){var r=this.get("container");r.parentNode.removeChild(r)},t}(co),MPe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cM=function(){return cM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cM.apply(this,arguments)},TPe=yi.distance,O4=.05,L4={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},kPe=function(e){MPe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:un(L4),showLabel:"edge",scaleRBy:"wheel"}},t.prototype.getEvents=function(){var r;switch(this.get("trigger")){case"click":r={click:"filter"};break;case"drag":r={click:"createDelegate"};break;default:r={mousemove:"filter"};break}return r},t.prototype.init=function(){var r=this,n=r.get("showLabel"),a=n==="node"||n==="both",i=n==="edge"||n==="both";r.set("showNodeLabel",a),r.set("showEdgeLabel",i);var o=r.get("shouldShow");o||r.set("shouldShow",function(){return!0})},t.prototype.createDelegate=function(r){var n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.filter(r),a=n.get("delegate"),a.on("dragstart",function(i){}),a.on("drag",function(i){n.filter(i)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(i){n.scaleRByWheel(i)}))},t.prototype.scaleRByWheel=function(r){var n=this;if(!(!r||!r.originalEvent)){r.preventDefault&&r.preventDefault();var a=n.get("graph"),i,o=n.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0;s||a.getPointByClient(r.clientX,r.clientY),r.originalEvent.wheelDelta<0?i=1-O4:i=1/(1-O4);var l=n.get("maxR"),u=n.get("minR"),c=n.get("r");(c>(l||a.get("height"))&&i>1||c<(u||a.get("height")*.05)&&i<1)&&(i=1),c*=i,n.set("r",c),n.filter(r)}},t.prototype.filter=function(r){var n=this,a=n.get("graph"),i=a.getNodes(),o={},s=n.get("r"),l=n.get("type"),u={x:r.x,y:r.y};n.updateDelegate(u,s);var c=n.get("shouldShow"),f=n.get("vShapes");f&&f.forEach(function(g){g.remove(),g.destroy()}),f=[],i.forEach(function(g){var b=g.getModel(),y=b.x,w=b.y;TPe({x:y,y:w},u)<s&&(o[b.id]=g)});var d=a.getEdges(),h=[];d.forEach(function(g){var b=g.getModel(),y=b.source,w=b.target;c(b)&&(l==="only-source"||l==="one"?o[y]&&!o[w]&&h.push(g):l==="only-target"||l==="one"?o[w]&&!o[y]&&h.push(g):l==="both"&&o[y]&&o[w]&&h.push(g))});var v=n.get("showNodeLabel"),p=n.get("showEdgelabel"),m=a.get("group");h.forEach(function(g){var b=g.get("group").get("children");b.forEach(function(y){var w=y.get("type"),_=m.addShape(w,{attrs:y.attr()});f.push(_),v&&w==="text"&&_.set("visible",!0)})}),Object.keys(o).forEach(function(g){var b=o[g],y=b.get("group").clone();if(m.add(y),f.push(y),p)for(var w=y.get("children"),_=0;_<w.length;_++){var x=w[_];x.get("type")==="text"&&x.set("visible",!0)}}),n.set("vShapes",f)},t.prototype.updateParams=function(r){var n=this,a=r.r,i=r.trigger,o=r.minR,s=r.maxR,l=r.scaleRBy,u=r.showLabel,c=r.shouldShow;if(isNaN(r.r)||n.set("r",a),isNaN(s)||n.set("maxR",s),isNaN(o)||n.set("minR",o),(i==="mousemove"||i==="click")&&n.set("trigger",i),l==="wheel"||l==="unset"){n.set("scaleRBy",l),n.get("delegate").remove(),n.get("delegate").destroy();var f=n.get("dPercentText");f&&(f.remove(),f.destroy())}(u==="node"||u==="both")&&n.set("showNodeLabel",!0),(u==="edge"||u==="both")&&n.set("showEdgeLabel",!0),c&&n.set("shouldShow",c)},t.prototype.updateDelegate=function(r,n){var a=this,i=a.get("graph"),o=a.get("delegate");if(!o||o.destroyed){var s=i.get("group"),l=a.get("delegateStyle")||L4;o=s.addShape("circle",{attrs:cM({r:n,x:r.x,y:r.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){a.scaleRByWheel(u)})}else o.attr({x:r.x,y:r.y,r:n});a.set("delegate",o)},t.prototype.clear=function(){var r=this,n=r.get("vShapes");n&&n.forEach(function(i){i.remove(),i.destroy()}),n=[],r.set("vShapes",n);var a=r.get("delegate");a&&!a.destroyed&&(a.remove(),a.destroy())},t.prototype.destroy=function(){this.clear()},t}(co),APe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IPe=yi.pointLineDistance,OPe={stroke:"#FA8C16",lineWidth:1},LPe=function(e){APe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{line:OPe,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},t.prototype.init=function(){},t.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},t.prototype.onDragStart=function(){this.initBoxLine()},t.prototype.onDrag=function(r){var n=r.item,a=n.get("delegateShape")||n,i=a.getBBox(),o=n.getModel(),s=o.x-i.x,l=o.y-i.y;this.show({x:i.minX+s,y:i.minY+l},{width:i.width,height:i.height})},t.prototype.onDragEnd=function(){this.destory()},t.prototype.initBoxLine=function(){var r=this._cfgs,n=r.horizontalLines,a=r.verticalLines,i=r.itemAlignType,o=this.get("graph"),s=o.getNodes();s.forEach(function(l){var u=l.getBBox(),c=l.get("id");i===!0||i==="horizontal"?(n["".concat(c,"tltr")]=[u.minX,u.minY,u.maxX,u.minY,l],n["".concat(c,"lcrc")]=[u.minX,u.centerY,u.maxX,u.centerY,l],n["".concat(c,"blbr")]=[u.minX,u.maxY,u.maxX,u.maxY,l]):i==="center"&&(n["".concat(c,"lcrc")]=[u.minX,u.centerY,u.maxX,u.centerY,l]),i===!0||i==="vertical"?(a["".concat(c,"tlbl")]=[u.minX,u.minY,u.minX,u.maxY,l],a["".concat(c,"tcbc")]=[u.centerX,u.minY,u.centerX,u.maxY,l],a["".concat(c,"trbr")]=[u.maxX,u.minY,u.maxX,u.maxY,l]):i==="center"&&(a["".concat(c,"tcbc")]=[u.centerX,u.minY,u.centerX,u.maxY,l])})},t.prototype.show=function(r,n){var a=Cr({},r);return this.itemAlign(r,n,a),r},t.prototype.itemAlign=function(r,n,a){var i=this,o=this._cfgs,s=o.horizontalLines,l=o.verticalLines,u=o.tolerance,c={x:a.x+n.width/2,y:a.y},f={x:a.x+n.width/2,y:a.y+n.height/2},d={x:a.x+n.width/2,y:a.y+n.height},h={x:a.x,y:a.y+n.height/2},v={x:a.x+n.width,y:a.y+n.height/2},p=[],m=[],g=null;if(this.clearAlignLine(),pt(s,function(y){y[4].isVisible&&(p.push(i.getLineDisObject(y,c)),p.push(i.getLineDisObject(y,f)),p.push(i.getLineDisObject(y,d)))}),pt(l,function(y){y[4].isVisible&&(m.push(i.getLineDisObject(y,h)),m.push(i.getLineDisObject(y,f)),m.push(i.getLineDisObject(y,v)))}),p.sort(function(y,w){return y.dis-w.dis}),m.sort(function(y,w){return y.dis-w.dis}),p.length!==0&&p[0].dis<u){r.y=p[0].line[1]-p[0].point.y+a.y,g={type:"item",horizontals:[p[0]]};for(var b=1;b<3;b++)p[0].dis===p[b].dis&&g.horizontals.push(p[b])}if(m.length!==0&&m[0].dis<u){r.x=m[0].line[0]-m[0].point.x+a.x,g?g.verticals=[m[0]]:g={type:"item",verticals:[m[0]]};for(var b=1;b<3;b++)m[0].dis===m[b].dis&&g.verticals.push(m[b])}g&&(g.bbox=n,this.addAlignLine(g))},t.prototype.addAlignLine=function(r){var n=r.bbox,a=r.type,i=r.horizontals,o=r.verticals,s=this._cfgs,l=s.line,u=s.alignLines,c=this.get("graph"),f=c.get("group");a==="item"&&(i&&pt(i,function(d){var h=d.line,v=d.point,p=(h[0]+h[2])/2,m,g;v.x<p?(m=v.x-n.width/2,g=Math.max(h[0],h[2])):(m=v.x+n.width/2,g=Math.min(h[0],h[2]));var b=Cr({x1:m,y1:h[1],x2:g,y2:h[1]},l),y=f.addShape("line",{attrs:b,capture:!1});u.push(y)}),o&&pt(o,function(d){var h=d.line,v=d.point,p=(h[1]+h[3])/2,m,g;v.y<p?(m=v.y-n.height/2,g=Math.max(h[1],h[3])):(m=v.y+n.height/2,g=Math.min(h[1],h[3]));var b=Cr({x1:h[0],y1:m,x2:h[0],y2:g},l),y=f.addShape("line",{attrs:b,capture:!1});u.push(y)}))},t.prototype.getLineDisObject=function(r,n){return{line:r,point:n,dis:IPe(r,n)}},t.prototype.getContainer=function(){return this.get("container")},t.prototype.clearAlignLine=function(){var r=this._cfgs.alignLines;pt(r,function(n){n.remove()}),r.length=0},t.prototype.destory=function(){var r=this._cfgs,n=r.horizontalLines,a=r.verticalLines,i=this.get("graph"),o=i.getNodes();o.forEach(function(s){var l=s.get("id");delete n["".concat(l,"tltr")],delete n["".concat(l,"lcrc")],delete n["".concat(l,"blbr")],delete a["".concat(l,"tlbl")],delete a["".concat(l,"tcbc")],delete a["".concat(l,"trbr")]}),this.clearAlignLine()},t}(co),NPe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ia=function(){return ia=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ia.apply(this,arguments)},PPe=["click","mouseenter"],DPe=function(e){NPe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},t.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var r=this.get("filter")||{},n=r.multiple;n&&r.trigger==="mouseenter"&&this.set("multiple",!1);var a=this.get("align");if(!a){var i=this.get("position").split("-");i.includes("left")&&(a="left"),i.includes("right")?a="right":a="center",this.set("align",a)}var o=this.get("graph"),s=o.get("container"),l=Kn(`<div class='g6-legend-container' style="position: absolute;"></div>`);s.appendChild(l),this.set("container",l);var u=this.render();on(l,this.getContainerPos(u)),this.bindEvents()},t.prototype.getContainerPos=function(r){r===void 0&&(r=[0,0]);var n=this,a=n.get("graph"),i=this.get("offsetX"),o=this.get("offsetY"),s=this.get("margin"),l=this.get("position").split("-"),u={top:0,right:1,bottom:2,left:3},c=0,f=0,d={left:(a.getWidth()-r[0])/2+c,top:(a.getHeight()-r[1])/2+f};return l.forEach(function(h){var v=s[u[h]],p=h;switch(h){case"top":v+=f;break;case"left":v+=c;break;case"bottom":v=a.getHeight()-r[1]-v+f,p="top";break;default:v=a.getWidth()-r[0]-v+c,p="left";break}d[p]=v}),d.top+=o+a.getContainer().offsetTop,d.left+=i+a.getContainer().offsetLeft,Object.keys(d).forEach(function(h){d[h]="".concat(d[h],"px")}),d},t.prototype.bindEvents=function(){var r=this,n=r.get("filter");if(!(!n||!n.enable)){var a=n.trigger||"click";PPe.includes(a)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),a="click");var i=r.get("legendCanvas");a==="mouseenter"?(i.on("node-container:mouseenter",function(o){return r.filterData(o)}),i.on("node-container:mouseleave",function(o){r.clearFilter(),r.clearActiveLegend()})):(i.on("node-container:click",function(o){return r.filterData(o)}),i.on("click",function(o){o.target&&o.target.isCanvas&&o.target.isCanvas()&&(r.clearFilter(),r.clearActiveLegend())}))}},t.prototype.changeData=function(r){this.set("data",r);var n=this.render();on(this.get("container"),this.getContainerPos(n))},t.prototype.activateLegend=function(r){var n=this.get("filter"),a=n==null?void 0:n.multiple;a||this.clearActiveLegend();var i=r.get("parent");i.get("active")?(i.set("active",!1),this.findLegendItemsByState("active").length&&i.set("inactive",!0)):(i.set("inactive",!1),i.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(f){f.set("inactive",!0)}):this.clearActiveLegend();var o=(n==null?void 0:n.legendStateStyles)||{},s=(o==null?void 0:o.inactive)||{opacity:.5,"text-shape":{opacity:.5}},l=s["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(f){var d=f.get("children"),h=d[0],v=d[1];h.attr(ia(ia({},h.get("oriAttrs")),s)),v.attr(ia(ia({},v.get("oriAttrs")),l))});var u=(o==null?void 0:o.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},c=u["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(f){var d=f.get("children"),h=d[0],v=d[1];h.attr(ia(ia({},h.get("oriAttrs")),u)),v.attr(ia(ia({},v.get("oriAttrs")),c))})},t.prototype.findLegendItemsByState=function(r,n,a){n===void 0&&(n="all"),a===void 0&&(a=!0);var i=this.get("legendCanvas").find(function(l){return l.get("name")==="root"}),o=i.find(function(l){return l.get("name")==="node-group"}),s=i.find(function(l){return l.get("name")==="edge-group"});return n==="node"?o.get("children").filter(function(l){return!!l.get(r)===a}):n==="edge"?s.get("children").filter(function(l){return!!l.get(r)===a}):o.get("children").filter(function(l){return!!l.get(r)===a}).concat(s.get("children").filter(function(l){return!!l.get(r)===a}))},t.prototype.clearActiveLegend=function(){var r=this.get("legendCanvas"),n=r.find(function(i){return i.get("name")==="root"}),a=[n.find(function(i){return i.get("name")==="node-group"}),n.find(function(i){return i.get("name")==="edge-group"})];a.forEach(function(i){i.get("children").forEach(function(o){o.set("active",!1),o.set("inactive",!1);var s=o.get("children"),l=s[0],u=s[1];l.attr(l.get("oriAttrs")),u.attr(u.get("oriAttrs"))})})},t.prototype.filterData=function(r){var n=this.get("filter"),a=n==null?void 0:n.filterFunctions;if(!(!n||!a)){var i=this.get("legendCanvas"),o=this.get("graph"),s=n.graphActiveState||"active",l=n.graphInactiveState||"inactive",u=n.multiple;this.clearFilter(),u||this.clearActiveLegend(),this.activateLegend(r.target);var c=i.find(function(g){return g.get("name")==="root"}),f=c.find(function(g){return g.get("name")==="node-group"}),d=c.find(function(g){return g.get("name")==="edge-group"}),h=f.get("children").filter(function(g){return g.get("active")}),v=d.get("children").filter(function(g){return g.get("active")}),p=0,m=["getNodes","getEdges"];m.forEach(function(g){o[g]().forEach(function(b){var y=!1,w=g==="getNodes"?h:v;w.forEach(function(_){var x=a[_.get("id")];y=y||x(b.getModel())}),y?(o.setItemState(b,l,!1),o.setItemState(b,s,!0),p++):(o.setItemState(b,s,!1),o.setItemState(b,l,!0))})}),p||m.forEach(function(g){o[g]().forEach(function(b){o.clearItemStates(b,[l])})})}},t.prototype.clearFilter=function(){var r=this.get("graph"),n=this.get("filter");if(n){var a=n.graphActiveState||"active",i=n.graphInactiveState||"inactive";r.getNodes().forEach(function(o){r.clearItemStates(o,[a,i])}),r.getEdges().forEach(function(o){r.clearItemStates(o,[a,i])})}},t.prototype.render=function(){var r=this;this.processData();var n=this.get("legendCanvas");n?n.clear():n=new tu({container:this.get("container"),width:200,height:200});var a=n.addGroup({name:"root"}),i=a.addGroup({name:"node-group"}),o=a.addGroup({name:"edge-group"});this.set("legendCanvas",n);var s=this.get("itemsData"),l=["nodes","edges"],u=[i,o];l.forEach(function(N,L){s[N].forEach(function(B){var I,D=u[L].addGroup({id:B.id,name:"node-container"}),z,U=B.type,H=r.getShapeSize(B),Y=H.width,ie=H.height,X=H.r,re=r.getStyle(N.substr(0,4),B);switch(B.type){case"circle":z={r:X,x:0,y:0};break;case"rect":z={width:Y,height:ie,x:-Y/2,y:-ie/2};break;case"ellipse":z={rx:Y,ry:ie,x:0,y:0},U="ellipse";break;case"line":z={x1:-Y/2,y1:0,x2:Y/2,y2:0},U="line";break;case"quadratic":z={path:[["M",-Y/2,0],["Q",0,Y/2,Y/2,0]]},U="path";break;case"cubic":z={path:[["M",-Y/2,0],["C",-Y/6,Y/2,Y/6,-Y/2,Y/2,0]]},U="path";break;case"diamond":z={path:[["M",0,-ie],["L",Y,0],["L",0,ie],["L",-Y,0],["Z"]]},U="path";break;case"triangle":z={path:[["M",-Y,ie],["L",0,-ie],["L",Y,ie],["Z"]]},U="path";break;case"star":z={path:yi.getStarPath(X*3,X*1.2)},U="path";break;default:z={r:X,x:0,y:0};break}var oe=D.addShape(U,{attrs:ia(ia({},z),re),name:"".concat(B.type,"-node-keyShape"),oriAttrs:ia({opacity:1},re)});if(B.label){var Ne=oe.getBBox(),me=((I=B.labelCfg)===null||I===void 0?void 0:I.style)||{},xe=ia({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},me);D.addShape("text",{attrs:ia({x:Ne.maxX+4,y:0,text:B.label},xe),className:"legend-label",name:"".concat(B.type,"-node-text"),oriAttrs:xe})}})});var c=this.get("padding"),f,d=a.find(function(N){return N.get("name")==="title-container"}),h={height:0,maxY:0,width:0};if(this.get("title")){d||(d=a.addGroup({name:"title-container"}));var v={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:c[0]},p=this.get("titleConfig")||{},m=Object.assign(v,p.style||{});f=d.addShape("text",{attrs:ia({text:this.get("title")},m)}),h=d.getCanvasBBox(),d.setMatrix([1,0,0,0,1,0,p.offsetX,p.offsetY,1])}this.layoutItems();var g=a.getCanvasBBox(),b=i.getCanvasBBox(),y=b.minX<0?Math.abs(b.minX)+c[3]:c[3],w=h.maxY<b.minY?Math.abs(h.maxY-b.minY)+c[0]:h.maxY+c[0],_=[1,0,0,0,1,0,y,w,1];i.setMatrix(_),g=a.getCanvasBBox();var x=[g.minX+g.width+c[1],g.minY+g.height+c[2]];if(f){var p=ia({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));h=d.getCanvasBBox();var S=d.getMatrix()||[1,0,0,0,1,0,0,0,1];p.position==="center"?S[6]=x[0]/2+p.offsetX:p.position==="right"?(S[6]=x[0]-c[3]+p.offsetX,f.attr({textAlign:"right"})):(S[6]=c[3]+p.offsetX,f.attr({textAlign:"left"})),d.setMatrix(S),h=d.getCanvasBBox(),y=b.minX<0?Math.abs(b.minX)+c[3]:c[3],w=b.minY<h.maxY?Math.abs(h.maxY-b.minY)+c[0]:h.maxY+c[0],_=[1,0,0,0,1,0,y,w,1],i.setMatrix(_);var C=[1,0,0,0,1,0,y,w,1];this.get("layout")==="vertical"?C[6]+=b.maxX+this.get("horiSep"):C[7]+=b.maxY+this.get("vertiSep"),o.setMatrix(C)}else{b=i.getCanvasBBox();var T=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?T[6]+=_[6]+b.maxX+this.get("horiSep"):T[7]+=_[7]+b.maxY+this.get("vertiSep"),o.setMatrix(T)}g=a.getCanvasBBox(),b=i.getCanvasBBox(),_=i.getMatrix()||[1,0,0,0,1,0,0,0,1];var M=o.getMatrix()||[1,0,0,0,1,0,0,0,1],k=o.getCanvasBBox();x=[Math.max(b.width+_[6],k.width+M[6])+c[1],Math.max(b.height+_[7],k.height+M[7])+c[2]],n.changeSize(x[0],x[1]);var A=this.get("containerStyle"),O=a.getMatrix()||[1,0,0,0,1,0,0,0,1],P=yi.invertMatrix({x:0,y:0},O),R=a.addShape("rect",{attrs:ia({x:P.x+(A.lineWidth||1),y:P.y+(A.lineWidth||1),width:x[0]-2*(A.lineWidth||1),height:x[1]-2*(A.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},A),name:"legend-back-rect",capture:!1});return R.toBack(),x},t.prototype.layoutItems=function(){var r=this.get("legendCanvas"),n=this.get("horiSep"),a=this.get("vertiSep"),i=this.get("layout"),o=this.get("align"),s=[0,0],l=r.find(function(y){return y.get("name")==="root"}),u=l.find(function(y){return y.get("name")==="node-group"}),c=l.find(function(y){return y.get("name")==="edge-group"}),f={min:0,max:-1/0};u.get("children").forEach(function(y,w){w===0&&(f.min=s[0]);var _=y.get("children")[0],x=y.getCanvasBBox(),S=_.getBBox(),C=S.width,T=S.height,M=0,k=0;i==="vertical"?(M=s[1],k=s[0]+C/2,s[0]=k+x.height+a,x.maxX+M+C/2):(M=s[0]+C/2,k=s[1],s[0]=M+x.width+n,x.maxY+k+T/2),s[0]>f.max&&(f.max=s[0]),y.setMatrix([1,0,0,0,1,0,M,k,1])});var d=f.max-f.min,h={min:0,max:-1/0},v=u.getCanvasBBox();s[0]=0,s[1]=i==="vertical"?v.maxX+n:v.maxY+a,c.get("children").forEach(function(y,w){w===0&&(h.min=s[0]);var _=y.get("children")[0],x=y.getCanvasBBox(),S=_.getBBox(),C=S.width,T=S.height,M=0,k=0;i==="vertical"?(M=s[1],k=s[0],s[0]=k+x.height+a,y.setMatrix([1,0,0,0,1,0,0,k+T/2,1])):(M=s[0],k=s[1],s[0]=M+x.width+n,y.setMatrix([1,0,0,0,1,0,M+C/2,0,1])),s[0]>h.max&&(h.max=s[0])});var p=h.max-h.min;if(o&&o!==""&&o!=="left"){var m=d-p,g=o==="center"?Math.abs(m)/2:Math.abs(m),b=m<0?u:c;b.get("children").forEach(function(y){var w=y.getMatrix()||[1,0,0,0,1,0,0,0,1];i==="vertical"?w[7]+=g:w[6]+=g,y.setMatrix(w)})}},t.prototype.processData=function(){var r=this.get("data"),n={nodes:[],edges:[]};r.nodes&&(r.nodes.sort(function(a,i){return a.order-i.order}),r.nodes.forEach(function(a){var i,o,s,l,u,c=a.size||[((i=a.style)===null||i===void 0?void 0:i.width)||((o=a.style)===null||o===void 0?void 0:o.r)||8,((s=a.style)===null||s===void 0?void 0:s.height)||((l=a.style)===null||l===void 0?void 0:l.r)||8],f=((u=a.labelCfg)===null||u===void 0?void 0:u.style)||{};n.nodes.push({id:a.id||Ml(),type:a.type||"circle",style:ia({},a.style),order:a.order,label:a.label,itemType:"node",size:c,labelCfg:{position:"right",style:ia({fontFamily:"Arial"},f)}})})),r.edges&&(r.edges.sort(function(a,i){return a.order-i.order}),r.edges.forEach(function(a){var i,o,s=a.type||"line";a.type==="cubic-horizontal"&&(s="cubic");var l=((i=a.labelCfg)===null||i===void 0?void 0:i.style)||{},u=a.size||[((o=a.style)===null||o===void 0?void 0:o.width)||8,1];n.edges.push({id:a.id||Ml(),type:s,size:u,style:ia({lineWidth:wr(u)?u[1]:1},a.style),order:a.order,label:a.label,itemType:"edge",labelCfg:{position:"right",style:ia({fontFamily:"Arial"},l)}})})),this.set("itemsData",n)},t.prototype.getContainer=function(){return this.get("container")},t.prototype.formatArray=function(r){var n=this.get(r);if(pr(n))this.set(r,[n,n,n,n]);else if(wr(n))switch(n.length){case 0:this.set(r,[0,0,0,0]);break;case 1:this.set(r,[n[0],n[0],n[0],n[0]]);break;case 2:this.set(r,[n[0],n[1],n[0],n[1]]);break;case 3:this.set(r,[n[0],n[1],n[2],n[1]]);break}return this.get(r)},t.prototype.getShapeSize=function(r){var n,a,i;return r.size&&(wr(r.size)?(n=r.size[0],a=r.size[1]||r.size[0],i=r.size[0]/2):pr(r.size)&&(n=r.size,a=r.size,i=r.size/2)),r.style&&(r.style.width&&(n=r.style.width),r.style.height&&(a=r.style.height),r.style.r&&(i=r.style.r)),i||(i=5),n||(n=i),a||(a=i),{width:n,height:a,r:i}},t.prototype.getStyle=function(r,n){var a=r==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return ia(ia({},a),n.style||{})},t.prototype.destroy=function(){var r=this.get("legendCanvas");r==null||r.destroy();var n=this.get("graph"),a=n.get("container"),i=this.get("container");a.removeChild(i)},t}(co),RPe=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])},e(r,n)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ho=function(){return Ho=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ho.apply(this,arguments)},N4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};typeof document<"u"&&QE(`
  .g6-annotation-container {
    background-color: rgba(255, 255, 255, 0.3);
    padding: 8px;
  }
  .g6-annotation-wrapper {
    background-color: #fff;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);
  }
  .g6-annotation-header-wapper {
    height: fit-content;
    width: 100%;
    background-color: #5B8FF9;
    display: inline-flex;
    cursor: move;
  }
  .g6-annotation-title {
    margin: 4px 40px 4px 8px;
    cursor: text;
    min-width: 32px;
  }
  .g6-annotation-collapse {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-expand {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-close {
    margin: 4px 8px 4px 0;
    cursor: pointer;
  }
  .g6-annotation-content {
    padding: 8px;
    width: fit-content;
    cursor: text;
    word-break: break-all;
    min-width: 32px;
  }
  .g6-annotation-title-input-wrapper {
    margin: 4px 40px 4px 8px;
  }
  .g6-annotation-content-input {
    height: 100%;
    word-break: break-all;
  }
  .g6-annotation-content-input-wrapper {
    margin: 8px;
    height: 100%;
  }
`);var P4="canvas-annotation",$Pe=function(e){RPe(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},t.prototype.getEvents=function(){var r={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};switch(this.get("trigger")){case"click":r=Ho(Ho({},r),{"node:click":"showAnnotation","edge:click":"showAnnotation"})}return r},t.prototype.getDOMContent=function(r){if(!this.destroyed){var n=r.collapsed,a=r.maxWidth,i=r.title,o=i===void 0?"":i,s=r.content,l=s===void 0?"":s,u=r.borderRadius,c=u===void 0?5:u,f=n?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",d=n?"":" <p class='g6-annotation-content'>".concat(l,"</p>"),h="<p class='g6-annotation-close'>x</p>",v=n?"".concat(c,"px"):"".concat(c,"px ").concat(c,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(c,"px; max-width: ").concat(a,`px">
        <div
          class="g6-annotation-header-wapper"
          style="border-radius: `).concat(v,`;"
        >
          <h4 class='g6-annotation-title'>`).concat(o,`</h4>
          `).concat(f,`
          `).concat(h,`
        </div>
        `).concat(d,`
      </div>`)}},t.prototype.init=function(){var r=this;if(!r.destroyed){var n=r.get("graph"),a=n.getContainer(),i=r.get("container"),o=this.get("containerCfg");o?(i=this.createContainer(),a.appendChild(i)):i=a,this.set("container",i);var s=a.getBoundingClientRect(),l=new tu({container:a,width:s.right-s.left,height:s.bottom-s.top});on(l.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",C0(function(){return r.resizeCanvas(r)},100));var u=l.addGroup({id:"annotation-link-group"});r.set("linkGroup",u),r.set("canvas",l),r.get("getTitle")||r.set("getTitle",function(f){var d,h=((d=f==null?void 0:f.getModel)===null||d===void 0?void 0:d.call(f))||{},v=h.label,p=h.id;return v||p||"-"}),r.get("getContent")||r.set("getContent",function(f){var d,h;if(!f)return"-";var v=((d=f.getModel)===null||d===void 0?void 0:d.call(f))||{},p=v.label,m=v.id,g=(h=f.getType)===null||h===void 0?void 0:h.call(f),b=g?"".concat(g,": "):"";return"".concat(b).concat(p||m||"")});var c=r.get("defaultData");c&&this.readData(c)}},t.prototype.createContainer=function(){var r=this;if(!this.destroyed){var n=this.get("containerCfg"),a=this.get("graph"),i=a.getContainer(),o=i.getBoundingClientRect(),s=o.left,l=o.right,u=o.top,c=o.bottom,f=c-u,d=l-s,h=n.position,v=h===void 0?"top":h,p=n.offsetX,m=p===void 0?0:p,g=n.offsetY,b=g===void 0?0:g,y=N4(n,["position","offsetX","offsetY"]),w=n.height,_=w===void 0?"fit-content":w,x=n.width,S=x===void 0?a.getWidth():x;_==="100%"&&(_=f),S==="100%"&&(S=d);var C="unset",T="unset",M={};switch(v){case"right":C="".concat(f,"px"),M={top:0,right:0},M.right+=s+m,M.top+=u+b;break;case"bottom":T="".concat(d,"px"),M={bottom:0,left:0},M.left+=s+m,M.bottom+=u+b;break;case"top":T="".concat(d,"px");case"left":C="".concat(f,"px");default:M={top:0,left:0},M.left+=s+m,M.top+=u+b;break}Object.keys(M).forEach(function(A){M[A]="".concat(M[A],"px")});var k=Kn("<div class='".concat(n.className," g6-annotation-container'></div>"));return on(k,Ho(Ho({position:"absolute",display:v==="top"||v==="bottom"?"inline-flex":"unset",width:pr(S)?"".concat(S,"px"):S,height:pr(_)?"".concat(_,"px"):_,maxHeight:C,maxWidth:T,overflow:"scroll"},M),y)),i.appendChild(k),k.addEventListener("scroll",function(A){r.updateLinks()}),k}},t.prototype.resizeCanvas=function(r){clearTimeout(r.resizeTimer),r.resizeTimer=setTimeout(function(){if(!(!r||r.destroyed)){var n=r.get("container").getBoundingClientRect(),a=n.right-n.left,i=n.bottom-n.top;r.get("canvas").changeSize(a,i),r.updateOutsideCards(r)}},250)},t.prototype.updateOutsideCards=function(r){var n=r||this,a=n.get("cardInfoMap")||{},i=n.get("graph"),o=i.getPointByCanvas(0,0),s=i.getPointByCanvas(i.getWidth(),i.getHeight()),l=i.getClientByPoint(o.x,o.y),u=l.x,c=l.y,f=i.getClientByPoint(s.x,s.y),d=f.x,h=f.y;Object.values(a).forEach(function(v){var p=v.card;if(p){var m=p.style,g=mf(m.left),b=mf(m.top),y=p.getBoundingClientRect(),w=y.width,_=y.height,x=g,S=b;g+w>d-u&&(x=d-u-w),g<0&&(x=0),b+_>h-c&&(S=h-c-_),b<0&&(S=0),on(p,{left:"".concat(x,"px"),top:"".concat(S,"px")})}}),n.updateLinks()},t.prototype.showAnnotation=function(r){if(!this.destroyed){var n=r.item;this.toggleAnnotation(n)}},t.prototype.hideCards=function(){var r=this;if(!r.destroyed){var n=r.get("cardInfoMap")||{};Object.keys(n).forEach(function(a){r.hideCard(a)})}},t.prototype.toggleAnnotation=function(r,n){var a,i;n===void 0&&(n={});var o=this;if(!o.destroyed){var s=o.get("cardInfoMap")||{},l=o.get("graph"),u=o.get("container"),c=o.get("containerCfg"),f=Object.assign({},o.get("cardCfg")||{},n),d=f.minHeight,h=f.minWidth,v=f.width,p=f.height,m=f.collapsed,g=m===void 0?!1:m,b=f.x,y=f.y,w=f.title,_=f.content,x=f.maxTitleLength,S=f.defaultBegin,C=N4(f,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),T=o.get("linkGroup"),M=this.get("rows")||[[]],k=(a=r.isCanvas)===null||a===void 0?void 0:a.call(r),A=k?P4:r.getID(),O=s[A]||{},P=O.card,R=O.link,N=O.x,L=O.y,B=O.title,I=O.content,D=this.get("getTitle"),z=this.get("getContent"),U=this.get("getContentPlaceholder")||function(){return""},H=this.get("getTitlePlaceHolder")||function(){return""},Y=U(r),ie=H(r),X=Kn(this.getDOMContent(Ho({itemId:A,collapsed:g,title:((i=B||w||(D==null?void 0:D(r)))===null||i===void 0?void 0:i.substr(0,x))||ie,content:I||_||(z==null?void 0:z(r))||Y},C))),re=pr(d)?"".concat(d,"px"):d;on(X,{minHeight:g?"unset":re,minWidth:pr(h)?"".concat(h,"px"):h,height:p,width:v});var oe=!!P;oe?(R==null||R.remove(!0),u.replaceChild(X,P)):u.appendChild(X);var Ne;if(!c){if(Ne=u.getBoundingClientRect()||{},b!==void 0&&y!==void 0)N=b,L=y;else if(!oe&&!k){var me=Ne.top,xe=S||{},ze=xe.left,te=xe.right,le=te===void 0?16:te,Ae=xe.top,Ve=Ae===void 0?8:Ae,Ie=xe.bottom,De=le,Ge=Ve;isNaN(ze)||(De=u.scrollWidth-ze),isNaN(Ie)||(Ge=u.scrollHeight-Ie);var Qe=pr(h)?h:100;N=u.scrollWidth-X.scrollWidth-(M.length-1)*Qe-De;var ke=M[M.length-1],q=(ke[ke.length-1]||{}).bbox;L=(q==null?void 0:q.bottom)-me||Ge}on(X,{position:"absolute",left:"".concat(N,"px"),top:"".concat(L,"px"),cusor:c?"unset":"move"})}this.bindListener(X,A);var j=X.getBoundingClientRect();if(!k){var Ce=Hx(r,j,l,this.get("canvas")),fe=this.get("linkStyle");R=T.addShape("path",{attrs:Ho({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:Ce},fe)})}if(s[A]=Ho(Ho({},s[A]||{}),{id:A,collapsed:g,card:X,link:R,x:N,y:L,cardBBox:j,content:I||_,title:B||w,contentPlaceholder:Y,titlePlaceholder:ie,isCanvas:k}),o.set("cardInfoMap",s),c)this.updateCardPositionsInConatainer(),this.updateLinks();else{var ge=!isNaN(b)&&!isNaN(y);if(!oe&&!k&&!ge){var Ue=Ne.bottom,tt=Ue===void 0?0:Ue,me=Ne.top;M[M.length-1].push({id:A,bbox:j}),j.top>tt-me-j.height-16&&M.push([]),this.set("rows",M)}}this.updateCardSize(A);var ot=this.get("onAnnotationChange");ot==null||ot(s[A],oe?"update":"create")}},t.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var r=this.get("cardInfoMap");if(r){var n=this.get("container"),a=this.get("containerCfg").position,i=n.getBoundingClientRect().width,o=getComputedStyle(n),s=mf(o.paddingLeft)+mf(o.paddingRight);i-=s,Object.values(r).forEach(function(l){var u=l.card,c=u.getBoundingClientRect().width;switch(a){case"right":on(u,{marginLeft:i?"".concat(i-c,"px"):"0px"});break;case"top":case"bottom":on(u,{marginLeft:"8px"})}})}}},t.prototype.handleExpandCollapseCard=function(r){if(!this.destroyed){var n=this.get("graph"),a=this.get("cardInfoMap");if(a){var i=a[r].collapsed,o=n.findById(r);if(o){var s=this.get("cardCfg").collapseType;s==="hide"&&!i?this.hideCard(r):this.toggleAnnotation(o,{collapsed:!i}),a[r]=Ho(Ho({},a[r]),{collapsed:!i})}}}},t.prototype.hideCard=function(r){if(!this.destroyed){var n=this.get("cardInfoMap");if(!(!n||!n[r])){var a=n[r],i=a.card,o=a.link;on(i,{display:"none"}),o==null||o.hide();var s=this.get("onAnnotationChange");s(n[r],"hide")}}},t.prototype.removeCard=function(r){if(!this.destroyed){var n=this.get("cardInfoMap");if(n){var a=n[r],i=a.card,o=a.link,s=this.get("container");s.removeChild(i),o==null||o.remove(!0),delete n[r];var l=this.get("onAnnotationChange");l(a,"remove")}}},t.prototype.bindListener=function(r,n){var a=this;if(!this.destroyed){r.addEventListener("mousemove",function(l){var u;if(l.target.className==="g6-annotation-collapse"?u="collapse":l.target.className==="g6-annotation-expand"?u="expand":l.target.className==="g6-annotation-close"&&(u="close"),u){var c=a.get("cardCfg").onMouseEnterIcon,f=c===void 0?function(){}:c;f(l,n,u)}}),r.addEventListener("mouseout",function(l){var u;if(l.target.className==="g6-annotation-collapse"?u="collapse":l.target.className==="g6-annotation-expand"?u="expand":l.target.className==="g6-annotation-close"&&(u="close"),u){var c=a.get("cardCfg").onMouseLeaveIcon,f=c===void 0?function(){}:c;f(l,n,u)}}),r.addEventListener("mouseenter",function(l){var u=a.get("cardInfoMap");if(u){var c=a.get("graph"),f=c.findById(n);if(f){var d=a.get("itemHighlightState");c.setItemState(f,d,!0)}var h=u[n].link;if(h){var v=a.get("linkHighlightStyle")||{};h.attr(v)}}}),r.addEventListener("mouseleave",function(l){var u=a.get("cardInfoMap");if(u){var c=a.get("graph"),f=c.findById(n);if(f){var d=a.get("itemHighlightState");c.setItemState(f,d,!1)}var h=u[n].link;if(h){var v=a.get("linkHighlightStyle")||{};Object.keys(v).forEach(function(m){h.attr(m,void 0),h.attr(m,void 0)});var p=a.get("linkStyle");h.attr(p)}}}),r.addEventListener("click",function(l){var u=(a.get("cardCfg")||{}).onClickIcon;if(l.target.className==="g6-annotation-collapse"||l.target.className==="g6-annotation-expand"){var c=a.get("cardCfg").collapseType;c==="hide"?a.hideCard(n):a.handleExpandCollapseCard(n),u==null||u(l,n,l.target.className==="g6-annotation-collapse"?"collapse":"expand")}else if(l.target.className==="g6-annotation-close"){var f=a.get("cardCfg").closeType;f==="remove"?a.removeCard(n):a.hideCard(n),u==null||u(l,n,"close")}});var i=this.get("editable");i&&r.addEventListener("dblclick",function(l){var u=a.get("cardInfoMap"),c=(a.get("cardCfg")||{}).maxTitleLength,f=c===void 0?20:c;if(u){var d=l.target,h=d.className;if(!(h!=="g6-annotation-title"&&h!=="g6-annotation-content")){var v=h==="g6-annotation-title"?d.getBoundingClientRect():d.parentNode.getBoundingClientRect(),p=v.width,m=v.height,g=getComputedStyle(d),b=h==="g6-annotation-title"?"input":"textarea",y=Kn("<".concat(b,' class="').concat(h,'-input" type="textarea" style="width:').concat(p,"px; height: ").concat(m,'px; min-width: 16px;"/>')),w=Kn('<div class="'.concat(h,'-input-wrapper" style="width: ').concat(p,"px; height: ").concat(m,"px; min-width: 16px; margin-right: ").concat(g.marginRight,'" />'));w.appendChild(y),d.parentNode.replaceChild(w,d);var _=u[n],x=_.contentPlaceholder,S=_.titlePlaceholder,C=_.content,T=_.title,M=C;h==="g6-annotation-title"?(y.name="title",y.maxLength=f,M=T):y.name="content",M?(y.innerHTML=d.innerHTML,y.value=d.innerHTML):y.placeholder=h==="g6-annotation-title"?S:x,y.focus(),y.addEventListener("blur",function(k){y.value&&(d.innerHTML=y.value,_[y.name||"title"]=y.value),w.parentNode.replaceChild(d,w),a.updateCardSize(n);var A=a.get("onAnnotationChange");A==null||A(_,"update")})}}});var o=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];r.draggable=!0,r.addEventListener("dragstart",function(l){var u=l.target.className;if(!o.includes(u)){var c=r.style;a.set("dragging",{card:r,x:l.clientX,y:l.clientY,left:mf(c.left),top:mf(c.top)})}}),r.addEventListener("drag",function(l){l.preventDefault();var u=a.get("cardInfoMap");if(u){var c=l.clientX,f=l.clientY,d=a.get("dragging");if(!(isNaN(c)||isNaN(f)||!d)){var h=d.x,v=d.y,p=d.left,m=d.top,g=d.card,b=c-h,y=f-v;p+=b,m+=y;var w=a.get("graph"),_=w.getPointByCanvas(0,0),x=w.getPointByCanvas(w.getWidth(),w.getHeight()),S=w.getClientByPoint(_.x,_.y),C=S.x,T=S.y,M=w.getClientByPoint(x.x,x.y),k=M.x,A=M.y,O=g.getBoundingClientRect(),P=O.right-O.left,R=O.bottom-O.top;(p>k-C-P&&b>0||p<0&&b<0)&&(p-=b),(m>A-T-R&&y>0||m<0&&y<0)&&(m-=y),on(g,{left:"".concat(p,"px"),top:"".concat(m,"px"),visibility:"hidden"}),h=c,v=f;var N=(u[n]||{}).link;if(N){var L=w.findById(n);N.attr("path",Hx(L,O,w,a.get("canvas")))}a.set("dragging",{x:h,y:v,left:p,top:m,card:g})}}});var s=function(u){var c=a.get("cardInfoMap");if(c){var f=a.get("dragging");if(f){var d=f.left,h=f.top,v=f.card;c[n].x=d,c[n].y=h,on(v,{visibility:"visible"}),a.set("dragging",!1);var p=a.get("rows");p==null||p.forEach(function(g){for(var b=g.length-1;b>=0;b--)g[b].id===n&&g.splice(b,1)});var m=a.get("onAnnotationChange");m==null||m(c[n],"update")}}};r.addEventListener("dragend",s)}},t.prototype.updateCardSize=function(r){var n=this.get("cardInfoMap");if(n){var a=n[r].card,i=a.getBoundingClientRect().width,o=a.getElementsByClassName("g6-annotation-title")[0];if(o){var s=getComputedStyle(o),l=mf(s.marginLeft),u=o.getBoundingClientRect().width;on(o,{marginRight:"".concat(i-l-24-16-u,"px")})}}},t.prototype.updateLink=function(r){var n=r.item;if(n){var a=this.get("cardInfoMap");if(a){var i=this.get("canvas"),o=this.get("graph"),s=n.getID(),l=a[s]||{},u=l.link,c=l.card;if(u){var f=Hx(n,c.getBoundingClientRect(),o,i);u.attr("path",f)}}}},t.prototype.updateLinks=function(){var r=this;if(!this.destroyed){var n=this.get("cardInfoMap");if(n){var a=this.get("graph");Object.values(n).forEach(function(i){var o=i.id,s=a.findById(o);r.updateLink({item:s})})}}},t.prototype.onGraphDataChange=function(){var r=this,n=this.get("cardInfoMap");if(n){var a=this.get("graph");Object.values(n).forEach(function(i){var o=i.id,s=i.card,l=i.isCanvas;if(!(!s||l||s.style.display==="none")){var u=a.findById(o);u&&u.isVisible()?r.toggleAnnotation(u):r.hideCard(o)}})}},t.prototype.onGraphItemVisibilityChange=function(r){var n=r.item,a=r.visible;if(!(!n||n.destroyed)){var i=this.get("cardInfoMap");if(i){var o=n.getID();i[o]&&(a||this.hideCard(o))}}},t.prototype.saveData=function(r){r===void 0&&(r=!1);var n=this.get("cardInfoMap");if(n){var a=this.get("graph"),i=this.get("getTitle"),o=this.get("getContent"),s=[];return Object.values(n).forEach(function(l){var u=l.title,c=l.content,f=l.x,d=l.y,h=l.id,v=l.collapsed,p=l.card;if(!(p&&p.style.display==="none"&&!r)){var m=a.findById(h)||a.get("canvas");s.push({id:h,x:f,y:d,collapsed:v,title:u||(i==null?void 0:i(m)),content:c||(o==null?void 0:o(m)),visible:p&&p.style.display!=="none"})}}),s}},t.prototype.readData=function(r){var n=this,a=this.get("graph");r.forEach(function(i){var o=i.id,s=i.x,l=i.y,u=i.title,c=i.content,f=i.collapsed,d=i.visible,h=a.findById(o);if(!h&&o===P4&&(h=a.get("canvas")),!h){var v=n.get("cardInfoMap")||{};v[o]=i,n.set("cardInfoMap",v);return}n.toggleAnnotation(h,{x:s,y:l,title:u,content:c,collapsed:f}),d||n.hideCard(o)})},t.prototype.clear=function(){var r=this.get("cardInfoMap");if(r){var n=this.get("container");Object.values(r).forEach(function(a){var i=a.card,o=a.link;n.removeChild(i),o==null||o.remove(!0)}),this.set("cardInfoMap",{})}},t.prototype.destroy=function(){var r;this.clear(),(r=this.get("canvas"))===null||r===void 0||r.destroy();var n=this.get("graph");!n||n.destroyed||(this.get("containerCfg")&&n.getContainer().removeChild(this.get("container")),this.destroyed=!0)},t}(co),BPe=function(t,r){var n,a,i=1/0;Object.keys(t).forEach(function(l){var u=t[l];Object.keys(r).forEach(function(c){var f=r[c],d=u.x-f.x,h=u.y-f.y,v=d*d+h*h;i>v&&(i=v,n=u,a=f)})});var o=20,s=yi.getControlPoint(n,a,.5,o);return[["M",n.x,n.y],["Q",s.x,s.y,a.x,a.y]]},Hx=function(t,r,n,a){var i,o,s=t.getType();if(s==="edge")o=[t.getKeyShape().getPoint(.5)];else{var l=(i=t.getKeyShape)===null||i===void 0?void 0:i.call(t).getBBox(),u=l.minX,c=l.minY,f=l.maxX,d=l.maxY,h=t.getModel(),v=h.x,p=h.y;u+=v,c+=p,f+=v,d+=p,o={left:{x:u,y:(c+d)/2},right:{x:f,y:(c+d)/2},top:{x:(u+f)/2,y:c},bottom:{x:(u+f)/2,y:d}}}Object.keys(o).forEach(function(T){var M=o[T],k=M.x,A=M.y,O=n.getClientByPoint(k,A);o[T]=a.getPointByClient(O.x,O.y)});var m=r.top,g=m===void 0?0:m,b=r.left,y=b===void 0?0:b,w=r.right,_=w===void 0?0:w,x=r.bottom,S=x===void 0?0:x,C={left:a.getPointByClient(y,(g+S)/2),right:a.getPointByClient(_,(g+S)/2),top:a.getPointByClient((y+_)/2,g),bottom:a.getPointByClient((y+_)/2,S)};return BPe(o,C)},mf=function(t){return Number(t.replace(/\s+|px/gi,""))||0},_o={PluginBase:co,Menu:MLe,Grid:ELe,Minimap:LLe,Bundling:DLe,ToolBar:zLe,Tooltip:jLe,Fisheye:$Le,TimeBar:EPe,ImageMinimap:CPe,EdgeFilterLens:kPe,SnapLine:LPe,Legend:DPe,Annotation:$Pe};xu("circle",{options:{size:qt.defaultNode.size,style:{x:0,y:0,stroke:qt.defaultNode.style.stroke,fill:qt.defaultNode.style.fill,lineWidth:qt.defaultNode.style.lineWidth},labelCfg:{style:{fill:qt.nodeLabel.style.fill,fontSize:qt.nodeLabel.style.fontSize,fontFamily:qt.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qt.defaultNode.linkPoints.size,lineWidth:qt.defaultNode.linkPoints.lineWidth,fill:qt.defaultNode.linkPoints.fill,stroke:qt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ee({},qt.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).icon,a=n===void 0?{}:n,i=this.getShapeStyle(t),o=zn({},a,t.icon),s="".concat(this.type,"-keyShape"),l=r.addShape("circle",{attrs:i,className:s,name:s,draggable:!0});r.shapeMap[s]=l;var u=o.width,c=o.height,f=o.show,d=o.text;if(f){var h="".concat(this.type,"-icon");d?r.shapeMap[h]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:h,name:h,draggable:!0}):r.shapeMap[h]=r.addShape("image",{attrs:ee({x:-u/2,y:-c/2},o),className:h,name:h,draggable:!0})}return this.drawLinkPoints(t,r),l},drawLinkPoints:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).linkPoints;if(n){var a=n||{},i=a.top,o=a.left,s=a.right,l=a.bottom,u=a.size,c=a.r,f=Ga(a,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0]/2;if(o){var v="link-point-left";r.shapeMap[v]=r.addShape("circle",{attrs:ee(ee({},f),{x:-h,y:0,r:u/2||c||5}),className:v,name:v,isAnchorPoint:!0})}if(s){var p="link-point-right";r.shapeMap[p]=r.addShape("circle",{attrs:ee(ee({},f),{x:h,y:0,r:u/2||c||5}),className:p,name:p,isAnchorPoint:!0})}if(i){var m="link-point-top";r.shapeMap[m]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:-h,r:u/2||c||5}),className:m,name:m,isAnchorPoint:!0})}if(l){var g="link-point-bottom";r.shapeMap[g]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:h,r:u/2||c||5}),className:g,name:g,isAnchorPoint:!0})}}},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=zn({},r,n),i=this.getSize(t),o=i[0]/2,s=ee({x:0,y:0,r:o},a);return s},update:function(t,r,n){var a=r.getContainer(),i=this.getSize(t),o=ee({},t.style);t.style.stroke===void 0&&t.color&&(o.stroke=t.color),t.style.r===void 0&&!isNaN(i[0])&&(o.r=i[0]/2),this.updateShape(t,r,o,!0,n),this.updateLinkPoints(t,a)}},"single-node");xu("rect",{options:{size:[100,30],style:{radius:0,stroke:qt.defaultNode.style.stroke,fill:qt.defaultNode.style.fill,lineWidth:qt.defaultNode.style.lineWidth},labelCfg:{style:{fill:qt.nodeLabel.style.fill,fontSize:qt.nodeLabel.style.fontSize,fontFamily:qt.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qt.defaultNode.linkPoints.size,lineWidth:qt.defaultNode.linkPoints.lineWidth,fill:qt.defaultNode.linkPoints.fill,stroke:qt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:ee({},qt.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(t,r){var n=this.getShapeStyle(t),a=r.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return r.shapeMap["".concat(this.type,"-keyShape")]=a,this.drawLinkPoints(t,r),a},drawLinkPoints:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,a=n===void 0?{}:n,i=a.top,o=a.left,s=a.right,l=a.bottom,u=a.size,c=a.r,f=Ga(a,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],v=d[1];o&&(r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},f),{x:-h/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},f),{x:h/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:-v/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(r.shapeMap["link-point-bottom"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:v/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=Cr({},r,n),i=this.getSize(t),o=a.width||i[0],s=a.height||i[1],l=ee({x:-o/2,y:-s/2,width:o,height:s},a);return l},update:function(t,r,n){var a=r.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),s=r.get("keyShape");t.size||(o[0]=s.attr("width")||i.width,o[1]=s.attr("height")||i.height);var l={stroke:t.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=Cr({},i,s.attr(),l);u=Cr(u,t.style),this.updateShape(t,r,u,!1,n),this.updateLinkPoints(t,a)}},"single-node");xu("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:qt.defaultNode.style.stroke,fill:qt.defaultNode.style.fill,lineWidth:qt.defaultNode.style.lineWidth},labelCfg:{style:{fill:qt.nodeLabel.style.fill,fontSize:qt.nodeLabel.style.fontSize,fontFamily:qt.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qt.defaultNode.linkPoints.size,lineWidth:qt.defaultNode.linkPoints.lineWidth,fill:qt.defaultNode.linkPoints.fill,stroke:qt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ee({},qt.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).icon,a=n===void 0?{}:n,i=this.getShapeStyle(t),o=r.addShape("ellipse",{attrs:i,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});r.shapeMap["ellipse-keyShape"]=o;var s=a.width,l=a.height,u=a.show,c=a.text;return u&&(c?r.shapeMap["".concat(this.type,"-icon")]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):r.shapeMap["".concat(this.type,"-icon")]=r.addShape("image",{attrs:ee({x:-s/2,y:-l/2},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,r),o},drawLinkPoints:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,a=n===void 0?{}:n,i=a.top,o=a.left,s=a.right,l=a.bottom,u=a.size,c=a.r,f=Ga(a,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0]/2,v=d[1]/2;o&&(r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},f),{x:-h,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},f),{x:h,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:-v,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(r.shapeMap["link-point-bottom"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:v,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=Cr({},r,n),i=this.getSize(t),o=i[0]/2,s=i[1]/2,l=ee({x:0,y:0,rx:o,ry:s},a);return l},update:function(t,r,n){var a=r.getContainer(),i=this.getOptions({}).style,o=this.getSize(t),s={stroke:t.color,rx:o[0]/2,ry:o[1]/2},l=r.get("keyShape"),u=Cr({},i,l.attr(),s);u=Cr(u,t.style),this.updateShape(t,r,u,!0,n),this.updateLinkPoints(t,a)}},"single-node");xu("diamond",{options:{size:[80,80],style:{stroke:qt.defaultNode.style.stroke,fill:qt.defaultNode.style.fill,lineWidth:qt.defaultNode.style.lineWidth},labelCfg:{style:{fill:qt.nodeLabel.style.fill,fontSize:qt.nodeLabel.style.fontSize,fontFamily:qt.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qt.defaultNode.linkPoints.size,lineWidth:qt.defaultNode.linkPoints.lineWidth,fill:qt.defaultNode.linkPoints.fill,stroke:qt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ee({},qt.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).icon,a=n===void 0?{}:n,i=this.getShapeStyle(t),o=r.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});r.shapeMap["".concat(this.type,"-keyShape")]=o;var s=a.width,l=a.height,u=a.show,c=a.text;return u&&(c?r.shapeMap["".concat(this.type,"-icon")]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):r.shapeMap["".concat(this.type,"-icon")]=r.addShape("image",{attrs:ee({x:-s/2,y:-l/2},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,r),o},drawLinkPoints:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,a=n===void 0?{}:n,i=a.top,o=a.left,s=a.right,l=a.bottom,u=a.size,c=a.r,f=Ga(a,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],v=d[1];o&&(r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},f),{x:-h/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},f),{x:h/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:-v/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(r.shapeMap["link-point-bottom"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:v/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(t){var r=this.getSize(t),n=r[0],a=r[1],i=[["M",0,-a/2],["L",n/2,0],["L",0,a/2],["L",-n/2,0],["Z"]];return i},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=Cr({},r,n),i=this.getPath(t),o=ee({path:i},a);return o},update:function(t,r,n){var a=r.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=r.get("keyShape"),u=Cr({},i,l.attr(),s);u=Cr(u,t.style),this.updateShape(t,r,u,!0,n),this.updateLinkPoints(t,a)}},"single-node");xu("triangle",{options:{size:40,direction:"up",style:{stroke:qt.defaultNode.style.stroke,fill:qt.defaultNode.style.fill,lineWidth:qt.defaultNode.style.lineWidth},labelCfg:{style:{fill:qt.nodeLabel.style.fill,fontSize:qt.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qt.defaultNode.linkPoints.size,lineWidth:qt.defaultNode.linkPoints.lineWidth,fill:qt.defaultNode.linkPoints.fill,stroke:qt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:ee({},qt.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(t,r){var n=this.mergeStyle||this.getOptions(t),a=n.icon,i=a===void 0?{}:a,o=n.direction,s=this.getShapeStyle(t),l=t.direction||o,u=r.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});r.shapeMap["".concat(this.type,"-keyShape")]=u;var c=i.width,f=i.height,d=i.show,h=i.offset,v=i.text;if(d)if(v)r.shapeMap["".concat(this.type,"-icon")]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-c/2,m=-f/2;(l==="up"||l==="down")&&(m+=h),(l==="left"||l==="right")&&(p+=h),r.shapeMap["".concat(this.type,"-icon")]=r.addShape("image",{attrs:ee({x:p,y:m},i),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(t,r),u},drawLinkPoints:function(t,r){var n=this.mergeStyle||this.getOptions(t),a=n.linkPoints,i=a===void 0?{}:a,o=n.direction,s=t.direction||o,l=i.top,u=i.left,c=i.right,f=i.bottom,d=i.size,h=i.r,v=Ga(i,["top","left","right","bottom","size","r"]),p=this.getSize(t),m=p[0];if(u){var g=null,b=m*Math.sin(1/3*Math.PI),y=m*Math.sin(1/3*Math.PI);s==="up"?g=[-y,b]:s==="down"?g=[-y,-b]:s==="left"&&(g=[-y,y-b]),g&&(r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},v),{x:g[0],y:g[1],r:d/2||h||5}),className:"link-point-left",name:"link-point-left"}))}if(c){var w=null,b=m*Math.sin(1/3*Math.PI),y=m*Math.sin(1/3*Math.PI);s==="up"?w=[y,b]:s==="down"?w=[y,-b]:s==="right"&&(w=[y,y-b]),w&&(r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},v),{x:w[0],y:w[1],r:d/2||h||5}),className:"link-point-right",name:"link-point-right"}))}if(l){var _=null,b=m*Math.sin(1/3*Math.PI),y=m*Math.sin(1/3*Math.PI);s==="up"?_=[y-b,-b]:s==="left"?_=[y,-b]:s==="right"&&(_=[-y,-b]),_&&(r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},v),{x:_[0],y:_[1],r:d/2||h||5}),className:"link-point-top",name:"link-point-top"}))}if(f){var x=null,b=m*Math.sin(1/3*Math.PI),y=m*Math.sin(1/3*Math.PI);s==="down"?x=[-y+b,b]:s==="left"?x=[y,b]:s==="right"&&(x=[-y,b]),x&&(r.shapeMap["link-point-bottom"]=r.addShape("circle",{attrs:ee(ee({},v),{x:x[0],y:x[1],r:d/2||h||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(t){var r=(this.mergeStyle||this.getOptions(t)).direction,n=t.direction||r,a=this.getSize(t),i=a[0],o=i*Math.sin(1/3*Math.PI),s=i*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return n==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:n==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:n==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=Cr({},r,n),i=this.getPath(t),o=ee({path:i},a);return o},update:function(t,r,n){var a=r.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=r.get("keyShape"),u=Cr({},i,l.attr(),s);u=Cr(u,t.style),this.updateShape(t,r,u,!0,n),this.updateLinkPoints(t,a)},updateLinkPoints:function(t,r){var n=this.getOptions({}),a=n.linkPoints,i=n.direction,o=t.direction||i,s=r.shapeMap["link-point-left"]||r.find(function(N){return N.get("className")==="link-point-left"}),l=r.shapeMap["link-point-right"]||r.find(function(N){return N.get("className")==="link-point-right"}),u=r.shapeMap["link-point-top"]||r.find(function(N){return N.get("className")==="link-point-top"}),c=r.shapeMap["link-point-bottom"]||r.find(function(N){return N.get("className")==="link-point-bottom"}),f=a,d=s||l||u||c;d&&(f=d.attr());var h=Cr({},f,t.linkPoints),v=h.fill,p=h.stroke,m=h.lineWidth,g=h.size/2;g||(g=h.r);var b=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},y=b.left,w=b.right,_=b.top,x=b.bottom,S=this.getSize(t),C=S[0],T={r:g,fill:v,stroke:p,lineWidth:m},M=null,k=C*Math.sin(1/3*Math.PI),A=C*Math.sin(1/3*Math.PI);o==="up"?M=[-A,k]:o==="down"?M=[-A,-k]:o==="left"&&(M=[-A,A-k]),M&&(s?!y&&y!==void 0?(s.remove(),delete r.shapeMap["link-point-left"]):s.attr(ee(ee({},T),{x:M[0],y:M[1]})):y&&(r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},T),{x:M[0],y:M[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var O=null;o==="up"?O=[A,k]:o==="down"?O=[A,-k]:o==="right"&&(O=[A,A-k]),O&&(l?!w&&w!==void 0?(l.remove(),delete r.shapeMap["link-point-right"]):l.attr(ee(ee({},T),{x:O[0],y:O[1]})):w&&(r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},T),{x:O[0],y:O[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var P=null;o==="up"?P=[A-k,-k]:o==="left"?P=[A,-k]:o==="right"&&(P=[-A,-k]),P&&(u?!_&&_!==void 0?(u.remove(),delete r.shapeMap["link-point-top"]):u.attr(ee(ee({},T),{x:P[0],y:P[1]})):_&&(r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},T),{x:P[0],y:P[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var R=null;o==="down"?R=[-A+k,k]:o==="left"?R=[A,k]:o==="right"&&(R=[-A,k]),R&&(c?!x&&x!==void 0?(c.remove(),delete r.shapeMap["link-point-bottom"]):c.attr(ee(ee({},T),{x:R[0],y:R[1]})):x&&(r.shapeMap["link-point-bottom"]=r.addShape("circle",{attrs:ee(ee({},T),{x:R[0],y:R[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node");xu("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:qt.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:qt.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:qt.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).preRect,a=n===void 0?{}:n,i=this.getShapeStyle(t),o=this.getSize(t),s=o[0],l=o[1],u=r.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});r.shapeMap["".concat(this.type,"-keyShape")]=u;var c=a.show,f=Ga(a,["show"]);return c&&(r.shapeMap["pre-rect"]=r.addShape("rect",{attrs:ee({x:-s/2,y:-l/2,height:l},f),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(t,r),this.drawStateIcon(t,r),this.drawLinkPoints(t,r),u},drawLogoIcon:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).logoIcon,a=n===void 0?{}:n,i=this.getSize(t),o=i[0];if(a.show){var s=a.width,l=a.height,u=a.x,c=a.y,f=a.offset,d=a.text,h=Ga(a,["width","height","x","y","offset","text"]);d?r.shapeMap["rect-logo-icon"]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):r.shapeMap["rect-logo-icon"]=r.addShape("image",{attrs:ee(ee({},h),{x:u||-o/2+s+f,y:c||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).stateIcon,a=n===void 0?{}:n,i=this.getSize(t),o=i[0];if(a.show){var s=a.width,l=a.height,u=a.x,c=a.y,f=a.offset,d=a.text,h=Ga(a,["width","height","x","y","offset","text"]);d?r.shapeMap["rect-state-icon"]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},h),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):r.shapeMap["rect-state-icon"]=r.addShape("image",{attrs:ee(ee({},h),{x:u||o/2-s+f,y:c||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,a=n===void 0?{}:n,i=a.top,o=a.left,s=a.right,l=a.bottom,u=a.size,c=a.r,f=Ga(a,["top","left","right","bottom","size","r"]),d=this.getSize(t),h=d[0],v=d[1];o&&(r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},f),{x:-h/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},f),{x:h/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),i&&(r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:-v/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(r.shapeMap["link-point-bottom"]=r.addShape("circle",{attrs:ee(ee({},f),{x:0,y:v/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(t,r){var n=this.getOptions(t),a=n.labelCfg,i=a===void 0?{}:a,o=n.logoIcon,s=o===void 0?{}:o,l=n.descriptionCfg,u=l===void 0?{}:l,c=this.getSize(t),f=c[0],d=null,h=s.show,v=s.width,p=-f/2+i.offset;h&&(p=-f/2+v+i.offset);var m=i.style,g=u.style,b=u.paddingTop;return Lt(t.description)?(d=r.addShape("text",{attrs:ee(ee({},m),{x:p,y:-5,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),r.shapeMap["text-shape"]=d,r.shapeMap["rect-description"]=r.addShape("text",{attrs:ee(ee({},g),{x:p,y:17+(b||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(d=r.addShape("text",{attrs:ee(ee({},m),{x:p,y:7,text:t.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),r.shapeMap["text-shape"]=d),d},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=Cr({},r,n),i=this.getSize(t),o=a.width||i[0],s=a.height||i[1],l=ee({x:-o/2,y:-s/2,width:o,height:s},a);return l},update:function(t,r){var n=this.mergeStyle||this.getOptions(t),a=n.style,i=a===void 0?{}:a,o=n.labelCfg,s=o===void 0?{}:o,l=n.descriptionCfg,u=l===void 0?{}:l,c=this.getSize(t),f=c[0],d=c[1],h=r.get("keyShape");h.attr(ee(ee({},i),{x:-f/2,y:-d/2,width:f,height:d}));var v=r.getContainer(),p=v.shapeMap["rect-logo-icon"]||v.find(function(X){return X.get("className")==="rect-logo-icon"}),m=p?p.attr():{},g=Cr({},m,t.logoIcon),b=g.width;b===void 0&&(b=this.options.logoIcon.width);var y=t.logoIcon?t.logoIcon.show:void 0,w=s.offset,_=-f/2+b+w;!y&&y!==void 0&&(_=-f/2+w);var x=v.shapeMap["node-label"]||v.find(function(X){return X.get("className")==="node-label"}),S=v.shapeMap["rect-description"]||v.find(function(X){return X.get("className")==="rect-description"});if(t.label)if(!x)v.shapeMap["node-label"]=v.addShape("text",{attrs:ee(ee({},s.style),{x:_,y:t.description?-5:7,text:t.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});else{var C=t.labelCfg?t.labelCfg.style:{},T=Cr({},x.attr(),C);t.label&&(T.text=t.label),T.x=_,Lt(t.description)&&(T.y=-5),S&&(S.resetMatrix(),S.attr({x:_})),x.resetMatrix(),x.attr(T)}if(Lt(t.description)){var M=u.paddingTop;if(!S)v.shapeMap["rect-description"]=v.addShape("text",{attrs:ee(ee({},u.style),{x:_,y:17+(M||0),text:t.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0});else{var C=t.descriptionCfg?t.descriptionCfg.style:{},k=Cr({},S.attr(),C);Lt(t.description)&&(k.text=t.description),k.x=_,S.resetMatrix(),S.attr(ee(ee({},k),{y:17+(M||0)}))}}var A=v.shapeMap["pre-rect"]||v.find(function(X){return X.get("className")==="pre-rect"});if(A&&!A.destroyed){var O=Cr({},A.attr(),t.preRect);A.attr(ee(ee({},O),{x:-f/2,y:-d/2,height:d}))}if(p&&!p.destroyed)if(!y&&y!==void 0)p.remove(),delete v.shapeMap["pre-rect"];else{var P=g.width,R=g.height,N=g.x,L=g.y,B=g.offset,I=Ga(g,["width","height","x","y","offset"]);p.attr(ee(ee({},I),{x:N||-f/2+P+B,y:L||-R/2,width:P,height:R}))}else y&&this.drawLogoIcon(t,v);var D=v.shapeMap["rect-state-icon"]||v.find(function(X){return X.get("className")==="rect-state-icon"}),z=D?D.attr():{},U=Cr({},z,t.stateIcon);if(D){!U.show&&U.show!==void 0&&(D.remove(),delete v.shapeMap["rect-state-icon"]);var H=U.width,R=U.height,N=U.x,L=U.y,Y=U.offset,ie=Ga(U,["width","height","x","y","offset"]);D.attr(ee(ee({},ie),{x:N||f/2-H+Y,y:L||-R/2,width:H,height:R}))}else U.show&&this.drawStateIcon(t,v);this.updateLinkPoints(t,v)},getOptions:function(t,r){return r==="move"?t:zn({},this.options,this.getCustomConfig(t)||{},t)}},"single-node");xu("star",{options:{size:60,style:{stroke:qt.defaultNode.style.stroke,fill:qt.defaultNode.style.fill,lineWidth:qt.defaultNode.style.lineWidth},labelCfg:{style:{fill:qt.nodeLabel.style.fill,fontSize:qt.nodeLabel.style.fontSize,fontFamily:qt.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qt.defaultNode.linkPoints.size,lineWidth:qt.defaultNode.linkPoints.lineWidth,fill:qt.defaultNode.linkPoints.fill,stroke:qt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ee({},qt.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).icon,a=n===void 0?{}:n,i=this.getShapeStyle(t),o=r.addShape("path",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});r.shapeMap["".concat(this.type,"-keyShape")]=o;var s=a.width,l=a.height,u=a.show,c=a.text;return u&&(c?r.shapeMap["".concat(this.type,"-icon")]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):r.shapeMap["".concat(this.type,"-icon")]=r.addShape("image",{attrs:ee({x:-s/2,y:-l/2},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(t,r),o},drawLinkPoints:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).linkPoints,a=n===void 0?{}:n,i=a.top,o=a.left,s=a.right,l=a.leftBottom,u=a.rightBottom,c=a.size,f=a.r,d=Ga(a,["top","left","right","leftBottom","rightBottom","size","r"]),h=this.getSize(t),v=h[0];if(s){var p=Math.cos(.1*Math.PI)*v,m=Math.sin((18+72*0)/180*Math.PI)*v;r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},d),{x:p,y:-m,r:c/2||f||5}),className:"link-point-right",name:"link-point-right"})}if(i){var p=Math.cos(.5*Math.PI)*v,m=Math.sin((18+72*1)/180*Math.PI)*v;r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},d),{x:p,y:-m,r:c/2||f||5}),className:"link-point-top",name:"link-point-top"})}if(o){var p=Math.cos(.9*Math.PI)*v,m=Math.sin((18+72*2)/180*Math.PI)*v;r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},d),{x:p,y:-m,r:c/2||f||5}),className:"link-point-left",name:"link-point-left"})}if(l){var p=Math.cos(1.3*Math.PI)*v,m=Math.sin((18+72*3)/180*Math.PI)*v;r.shapeMap["link-point-bottom"]=r.addShape("circle",{attrs:ee(ee({},d),{x:p,y:-m,r:c/2||f||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var p=Math.cos(1.7*Math.PI)*v,m=Math.sin((18+72*4)/180*Math.PI)*v;r.shapeMap["link-point-right-bottom"]=r.addShape("circle",{attrs:ee(ee({},d),{x:p,y:-m,r:c/2||f||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(t){var r=this.getSize(t),n=r[0],a=n*3/8,i=t.innerR||a;return yi.getStarPath(n,i)},getShapeStyle:function(t){var r=(this.mergeStyle||this.getOptions(t)).style,n={stroke:t.color},a=Cr({},r,n),i=this.getPath(t),o=ee({path:i},a);return o},update:function(t,r,n){var a=r.getContainer(),i=this.getOptions({}).style,o=this.getPath(t),s={stroke:t.color,path:o},l=r.get("keyShape"),u=Cr({},i,l.attr(),s);u=Cr(u,t.style),this.updateShape(t,r,u,!0,n),this.updateLinkPoints(t,a)},updateLinkPoints:function(t,r){var n=this.getOptions({}).linkPoints,a=r.shapeMap["link-point-left"]||r.find(function(k){return k.get("className")==="link-point-left"}),i=r.shapeMap["link-point-right"]||r.find(function(k){return k.get("className")==="link-point-right"}),o=r.shapeMap["link-point-top"]||r.find(function(k){return k.get("className")==="link-point-top"}),s=r.shapeMap["link-point-left-bottom"]||r.find(function(k){return k.get("className")==="link-point-left-bottom"}),l=r.shapeMap["link-point-left-bottom"]||r.find(function(k){return k.get("className")==="link-point-right-bottom"}),u=n,c=a||i||o||s||l;c&&(u=c.attr());var f=Cr({},u,t.linkPoints),d=f.fill,h=f.stroke,v=f.lineWidth,p=f.size/2;p||(p=f.r);var m=t.linkPoints?t.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},g=m.left,b=m.right,y=m.top,w=m.leftBottom,_=m.rightBottom,x=this.getSize(t),S=x[0],C={r:p,fill:d,stroke:h,lineWidth:v},T=Math.cos((18+72*0)/180*Math.PI)*S,M=Math.sin((18+72*0)/180*Math.PI)*S;i?!b&&b!==void 0?(i.remove(),delete r.shapeMap["link-point-right"]):i.attr(ee(ee({},C),{x:T,y:-M})):b&&(r.shapeMap["link-point-right"]=r.addShape("circle",{attrs:ee(ee({},C),{x:T,y:-M}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),T=Math.cos((18+72*1)/180*Math.PI)*S,M=Math.sin((18+72*1)/180*Math.PI)*S,o?!y&&y!==void 0?(o.remove(),delete r.shapeMap["link-point-top"]):o.attr(ee(ee({},C),{x:T,y:-M})):y&&(r.shapeMap["link-point-top"]=r.addShape("circle",{attrs:ee(ee({},C),{x:T,y:-M}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),T=Math.cos((18+72*2)/180*Math.PI)*S,M=Math.sin((18+72*2)/180*Math.PI)*S,a?!g&&g!==void 0?(a.remove(),delete r.shapeMap["link-point-left"]):a.attr(ee(ee({},C),{x:T,y:-M})):g&&(r.shapeMap["link-point-left"]=r.addShape("circle",{attrs:ee(ee({},C),{x:T,y:-M}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),T=Math.cos((18+72*3)/180*Math.PI)*S,M=Math.sin((18+72*3)/180*Math.PI)*S,s?!w&&w!==void 0?(s.remove(),delete r.shapeMap["link-point-left-bottom"]):s.attr(ee(ee({},C),{x:T,y:-M})):w&&(r.shapeMap["link-point-left-bottom"]=r.addShape("circle",{attrs:ee(ee({},C),{x:T,y:-M}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),T=Math.cos((18+72*4)/180*Math.PI)*S,M=Math.sin((18+72*4)/180*Math.PI)*S,l?!_&&_!==void 0?(l.remove(),delete r.shapeMap["link-point-right-bottom"]):l.attr(ee(ee({},C),{x:T,y:-M})):_&&(r.shapeMap["link-point-right-bottom"]=r.addShape("circle",{attrs:ee(ee({},C),{x:T,y:-M}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var D4=yi.defaultSubjectColors,pg="fan-shape-";xu("donut",{options:{size:qt.defaultNode.size,style:{x:0,y:0,stroke:qt.defaultNode.style.stroke,fill:qt.defaultNode.style.fill,lineWidth:qt.defaultNode.style.lineWidth},labelCfg:{style:{fill:qt.nodeLabel.style.fill,fontSize:qt.nodeLabel.style.fontSize,fontFamily:qt.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:qt.defaultNode.linkPoints.size,lineWidth:qt.defaultNode.linkPoints.lineWidth,fill:qt.defaultNode.linkPoints.fill,stroke:qt.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ee({},qt.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(t,r){var n=(this.mergeStyle||this.getOptions(t)).icon,a=n===void 0?{}:n,i=this.getShapeStyle(t),o=zn({},a,t.icon),s=r.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});r.shapeMap["".concat(this.type,"-keyShape")]=s;var l=o.width,u=o.height,c=o.show,f=o.text;return c&&(f?r.shapeMap["".concat(this.type,"-icon")]=r.addShape("text",{attrs:ee({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):r.shapeMap["".concat(this.type,"-icon")]=r.addShape("image",{attrs:ee({x:-l/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),FPe(t,r,s),this.drawLinkPoints(t,r),s},updateShape:function(t,r,n,a,i){var o=r.get("keyShape");o.attr(ee({},n)),zPe(t,r,o),this.updateLabel(t,r,i),a&&this.updateIcon(t,r)}},"circle");var FPe=function(t,r,n){var a=t.donutAttrs,i=a===void 0?{}:a,o=t.donutColorMap,s=o===void 0?{}:o,l=Object.keys(i).length;if(i&&l>1){var u=TW(i,s),c=u.configs,f=u.totalValue;if(f){var d=kW(n),h=d.lineWidth,v=d.arcR,p=[v,0],m=0;if(l===1){fM(r,{arcR:v,arcBegin:p,beginAngle:m,config:c[0],fanIndex:0,lineWidth:h,totalValue:f,drawWhole:!0});return}for(var g=0;g<c.length;g++){var b=fM(r,{arcR:v,arcBegin:p,beginAngle:m,config:c[g],fanIndex:g,lineWidth:h,totalValue:f});if(b.shouldEnd)return;p=b.arcBegin,m=b.beginAngle}}}},fM=function(t,r){var n=r.arcR,a=r.arcBegin,i=r.beginAngle,o=r.config,s=r.fanIndex,l=r.lineWidth,u=r.totalValue,c=r.drawWhole,f=c===void 0?!1:c,d=r.updateShape,h=d===void 0?void 0:d,v=o.value/u;if(v<.001)return{beginAngle:i,arcBegin:a,shape:void 0,shouldEnd:!1};var p,m,g;if(f||v>.999)p=[n,1e-4],g=1;else{var b=v*Math.PI*2;m=i+b,p=[n*Math.cos(m),-n*Math.sin(m)],g=b>Math.PI?1:0}var y={path:[["M",a[0],a[1]],["A",n,n,0,g,0,p[0],p[1]]],stroke:o.color||(h==null?void 0:h.attr("stroke"))||D4[s%D4.length],lineWidth:l};return h?h.attr(y):t.shapeMap["".concat(pg).concat(s)]=t.addShape("path",{attrs:y,name:"".concat(pg).concat(s),draggable:!0}),{beginAngle:m,arcBegin:p,shape:t.shapeMap["".concat(pg).concat(s)],shouldEnd:f||v>.999}},zPe=function(t,r,n){var a=t.donutAttrs,i=t.donutColorMap,o=i===void 0?{}:i,s={},l=r.getContainer();if(a){var u=TW(a,o),c=u.configs,f=u.totalValue;if(f)for(var d=kW(n),h=d.lineWidth,v=d.arcR,p=[v,0],m=0,g=0;g<c.length;g++){var b="".concat(pg).concat(g),y=fM(l,{arcR:v,arcBegin:p,beginAngle:m,config:c[g],fanIndex:g,lineWidth:h,totalValue:f,drawWhole:c.length===1,updateShape:l.shapeMap[b]});if(y.shape&&(s[b]=!0),y.shouldEnd)break;p=y.arcBegin,m=y.beginAngle}}var w=Object.keys(l.shapeMap).filter(function(_){return _.includes(pg)});w.forEach(function(_){s[_]||(l.shapeMap[_].remove(!0),delete l.shapeMap[_])})},TW=function(t,r){var n=0,a=[];return Object.keys(t).forEach(function(i){var o=+t[i];isNaN(o)||(a.push({key:i,value:o,color:r[i]}),n+=o)}),{totalValue:n,configs:a}},kW=function(t){var r=t.attr("r"),n=.6*r,a=(r+n)/2,i=r-n;return{lineWidth:i,arcR:a}},Ky=function(t){var r=t.x,n=t.y;return{x:r,y:n,centerX:r,centerY:n,minX:r,minY:n,maxX:r,maxY:n,height:0,width:0}},GPe=function(t){t===void 0&&(t=[]);var r=[],n=[];t.forEach(function(l){r.push(l.x),n.push(l.y)});var a=Math.min.apply(Math,r),i=Math.max.apply(Math,r),o=Math.min.apply(Math,n),s=Math.max.apply(Math,n);return{centerX:(a+i)/2,centerY:(o+s)/2,maxX:i,maxY:s,minX:a,minY:o,height:s-o,width:i-a}},dI=function(t){for(var r=[],n={},a=t.length,i=a-1;i>=0;i--){var o=t[i];o.id="".concat(o.x,"|||").concat(o.y),n[o.id]||(n[o.id]=o,r.push(o))}return r},AW=function(t){return dI(t)},bw=function(t,r){return t.width||t.height?{centerX:t.centerX,centerY:t.centerY,minX:t.minX-r,minY:t.minY-r,maxX:t.maxX+r,maxY:t.maxY+r,height:t.height+2*r,width:t.width+2*r}:t},jPe=function(t,r){var n=Math.abs(t.x-r.centerX),a=Math.abs(t.y-r.centerY);return n===0&&a===0?0:n/r.width>a/r.height},dM=function(t,r,n){var a=jPe(r,t);if(a===0){var i=t.centerX,o=t.centerY;return n.y<r.y?o=t.minY:n.x>r.x?i=t.maxX:n.x<r.x?i=t.minX:n.x===r.x&&(o=t.maxY),{x:i,y:o}}return a?{x:r.x>t.centerX?t.maxX:t.minX,y:r.y}:{x:r.x,y:r.y>t.centerY?t.maxY:t.minY}},R4=function(t,r){var n=Math.min(t.minX,r.minX),a=Math.min(t.minY,r.minY),i=Math.max(t.maxX,r.maxX),o=Math.max(t.maxY,r.maxY);return{centerX:(n+i)/2,centerY:(a+o)/2,minX:n,minY:a,maxX:i,maxY:o,height:o-a,width:i-n}},hM=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},Xy=function(t,r){var n=t.x,a=t.y;return n<r.minX||n>r.maxX||a<r.minY||a>r.maxY},VPe=function(t,r){return r<t.minX||r>t.maxX?[]:[{x:r,y:t.minY},{x:r,y:t.maxY}]},UPe=function(t,r){return r<t.minY||r>t.maxY?[]:[{x:t.minX,y:r},{x:t.maxX,y:r}]},WPe=function(t,r){return VPe(t,r.x).concat(UPe(t,r.y))},t0=function(t,r){return Math.abs(t.x-r.x)+Math.abs(t.y-r.y)},HPe=function(t,r){var n=-2,a=0;return r.forEach(function(i){i&&(t.x===i.x&&(a+=n),t.y===i.y&&(a+=n))}),a},$4=function(t,r,n,a,i){return t0(t,r)+t0(t,n)+HPe(t,[r,n,a,i])},YPe=function e(t,r,n,a,i){i===void 0&&(i=0),t.unshift(r[a]),n[a]&&n[a]!==a&&i<=100&&e(t,r,n,n[a],i+1)},qy=function(t,r,n,a){var i=n.x-t.x,o=n.y-t.y,s=a.x-t.x,l=a.y-t.y,u=n.x-r.x,c=n.y-r.y,f=a.x-r.x,d=a.y-r.y,h=i*l-o*s,v=u*d-c*f,p=i*c-o*u,m=s*d-l*f;return h*v<=0&&p*m<=0},vM=function(t,r,n){if(n.width||n.height){var a=hM(n),i=a[0],o=a[1],s=a[2],l=a[3];return qy(t,r,i,o)||qy(t,r,i,l)||qy(t,r,o,s)||qy(t,r,s,l)}return!1},KPe=function(t,r,n,a){var i=[];return t.forEach(function(o){if(o!==r&&(o.x===r.x||o.y===r.y)){if(vM(o,r,n)||vM(o,r,a))return;i.push(o)}}),dI(i)},XPe=function(t,r,n,a,i,o,s){var l,u=[],c=(l={},l[r.id]=r,l),f={},d={},h={};d[r.id]=0,h[r.id]=$4(r,n,r);var v=new OW;v.add({id:r.id,value:h[r.id]});var p={};t.forEach(function(_){p[_.id]=_});for(var m;Object.keys(c).length;){var g=v.minId(!1);if(g)m=c[g];else break;if(m===n){var b=[];return YPe(b,p,f,n.id),b}delete c[m.id],v.remove(m.id),u.push(m);var y=KPe(t,m,a,i),w=function(x){x.forEach(function(S){if(u.indexOf(S)===-1){var C=S.id;c[C]||(c[C]=S);var T=h[m.id]+t0(m,S);if(d[C]&&T>=d[C]){v.add({id:C,value:h[C]});return}f[C]=m.id,d[C]=T,h[C]=d[C]+$4(S,n,r,o,s),v.add({id:C,value:h[C]})}})};w(y)}return[r,n]},qPe=function(t,r,n){return!(t.x===r.x&&r.x===n.x||t.y===r.y&&r.y===n.y)},ZPe=function(t,r,n,a){var i=t0(t,r),o=t0(n,r);i<a&&(a=i),o<a&&(a=o);var s={x:r.x-a/i*(r.x-t.x),y:r.y-a/i*(r.y-t.y)},l={x:r.x-a/o*(r.x-n.x),y:r.y-a/o*(r.y-n.y)};return[s,l]},B4=function(t,r){var n=[],a=t[0];return n.push("M".concat(a.x," ").concat(a.y)),t.forEach(function(i,o){var s=t[o+1],l=t[o+2];if(s&&l)if(qPe(i,s,l)){var u=ZPe(i,s,l,r),c=u[0],f=u[1];n.push("L".concat(c.x," ").concat(c.y)),n.push("Q".concat(s.x," ").concat(s.y," ").concat(f.x," ").concat(f.y)),n.push("L".concat(f.x," ").concat(f.y))}else n.push("L".concat(s.x," ").concat(s.y));else s&&n.push("L".concat(s.x," ").concat(s.y))}),n.join("")},IW=function(t,r,n,a,i){var o,s;if(!n||!n.getType())o=Ky(t);else if(n.getType()==="combo"){var l=n.getKeyShape().getBBox();if(l){var u=n.getModel(),c=u.x,f=u.y;o={x:c,y:f,width:l.width,height:l.height,minX:l.minX+c,maxX:l.maxX+c,minY:l.minY+f,maxY:l.maxY+f},o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=Ky(t)}else o=n&&n.getBBox();if(!a||!a.getType())s=Ky(r);else if(a.getType()==="combo"){var d=a.getKeyShape().getBBox();if(d){var h=a.getModel(),v=h.x,p=h.y;s={x:v,y:p,width:d.width,height:d.height,minX:d.minX+v,maxX:d.maxX+v,minY:d.minY+p,maxY:d.maxY+p},s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=Ky(r)}else s=a&&a.getBBox();var m=bw(o,i),g=bw(s,i),b=dM(m,t,r),y=dM(g,r,t),w=GPe([b,y]),_=R4(m,w),x=R4(g,w),S=[];S=S.concat(hM(_)).concat(hM(x));var C={x:(t.x+r.x)/2,y:(t.y+r.y)/2};[w,_,x].forEach(function(M){S=S.concat(WPe(M,C).filter(function(k){return Xy(k,m)&&Xy(k,g)}))}),[{x:b.x,y:y.y},{x:y.x,y:b.y}].forEach(function(M){Xy(M,m)&&Xy(M,g)&&S.push(M)}),S.unshift(b),S.push(y),S=dI(S);var T=XPe(S,b,y,o,s,t,r);return T.unshift(t),T.push(r),AW(T)},QPe=function(t){if(!(t!=null&&t.length))return t;for(var r=t[t.length-1],n={x:r.x,y:r.y},a=[r],i=[r],o=t.length-2;o>=0;o--){var s=t[o];if(s.x===n.x?a.push(s):(a=[s],n.x=s.x),s.y===n.y?i.push(s):(i=[s],n.y=s.y),a.length>2){var l=t.indexOf(a[1]);l>-1&&t.splice(l,1);continue}if(i.length>2){var l=t.indexOf(i[1]);l>-1&&t.splice(l,1)}}return t},OW=function(){function e(){this.arr=[],this.map={},this.arr=[],this.map={}}return e.prototype._innerAdd=function(t,r){for(var n=[0,r-1];n[1]-n[0]>1;){var a=Math.floor((n[0]+n[1])/2);if(this.arr[a].value>t.value)n[1]=a;else if(this.arr[a].value<t.value)n[0]=a;else{this.arr.splice(a,0,t),this.map[t.id]=!0;return}}this.arr.splice(n[1],0,t),this.map[t.id]=!0},e.prototype.add=function(t){delete this.map[t.id];var r=this.arr.length;if(!r){this.arr.push(t),this.map[t.id]=!0;return}if(this.arr[r-1].value<t.value){this.arr.push(t),this.map[t.id]=!0;return}this._innerAdd(t,r)},e.prototype.remove=function(t){this.map[t]&&delete this.map[t]},e.prototype._clearAndGetMinId=function(){for(var t,r=this.arr.length-1;r>=0;r--)this.map[this.arr[r].id]?t=this.arr[r].id:this.arr.splice(r,1);return t},e.prototype._findFirstId=function(){for(;this.arr.length;){var t=this.arr.shift();if(this.map[t.id])return t.id}},e.prototype.minId=function(t){return t?this._clearAndGetMinId():this._findFirstId()},e}(),JPe=function(t,r){return Math.abs(t.x-r.x)+Math.abs(t.y-r.y)},eDe=function(t,r,n,a,i){return AW(IW(t,r,n,a,i.offset))},tDe={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:JPe,fallbackRoute:eDe},ou=function(t,r){var n=Math.round(Math.abs(t/r)),a=t<0?-1:1;return n<0?0:a*n},rDe=function(t,r,n){var a={};return t.forEach(function(i){if(i)for(var o=bw(i.getBBox(),n),s=ou(o.minX,r);s<=ou(o.maxX,r);s+=1)for(var l=ou(o.minY,r);l<=ou(o.maxY,r);l+=1)a["".concat(s,"|||").concat(l)]=!0}),a},Yx=function(t,r){var n=r.x-t.x,a=r.y-t.y;return n||a?Math.atan2(a,n):0},F4=function(t,r){var n=Math.abs(t-r);return n>Math.PI?2*Math.PI-n:n},z4=function(t,r,n){for(var a=1/0,i=0,o=r.length;i<o;i++){var s=n(t,r[i]);s<a&&(a=s)}return a},G4=function(t,r,n,a,i){var o=[];if(!n)return[t];var s=i.directions,l=i.offset,u=n.getBBox(),c=r.x>u.minX&&r.x<u.maxX&&r.y>u.minY&&r.y<u.maxY,f=bw(u,l);for(var d in f)f[d]=ou(f[d],i.gridSize);if(c){for(var h=0,v=s;h<v.length;h++)for(var p=v[h],m=[[{x:f.minX,y:f.minY},{x:f.maxX,y:f.minY}],[{x:f.minX,y:f.minY},{x:f.minX,y:f.maxY}],[{x:f.maxX,y:f.minY},{x:f.maxX,y:f.maxY}],[{x:f.minX,y:f.maxY},{x:f.maxX,y:f.maxY}]],d=0;d<4;d++){var g=m[d],b=yi.getLineIntersect(t,{x:t.x+p.stepX*f.width,y:t.y+p.stepY*f.height},g[0],g[1]);b&&!vM(t,b,u)&&(b.id="".concat(b.x,"|||").concat(b.y),o.push(b))}return o}var y=dM(f,t,a);return y.id="".concat(y.x,"|||").concat(y.y),[y]},pM=function(t,r,n,a){var i=Yx(t,r),o=n[t.id];if(!o){var s=Yx(a,t);return F4(s,i)}var l=Yx({x:o.x,y:o.y},t);return F4(l,i)},nDe=function(t,r,n,a,i,o,s){var l=[a],u=a,c=t.id,f=t.x,d=t.y,h={x:f,y:d,id:c};pM(h,o,r,n)&&(u={x:o.x===a.x?a.x:h.x*s,y:o.y===a.y?a.y:h.y*s},l.unshift(u));for(var v=r[c];v&&v.id!==c;){var p={x:f,y:d,id:c},m={x:v.x,y:v.y,id:v.id},g=pM(m,p,r,n);g&&(u={x:m.x===p.x?u.x:m.x*s,y:m.y===p.y?u.y:m.y*s},l.unshift(u)),c=m.id,f=m.x,d=m.y,v=r[c]}return l[0].x=f===n.x?i.x:u.x,l[0].y=d===n.y?i.y:u.y,l.unshift(i),l},aDe=function(t,r,n,a,i){if(isNaN(t.x)||isNaN(r.x))return[];var o=zn(tDe,i);o.obstacles=o.obstacles||[];var s=o.penalties,l=o.gridSize,u=rDe(o.obstacles.concat([n,a]),l,o.offset),c={x:ou(t.x,l),y:ou(t.y,l)},f={x:ou(r.x,l),y:ou(r.y,l)};t.id="".concat(c.x,"|||").concat(c.y),r.id="".concat(f.x,"|||").concat(f.y);var d=G4(c,t,n,f,o),h=G4(f,r,a,c,o);d.forEach(function(I){delete u[I.id]}),h.forEach(function(I){delete u[I.id]});for(var v={},p={},m={},g={},b={},y=new OW,w=0;w<d.length;w++){var _=d[w];v[_.id]=_,g[_.id]=0,b[_.id]=z4(_,h,o.distFunc),y.add({id:_.id,value:b[_.id]})}var x=o.maximumLoops,S,C,T,M,k,A,O=1/0,P={};for(h.forEach(function(I){P["".concat(I.x,"|||").concat(I.y)]=!0}),Object.keys(v).forEach(function(I){var D=v[I].id;b[D]<=O&&(O=b[D],S=v[D])});Object.keys(v).length>0&&x>0;){var R=y.minId((x+1)%30===0);if(R)S=v[R];else break;if(P["".concat(S.x,"|||").concat(S.y)])return nDe(S,m,c,r,t,f,l);delete v[S.id],y.remove(S.id),p[S.id]=!0;for(var w=0;w<o.directions.length;w++){C=o.directions[w];var N="".concat(Math.round(S.x)+C.stepX,"|||").concat(Math.round(S.y)+C.stepY);if(T={x:S.x+C.stepX,y:S.y+C.stepY,id:N},!p[N]&&(A=pM(S,T,m,c),!(A>o.maxAllowedDirectionChange)&&!u[N])){v[N]||(v[N]=T);var L=s[A];M=o.distFunc(S,T)+(isNaN(L)?l:L),k=g[S.id]+M;var B=g[N];B&&k>=B||(m[N]=S,g[N]=k,b[N]=k+z4(T,h,o.distFunc),y.add({id:N,value:b[N]}))}}x-=1}return o.fallbackRoute(t,r,n,a,o)};qj("polyline",{options:{color:qt.defaultEdge.color,size:qt.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:qt.defaultEdge.style.stroke,lineAppendWidth:qt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:qt.edgeLabel.style.fill,fontSize:qt.edgeLabel.style.fontSize,fontFamily:qt.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:ee({},qt.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(t,r){var n=this.getShapeStyle(t);n.radius===0&&delete n.radius;var a=r.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return r.shapeMap["edge-shape"]=a,a},getShapeStyle:function(t){var r=this.options.style,n={stroke:t.color},a=Cr({},r,n,t.style);t=this.getPathPoints(t),this.radius=a.radius,this.offset=a.offset;var i=t.startPoint,o=t.endPoint,s=this.getControlPoints(t),l=[i];s&&(l=l.concat(s)),l.push(o);var u=t.sourceNode,c=t.targetNode,f=a.radius,d=this.options.routeCfg,h=Cr({},d,t.routeCfg);h.offset=a.offset;var v=this.getPath(l,u,c,f,h,!s);(wr(v)&&v.length<=1||Lt(v)&&v.indexOf("L")===-1)&&(v="M0 0, L0 0"),(isNaN(i.x)||isNaN(i.y)||isNaN(o.x)||isNaN(o.y))&&(v="M0 0, L0 0");var p=Cr({},qt.defaultEdge.style,a,{lineWidth:t.size,path:v});return p},updateShapeStyle:function(t,r){var n=r.getContainer();if(r.isVisible()){var a={stroke:t.color},i=n.shapeMap["edge-shape"]||n.find(function(w){return w.get("className")==="edge-shape"})||r.getKeyShape(),o=t.size;t=this.getPathPoints(t);var s=t.startPoint,l=t.endPoint,u=this.getControlPoints(t),c=[s];u&&(c=c.concat(u)),c.push(l);var f=i.attr(),d=Cr({},a,f,t.style),h=t.sourceNode,v=t.targetNode,p=d.radius,m=this.options.routeCfg,g=Cr({},m,t.routeCfg);g.offset=d.offset;var b=this.getPath(c,h,v,p,g,!u);(wr(b)&&b.length<=1||Lt(b)&&b.indexOf("L")===-1)&&(b="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(b="M0 0, L0 0"),f.endArrow&&d.endArrow===!1&&(t.style.endArrow={path:""}),f.startArrow&&d.startArrow===!1&&(t.style.startArrow={path:""});var y=Cr(a,i.attr(),{lineWidth:o,path:b},t.style);i&&i.attr(y)}},getPath:function(t,r,n,a,i,o){var s=i.offset,l=i.obstacles,u=i.simple;if(!s||t.length>2||o===!1){if(a)return B4(t,a);var c=[];return pt(t,function(v,p){p===0?c.push(["M",v.x,v.y]):c.push(["L",v.x,v.y])}),c}u!==!1&&!(l!=null&&l.length)&&(u=!0);var f=u?IW(t[t.length-1],t[0],n,r,s):aDe(t[0],t[t.length-1],r,n,i);if(!f||!f.length)return"M0 0, L0 0";if(a){var d=B4(f,a);return d}f=QPe(f);var h=yi.pointsToPolygon(f);return h}},"single-edge");var j4=Au.cloneEvent,V4=Au.isNaN,U4=Math.abs,iDe=10,oDe=["shift","ctrl","alt","control"];const sDe={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(t){var r=this.origin,n=+t.clientX,a=+t.clientY;if(!(V4(n)||V4(a))){var i=n-r.x,o=a-r.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(i=0),this.origin={x:n,y:a};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),c=this.scalableRange,f=this.scalableRange;c<1&&c>-1&&(c=s*c,f=l*f),(u.minX<=s+c&&u.minX+i>s+c||u.maxX+c>=0&&u.maxX+c+i<0)&&(i=0),(u.minY<=l+f&&u.minY+o>l+f||u.maxY+f>=0&&u.maxY+f+o<0)&&(o=0),this.graph.translate(i,o)}},onTouchStart:function(t){var r=this,n=t.originalEvent.touches,a=n[0],i=n[1];a&&i||(t.preventDefault(),this.mousedown=!0,r.onDragStart(t))},onMouseDown:function(t){this.mousedown=!0},onDragMove:function(t){this.mousedown&&(this.dragstart?this.onDrag(t):(this.dragstart=!0,this.onDragStart(t)))},onDragStart:function(t){var r=this,n=t.originalEvent;if(!(n&&t.name!=="touchstart"&&n.button!==0)&&!(t.name!=="touchstart"&&typeof window<"u"&&window.event&&!window.event.buttons&&!window.event.button)&&this.shouldBegin(t,this)&&!r.keydown&&this.allowDrag(t)){if(r.origin={x:t.clientX,y:t.clientY},r.dragging=!1,this.enableOptimize){for(var a=this.graph,i=a.getEdges(),o=0,s=i.length;o<s;o++){var l=i[o].get("group").get("children");l&&l.forEach(function(y){y.set("ori-visibility",y.get("ori-visibility")||y.get("visible")),y.hide()})}for(var u=a.getNodes(),c=0,f=u.length;c<f;c++)for(var d=u[c].getContainer(),h=d.get("children"),v=0,p=h;v<p.length;v++){var m=p[v],g=m.get("isKeyShape");g||(m.set("ori-visibility",m.get("ori-visibility")||m.get("visible")),m.hide())}}if(typeof window<"u"){var b=this;this.handleDOMContextMenu=function(y){return b.onMouseUp(y)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(t){var r=this,n=t.originalEvent.touches,a=n[0],i=n[1];if(a&&i){this.onMouseUp(t);return}t.preventDefault(),r.onDrag(t)},onDrag:function(t){if(this.mousedown){var r=this.graph;if(!this.keydown&&this.allowDrag(t)&&(t=j4(t),!!this.origin)){if(this.dragging)t.type="drag",r.emit("canvas:drag",t);else{if(U4(this.origin.x-t.clientX)+U4(this.origin.y-t.clientY)<iDe)return;this.shouldBegin(t,this)&&(t.type="dragstart",r.emit("canvas:dragstart",t),this.originPosition={x:t.clientX,y:t.clientY},this.dragging=!0)}this.shouldUpdate(t,this)&&this.updateViewport(t)}}},onMouseUp:function(t){var r,n;this.mousedown=!1,this.dragstart=!1;var a=this.graph;if(!this.keydown){var i=a.getZoom(),o=a.get("modeController"),s=(n=(r=o==null?void 0:o.modes[o.mode])===null||r===void 0?void 0:r.filter(function(S){return S.type==="zoom-canvas"}))===null||n===void 0?void 0:n[0],l=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=a.getEdges(),c=0,f=u.length;c<f;c++){var d=u[c].get("group").get("children");d&&d.forEach(function(S){var C=S.get("ori-visibility");S.set("ori-visibility",void 0),C&&S.show()})}if(i>l)for(var h=a.getNodes(),v=0,p=h.length;v<p;v++)for(var m=h[v].getContainer(),g=m.get("children"),b=0,y=g;b<y.length;b++){var w=y[b],_=w.get("isKeyShape");if(!_){var x=w.get("ori-visibility");w.set("ori-visibility",void 0),x&&w.show()}}}if(!this.dragging){this.origin=null;return}t=j4(t),this.shouldEnd(t,this)&&this.updateViewport(t),t.type="dragend",t.dx=t.clientX-this.originPosition.x,t.dy=t.clientY-this.originPosition.y,a.emit("canvas:dragend",t),this.endDrag(),typeof window<"u"&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(t){var r=this,n=t.key;n&&(oDe.indexOf(n.toLowerCase())>-1?r.keydown=!0:r.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(t){var r,n,a=t.target,i=a&&a.isCanvas&&a.isCanvas();if(S0(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if(si(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,l=o.edge,u=o.combo,c=(n=(r=t.item)===null||r===void 0?void 0:r.getType)===null||n===void 0?void 0:n.call(r);if(!s&&c==="node"||!l&&c==="edge"||!u&&c==="combo")return!1}return!0}},lDe={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(t){if(!this.origin||!t||t.destroyed)return!1;var r=t.getType();return r==="combo"},onTouchStart:function(t){if(t.item){var r=this;try{var n=t.originalEvent.touches,a=n[0],i=n[1];if(a&&i)return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},this.dragstart=!0,r.onDragStart(t)}},onTouchMove:function(t){var r=this;try{var n=t.originalEvent.touches,a=n[0],i=n[1];if(a&&i){r.onDragEnd(t);return}t.preventDefault()}catch{console.warn("Touch original event not exist!")}r.onDrag(t)},onMouseDown:function(t){this.mousedown={item:t.item,target:t.target,origin:{x:t.x,y:t.y}},typeof window<"u"&&!this.windowEventBinded&&(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(t){var r,n;if(((n=(r=t.item)===null||r===void 0?void 0:r.getType)===null||n===void 0?void 0:n.call(r))!=="node"){this.onDragEnd();return}this.mousedown&&(this.dragstart?this.onDrag(ee(ee({},t),this.mousedown)):(this.dragstart=!0,this.onDragStart(t)))},onDragStart:function(t){var r=this;if(this.currentShouldEnd=!0,!!this.shouldBegin(ee(ee({},t),this.mousedown),this)){var n=this.mousedown,a=n.item,i=n.target;if(!(!a||a.destroyed||a.hasLocked())){var o=a.getContainer();if(o.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(a),i){var s=i.get("isAnchorPoint");if(s)return}var l=this.graph;this.targets=[],this.targetCombo=null;var u=l.findAllByState("node",this.selectedState),c=a.get("id"),f=u.filter(function(h){var v=h.get("id");return c===v});if(f.length===0?this.targets.push(a):u.length>1?u.forEach(function(h){var v=h.hasLocked();v||r.targets.push(h)}):this.targets.push(a),this.graph.get("enabledStack")&&this.enableStack){var d=[];this.targets.forEach(function(h){var v=h.getModel(),p=v.x,m=v.y,g=v.id;d.push({x:p,y:m,id:g})}),this.set("beforeDragNodes",d)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(h){var v=h.getEdges();v.forEach(function(p){p.isVisible()&&(r.hidenEdge[p.getID()]=!0,p.hide())})}),this.origin=this.mousedown.origin,this.point={},this.originPoint={}}}},onDrag:function(t){var r=this;if(!(!this.mousedown||!this.origin)&&this.shouldUpdate(t,this))if(this.get("enableDelegate"))this.updateDelegate(t);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var n={};this.targets.map(function(a){r.update(a,t);var i=a.getModel().comboId;i&&(n[i]=r.graph.findById(i))}),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(t){var r=this,n;if(this.mousedown=!1,this.dragstart=!1,typeof window<"u"&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),!!this.origin){(n=this.cachedCaptureItems)===null||n===void 0||n.forEach(function(o){var s=o.getContainer();s.set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(o){var s=o.getEdges();s.forEach(function(l){r.hidenEdge[l.getID()]&&l.show(),l.refresh()})}),this.hidenEdge={};var a=this.graph;if(a.get("enabledStack")&&this.enableStack){var i={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(o){i.before.nodes.push(o)}),this.targets.forEach(function(o){var s=o.getModel(),l=s.x,u=s.y,c=s.id;i.after.nodes.push({x:l,y:u,id:c})}),a.pushStack("update",un(i))}a.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(t){var r=t.item;if(this.currentShouldEnd=this.shouldEnd(t,r,this),this.updatePositions(t,!this.currentShouldEnd),!(!this.currentShouldEnd||!this.validationCombo(r))){var n=this.graph;if(this.comboActiveState&&n.setItemState(r,this.comboActiveState,!1),this.targetCombo=r,this.onlyChangeComboSize)n.updateCombos();else{var a=r.getModel();this.targets.map(function(i){var o=i.getModel();o.comboId!==a.id&&n.updateComboTree(i,a.id)}),n.updateCombo(r)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(t){var r=this.graph;this.currentShouldEnd=this.shouldEnd(t,void 0,this),this.updatePositions(t,!this.currentShouldEnd),!(!this.targets||this.targets.length===0||!this.currentShouldEnd)&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map(function(n){var a=n.getModel();a.comboId&&r.updateComboTree(n)}))},onDropNode:function(t){if(!(!this.targets||this.targets.length===0)){var r=this,n=t.item,a=r.graph,i=n.getModel().comboId,o=i?a.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd(t,o,this),this.updatePositions(t,!this.currentShouldEnd),!!this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(i){var s=a.findById(i);r.comboActiveState&&a.setItemState(s,r.comboActiveState,!1),this.targets.map(function(l){var u=l.getModel();i!==u.comboId&&a.updateComboTree(l,i)}),a.updateCombo(s)}else this.targets.map(function(l){var u=l.getModel();u.comboId&&a.updateComboTree(l)});a.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(t){var r=t.item;if(this.validationCombo(r)){var n=this.graph;this.comboActiveState&&n.setItemState(r,this.comboActiveState,!0)}},onDragLeave:function(t){var r=t.item;if(this.validationCombo(r)){var n=this.graph;this.comboActiveState&&n.setItemState(r,this.comboActiveState,!1)}},updatePositions:function(t,r){var n=this;!this.targets||this.targets.length===0||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:t,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):r||this.targets.map(function(a){return n.update(a,t)}):this.targets.map(function(a){return n.update(a,t,r)}))},update:function(t,r,n){var a=this.origin,i=t.get("model"),o=t.get("id");this.point[o]||(this.point[o]={x:i.x||0,y:i.y||0});var s=r.x-a.x+this.point[o].x,l=r.y-a.y+this.point[o].y;n&&(s+=a.x-r.x,l+=a.y-r.y);var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(t,u,!1):t.updatePosition(u)},debounceUpdate:C0(function(e){var t=e.targets,r=e.graph,n=e.point,a=e.origin,i=e.evt,o=e.updateEdge,s=e.onlyChangeComboSize,l=e.updateParentCombos;t.map(function(u){var c=u.get("model"),f=u.get("id");n[f]||(n[f]={x:c.x||0,y:c.y||0});var d=i.x-a.x+n[f].x,h=i.y-a.y+n[f].y,v={x:d,y:h};o?r.updateItem(u,v,!1):u.updatePosition(v)}),s&&l(r,t)},50,!0),updateDelegate:function(t){var r=this.graph;if(this.delegateRect){var d=t.x-this.origin.x+this.originPoint.minX,h=t.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:d,y:h})}else{var n=r.get("group"),a=zn({},Hf.delegateStyle,this.delegateStyle),i=this.calculationGroupPosition(t),o=i.x,s=i.y,l=i.width,u=i.height,c=i.minX,f=i.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:c,minY:f},this.delegateRect=n.addShape("rect",{attrs:ee({width:l,height:u,x:o,y:s},a),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(t){var r=this.targets;r.length===0&&r.push(t.item);for(var n=1/0,a=-1/0,i=1/0,o=-1/0,s=0;s<r.length;s++){var l=r[s],u=l.getBBox(),c=u.minX,f=u.minY,d=u.maxX,h=u.maxY;c<n&&(n=c),f<i&&(i=f),d>a&&(a=d),h>o&&(o=h)}var v=Math.floor(n),p=Math.floor(i),m=Math.ceil(a)-Math.floor(n),g=Math.ceil(o)-Math.floor(i);return{x:v,y:p,width:m,height:g,minX:n,minY:i}},updateParentCombos:function(t,r){var n=t||this.graph,a=r||this.targets,i={};a==null||a.forEach(function(o){var s=o.getModel().comboId;s&&(i[s]=n.findById(s))}),Object.values(i).forEach(function(o){o&&n.updateCombo(o)})}};var Zy=null;const uDe={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldClearStatusOnSecond:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(t){var r=this;try{var n=t.originalEvent.touches,a=n[0],i=n[1];if(a&&i)return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}r.setAllItemStates(t)},clearOnTouchStart:function(t){var r=this;try{var n=t.originalEvent.touches,a=n[0],i=n[1];if(a&&i)return;t.preventDefault()}catch{console.warn("Touch original event not exist!")}r.clearActiveState(t)},setAllItemStates:function(t){clearTimeout(this.timer),this.throttleSetAllItemStates(t,this)},clearActiveState:function(t){var r=this,n=this.shouldClearStatusOnSecond;n&&(Zy=null),this.timer=setTimeout(function(){r.throttleClearActiveState(t,r)},50)},throttleSetAllItemStates:Ng(function(e,t){var r=e.item,n=t.graph;if(!(!n||n.destroyed)&&(t.item=r,!!t.shouldUpdate(e.item,{event:e,action:"activate"},t))){var a=t.shouldClearStatusOnSecond,i=r.getModel().id;if(Zy===i&&a){t.throttleClearActiveState(e,t),Zy=null;return}for(var o=t.activeState,s=t.inactiveState,l=n.getNodes(),u=n.getCombos(),c=n.getEdges(),f=n.get("vedges"),d=l.length,h=u.length,v=c.length,p=f.length,m=t.inactiveItems||{},g=t.activeItems||{},b=0;b<d;b++){var y=l[b],w=y.getID(),_=y.hasState("selected");t.resetSelected&&_&&n.setItemState(y,"selected",!1),g[w]&&(n.setItemState(y,o,!1),delete g[w]),s&&!m[w]&&(n.setItemState(y,s,!0),m[w]=y)}for(var b=0;b<h;b++){var x=u[b],S=x.getID(),_=x.hasState("selected");t.resetSelected&&_&&n.setItemState(x,"selected",!1),g[S]&&(n.setItemState(x,o,!1),delete g[S]),s&&!m[S]&&(n.setItemState(x,s,!0),m[S]=x)}for(var b=0;b<v;b++){var C=c[b],T=C.getID();g[T]&&(n.setItemState(C,o,!1),delete g[T]),s&&!m[T]&&(n.setItemState(C,s,!0),m[T]=C)}for(var b=0;b<p;b++){var M=f[b],k=M.getID();g[k]&&(n.setItemState(M,o,!1),delete g[k]),s&&!m[k]&&(n.setItemState(M,s,!0),m[k]=M)}if(r&&!r.destroyed){s&&(n.setItemState(r,s,!1),delete m[r.getID()]),g[r.getID()]||(n.setItemState(r,o,!0),g[r.getID()]=r);for(var A=r.getEdges(),O=A.length,b=0;b<O;b++){var C=A[b],T=C.getID(),P=void 0;C.getSource()===r?P=C.getTarget():P=C.getSource();var R=P.getID();s&&m[R]&&(n.setItemState(P,s,!1),delete m[R]),g[R]||(n.setItemState(P,o,!0),g[R]=P),m[T]&&(n.setItemState(C,s,!1),delete m[T]),g[T]||(n.setItemState(C,o,!0),g[T]=C),C.toFront()}}t.activeItems=g,t.inactiveItems=m,a&&(Zy=r.getModel().id),n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},50,{trailing:!0,leading:!0}),throttleClearActiveState:Ng(function(e,t){var r=t.get("graph");if(!(!r||r.destroyed)&&t.shouldUpdate(e.item,{event:e,action:"deactivate"},t)){var n=t.activeState,a=t.inactiveState,i=t.activeItems||{},o=t.inactiveItems||{};Object.values(i).filter(function(s){return!s.destroyed}).forEach(function(s){r.clearItemStates(s,n)}),Object.values(o).filter(function(s){return!s.destroyed}).forEach(function(s){r.clearItemStates(s,a)}),t.activeItems={},t.inactiveItems={},r.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}},50,{trailing:!0,leading:!0})};var Qy=Math.min,W4=Math.max,H4=Math.abs,Y4="shift",cDe=["drag","shift","ctrl","alt","control"];const fDe={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Y4,includeEdges:!0,includeCombos:!1,selectOnCombo:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return cDe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Y4,console.warn("Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(t){var r=t.item,n=this.brush,a=this.selectOnCombo,i=(r==null?void 0:r.getType())==="combo";i&&!a||!i&&r||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:t.canvasX,y:t.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(t){this.dragging&&(this.trigger!=="drag"&&!this.keydown||this.updateBrush(t))},onMouseUp:function(t){this.graph,!(!this.brush&&!this.dragging)&&(this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(t),this.dragging=!1))},clearStates:function(){var t=this,r=t.graph,n=t.selectedState,a=r.findAllByState("node",n),i=r.findAllByState("edge",n),o=r.findAllByState("combo",n);a.forEach(function(s){return r.setItemState(s,n,!1)}),i.forEach(function(s){return r.setItemState(s,n,!1)}),o.forEach(function(s){return r.setItemState(s,n,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),r.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(t,r,n,a,i){var o=t.getBBox();return o.centerX>=r&&o.centerX<=n&&o.centerY>=a&&o.centerY<=i},getSelectedNodes:function(t){var r=this,n=this,a=n.graph,i=n.originPoint,o=n.shouldUpdate,s=n.isBBoxCenterInRect,l=this.selectedState,u={x:t.x,y:t.y},c=a.getPointByCanvas(i.x,i.y),f=Qy(u.x,c.x),d=W4(u.x,c.x),h=Qy(u.y,c.y),v=W4(u.y,c.y),p=[],m=[];a.getNodes().forEach(function(y){if(y.isVisible()&&s(y,f,d,h,v)&&o(y,"select",r)){p.push(y);var w=y.getModel();m.push(w.id),a.setItemState(y,l,!0)}});var g=[];this.includeEdges&&p.forEach(function(y){var w=y.getOutEdges();w.forEach(function(_){if(_.isVisible()){var x=_.getModel(),S=x.source,C=x.target;m.includes(S)&&m.includes(C)&&o(_,"select",r)&&(g.push(_),a.setItemState(_,r.selectedState,!0))}})});var b=[];this.includeCombos&&a.getCombos().forEach(function(y){if(y.isVisible()&&s(y,f,d,h,v)&&o(y,"select",r)){b.push(y);var w=y.getModel();m.push(w.id),a.setItemState(y,l,!0)}}),this.selectedEdges=g,this.selectedNodes=p,this.selectedCombos=b,this.onSelect&&this.onSelect(p,g,b),a.emit("nodeselectchange",{selectedItems:{nodes:p,edges:g,combos:b},select:!0})},createBrush:function(){var t=this,r=t.graph.get("canvas").addShape("rect",{attrs:t.brushStyle,capture:!1,name:"brush-shape"});return this.brush=r,this.delegate=r,r},updateBrush:function(t){var r=this.originPoint;this.brush.attr({width:H4(t.canvasX-r.x),height:H4(t.canvasY-r.y),x:Qy(t.canvasX,r.x),y:Qy(t.canvasY,r.y)})},onKeyDown:function(t){var r=t.key;if(r){var n=this.trigger.toLowerCase(),a=r.toLowerCase();a===n||a==="control"&&n==="ctrl"||a==="ctrl"&&n==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}};var K4="shift",dDe=["shift","ctrl","alt","control"];const hDe={getDefaultCfg:function(){return{multiple:!0,trigger:K4,selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var t=this;return dDe.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=K4,console.warn("Behavior click-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),t.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(t){var r=this,n=t.item;if(!(!n||n.destroyed)){var a=n.getType(),i=r.graph,o=r.keydown,s=r.multiple,l=r.shouldUpdate,u=r.shouldBegin;if(u(t,r)){if(!o||!s){var c=i.findAllByState("node",r.selectedState).concat(i.findAllByState("edge",r.selectedState)).concat(i.findAllByState("combo",r.selectedState));pt(c,function(p){p!==n&&i.setItemState(p,r.selectedState,!1)})}var f=function(){switch(a){case"node":return r.selectNode;case"edge":return r.selectEdge;case"combo":return r.selectCombo;default:return!1}}();if(!f){var d=i.findAllByState("node",r.selectedState),h=i.findAllByState("edge",r.selectedState),v=i.findAllByState("combo",r.selectedState);i.emit("nodeselectchange",{selectedItems:{nodes:d,edges:h,combos:v},select:!1});return}if(n.hasState(r.selectedState)){l(t,r)&&i.setItemState(n,r.selectedState,!1);var d=i.findAllByState("node",r.selectedState),h=i.findAllByState("edge",r.selectedState),v=i.findAllByState("combo",r.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:d,edges:h,combos:v},select:!1})}else{l(t,r)&&i.setItemState(n,r.selectedState,!0);var d=i.findAllByState("node",r.selectedState),h=i.findAllByState("edge",r.selectedState),v=i.findAllByState("combo",r.selectedState);i.emit("nodeselectchange",{target:n,selectedItems:{nodes:d,edges:h,combos:v},select:!0})}}}},onCanvasClick:function(t){var r=this,n=this,a=n.graph,i=n.shouldBegin;if(i(t,this)){var o=a.findAllByState("node",this.selectedState);pt(o,function(u){a.setItemState(u,r.selectedState,!1)});var s=a.findAllByState("edge",this.selectedState);pt(s,function(u){a.setItemState(u,r.selectedState,!1)});var l=a.findAllByState("combo",this.selectedState);pt(l,function(u){a.setItemState(u,r.selectedState,!1)}),a.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(t){var r=this,n=t.key;n&&(n.toLowerCase()===this.trigger.toLowerCase()||n.toLowerCase()==="control"?r.keydown=!0:r.keydown=!1)},onKeyUp:function(){var t=this;t.keydown=!1}};var vDe=vs,Jy=.05;const pDe={getDefaultCfg:function(){return this.isFireFox=J7()==="firefox",{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var t=this.fixSelectedItems;return t.fixState||(t.fixState="selected"),t.fixAll&&(t.fixLineWidth=!0,t.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(t){var r=t.originalEvent.touches,n=r[0],a=r[1];t.preventDefault(),a&&(this.shouldBegin&&!this.shouldBegin(t,this)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,a&&(this.endPoint={pageX:a.pageX,pageY:a.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(t){if(this.moveable){t.preventDefault();var r=t.originalEvent.touches,n=r[0],a=r[1];if(a){this.endPoint||(this.endPoint={pageX:a.pageX,pageY:a.pageY});var i=function(p,m){return Math.hypot(m.x-p.x,m.y-p.y)},o=i({x:n.pageX,y:n.pageY},{x:a.pageX,y:a.pageY})/i({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var c=this.get("animate"),f=this.get("animateCfg"),d=this.graph.get("canvas"),h=d.getPointByClient(t.clientX,t.clientY);this.graph.zoomTo(s,{x:h.x,y:h.y},c,f),this.graph.emit("wheelzoom",t)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(t){var r=this,n=this,a=n.graph,i=n.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin(t,this))&&this.shouldUpdate(t,this)){t.preventDefault();var o=a.get("canvas"),s=o.getPointByClient(t.clientX,t.clientY),l=this.get("sensitivity"),u=a.getZoom(),c=u,f=u;this.isFireFox?t.deltaY>0||t.wheelDelta<0?c=1-Jy*l:c=1/(1-Jy*l):t.wheelDelta<0?c=1-Jy*l:c=1/(1-Jy*l),f=u*c;var d=this.get("minZoom")||a.get("minZoom"),h=this.get("maxZoom")||a.get("maxZoom");f>h?f=h:f<d&&(f=d);var v=this.get("enableOptimize");if(v){var p=this.get("optimizeZoom"),m=this.get("optimized"),g=a.getNodes(),b=a.getEdges(),y=g.length,w=b.length;if(!m){for(var _=0;_<y;_++){var x=g[_];if(!x.destroyed)for(var S=x.get("group").get("children"),C=S.length,T=0;T<C;T++){var M=S[T];!M.destoryed&&!M.get("isKeyShape")&&(M.set("ori-visibility",M.get("ori-visibility")||M.get("visible")),M.hide())}}for(var k=0;k<w;k++)for(var A=b[k],S=A.get("group").get("children"),C=S.length,T=0;T<C;T++){var M=S[T];M.set("ori-visibility",M.get("ori-visibility")||M.get("visible")),M.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var O=setTimeout(function(){var ke=a.getZoom(),q=r.get("optimized");if(q){r.set("optimized",!1);for(var j=0;j<y;j++){var Ce=g[j],fe=Ce.get("group").get("children"),ge=fe.length;if(ke<p){var Ue=Ce.getKeyShape(),tt=Ue.get("ori-visibility");Ue.set("ori-visibility",void 0),tt&&Ue.show()}else for(var ot=0;ot<ge;ot++){var Ye=fe[ot],tt=Ye.get("ori-visibility");Ye.set("ori-visibility",void 0),!Ye.get("visible")&&tt&&tt&&Ye.show()}}for(var we=0;we<w;we++){var qe=b[we],fe=qe.get("group").get("children"),ge=fe.length;if(ke<p){var Ue=qe.getKeyShape(),tt=Ue.get("ori-visibility");Ue.set("ori-visibility",void 0),tt&&Ue.show()}else for(var ot=0;ot<ge;ot++){var Ye=fe[ot];if(!Ye.get("visible")){var tt=Ye.get("ori-visibility");Ye.set("ori-visibility",void 0),tt&&Ye.show()}}}}},100);this.set("timeout",O)}if(u<=1){var P=void 0,R=void 0;if(i.fixAll||i.fixLineWidth||i.fixLabel){P=a.findAllByState("node",i.fixState),R=a.findAllByState("edge",i.fixState);for(var N=u/f,L=P.length,B=0;B<L;B++){var x=P[B],I=x.getContainer(),D=x.getModel(),z=x.getOriginStyle(),U=x.getStateStyle(i.fixState),H=x.get("shapeFactory").getShape(D.type).getStateStyle(i.fixState,x)[i.fixState];if(i.fixAll){if(f<=1){var Y=un(I.getMatrix());Y||(Y=[1,0,0,0,1,0,0,0,1]);var ie=x.getModel(),X=ie.x,re=ie.y;Y=vDe(Y,[["t",-X,-re],["s",N,N],["t",X,re]]),I.setMatrix(Y)}}else for(var S=I.get("children"),C=S.length,T=0;T<C;T++){var M=S[T],oe=void 0,Ne=void 0;if(i.fixLabel){var me=M.get("type");if(me==="text"){oe=M.attr("fontSize")||12;var xe=U[M.get("name")],ze=H[M.get("name")],te=xe?xe.fontSize:12,le=ze?ze.fontSize:12,Ae=te||le||12;if(f<=1&&M.attr("fontSize",Ae/f),Ne)break}}if(i.fixLineWidth&&M.get("isKeyShape")){Ne=M.attr("lineWidth")||0;var Ve=U.lineWidth||H.lineWidth||z.lineWidth||0;if(f<=1&&M.attr("lineWidth",Ve/f),oe)break}}}for(var Ie=R.length,De=0;De<Ie;De++)for(var A=R[De],I=A.getContainer(),S=I.get("children"),D=A.getModel(),U=A.getStateStyle(i.fixState),H=A.get("shapeFactory").getShape(D.type).getStateStyle(i.fixState,A)[i.fixState],C=S.length,T=0;T<C;T++){var M=S[T],oe=void 0,Ne=void 0;if(i.fixLabel||i.fixAll){var me=M.get("type");if(me==="text"){oe=M.attr("fontSize")||12;var xe=U[M.get("name")],ze=H[M.get("name")],te=xe?xe.fontSize:12,le=ze?ze.fontSize:12,Ae=te||le||12;if(f<=1&&M.attr("fontSize",Ae/f),Ne)break}}if((i.fixLineWidth||i.fixAll)&&M.get("isKeyShape")){Ne=M.attr("lineWidth")||0;var Ve=U.lineWidth||H.lineWidth||1;if(f<=1&&M.attr("lineWidth",Ve/f),oe)break}}}}var Ge=this.get("animate"),Qe=this.get("animateCfg");a.zoomTo(f,{x:s.x,y:s.y},Ge,Qe),a.emit("wheelzoom",t)}}},LW={onMouseEnter:function(t){var r=t.item;this.currentTarget=r,this.showTooltip(t),this.graph.emit("tooltipchange",{item:t.item,action:"show"})},onMouseMove:function(t){if(!this.shouldUpdate(t,this)){this.hideTooltip();return}!this.currentTarget||t.item!==this.currentTarget||this.updatePosition(t)},onMouseLeave:function(t){this.shouldEnd(t,this)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(t){var r=this.container;if(!(!t.item||t.item.destroyed)){r||(r=this.createTooltip(this.graph.get("canvas")),this.container=r);var n=this.formatText(t.item.get("model"),t);r.innerHTML=n,on(this.container,{visibility:"visible"}),this.updatePosition(t)}},hideTooltip:function(){on(this.container,{visibility:"hidden"})},updatePosition:function(t){var r=this.get("shouldBegin"),n=this,a=n.width,i=n.height,o=n.container,s=n.graph;if(!r(t,this)){on(o,{visibility:"hidden"});return}var l=s.getPointByClient(t.clientX,t.clientY),u=s.getCanvasByPoint(l.x,l.y),c=u.x,f=u.y,d=o.getBoundingClientRect();c>a/2?c-=d.width:c+=this.offset,f>i/2?f-=d.height:f+=this.offset;var h="".concat(c,"px"),v="".concat(f,"px");on(this.container,{left:h,top:v,visibility:"visible"})},createTooltip:function(t){var r=t.get("el");r.style.position="relative";var n=Kn('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return r.parentNode.appendChild(n),on(n,{position:"absolute",visibility:"visible"}),this.width=t.get("width"),this.height=t.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},gDe=ee({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(r){return r.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},LW),mDe=ee({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(r){return"source: ".concat(r.source," target: ").concat(r.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},LW);var X4="click",yDe=["click","dblclick"];const bDe={getDefaultCfg:function(){return{trigger:X4,onChange:function(){}}},getEvents:function(){var t,r;return yDe.includes(this.trigger)?r=this.trigger:(r=X4,console.warn("Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),t={},t["node:".concat(r)]="onNodeClick",t.touchstart="onNodeClick",t},onNodeClick:function(t){var r=this;if(this.trigger==="click"){if(this.timer){clearTimeout(this.timer),this.timer=0;return}this.timer=setTimeout(function(){r.toggle(t),clearTimeout(r.timer),r.timer=0},200)}else this.toggle(t)},toggle:function(t){var r=t.item;if(r){var n=this.graph.findDataById(r.get("id"));if(n){var a=n.children;if(!(!a||a.length===0)){var i=!n.collapsed;this.shouldBegin(t,i,this)&&(n.collapsed=i,r.getModel().collapsed=i,this.graph.emit("itemcollapsed",{item:t.item,collapsed:i}),this.shouldUpdate(t,i,this)&&(this.onChange(r,i,this),this.graph.layout()))}}}}};var wDe=Au.calculationItemsBBox,EDe=function e(t,r){if(r(t)!==!1&&t){var n=t.get("combos");if(n.length===0)return!1;pt(n,function(a){e(a,r)})}};const _De={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:mousedown":"onMouseDown","combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(t){var r=t.item;if(!r||r.destroyed||!this.shouldUpdate(t,this))return!1;var n=r.getType();return n==="combo"},onMouseDown:function(t){this.origin={x:t.x,y:t.y}},onDragStart:function(t){var r=this,n=this.graph,a=t.item;if(this.currentShouldEnd=!0,!!this.validationCombo(t)){this.targets=[];var i=n.findAllByState("combo",this.selectedState),o=a.get("id"),s=i.filter(function(u){var c=u.get("id");return o===c});s.length===0?this.targets.push(a):this.targets=i;var l=[];this.targets.forEach(function(u){var c=u.getModel(),f=c.x,d=c.y,h=c.id;l.push({x:f,y:d,id:h})}),this.set("beforeDragItems",l),this.activeState&&this.targets.map(function(u){var c=u.getModel();if(c.parentId){var f=n.findById(c.parentId);f&&n.setItemState(f,r.activeState,!0)}}),this.point={},this.originPoint={},this.currentItemChildCombos=[],EDe(a,function(u){if(u.destroyed)return!1;var c=u.getModel();return r.currentItemChildCombos.push(c.id),!0})}},onDrag:function(t){var r=this;if(this.origin&&this.validationCombo(t))if(this.enableDelegate)this.updateDelegate(t);else{if(this.activeState){var n=this.graph,a=t.item,i=a.getModel(),o=n.getCombos(),s=a.getBBox(),l=s.centerX,u=s.centerY,c=s.width,f=o.filter(function(d){var h=d.getModel();return i.parentId,h.id!==i.id&&!r.currentItemChildCombos.includes(h.id)});f.map(function(d){var h=d.getBBox(),v=h.centerX,p=h.centerY,m=h.width,g=l-v,b=u-p,y=2*Math.sqrt(g*g+b*b);c+m-y>.8*c?n.setItemState(d,r.activeState,!0):n.setItemState(d,r.activeState,!1)})}pt(this.targets,function(d){r.updateCombo(d,t)}),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(t,r){var n=this;(this.enableDelegate||r)&&pt(this.targets,function(a){n.updateCombo(a,t,r)})},onDrop:function(t){var r=this,n=t.item;if(this.currentShouldEnd=this.shouldEnd(t,n,this),this.updatePositions(t,!this.currentShouldEnd),!(!this.currentShouldEnd||!n||!this.targets||n.destroyed)){var a=this.graph,i=n.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==i.id?(r.activeState&&a.setItemState(n,r.activeState,!1),r.onlyChangeComboSize?a.updateCombo(o):a.updateComboTree(o,i.id,!1)):a.updateCombo(n)}),this.end(n,t),this.endComparison=!0}},onNodeDrop:function(t){var r=this;if(!(!this.targets||this.targets.length===0)){var n=this.graph,a=t.item,i=a.getModel().comboId,o=i?n.findById(i):void 0;if(this.currentShouldEnd=this.shouldEnd(t,o,this),this.updatePositions(t,!this.currentShouldEnd),!!this.currentShouldEnd){var s;if(i){if(this.activeState){var l=n.findById(i);n.setItemState(l,this.activeState,!1)}this.targets.map(function(u){r.onlyChangeComboSize?n.updateCombo(u):i!==u.getID()&&(s=n.findById(i),i!==u.getModel().parentId&&n.updateComboTree(u,i,!1))})}else this.targets.map(function(u){if(r.onlyChangeComboSize)n.updateCombo(u);else{var c=u.getModel();c.comboId&&n.updateComboTree(u,void 0,!1)}});this.endComparison=!0,this.end(s,t)}}},onDragEnter:function(t){if(this.origin&&this.validationCombo(t)){var r=t.item,n=this.graph;this.activeState&&n.setItemState(r,this.activeState,!0)}},onDragLeave:function(t){if(this.origin&&this.validationCombo(t)){var r=t.item,n=this.graph;this.activeState&&n.setItemState(r,this.activeState,!1)}},onDragEnd:function(t){if(!(!this.targets||this.targets.length===0)){var r=t.item;this.currentShouldEnd&&this.updatePositions(t);var n=this.getParentCombo(r.getModel().parentId),a=this.graph;n&&this.activeState&&a.setItemState(n,this.activeState,!1),this.end(void 0,t)}},end:function(t,r){var n=this;if(this.origin){var a=this.graph;if(this.delegateShape){var i=a.get("delegateGroup");i.clear(),this.delegateShape=null}if(t&&this.activeState&&a.setItemState(t,this.activeState,!1),!t){var o=a.get("enabledStack")&&this.enableStack,s={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(l){if(!n.onlyChangeComboSize)a.updateComboTree(l,void 0,o);else{a.updateCombo(l);var u=l.getModel(),c=u.x,f=u.y,d=u.id;s.after.combos.push({x:c,y:f,id:d}),a.pushStack("update",s)}})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(t,r,n){var a=this;if(n===void 0&&(n={}),r(t,n)!==!1&&t){var i=t.get("combos");pt(i,function(s){a.traverse(s,r,n)});var o=t.get("nodes");pt(o,function(s){a.traverse(s,r,n)})}},updateCombo:function(t,r,n){this.updateSingleItem(t,r,n);var a={};this.traverse(t,function(i,o){return i.destroyed?!1:(i.getEdges().forEach(function(s){return o[s.getID()]=s}),!0)},a),Object.values(a).forEach(function(i){return i.refresh()})},updateSingleItem:function(t,r,n){var a=this.origin,i=this.graph,o=t.getModel(),s=t.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var l=r.x-a.x+this.point[s].x,u=r.y-a.y+this.point[s].y;n&&(l+=a.x-r.x,u+=a.y-r.y),i.updateItem(t,{x:l,y:u},!1)},getParentCombo:function(t){var r=this.graph;if(t){var n=r.findById(t);if(n)return n}},updateDelegate:function(t){var r=this.graph;if(this.delegateShape){var d=t.x-this.origin.x+this.originPoint.minX,h=t.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:d,y:h})}else{var n=r.get("delegateGroup"),a=null;this.targets.length>1?a=wDe(this.targets):a=this.targets[0].getBBox();var i=a.x,o=a.y,s=a.width,l=a.height,u=a.minX,c=a.minY;this.originPoint={x:i,y:o,width:s,height:l,minX:u,minY:c};var f=ee(ee({},Hf.delegateStyle),this.delegateStyle);this.delegateShape=n.addShape("rect",{attrs:ee({width:a.width,height:a.height,x:a.x,y:a.y},f),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var t=this,r=t.graph,n=t.targets,a={};n==null||n.forEach(function(i){var o=i.getModel().parentId;o&&(a[o]=r.findById(o))}),Object.values(a).forEach(function(i){i&&r.updateCombo(i)})}};var q4="dblclick",xDe=["click","dblclick"];const SDe={getDefaultCfg:function(){return{trigger:q4,relayout:!0}},getEvents:function(){var t,r;return xDe.includes(this.trigger)?r=this.trigger:(r=q4,console.warn("Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'")),t={},t["combo:".concat(r)]="onComboClick",t},onComboClick:function(t){var r=t.item,n=this,a=n.graph,i=n.relayout;if(!(!r||r.destroyed||r.getType()!=="combo")){var o=r.getModel(),s=o.id;s&&(a.collapseExpandCombo(s),i&&a.get("layout")?a.layout():a.refreshPositions())}}};var CDe=Au.isPolygonsIntersect,MDe=Au.pathToPoints,Z4="shift",TDe=["drag","shift","ctrl","alt","control"],kDe=function(t,r){var n,a=t.getKeyShape();if(t.get("type")==="path")n=MDe(a.attr("path"));else{var i=a.getCanvasBBox();n=[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}return CDe(r,n)};const ADe={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:Z4,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return TDe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Z4,console.warn("Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(t){var r=this.lasso,n=t.item;n||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates("dragstart"),r||(r=this.createLasso()),this.dragging=!0,this.originPoint={x:t.x,y:t.y},this.points.push(this.originPoint),r.show())},onDragMove:function(t){this.dragging&&(this.trigger!=="drag"&&!this.keydown||(this.points.push({x:t.x,y:t.y}),this.updateLasso(t)))},onDragEnd:function(t){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var t=this.points,r=[];return t.length&&(t.forEach(function(n,a){a===0?r.push(["M",n.x,n.y]):r.push(["L",n.x,n.y])}),r.push(["L",t[0].x,t[0].y])),r},clearStates:function(t){t===void 0&&(t="canvas:click");var r=this,n=r.graph,a=r.selectedState,i=r.shouldDeselect,o=n.findAllByState("node",a),s=n.findAllByState("edge",a);(!i||i({action:t,nodes:o,edges:s}))&&(o.forEach(function(l){return n.setItemState(l,a,!1)}),s.forEach(function(l){return n.setItemState(l,a,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var t=this,r=this,n=r.graph,a=r.shouldUpdate,i=this.points.map(function(c){return[n.getCanvasByPoint(c.x,c.y).x,n.getCanvasByPoint(c.x,c.y).y]}),o=this.selectedState,s=[],l=[];n.getNodes().forEach(function(c){if(c.isVisible()&&kDe(c,i)&&a(c,"select",t)){s.push(c);var f=c.getModel();l.push(f.id),n.setItemState(c,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(c){var f=c.getOutEdges();f.forEach(function(d){if(d.isVisible()){var h=d.getModel(),v=h.source,p=h.target;l.includes(v)&&l.includes(p)&&a(d,"select",t)&&(u.push(d),n.setItemState(d,t.selectedState,!0))}})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),n.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var t=this,r=t.graph.get("delegateGroup").addShape("path",{attrs:ee({path:[]},t.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=r,this.delegate=r,this.points=[],r},updateLasso:function(t){var r=this;this.lasso.attr({path:r.getLassoPath()})},onKeyDown:function(t){var r=t.key;r&&(r.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}};var Q4="click",IDe=["click","drag"],J4=void 0,ODe=["shift","ctrl","control","alt","meta",void 0];const LDe={getDefaultCfg:function(){return{trigger:Q4,key:J4,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var t=this;IDe.indexOf(t.trigger.toLowerCase())>-1||(t.trigger=Q4,console.warn("Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'")),t.key&&ODe.indexOf(t.key.toLowerCase())===-1&&(t.trigger=J4,console.warn("Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined"));var r;return t.trigger==="drag"?r={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:t.trigger==="click"&&(r={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),t.key&&(r.keydown="onKeyDown",r.keyup="onKeyUp"),r},onDragEnd:function(t){var r=this;if(!(r.key&&!r.keydown)){var n=t.item;(!n||n.getID()===r.source||n.getType()!=="node")&&r.cancelCreating({item:r.edge,x:t.x,y:t.y})}},onClick:function(t){var r=this;if(!(r.key&&!r.keydown)){var n=t.item,a=r.graph,i=n.getModel(),o=r.getEdgeConfig;if(r.addingEdge&&r.edge){if(!r.shouldEnd(t,r))return;var s=void 0;o&&ta(o)?s=o({source:r.source,target:i.id},r):s=r.edgeConfig;var l=ee({target:i.id},s);if(r.source===i.id&&(l.type="loop"),a.emit("beforecreateedge",{}),a.updateItem(r.edge,l,!1),a.get("enabledStack")){var u=ee(ee({},r.edge.getModel()),{itemType:"edge"}),c={};c.edges=[u],a.pushStack("add",{before:{},after:c})}a.emit("aftercreateedge",{edge:r.edge}),r.edge.getKeyShape().set("capture",!0),r.edge=null,r.addingEdge=!1}else{if(!r.shouldBegin(t,r))return;var s=void 0;o&&ta(o)?s=o({source:i.id,target:i.id},r):s=r.edgeConfig,r.edge=a.addItem("edge",ee({source:i.id,target:i.id},s),!1),r.source=i.id,r.addingEdge=!0,r.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(t){var r=this;if(!(r.key&&!r.keydown)){r.edge&&r.edge.destroyed&&r.cancelCreating({item:r.edge});var n={x:t.x,y:t.y};if(!r.graph.findById(r.source)){r.addingEdge=!1;return}r.addingEdge&&r.edge&&r.graph.updateItem(r.edge,{target:n},!1)}},cancelCreating:function(t){var r,n,a=this;if(!(a.key&&!a.keydown)){var i=a.graph,o=t.item;if(a.addingEdge&&(a.edge===o||!((n=(r=t.target)===null||r===void 0?void 0:r.isCanvas)===null||n===void 0)&&n.call(r))){a.edge&&!a.edge.destroyed&&i.removeItem(a.edge,!1),a.edge=null,a.addingEdge=!1;return}}},onKeyDown:function(t){var r=this,n=t.key;n&&(n.toLowerCase()===r.key.toLowerCase()?r.keydown=!0:r.keydown=!1)},onKeyUp:function(){var t=this;t.addingEdge&&t.edge&&(t.graph.removeItem(t.edge,!1),t.addingEdge=!1,t.edge=null),this.keydown=!1}};var e5="ctrl",NDe=["shift","ctrl","alt","control"],PDe="1";const DDe={getDefaultCfg:function(){return{trigger:e5,combinedKey:PDe,functionName:"fitView",functionParams:[]}},getEvents:function(){return NDe.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=e5,console.warn("Behavior shortcuts-fit-view 的 trigger 参数 '".concat(this.trigger,"' 不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(t){var r=t.key;if(r){var n=this.trigger.toLowerCase(),a=r.toLowerCase();this.triggerKeydown||(a===n||a==="control"&&n==="ctrl"||a==="ctrl"&&n==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var i=this.graph;if(!i[this.functionName])return console.warn("Behavior shortcuts-fit-view 的 functionName 参数 '".concat(this.functionName,"' 不合法，它不是 Graph 的一个函数名")),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(a===o||a==="control"&&o==="ctrl"||a==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?i[this.functionName].apply(i,this.functionParams):i[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}};var RDe=["shift","ctrl","alt","control","meta"];const $De={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return(!this.zoomKey||RDe.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(t){var r=this;if(this.allowDrag(t)){var n=this.graph,a=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];a.includes("control")&&a.push("ctrl");var i=a.some(function(D){return t["".concat(D,"Key")]});if(i){var o=n.get("canvas"),s=o.getPointByClient(t.clientX,t.clientY),l=n.getZoom();t.wheelDelta>0?l=l+l*.05:l=l-l*.05,n.zoomTo(l,{x:s.x,y:s.y})}else{var u=t.deltaX||t.movementX,c=t.deltaY||t.movementY;!c&&navigator.userAgent.indexOf("Firefox")>-1&&(c=-t.wheelDelta*125/3);var f=this.graph.get("width"),d=this.graph.get("height"),h=this.graph.get("canvas").getCanvasBBox(),v=this.scalableRange,p=this.scalableRange;v<1&&v>-1&&(v=f*v,p=d*p);var m=h.minX,g=h.maxX,b=h.minY,y=h.maxY;u>0?g<-v?u=0:g-u<-v&&(u=g+v):u<0&&(m>f+v?u=0:m-u>f+v&&(u=m-(f+v))),c>0?y<-p?c=0:y-c<-p&&(c=y+p):c<0&&(b>d+p?c=0:b-c>d+p&&(c=b-(d+p))),this.get("direction")==="x"?c=0:this.get("direction")==="y"&&(u=0),n.translate(-u,-c)}t.preventDefault();var w=this.get("enableOptimize");if(w){var _=this.get("optimizeZoom"),x=this.get("optimized"),S=n.getNodes(),C=n.getEdges(),T=S.length,M=C.length;if(!x){for(var k=0;k<T;k++){var A=S[k];if(!A.destroyed)for(var O=A.get("group").get("children"),P=O.length,R=0;R<P;R++){var N=O[R];!N.destoryed&&!N.get("isKeyShape")&&(N.set("ori-visibility",N.get("ori-visibility")||N.get("visible")),N.hide())}}for(var L=0;L<M;L++)for(var B=C[L],O=B.get("group").get("children"),P=O.length,R=0;R<P;R++){var N=O[R];N.set("ori-visibility",N.get("ori-visibility")||N.get("visible")),N.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var I=setTimeout(function(){var D=n.getZoom(),z=r.get("optimized");if(z){r.set("optimized",!1);for(var U=0;U<T;U++){var H=S[U],Y=H.get("group").get("children"),ie=Y.length;if(D<_){var X=H.getKeyShape(),re=X.get("ori-visibility");re&&X.show()}else for(var oe=0;oe<ie;oe++){var Ne=Y[oe],re=Ne.get("ori-visibility");!Ne.get("visible")&&re&&re&&Ne.show()}}for(var me=0;me<M;me++){var xe=C[me],Y=xe.get("group").get("children"),ie=Y.length;if(D<_){var X=xe.getKeyShape(),re=X.get("ori-visibility");re&&X.show()}else for(var oe=0;oe<ie;oe++){var Ne=Y[oe];if(!Ne.get("visible")){var re=Ne.get("ori-visibility");re&&Ne.show()}}}}},100);this.set("timeout",I)}}},allowDrag:function(t){var r,n,a=t.target,i=a&&a.isCanvas&&a.isCanvas();if(S0(this.allowDragOnItem)&&!this.allowDragOnItem&&!i)return!1;if(si(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,l=o.edge,u=o.combo,c=(n=(r=t.item)===null||r===void 0?void 0:r.getType)===null||n===void 0?void 0:n.call(r);if(!s&&c==="node"||!l&&c==="edge"||!u&&c==="combo")return!1}return!0}};var BDe={"drag-canvas":sDe,"zoom-canvas":pDe,"drag-node":lDe,"activate-relations":uDe,"brush-select":fDe,"click-select":hDe,"lasso-select":ADe,tooltip:gDe,"edge-tooltip":mDe,"collapse-expand":bDe,"drag-combo":_De,"collapse-expand-combo":SDe,"create-edge":LDe,"shortcuts-call":DDe,"scroll-canvas":$De};pt(BDe,function(e,t){Zj(t,e)});var FDe=ee(ee({},Cle),Lve),zDe=_o.Fisheye,GDe=_o.TimeBar,jDe=_o.ImageMinimap,VDe=_o.EdgeFilterLens,UDe=_o.SnapLine,WDe=_o.Annotation;const hI={version:Hf.version,Graph:tW,TreeGraph:bLe,Util:Au,Layout:fn.Layouts,TreeLayout:oLe,registerLayout:sLe,Global:Hf,registerBehavior:Zj,registerCombo:vde,registerEdge:qj,registerNode:xu,Minimap:_o.Minimap,Grid:_o.Grid,Bundling:_o.Bundling,Menu:_o.Menu,ToolBar:_o.ToolBar,Tooltip:_o.Tooltip,Legend:_o.Legend,TimeBar:GDe,SnapLine:UDe,Fisheye:zDe,ImageMinimap:jDe,EdgeFilterLens:VDe,Annotation:WDe,Algorithm:FDe,Arrow:Wj,Marker:Hj,Shape:Gn};hI.version="4.8.23";const go="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%231afa29'%20d='M600.677917%20904.431138h268.263473c19.928144%200%2033.724551%2013.796407%2033.724551%2030.658682s-13.796407%2030.658683-33.724551%2030.658683h-268.263473c4.598802-9.197605%207.664671-19.928144%207.664671-30.658683s-3.065868-19.928144-7.664671-30.658682z%20m-93.508982-45.988024c41.389222%200%2076.646707%2035.257485%2076.646706%2076.646706s-35.257485%2076.646707-76.646706%2076.646707-76.646707-35.257485-76.646707-76.646707%2035.257485-76.646707%2076.646707-76.646706z%20m-30.658683-15.329342h61.317365v-61.317365h-61.317365v61.317365z%20m-334.17964%2061.317366h272.862275c-4.598802%209.197605-7.664671%2019.928144-7.664671%2030.658682s3.065868%2021.461078%207.664671%2030.658683h-272.862275c-19.928144%200-33.724551-13.796407-33.724551-30.658683s15.329341-30.658683%2033.724551-30.658682z%20m610.107784-766.467066h61.317365v-61.317365h-61.317365v61.317365z%20m-76.646707-61.317365c-16.862275%200-30.658683%2013.796407-30.658682%2030.658682s13.796407%2030.658683%2030.658682%2030.658683%2030.658683-13.796407%2030.658683-30.658683-13.796407-30.658683-30.658683-30.658682z%20m-107.305389%200c-16.862275%200-30.658683%2013.796407-30.658683%2030.658682s13.796407%2030.658683%2030.658683%2030.658683%2030.658683-13.796407%2030.658683-30.658683-13.796407-30.658683-30.658683-30.658682z%20m291.257485%20137.964071h-705.1497c-24.526946%200-45.988024-19.928144-45.988024-47.520958v-118.035928c0-24.526946%2019.928144-47.520958%2045.988024-47.520958h705.1497c24.526946%200%2045.988024%2019.928144%2045.988024%2047.520958v118.035928c0%2027.592814-21.461078%2047.520958-45.988024%2047.520958z%20m-107.305389%20199.281438h61.317365v-61.317366h-61.317365v61.317366z%20m-76.646707-61.317366c-16.862275%200-30.658683%2013.796407-30.658682%2030.658683s13.796407%2030.658683%2030.658682%2030.658683%2030.658683-13.796407%2030.658683-30.658683c0-15.329341-13.796407-30.658683-30.658683-30.658683z%20m-107.305389%200c-16.862275%200-30.658683%2013.796407-30.658683%2030.658683s13.796407%2030.658683%2030.658683%2030.658683%2030.658683-13.796407%2030.658683-30.658683c1.532934-15.329341-13.796407-30.658683-30.658683-30.658683z%20m291.257485%20137.964072h-705.1497c-24.526946%200-45.988024-19.928144-45.988024-47.520958v-118.035928c0-24.526946%2019.928144-47.520958%2045.988024-47.520958h705.1497c24.526946%200%2045.988024%2019.928144%2045.988024%2047.520958v118.035928c0%2027.592814-21.461078%2047.520958-45.988024%2047.520958z%20m-107.305389%20199.281437h61.317365v-61.317365h-61.317365v61.317365z%20m-76.646707-61.317365c-16.862275%200-30.658683%2013.796407-30.658682%2030.658683s13.796407%2030.658683%2030.658682%2030.658682%2030.658683-13.796407%2030.658683-30.658682-13.796407-30.658683-30.658683-30.658683z%20m-107.305389%200c-16.862275%200-30.658683%2013.796407-30.658683%2030.658683s13.796407%2030.658683%2030.658683%2030.658682%2030.658683-13.796407%2030.658683-30.658682c1.532934-16.862275-13.796407-30.658683-30.658683-30.658683z%20m291.257485%20137.964072h-705.1497c-24.526946%200-45.988024-19.928144-45.988024-47.520958v-118.035928c0-24.526946%2019.928144-47.520958%2045.988024-47.520958h705.1497c24.526946%200%2045.988024%2019.928144%2045.988024%2047.520958v118.035928c0%2024.526946-21.461078%2047.520958-45.988024%2047.520958z'%20/%3e%3c/svg%3e",NW=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},HDe={data(){return{dialogVisible:!1,title:"",datas:[]}},methods:{show(e){console.log(e),this.dialogVisible=!0,this.title=e.label,this.datas=e.data},handleClose(){this.dialogVisible=!1}}},YDe={class:"color-table"},KDe={class:"number"};function XDe(e,t,r,n,a,i){const o=br("el-dialog");return F(),Oe(o,{modelValue:a.dialogVisible,"onUpdate:modelValue":t[0]||(t[0]=s=>a.dialogVisible=s),title:a.title,width:"500","before-close":i.handleClose},{default:he(()=>[Z("div",YDe,[(F(!0),K(zt,null,zr(a.datas,(s,l)=>(F(),K("div",{class:"color-row",key:l},[(F(!0),K(zt,null,zr(s,(u,c)=>(F(),K("div",{class:"color-block",key:c},[Z("div",KDe,ct(c+1),1),Z("div",{class:"color",style:Bt({backgroundColor:u===1?"green":u===2?"purple":"red"})},null,4)]))),128))]))),128))])]),_:1},8,["modelValue","title","before-close"])}const qDe=NW(HDe,[["render",XDe]]);new hI.Tooltip({offsetX:4,offsetY:-100,getContent(e){const{networkType:t,id:r,label:n,cpu:a,memory:i,cpuRate:o,memoryRate:s,ipMac:l,status:u}=e.item.getModel()||{},c=document.createElement("div");switch(t){case"VM":let f=l.reduce((h,v)=>h+`<div>${v.ip} / ${v.mac}</div>`,"");const{text:d}=statusFilterForVm(u);c.innerHTML=`
          <ul>
            <li>${n}</li>
            <li>
               <div>ID: </div>
               <div>${r}</div>
            </li>
            <li>
              <div>状态: </div>
              <div>${d}</div>
            </li>
            <li>
               <div>规格: </div>
               <div>${a}${i}</div>
            </li>
            <li>
               <div>CPU使用率: </div>
               <div>${o||"--"}</div>
            </li>
            <li>
               <div>内存使用率: </div>
               <div>${s||"--"}</div>
            </li>
            <li>
               <div>IP/MAC: </div>
               <div>${f||"--"}</div>
            </li>
          </ul>`;break;case"VPC":case"VPCSUBNET":c.innerHTML=`
          <ul>
            <li>${n}</li>
            <li>
               <div>ID: </div>
               <div>${r}</div>
            </li>
            <li>
               <div>网络类型: </div>
               <div>${t==="VPC"?"VPC":t==="VPCSUBNET"?"VPC子网":t}</div>
            </li>
          </ul>`;break;default:c.innerHTML=`
          <ul>
            <li>${n}</li>
          </ul>`}return c},itemTypes:["node"]});const ZDe={data(){return{graph:null,nodes:[{id:"node0",x:350,y:600,size:40,type:"image",img:go,label:"孙家庄后",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node1",x:400,y:600,size:40,type:"image",img:go,label:"中医院",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node2",x:450,y:500,size:40,type:"image",img:go,label:"808",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node3",x:500,y:500,size:40,type:"image",img:go,label:"806",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node4",x:500,y:300,size:40,type:"image",img:go,label:"东梁东",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node5",x:550,y:250,size:40,type:"image",img:go,label:"东梁北",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node6",x:600,y:400,size:40,type:"image",img:go,label:"芝角",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node7",x:650,y:400,size:40,type:"image",img:go,label:"上社",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node8",x:700,y:400,size:40,type:"image",img:go,label:"贾家域",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node9",x:750,y:400,size:40,type:"image",img:go,label:"滴流蹬",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node10",x:800,y:400,size:40,type:"image",img:go,label:"蔡家坪",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node11",x:850,y:400,size:40,type:"image",img:go,label:"独自口",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]},{id:"node12",x:900,y:400,size:40,type:"image",img:go,label:"梁家寨",data:[[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3],[1,1,1,1,1,3,1,1,1,1,1,3]]}],edges:[]}},components:{mydialog:qDe},mounted(){this.initChart()},beforeMount(){var e;(e=this.graph)==null||e.destory()},methods:{async initChart(){const e={nodes:this.nodes,edges:this.edges};this.graph=new hI.Graph({container:"mountNode",height:window.innerHeight,modes:{default:["drag-canvas","drag-node"]},fitView:!0,defaultEdge:{type:"line",style:{endArrow:!0,lineWidth:2,stroke:"#666"}}}),this.graph.data(e),this.graph.render(),this.graph.on("node:click",t=>{console.log(t);const{item:r,target:n}=t,a=n.get("type"),i=n.get("name");console.log(a,i,r.getModel()),this.$refs.mydialog.show(r.getModel())})}}},QDe={style:{height:"100%"}},JDe=Z("div",{id:"mountNode"},null,-1);function e3e(e,t,r,n,a,i){const o=br("mydialog");return F(),K("div",QDe,[JDe,ae(o,{ref:"mydialog"},null,512)])}const t3e=NW(ZDe,[["render",e3e]]),r3e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',n3e=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,t5=e=>Array.from(e.querySelectorAll(r3e)).filter(t=>a3e(t)&&n3e(t)),a3e=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},K1=function(e,t,...r){let n;t.includes("mouse")||t.includes("click")?n="MouseEvents":t.includes("key")?n="KeyboardEvent":n="HTMLEvents";const a=document.createEvent(n);return a.initEvent(t,...r),e.dispatchEvent(a),e},PW=e=>!e.getAttribute("aria-owns"),DW=(e,t,r)=>{const{parentNode:n}=e;if(!n)return null;const a=n.querySelectorAll(r),i=Array.prototype.indexOf.call(a,e);return a[i+t]||null},X1=e=>{e&&(e.focus(),!PW(e)&&e.click())},Yn=(e,t,{checkForDefaultPrevented:r=!0}={})=>a=>{const i=e==null?void 0:e(a);if(r===!1||!i)return t==null?void 0:t(a)},r5=e=>t=>t.pointerType==="mouse"?e(t):void 0;var i3e=Object.defineProperty,o3e=Object.defineProperties,s3e=Object.getOwnPropertyDescriptors,n5=Object.getOwnPropertySymbols,l3e=Object.prototype.hasOwnProperty,u3e=Object.prototype.propertyIsEnumerable,a5=(e,t,r)=>t in e?i3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c3e=(e,t)=>{for(var r in t||(t={}))l3e.call(t,r)&&a5(e,r,t[r]);if(n5)for(var r of n5(t))u3e.call(t,r)&&a5(e,r,t[r]);return e},f3e=(e,t)=>o3e(e,s3e(t));function i5(e,t){var r;const n=Pn();return gi(()=>{n.value=e()},f3e(c3e({},t),{flush:(r=void 0)!=null?r:"sync"})),kv(n)}var o5;const Ur=typeof window<"u",d3e=e=>typeof e<"u",gM=e=>typeof e=="function",h3e=e=>typeof e=="string",dv=()=>{},v3e=Ur&&((o5=window==null?void 0:window.navigator)==null?void 0:o5.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Nc(e){return typeof e=="function"?e():E(e)}function RW(e,t){function r(...n){return new Promise((a,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(a).catch(i)})}return r}function p3e(e,t={}){let r,n,a=dv;const i=s=>{clearTimeout(s),a(),a=dv};return s=>{const l=Nc(e),u=Nc(t.maxWait);return r&&i(r),l<=0||u!==void 0&&u<=0?(n&&(i(n),n=null),Promise.resolve(s())):new Promise((c,f)=>{a=t.rejectOnCancel?f:c,u&&!n&&(n=setTimeout(()=>{r&&i(r),n=null,c(s())},u)),r=setTimeout(()=>{n&&i(n),n=null,c(s())},l)})}}function g3e(e,t=!0,r=!0,n=!1){let a=0,i,o=!0,s=dv,l;const u=()=>{i&&(clearTimeout(i),i=void 0,s(),s=dv)};return f=>{const d=Nc(e),h=Date.now()-a,v=()=>l=f();return u(),d<=0?(a=Date.now(),v()):(h>d&&(r||!o)?(a=Date.now(),v()):t&&(l=new Promise((p,m)=>{s=n?m:p,i=setTimeout(()=>{a=Date.now(),o=!0,p(v()),u()},Math.max(0,d-h))})),!r&&!i&&(i=setTimeout(()=>o=!0,d)),o=!1,l)}}function m3e(e){return e}function y3e(e,t){let r,n,a;const i=W(!0),o=()=>{i.value=!0,a()};He(e,o,{flush:"sync"});const s=gM(t)?t:t.get,l=gM(t)?void 0:t.set,u=YJ((c,f)=>(n=c,a=f,{get(){return i.value&&(r=s(),i.value=!1),n(),r},set(d){l==null||l(d)}}));return Object.isExtensible(u)&&(u.trigger=o),u}function rm(e){return q6()?(Z6(e),!0):!1}function b3e(e,t=200,r={}){return RW(p3e(t,r),e)}function w3e(e,t=200,r={}){const n=W(e.value),a=b3e(()=>{n.value=e.value},t,r);return He(e,()=>a()),n}function $W(e,t=200,r=!1,n=!0,a=!1){return RW(g3e(t,r,n,a),e)}function vI(e,t=!0){Er()?vr(e):t?e():Ut(e)}function cd(e,t,r={}){const{immediate:n=!0}=r,a=W(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function s(){a.value=!1,o()}function l(...u){o(),a.value=!0,i=setTimeout(()=>{a.value=!1,i=null,e(...u)},Nc(t))}return n&&(a.value=!0,Ur&&l()),rm(s),{isPending:kv(a),start:l,stop:s}}function ro(e){var t;const r=Nc(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Yc=Ur?window:void 0,E3e=Ur?window.document:void 0;function Ln(...e){let t,r,n,a;if(h3e(e[0])||Array.isArray(e[0])?([r,n,a]=e,t=Yc):[t,r,n,a]=e,!t)return dv;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(c=>c()),i.length=0},s=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=He(()=>[ro(t),Nc(a)],([c,f])=>{o(),c&&i.push(...r.flatMap(d=>n.map(h=>s(c,d,h,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return rm(u),u}let s5=!1;function pI(e,t,r={}){const{window:n=Yc,ignore:a=[],capture:i=!0,detectIframe:o=!1}=r;if(!n)return;v3e&&!s5&&(s5=!0,Array.from(n.document.body.children).forEach(d=>d.addEventListener("click",dv)));let s=!0;const l=d=>a.some(h=>{if(typeof h=="string")return Array.from(n.document.querySelectorAll(h)).some(v=>v===d.target||d.composedPath().includes(v));{const v=ro(h);return v&&(d.target===v||d.composedPath().includes(v))}}),c=[Ln(n,"click",d=>{const h=ro(e);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(s=!l(d)),!s){s=!0;return}t(d)}},{passive:!0,capture:i}),Ln(n,"pointerdown",d=>{const h=ro(e);h&&(s=!d.composedPath().includes(h)&&!l(d))},{passive:!0}),o&&Ln(n,"blur",d=>{var h;const v=ro(e);((h=n.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(v!=null&&v.contains(n.document.activeElement))&&t(d)})].filter(Boolean);return()=>c.forEach(d=>d())}function _3e(e={}){var t;const{window:r=Yc}=e,n=(t=e.document)!=null?t:r==null?void 0:r.document,a=y3e(()=>null,()=>n==null?void 0:n.activeElement);return r&&(Ln(r,"blur",i=>{i.relatedTarget===null&&a.trigger()},!0),Ln(r,"focus",a.trigger,!0)),a}function BW(e,t=!1){const r=W(),n=()=>r.value=!!e();return n(),vI(n,t),r}function x3e(e){return JSON.parse(JSON.stringify(e))}const l5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u5="__vueuse_ssr_handlers__";l5[u5]=l5[u5]||{};function S3e(e,t,{window:r=Yc,initialValue:n=""}={}){const a=W(n),i=$(()=>{var o;return ro(t)||((o=r==null?void 0:r.document)==null?void 0:o.documentElement)});return He([i,()=>Nc(e)],([o,s])=>{var l;if(o&&r){const u=(l=r.getComputedStyle(o).getPropertyValue(s))==null?void 0:l.trim();a.value=u||n}},{immediate:!0}),He(a,o=>{var s;(s=i.value)!=null&&s.style&&i.value.style.setProperty(Nc(e),o)}),a}function C3e({document:e=E3e}={}){if(!e)return W("visible");const t=W(e.visibilityState);return Ln(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var c5=Object.getOwnPropertySymbols,M3e=Object.prototype.hasOwnProperty,T3e=Object.prototype.propertyIsEnumerable,k3e=(e,t)=>{var r={};for(var n in e)M3e.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&c5)for(var n of c5(e))t.indexOf(n)<0&&T3e.call(e,n)&&(r[n]=e[n]);return r};function Bn(e,t,r={}){const n=r,{window:a=Yc}=n,i=k3e(n,["window"]);let o;const s=BW(()=>a&&"ResizeObserver"in a),l=()=>{o&&(o.disconnect(),o=void 0)},u=He(()=>ro(e),f=>{l(),s.value&&a&&f&&(o=new ResizeObserver(t),o.observe(f,i))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return rm(c),{isSupported:s,stop:c}}function f5(e,t={}){const{reset:r=!0,windowResize:n=!0,windowScroll:a=!0,immediate:i=!0}=t,o=W(0),s=W(0),l=W(0),u=W(0),c=W(0),f=W(0),d=W(0),h=W(0);function v(){const p=ro(e);if(!p){r&&(o.value=0,s.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const m=p.getBoundingClientRect();o.value=m.height,s.value=m.bottom,l.value=m.left,u.value=m.right,c.value=m.top,f.value=m.width,d.value=m.x,h.value=m.y}return Bn(e,v),He(()=>ro(e),p=>!p&&v()),a&&Ln("scroll",v,{capture:!0,passive:!0}),n&&Ln("resize",v,{passive:!0}),vI(()=>{i&&v()}),{height:o,bottom:s,left:l,right:u,top:c,width:f,x:d,y:h,update:v}}var d5=Object.getOwnPropertySymbols,A3e=Object.prototype.hasOwnProperty,I3e=Object.prototype.propertyIsEnumerable,O3e=(e,t)=>{var r={};for(var n in e)A3e.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&d5)for(var n of d5(e))t.indexOf(n)<0&&I3e.call(e,n)&&(r[n]=e[n]);return r};function FW(e,t,r={}){const n=r,{window:a=Yc}=n,i=O3e(n,["window"]);let o;const s=BW(()=>a&&"MutationObserver"in a),l=()=>{o&&(o.disconnect(),o=void 0)},u=He(()=>ro(e),f=>{l(),s.value&&a&&f&&(o=new MutationObserver(t),o.observe(f,i))},{immediate:!0}),c=()=>{l(),u()};return rm(c),{isSupported:s,stop:c}}var h5;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(h5||(h5={}));var L3e=Object.defineProperty,v5=Object.getOwnPropertySymbols,N3e=Object.prototype.hasOwnProperty,P3e=Object.prototype.propertyIsEnumerable,p5=(e,t,r)=>t in e?L3e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D3e=(e,t)=>{for(var r in t||(t={}))N3e.call(t,r)&&p5(e,r,t[r]);if(v5)for(var r of v5(t))P3e.call(t,r)&&p5(e,r,t[r]);return e};const R3e={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};D3e({linear:m3e},R3e);function zW(e,t,r,n={}){var a,i,o;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f}=n,d=Er(),h=r||(d==null?void 0:d.emit)||((a=d==null?void 0:d.$emit)==null?void 0:a.bind(d))||((o=(i=d==null?void 0:d.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(d==null?void 0:d.proxy));let v=u;t||(t="modelValue"),v=u||v||`update:${t.toString()}`;const p=g=>s?gM(s)?s(g):x3e(g):g,m=()=>d3e(e[t])?p(e[t]):f;if(l){const g=m(),b=W(g);return He(()=>e[t],y=>b.value=p(y)),He(b,y=>{(y!==e[t]||c)&&h(v,y)},{deep:c}),b}else return $({get(){return m()},set(g){h(v,g)}})}function $3e({window:e=Yc}={}){if(!e)return W(!1);const t=W(e.document.hasFocus());return Ln(e,"blur",()=>{t.value=!1}),Ln(e,"focus",()=>{t.value=!0}),t}function B3e(e={}){const{window:t=Yc,initialWidth:r=1/0,initialHeight:n=1/0,listenOrientation:a=!0,includeScrollbar:i=!0}=e,o=W(r),s=W(n),l=()=>{t&&(i?(o.value=t.innerWidth,s.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return l(),vI(l),Ln("resize",l,{passive:!0}),a&&Ln("orientationchange",l,{passive:!0}),{width:o,height:s}}const GW=()=>Ur&&/firefox/i.test(window.navigator.userAgent),F3e=(e,t)=>{if(!Ur||!e||!t)return!1;const r=e.getBoundingClientRect();let n;return t instanceof Element?n=t.getBoundingClientRect():n={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<n.bottom&&r.bottom>n.top&&r.right>n.left&&r.left<n.right},g5=e=>{let t=0,r=e;for(;r;)t+=r.offsetTop,r=r.offsetParent;return t},mM=(e,t)=>Math.abs(g5(e)-g5(t)),gI=e=>{let t,r;return e.type==="touchend"?(r=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(r=e.touches[0].clientY,t=e.touches[0].clientX):(r=e.clientY,t=e.clientX),{clientX:t,clientY:r}};function z3e(e,t,r,n){const a=r-t;return e/=n/2,e<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t}var jW=typeof global=="object"&&global&&global.Object===Object&&global,G3e=typeof self=="object"&&self&&self.Object===Object&&self,Us=jW||G3e||Function("return this")(),ls=Us.Symbol,VW=Object.prototype,j3e=VW.hasOwnProperty,V3e=VW.toString,Tp=ls?ls.toStringTag:void 0;function U3e(e){var t=j3e.call(e,Tp),r=e[Tp];try{e[Tp]=void 0;var n=!0}catch{}var a=V3e.call(e);return n&&(t?e[Tp]=r:delete e[Tp]),a}var W3e=Object.prototype,H3e=W3e.toString;function Y3e(e){return H3e.call(e)}var K3e="[object Null]",X3e="[object Undefined]",m5=ls?ls.toStringTag:void 0;function Md(e){return e==null?e===void 0?X3e:K3e:m5&&m5 in Object(e)?U3e(e):Y3e(e)}function Tl(e){return e!=null&&typeof e=="object"}var q3e="[object Symbol]";function e2(e){return typeof e=="symbol"||Tl(e)&&Md(e)==q3e}function mI(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Gi=Array.isArray,Z3e=1/0,y5=ls?ls.prototype:void 0,b5=y5?y5.toString:void 0;function UW(e){if(typeof e=="string")return e;if(Gi(e))return mI(e,UW)+"";if(e2(e))return b5?b5.call(e):"";var t=e+"";return t=="0"&&1/e==-Z3e?"-0":t}var Q3e=/\s/;function J3e(e){for(var t=e.length;t--&&Q3e.test(e.charAt(t)););return t}var eRe=/^\s+/;function tRe(e){return e&&e.slice(0,J3e(e)+1).replace(eRe,"")}function ji(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var w5=NaN,rRe=/^[-+]0x[0-9a-f]+$/i,nRe=/^0b[01]+$/i,aRe=/^0o[0-7]+$/i,iRe=parseInt;function E5(e){if(typeof e=="number")return e;if(e2(e))return w5;if(ji(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ji(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tRe(e);var r=nRe.test(e);return r||aRe.test(e)?iRe(e.slice(2),r?2:8):rRe.test(e)?w5:+e}function yI(e){return e}var oRe="[object AsyncFunction]",sRe="[object Function]",lRe="[object GeneratorFunction]",uRe="[object Proxy]";function bI(e){if(!ji(e))return!1;var t=Md(e);return t==sRe||t==lRe||t==oRe||t==uRe}var Kx=Us["__core-js_shared__"],_5=function(){var e=/[^.]+$/.exec(Kx&&Kx.keys&&Kx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cRe(e){return!!_5&&_5 in e}var fRe=Function.prototype,dRe=fRe.toString;function Td(e){if(e!=null){try{return dRe.call(e)}catch{}try{return e+""}catch{}}return""}var hRe=/[\\^$.*+?()[\]{}|]/g,vRe=/^\[object .+?Constructor\]$/,pRe=Function.prototype,gRe=Object.prototype,mRe=pRe.toString,yRe=gRe.hasOwnProperty,bRe=RegExp("^"+mRe.call(yRe).replace(hRe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wRe(e){if(!ji(e)||cRe(e))return!1;var t=bI(e)?bRe:vRe;return t.test(Td(e))}function ERe(e,t){return e==null?void 0:e[t]}function kd(e,t){var r=ERe(e,t);return wRe(r)?r:void 0}var yM=kd(Us,"WeakMap"),x5=Object.create,_Re=function(){function e(){}return function(t){if(!ji(t))return{};if(x5)return x5(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function xRe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function WW(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var SRe=800,CRe=16,MRe=Date.now;function TRe(e){var t=0,r=0;return function(){var n=MRe(),a=CRe-(n-r);if(r=n,a>0){if(++t>=SRe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function kRe(e){return function(){return e}}var ww=function(){try{var e=kd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ARe=ww?function(e,t){return ww(e,"toString",{configurable:!0,enumerable:!1,value:kRe(t),writable:!0})}:yI,HW=TRe(ARe);function IRe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function YW(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function ORe(e){return e!==e}function LRe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function NRe(e,t,r){return t===t?LRe(e,t,r):YW(e,ORe,r)}function PRe(e,t){var r=e==null?0:e.length;return!!r&&NRe(e,t,0)>-1}var DRe=9007199254740991,RRe=/^(?:0|[1-9]\d*)$/;function t2(e,t){var r=typeof e;return t=t??DRe,!!t&&(r=="number"||r!="symbol"&&RRe.test(e))&&e>-1&&e%1==0&&e<t}function wI(e,t,r){t=="__proto__"&&ww?ww(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nm(e,t){return e===t||e!==e&&t!==t}var $Re=Object.prototype,BRe=$Re.hasOwnProperty;function EI(e,t,r){var n=e[t];(!(BRe.call(e,t)&&nm(n,r))||r===void 0&&!(t in e))&&wI(e,t,r)}function $v(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],l=void 0;l===void 0&&(l=e[s]),a?wI(r,s,l):EI(r,s,l)}return r}var S5=Math.max;function KW(e,t,r){return t=S5(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=S5(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),xRe(e,this,s)}}function XW(e,t){return HW(KW(e,t,yI),e+"")}var FRe=9007199254740991;function _I(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FRe}function Bv(e){return e!=null&&_I(e.length)&&!bI(e)}function zRe(e,t,r){if(!ji(r))return!1;var n=typeof t;return(n=="number"?Bv(r)&&t2(t,r.length):n=="string"&&t in r)?nm(r[t],e):!1}function GRe(e){return XW(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&zRe(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,i)}return t})}var jRe=Object.prototype;function xI(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||jRe;return e===r}function VRe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var URe="[object Arguments]";function C5(e){return Tl(e)&&Md(e)==URe}var qW=Object.prototype,WRe=qW.hasOwnProperty,HRe=qW.propertyIsEnumerable,r0=C5(function(){return arguments}())?C5:function(e){return Tl(e)&&WRe.call(e,"callee")&&!HRe.call(e,"callee")};function YRe(){return!1}var ZW=typeof Ao=="object"&&Ao&&!Ao.nodeType&&Ao,M5=ZW&&typeof Io=="object"&&Io&&!Io.nodeType&&Io,KRe=M5&&M5.exports===ZW,T5=KRe?Us.Buffer:void 0,XRe=T5?T5.isBuffer:void 0,n0=XRe||YRe,qRe="[object Arguments]",ZRe="[object Array]",QRe="[object Boolean]",JRe="[object Date]",e$e="[object Error]",t$e="[object Function]",r$e="[object Map]",n$e="[object Number]",a$e="[object Object]",i$e="[object RegExp]",o$e="[object Set]",s$e="[object String]",l$e="[object WeakMap]",u$e="[object ArrayBuffer]",c$e="[object DataView]",f$e="[object Float32Array]",d$e="[object Float64Array]",h$e="[object Int8Array]",v$e="[object Int16Array]",p$e="[object Int32Array]",g$e="[object Uint8Array]",m$e="[object Uint8ClampedArray]",y$e="[object Uint16Array]",b$e="[object Uint32Array]",Qn={};Qn[f$e]=Qn[d$e]=Qn[h$e]=Qn[v$e]=Qn[p$e]=Qn[g$e]=Qn[m$e]=Qn[y$e]=Qn[b$e]=!0;Qn[qRe]=Qn[ZRe]=Qn[u$e]=Qn[QRe]=Qn[c$e]=Qn[JRe]=Qn[e$e]=Qn[t$e]=Qn[r$e]=Qn[n$e]=Qn[a$e]=Qn[i$e]=Qn[o$e]=Qn[s$e]=Qn[l$e]=!1;function w$e(e){return Tl(e)&&_I(e.length)&&!!Qn[Md(e)]}function SI(e){return function(t){return e(t)}}var QW=typeof Ao=="object"&&Ao&&!Ao.nodeType&&Ao,gg=QW&&typeof Io=="object"&&Io&&!Io.nodeType&&Io,E$e=gg&&gg.exports===QW,Xx=E$e&&jW.process,hv=function(){try{var e=gg&&gg.require&&gg.require("util").types;return e||Xx&&Xx.binding&&Xx.binding("util")}catch{}}(),k5=hv&&hv.isTypedArray,CI=k5?SI(k5):w$e,_$e=Object.prototype,x$e=_$e.hasOwnProperty;function JW(e,t){var r=Gi(e),n=!r&&r0(e),a=!r&&!n&&n0(e),i=!r&&!n&&!a&&CI(e),o=r||n||a||i,s=o?VRe(e.length,String):[],l=s.length;for(var u in e)(t||x$e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||t2(u,l)))&&s.push(u);return s}function eH(e,t){return function(r){return e(t(r))}}var S$e=eH(Object.keys,Object),C$e=Object.prototype,M$e=C$e.hasOwnProperty;function T$e(e){if(!xI(e))return S$e(e);var t=[];for(var r in Object(e))M$e.call(e,r)&&r!="constructor"&&t.push(r);return t}function am(e){return Bv(e)?JW(e):T$e(e)}function k$e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var A$e=Object.prototype,I$e=A$e.hasOwnProperty;function O$e(e){if(!ji(e))return k$e(e);var t=xI(e),r=[];for(var n in e)n=="constructor"&&(t||!I$e.call(e,n))||r.push(n);return r}function im(e){return Bv(e)?JW(e,!0):O$e(e)}var L$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N$e=/^\w*$/;function MI(e,t){if(Gi(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||e2(e)?!0:N$e.test(e)||!L$e.test(e)||t!=null&&e in Object(t)}var a0=kd(Object,"create");function P$e(){this.__data__=a0?a0(null):{},this.size=0}function D$e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var R$e="__lodash_hash_undefined__",$$e=Object.prototype,B$e=$$e.hasOwnProperty;function F$e(e){var t=this.__data__;if(a0){var r=t[e];return r===R$e?void 0:r}return B$e.call(t,e)?t[e]:void 0}var z$e=Object.prototype,G$e=z$e.hasOwnProperty;function j$e(e){var t=this.__data__;return a0?t[e]!==void 0:G$e.call(t,e)}var V$e="__lodash_hash_undefined__";function U$e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a0&&t===void 0?V$e:t,this}function fd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fd.prototype.clear=P$e;fd.prototype.delete=D$e;fd.prototype.get=F$e;fd.prototype.has=j$e;fd.prototype.set=U$e;function W$e(){this.__data__=[],this.size=0}function r2(e,t){for(var r=e.length;r--;)if(nm(e[r][0],t))return r;return-1}var H$e=Array.prototype,Y$e=H$e.splice;function K$e(e){var t=this.__data__,r=r2(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Y$e.call(t,r,1),--this.size,!0}function X$e(e){var t=this.__data__,r=r2(t,e);return r<0?void 0:t[r][1]}function q$e(e){return r2(this.__data__,e)>-1}function Z$e(e,t){var r=this.__data__,n=r2(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Iu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Iu.prototype.clear=W$e;Iu.prototype.delete=K$e;Iu.prototype.get=X$e;Iu.prototype.has=q$e;Iu.prototype.set=Z$e;var i0=kd(Us,"Map");function Q$e(){this.size=0,this.__data__={hash:new fd,map:new(i0||Iu),string:new fd}}function J$e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function n2(e,t){var r=e.__data__;return J$e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function e4e(e){var t=n2(this,e).delete(e);return this.size-=t?1:0,t}function t4e(e){return n2(this,e).get(e)}function r4e(e){return n2(this,e).has(e)}function n4e(e,t){var r=n2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Ou(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ou.prototype.clear=Q$e;Ou.prototype.delete=e4e;Ou.prototype.get=t4e;Ou.prototype.has=r4e;Ou.prototype.set=n4e;var a4e="Expected a function";function a2(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(a4e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(a2.Cache||Ou),r}a2.Cache=Ou;var i4e=500;function o4e(e){var t=a2(e,function(n){return r.size===i4e&&r.clear(),n}),r=t.cache;return t}var s4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l4e=/\\(\\)?/g,u4e=o4e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(s4e,function(r,n,a,i){t.push(a?i.replace(l4e,"$1"):n||r)}),t});function c4e(e){return e==null?"":UW(e)}function Fv(e,t){return Gi(e)?e:MI(e,t)?[e]:u4e(c4e(e))}var f4e=1/0;function zv(e){if(typeof e=="string"||e2(e))return e;var t=e+"";return t=="0"&&1/e==-f4e?"-0":t}function i2(e,t){t=Fv(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[zv(t[r++])];return r&&r==n?e:void 0}function ea(e,t,r){var n=e==null?void 0:i2(e,t);return n===void 0?r:n}function TI(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var A5=ls?ls.isConcatSpreadable:void 0;function d4e(e){return Gi(e)||r0(e)||!!(A5&&e&&e[A5])}function om(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=d4e),a=[];++i<o;){var s=e[i];t>0&&r(s)?t>1?om(s,t-1,r,n,a):TI(a,s):n||(a[a.length]=s)}return a}function tH(e){var t=e==null?0:e.length;return t?om(e,1):[]}function rH(e){return HW(KW(e,void 0,tH),e+"")}var kI=eH(Object.getPrototypeOf,Object),h4e="[object Object]",v4e=Function.prototype,p4e=Object.prototype,nH=v4e.toString,g4e=p4e.hasOwnProperty,m4e=nH.call(Object);function aH(e){if(!Tl(e)||Md(e)!=h4e)return!1;var t=kI(e);if(t===null)return!0;var r=g4e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nH.call(r)==m4e}function y4e(e,t,r){var n=-1,a=e.length;r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}function dd(){if(!arguments.length)return[];var e=arguments[0];return Gi(e)?e:[e]}function b4e(){this.__data__=new Iu,this.size=0}function w4e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function E4e(e){return this.__data__.get(e)}function _4e(e){return this.__data__.has(e)}var x4e=200;function S4e(e,t){var r=this.__data__;if(r instanceof Iu){var n=r.__data__;if(!i0||n.length<x4e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ou(n)}return r.set(e,t),this.size=r.size,this}function Ds(e){var t=this.__data__=new Iu(e);this.size=t.size}Ds.prototype.clear=b4e;Ds.prototype.delete=w4e;Ds.prototype.get=E4e;Ds.prototype.has=_4e;Ds.prototype.set=S4e;function C4e(e,t){return e&&$v(t,am(t),e)}function M4e(e,t){return e&&$v(t,im(t),e)}var iH=typeof Ao=="object"&&Ao&&!Ao.nodeType&&Ao,I5=iH&&typeof Io=="object"&&Io&&!Io.nodeType&&Io,T4e=I5&&I5.exports===iH,O5=T4e?Us.Buffer:void 0,L5=O5?O5.allocUnsafe:void 0;function oH(e,t){if(t)return e.slice();var r=e.length,n=L5?L5(r):new e.constructor(r);return e.copy(n),n}function k4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function sH(){return[]}var A4e=Object.prototype,I4e=A4e.propertyIsEnumerable,N5=Object.getOwnPropertySymbols,AI=N5?function(e){return e==null?[]:(e=Object(e),k4e(N5(e),function(t){return I4e.call(e,t)}))}:sH;function O4e(e,t){return $v(e,AI(e),t)}var L4e=Object.getOwnPropertySymbols,lH=L4e?function(e){for(var t=[];e;)TI(t,AI(e)),e=kI(e);return t}:sH;function N4e(e,t){return $v(e,lH(e),t)}function uH(e,t,r){var n=t(e);return Gi(e)?n:TI(n,r(e))}function bM(e){return uH(e,am,AI)}function cH(e){return uH(e,im,lH)}var wM=kd(Us,"DataView"),EM=kd(Us,"Promise"),_M=kd(Us,"Set"),P5="[object Map]",P4e="[object Object]",D5="[object Promise]",R5="[object Set]",$5="[object WeakMap]",B5="[object DataView]",D4e=Td(wM),R4e=Td(i0),$4e=Td(EM),B4e=Td(_M),F4e=Td(yM),Ts=Md;(wM&&Ts(new wM(new ArrayBuffer(1)))!=B5||i0&&Ts(new i0)!=P5||EM&&Ts(EM.resolve())!=D5||_M&&Ts(new _M)!=R5||yM&&Ts(new yM)!=$5)&&(Ts=function(e){var t=Md(e),r=t==P4e?e.constructor:void 0,n=r?Td(r):"";if(n)switch(n){case D4e:return B5;case R4e:return P5;case $4e:return D5;case B4e:return R5;case F4e:return $5}return t});var z4e=Object.prototype,G4e=z4e.hasOwnProperty;function j4e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&G4e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ew=Us.Uint8Array;function II(e){var t=new e.constructor(e.byteLength);return new Ew(t).set(new Ew(e)),t}function V4e(e,t){var r=t?II(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var U4e=/\w*$/;function W4e(e){var t=new e.constructor(e.source,U4e.exec(e));return t.lastIndex=e.lastIndex,t}var F5=ls?ls.prototype:void 0,z5=F5?F5.valueOf:void 0;function H4e(e){return z5?Object(z5.call(e)):{}}function fH(e,t){var r=t?II(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Y4e="[object Boolean]",K4e="[object Date]",X4e="[object Map]",q4e="[object Number]",Z4e="[object RegExp]",Q4e="[object Set]",J4e="[object String]",e5e="[object Symbol]",t5e="[object ArrayBuffer]",r5e="[object DataView]",n5e="[object Float32Array]",a5e="[object Float64Array]",i5e="[object Int8Array]",o5e="[object Int16Array]",s5e="[object Int32Array]",l5e="[object Uint8Array]",u5e="[object Uint8ClampedArray]",c5e="[object Uint16Array]",f5e="[object Uint32Array]";function d5e(e,t,r){var n=e.constructor;switch(t){case t5e:return II(e);case Y4e:case K4e:return new n(+e);case r5e:return V4e(e,r);case n5e:case a5e:case i5e:case o5e:case s5e:case l5e:case u5e:case c5e:case f5e:return fH(e,r);case X4e:return new n;case q4e:case J4e:return new n(e);case Z4e:return W4e(e);case Q4e:return new n;case e5e:return H4e(e)}}function dH(e){return typeof e.constructor=="function"&&!xI(e)?_Re(kI(e)):{}}var h5e="[object Map]";function v5e(e){return Tl(e)&&Ts(e)==h5e}var G5=hv&&hv.isMap,p5e=G5?SI(G5):v5e,g5e="[object Set]";function m5e(e){return Tl(e)&&Ts(e)==g5e}var j5=hv&&hv.isSet,y5e=j5?SI(j5):m5e,b5e=1,w5e=2,E5e=4,hH="[object Arguments]",_5e="[object Array]",x5e="[object Boolean]",S5e="[object Date]",C5e="[object Error]",vH="[object Function]",M5e="[object GeneratorFunction]",T5e="[object Map]",k5e="[object Number]",pH="[object Object]",A5e="[object RegExp]",I5e="[object Set]",O5e="[object String]",L5e="[object Symbol]",N5e="[object WeakMap]",P5e="[object ArrayBuffer]",D5e="[object DataView]",R5e="[object Float32Array]",$5e="[object Float64Array]",B5e="[object Int8Array]",F5e="[object Int16Array]",z5e="[object Int32Array]",G5e="[object Uint8Array]",j5e="[object Uint8ClampedArray]",V5e="[object Uint16Array]",U5e="[object Uint32Array]",Hn={};Hn[hH]=Hn[_5e]=Hn[P5e]=Hn[D5e]=Hn[x5e]=Hn[S5e]=Hn[R5e]=Hn[$5e]=Hn[B5e]=Hn[F5e]=Hn[z5e]=Hn[T5e]=Hn[k5e]=Hn[pH]=Hn[A5e]=Hn[I5e]=Hn[O5e]=Hn[L5e]=Hn[G5e]=Hn[j5e]=Hn[V5e]=Hn[U5e]=!0;Hn[C5e]=Hn[vH]=Hn[N5e]=!1;function Fh(e,t,r,n,a,i){var o,s=t&b5e,l=t&w5e,u=t&E5e;if(r&&(o=a?r(e,n,a,i):r(e)),o!==void 0)return o;if(!ji(e))return e;var c=Gi(e);if(c){if(o=j4e(e),!s)return WW(e,o)}else{var f=Ts(e),d=f==vH||f==M5e;if(n0(e))return oH(e,s);if(f==pH||f==hH||d&&!a){if(o=l||d?{}:dH(e),!s)return l?N4e(e,M4e(o,e)):O4e(e,C4e(o,e))}else{if(!Hn[f])return a?e:{};o=d5e(e,f,s)}}i=new Ds;var h=i.get(e);if(h)return h;i.set(e,o),y5e(e)?e.forEach(function(m){o.add(Fh(m,t,r,m,e,i))}):p5e(e)&&e.forEach(function(m,g){o.set(g,Fh(m,t,r,g,e,i))});var v=u?l?cH:bM:l?im:am,p=c?void 0:v(e);return IRe(p||e,function(m,g){p&&(g=m,m=e[g]),EI(o,g,Fh(m,t,r,g,e,i))}),o}var W5e=4;function V5(e){return Fh(e,W5e)}var H5e=1,Y5e=4;function _w(e){return Fh(e,H5e|Y5e)}var K5e="__lodash_hash_undefined__";function X5e(e){return this.__data__.set(e,K5e),this}function q5e(e){return this.__data__.has(e)}function xw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ou;++t<r;)this.add(e[t])}xw.prototype.add=xw.prototype.push=X5e;xw.prototype.has=q5e;function Z5e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Q5e(e,t){return e.has(t)}var J5e=1,eBe=2;function gH(e,t,r,n,a,i){var o=r&J5e,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=r&eBe?new xw:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],p=t[f];if(n)var m=o?n(p,v,f,t,e,i):n(v,p,f,e,t,i);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!Z5e(t,function(g,b){if(!Q5e(h,b)&&(v===g||a(v,g,r,n,i)))return h.push(b)})){d=!1;break}}else if(!(v===p||a(v,p,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function tBe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function rBe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var nBe=1,aBe=2,iBe="[object Boolean]",oBe="[object Date]",sBe="[object Error]",lBe="[object Map]",uBe="[object Number]",cBe="[object RegExp]",fBe="[object Set]",dBe="[object String]",hBe="[object Symbol]",vBe="[object ArrayBuffer]",pBe="[object DataView]",U5=ls?ls.prototype:void 0,qx=U5?U5.valueOf:void 0;function gBe(e,t,r,n,a,i,o){switch(r){case pBe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vBe:return!(e.byteLength!=t.byteLength||!i(new Ew(e),new Ew(t)));case iBe:case oBe:case uBe:return nm(+e,+t);case sBe:return e.name==t.name&&e.message==t.message;case cBe:case dBe:return e==t+"";case lBe:var s=tBe;case fBe:var l=n&nBe;if(s||(s=rBe),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=aBe,o.set(e,t);var c=gH(s(e),s(t),n,a,i,o);return o.delete(e),c;case hBe:if(qx)return qx.call(e)==qx.call(t)}return!1}var mBe=1,yBe=Object.prototype,bBe=yBe.hasOwnProperty;function wBe(e,t,r,n,a,i){var o=r&mBe,s=bM(e),l=s.length,u=bM(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:bBe.call(t,d)))return!1}var h=i.get(e),v=i.get(t);if(h&&v)return h==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var m=o;++f<l;){d=s[f];var g=e[d],b=t[d];if(n)var y=o?n(b,g,d,t,e,i):n(g,b,d,e,t,i);if(!(y===void 0?g===b||a(g,b,r,n,i):y)){p=!1;break}m||(m=d=="constructor")}if(p&&!m){var w=e.constructor,_=t.constructor;w!=_&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return i.delete(e),i.delete(t),p}var EBe=1,W5="[object Arguments]",H5="[object Array]",e1="[object Object]",_Be=Object.prototype,Y5=_Be.hasOwnProperty;function xBe(e,t,r,n,a,i){var o=Gi(e),s=Gi(t),l=o?H5:Ts(e),u=s?H5:Ts(t);l=l==W5?e1:l,u=u==W5?e1:u;var c=l==e1,f=u==e1,d=l==u;if(d&&n0(e)){if(!n0(t))return!1;o=!0,c=!1}if(d&&!c)return i||(i=new Ds),o||CI(e)?gH(e,t,r,n,a,i):gBe(e,t,l,r,n,a,i);if(!(r&EBe)){var h=c&&Y5.call(e,"__wrapped__"),v=f&&Y5.call(t,"__wrapped__");if(h||v){var p=h?e.value():e,m=v?t.value():t;return i||(i=new Ds),a(p,m,r,n,i)}}return d?(i||(i=new Ds),wBe(e,t,r,n,a,i)):!1}function o2(e,t,r,n,a){return e===t?!0:e==null||t==null||!Tl(e)&&!Tl(t)?e!==e&&t!==t:xBe(e,t,r,n,o2,a)}var SBe=1,CBe=2;function MBe(e,t,r,n){var a=r.length,i=a;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var s=o[0],l=e[s],u=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{var c=new Ds,f;if(!(f===void 0?o2(u,l,SBe|CBe,n,c):f))return!1}}return!0}function mH(e){return e===e&&!ji(e)}function TBe(e){for(var t=am(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,mH(a)]}return t}function yH(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function kBe(e){var t=TBe(e);return t.length==1&&t[0][2]?yH(t[0][0],t[0][1]):function(r){return r===e||MBe(r,e,t)}}function ABe(e,t){return e!=null&&t in Object(e)}function IBe(e,t,r){t=Fv(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=zv(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&_I(a)&&t2(o,a)&&(Gi(e)||r0(e)))}function bH(e,t){return e!=null&&IBe(e,t,ABe)}var OBe=1,LBe=2;function NBe(e,t){return MI(e)&&mH(t)?yH(zv(e),t):function(r){var n=ea(r,e);return n===void 0&&n===t?bH(r,e):o2(t,n,OBe|LBe)}}function PBe(e){return function(t){return t==null?void 0:t[e]}}function DBe(e){return function(t){return i2(t,e)}}function RBe(e){return MI(e)?PBe(zv(e)):DBe(e)}function wH(e){return typeof e=="function"?e:e==null?yI:typeof e=="object"?Gi(e)?NBe(e[0],e[1]):kBe(e):RBe(e)}function $Be(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[++a];if(r(i[l],l,i)===!1)break}return t}}var EH=$Be();function BBe(e,t){return e&&EH(e,t,am)}function FBe(e,t){return function(r,n){if(r==null)return r;if(!Bv(r))return e(r,n);for(var a=r.length,i=-1,o=Object(r);++i<a&&n(o[i],i,o)!==!1;);return r}}var zBe=FBe(BBe),Zx=function(){return Us.Date.now()},GBe="Expected a function",jBe=Math.max,VBe=Math.min;function uo(e,t,r){var n,a,i,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(GBe);t=E5(t)||0,ji(r)&&(c=!!r.leading,f="maxWait"in r,i=f?jBe(E5(r.maxWait)||0,t):i,d="trailing"in r?!!r.trailing:d);function h(x){var S=n,C=a;return n=a=void 0,u=x,o=e.apply(C,S),o}function v(x){return u=x,s=setTimeout(g,t),c?h(x):o}function p(x){var S=x-l,C=x-u,T=t-S;return f?VBe(T,i-C):T}function m(x){var S=x-l,C=x-u;return l===void 0||S>=t||S<0||f&&C>=i}function g(){var x=Zx();if(m(x))return b(x);s=setTimeout(g,p(x))}function b(x){return s=void 0,d&&n?h(x):(n=a=void 0,o)}function y(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function w(){return s===void 0?o:b(Zx())}function _(){var x=Zx(),S=m(x);if(n=arguments,a=this,l=x,S){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(g,t),h(l)}return s===void 0&&(s=setTimeout(g,t)),o}return _.cancel=y,_.flush=w,_}function xM(e,t,r){(r!==void 0&&!nm(e[t],r)||r===void 0&&!(t in e))&&wI(e,t,r)}function _H(e){return Tl(e)&&Bv(e)}function SM(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function UBe(e){return $v(e,im(e))}function WBe(e,t,r,n,a,i,o){var s=SM(e,r),l=SM(t,r),u=o.get(l);if(u){xM(e,r,u);return}var c=i?i(s,l,r+"",e,t,o):void 0,f=c===void 0;if(f){var d=Gi(l),h=!d&&n0(l),v=!d&&!h&&CI(l);c=l,d||h||v?Gi(s)?c=s:_H(s)?c=WW(s):h?(f=!1,c=oH(l,!0)):v?(f=!1,c=fH(l,!0)):c=[]:aH(l)||r0(l)?(c=s,r0(s)?c=UBe(s):(!ji(s)||bI(s))&&(c=dH(l))):f=!1}f&&(o.set(l,c),a(c,l,n,i,o),o.delete(l)),xM(e,r,c)}function xH(e,t,r,n,a){e!==t&&EH(t,function(i,o){if(a||(a=new Ds),ji(i))WBe(e,t,o,r,xH,n,a);else{var s=n?n(SM(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),xM(e,o,s)}},im)}function HBe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function SH(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=n-1;return YW(e,wH(t),a,!0)}function YBe(e,t){var r=-1,n=Bv(e)?Array(e.length):[];return zBe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}function KBe(e,t){var r=Gi(e)?mI:YBe;return r(e,wH(t))}function XBe(e,t){return om(KBe(e,t),1)}var qBe=1/0;function ZBe(e){var t=e==null?0:e.length;return t?om(e,qBe):[]}function Sw(e){for(var t=-1,r=e==null?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n}function QBe(e,t){return t.length<2?e:i2(e,y4e(t,0,-1))}function ki(e,t){return o2(e,t)}function Ua(e){return e==null}function CH(e){return e===void 0}var JBe=GRe(function(e,t,r){xH(e,t,r)});function e6e(e,t){return t=Fv(t,e),e=QBe(e,t),e==null||delete e[zv(HBe(t))]}function t6e(e){return aH(e)?void 0:e}var r6e=1,n6e=2,a6e=4,i6e=rH(function(e,t){var r={};if(e==null)return r;var n=!1;t=mI(t,function(i){return i=Fv(i,e),n||(n=i.length>1),i}),$v(e,cH(e),r),n&&(r=Fh(r,r6e|n6e|a6e,t6e));for(var a=t.length;a--;)e6e(r,t[a]);return r});function MH(e,t,r,n){if(!ji(e))return e;t=Fv(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var l=zv(t[a]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(a!=o){var c=s[l];u=void 0,u===void 0&&(u=ji(c)?c:t2(t[a+1])?[]:{})}EI(s,l,u),s=s[l]}return e}function o6e(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var o=t[n],s=i2(e,o);r(s,o)&&MH(i,Fv(o,e),s)}return i}function s6e(e,t){return o6e(e,t,function(r,n){return bH(e,n)})}var su=rH(function(e,t){return e==null?{}:s6e(e,t)});function l6e(e,t,r){return e==null?e:MH(e,t,r)}var u6e="Expected a function";function qf(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(u6e);return ji(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),uo(e,t,{leading:n,maxWait:t,trailing:a})}function c6e(e,t,r){var n=-1,a=PRe,i=e.length,o=[],s=o;s=o;e:for(;++n<i;){var l=e[n],u=l;if(l=l!==0?l:0,u===u){for(var c=s.length;c--;)if(s[c]===u)continue e;o.push(l)}else a(s,u)||(s!==o&&s.push(u),o.push(l))}return o}var Qx=XW(function(e){return c6e(om(e,1,_H,!0))});const ca=e=>e===void 0,fa=e=>typeof e=="boolean",Qt=e=>typeof e=="number",Qo=e=>!e&&e!==0||_t(e)&&e.length===0||Sr(e)&&!Object.keys(e).length,us=e=>typeof Element>"u"?!1:e instanceof Element,hd=e=>Ua(e),f6e=e=>nr(e)?!Number.isNaN(Number(e)):!1,s2=e=>e===window,Pc=e=>Ur?window.requestAnimationFrame(e):setTimeout(e,16),vd=e=>Ur?window.cancelAnimationFrame(e):clearTimeout(e),OI=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),fl=e=>_0(e),vv=e=>Object.keys(e),d6e=e=>Object.entries(e),q1=(e,t,r)=>({get value(){return ea(e,t,r)},set value(n){l6e(e,t,n)}});class h6e extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Ta(e,t){throw new h6e(`[${e}] ${t}`)}const TH=(e="")=>e.split(" ").filter(t=>!!t.trim()),ns=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Jo=(e,t)=>{!e||!t.trim()||e.classList.add(...TH(t))},Ai=(e,t)=>{!e||!t.trim()||e.classList.remove(...TH(t))},uc=(e,t)=>{var r;if(!Ur||!e||!t)return"";let n=is(t);n==="float"&&(n="cssFloat");try{const a=e.style[n];if(a)return a;const i=(r=document.defaultView)==null?void 0:r.getComputedStyle(e,"");return i?i[n]:""}catch{return e.style[n]}};function Xn(e,t="px"){if(!e)return"";if(Qt(e)||f6e(e))return`${e}${t}`;if(nr(e))return e}const v6e=(e,t)=>{if(!Ur)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],n=uc(e,r);return["scroll","auto","overlay"].some(a=>n.includes(a))},LI=(e,t)=>{if(!Ur)return;let r=e;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(v6e(r,t))return r;r=r.parentNode}return r};let t1;const kH=e=>{var t;if(!Ur)return 0;if(t1!==void 0)return t1;const r=document.createElement("div");r.className=`${e}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const n=r.offsetWidth;r.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",r.appendChild(a);const i=a.offsetWidth;return(t=r.parentNode)==null||t.removeChild(r),t1=n-i,t1};function AH(e,t){if(!Ur)return;if(!t){e.scrollTop=0;return}const r=[];let n=t.offsetParent;for(;n!==null&&e!==n&&e.contains(n);)r.push(n),n=n.offsetParent;const a=t.offsetTop+r.reduce((l,u)=>l+u.offsetTop,0),i=a+t.offsetHeight,o=e.scrollTop,s=o+e.clientHeight;a<o?e.scrollTop=a:i>s&&(e.scrollTop=i-e.clientHeight)}function p6e(e,t,r,n,a){const i=Date.now();let o;const s=()=>{const u=Date.now()-i,c=z3e(u>n?n:u,t,r,n);s2(e)?e.scrollTo(window.pageXOffset,c):e.scrollTop=c,u<n?o=Pc(s):typeof a=="function"&&a()};return s(),()=>{o&&vd(o)}}const K5=(e,t)=>s2(t)?e.ownerDocument.documentElement:t,X5=e=>s2(e)?window.scrollY:e.scrollTop,r1=e=>{if(!Ur||e==="")return null;if(nr(e))try{return document.querySelector(e)}catch{return null}return e};/*! Element Plus Icons Vue v2.3.1 */var g6e=J({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Lu=g6e,m6e=J({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Dc=m6e,y6e=J({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Fi=y6e,b6e=J({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),NI=b6e,w6e=J({name:"Back",__name:"back",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Z("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),E6e=w6e,_6e=J({name:"Calendar",__name:"calendar",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),x6e=_6e,S6e=J({name:"CaretRight",__name:"caret-right",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),IH=S6e,C6e=J({name:"CaretTop",__name:"caret-top",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),M6e=C6e,T6e=J({name:"Check",__name:"check",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),sm=T6e,k6e=J({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),A6e=k6e,I6e=J({name:"CircleCheck",__name:"circle-check",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),PI=I6e,O6e=J({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),DI=O6e,L6e=J({name:"CircleClose",__name:"circle-close",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Kc=L6e,N6e=J({name:"Clock",__name:"clock",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Z("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Z("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),OH=N6e,P6e=J({name:"Close",__name:"close",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),$s=P6e,D6e=J({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),pv=D6e,R6e=J({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),gv=R6e,$6e=J({name:"Delete",__name:"delete",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),B6e=$6e,F6e=J({name:"Document",__name:"document",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),z6e=F6e,G6e=J({name:"FullScreen",__name:"full-screen",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),j6e=G6e,V6e=J({name:"Hide",__name:"hide",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Z("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),U6e=V6e,W6e=J({name:"InfoFilled",__name:"info-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),RI=W6e,H6e=J({name:"Loading",__name:"loading",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Xc=H6e,Y6e=J({name:"Minus",__name:"minus",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),K6e=Y6e,X6e=J({name:"MoreFilled",__name:"more-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),q5=X6e,q6e=J({name:"More",__name:"more",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),Z6e=q6e,Q6e=J({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),J6e=Q6e,eFe=J({name:"Plus",__name:"plus",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),LH=eFe,tFe=J({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),rFe=tFe,nFe=J({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),aFe=nFe,iFe=J({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),oFe=iFe,sFe=J({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),lFe=sFe,uFe=J({name:"Search",__name:"search",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),cFe=uFe,fFe=J({name:"SortDown",__name:"sort-down",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),dFe=fFe,hFe=J({name:"SortUp",__name:"sort-up",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),vFe=hFe,pFe=J({name:"StarFilled",__name:"star-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),n1=pFe,gFe=J({name:"Star",__name:"star",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),mFe=gFe,yFe=J({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),NH=yFe,bFe=J({name:"View",__name:"view",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),wFe=bFe,EFe=J({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),l2=EFe,_Fe=J({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),PH=_Fe,xFe=J({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,r)=>(F(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Z("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),SFe=xFe;const DH="__epPropKey",ve=e=>e,CFe=e=>Sr(e)&&!!e[DH],Ws=(e,t)=>{if(!Sr(e)||CFe(e))return e;const{values:r,required:n,default:a,type:i,validator:o}=e,l={type:i,required:!!n,validator:r||o?u=>{let c=!1,f=[];if(r&&(f=Array.from(r),Xr(e,"default")&&f.push(a),c||(c=f.includes(u))),o&&(c||(c=o(u))),!c&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");Qee(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[DH]:!0};return Xr(e,"default")&&(l.default=a),l},it=e=>Sw(Object.entries(e).map(([t,r])=>[t,Ws(r,t)])),Cn=ve([String,Object,Function]),$I={Close:$s},BI={Close:$s,SuccessFilled:NH,InfoFilled:RI,WarningFilled:l2,CircleCloseFilled:DI},Rc={success:NH,warning:l2,error:DI,info:RI},FI={validating:Xc,success:PI,error:Kc},_r=(e,t)=>{if(e.install=r=>{for(const n of[e,...Object.values(t??{})])r.component(n.name,n)},t)for(const[r,n]of Object.entries(t))e[r]=n;return e},RH=(e,t)=>(e.install=r=>{e._context=r._context,r.config.globalProperties[t]=e},e),MFe=(e,t)=>(e.install=r=>{r.directive(t,e)},e),jn=e=>(e.install=mn,e),u2=(...e)=>t=>{e.forEach(r=>{Jt(r)?r(t):r.value=t})},Kt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},TFe=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Jx=["sun","mon","tue","wed","thu","fri","sat"],Mr="update:modelValue",Nn="change",zi="input",Z5=Symbol("INSTALLED_KEY"),Bl=["","default","small","large"],$H=e=>["",...Bl].includes(e);var qo=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(qo||{});function CM(e){return Rn(e)&&e.type===zt}function kFe(e){return Rn(e)&&e.type===Bi}function AFe(e){return Rn(e)&&!CM(e)&&!kFe(e)}const IFe=e=>{if(!Rn(e))return{};const t=e.props||{},r=(Rn(e.type)?e.type.props:void 0)||{},n={};return Object.keys(r).forEach(a=>{Xr(r[a],"default")&&(n[a]=r[a].default)}),Object.keys(t).forEach(a=>{n[is(a)]=t[a]}),n},OFe=e=>{if(!_t(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},Ec=e=>{const t=_t(e)?e:[e],r=[];return t.forEach(n=>{var a;_t(n)?r.push(...Ec(n)):Rn(n)&&_t(n.children)?r.push(...Ec(n.children)):(r.push(n),Rn(n)&&((a=n.component)!=null&&a.subTree)&&r.push(...Ec(n.component.subTree)))}),r},Q5=e=>[...new Set(e)],xo=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],zI=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Fn=e=>e;function LFe(e){let t=0;const r=(...n)=>{t&&vd(t),t=Pc(()=>{e(...n),t=0})};return r.cancel=()=>{vd(t),t=0},r}const NFe=["class","style"],PFe=/^on[A-Z]/,GI=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r}=e,n=$(()=>((r==null?void 0:r.value)||[]).concat(NFe)),a=Er();return $(a?()=>{var i;return Sw(Object.entries((i=a.proxy)==null?void 0:i.$attrs).filter(([o])=>!n.value.includes(o)&&!(t&&PFe.test(o))))}:()=>({}))},du=({from:e,replacement:t,scope:r,version:n,ref:a,type:i="API"},o)=>{He(()=>E(o),s=>{},{immediate:!0})},BH=(e,t,r,n)=>{let a={offsetX:0,offsetY:0};const i=l=>{const u=l.clientX,c=l.clientY,{offsetX:f,offsetY:d}=a,h=e.value.getBoundingClientRect(),v=h.left,p=h.top,m=h.width,g=h.height,b=document.documentElement.clientWidth,y=document.documentElement.clientHeight,w=-v+f,_=-p+d,x=b-v-m+f,S=y-p-g+d,C=M=>{let k=f+M.clientX-u,A=d+M.clientY-c;n!=null&&n.value||(k=Math.min(Math.max(k,w),x),A=Math.min(Math.max(A,_),S)),a={offsetX:k,offsetY:A},e.value&&(e.value.style.transform=`translate(${Xn(k)}, ${Xn(A)})`)},T=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",T)},o=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},s=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)};vr(()=>{gi(()=>{r.value?o():s()})}),On(()=>{s()})};var DFe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const RFe=e=>(t,r)=>$Fe(t,r,E(e)),$Fe=(e,t,r)=>ea(r,e,e).replace(/\{(\w+)\}/g,(n,a)=>{var i;return`${(i=t==null?void 0:t[a])!=null?i:`{${a}}`}`}),BFe=e=>{const t=$(()=>E(e).name),r=Dn(e)?e:W(e);return{lang:t,locale:r,t:RFe(e)}},FH=Symbol("localeContextKey"),Zr=e=>{const t=e||At(FH,W());return BFe($(()=>t.value||DFe))},mg="el",FFe="is-",yf=(e,t,r,n,a)=>{let i=`${e}-${t}`;return r&&(i+=`-${r}`),n&&(i+=`__${n}`),a&&(i+=`--${a}`),i},zH=Symbol("namespaceContextKey"),jI=e=>{const t=e||(Er()?At(zH,W(mg)):W(mg));return $(()=>E(t)||mg)},Ze=(e,t)=>{const r=jI(t);return{namespace:r,b:(p="")=>yf(r.value,e,p,"",""),e:p=>p?yf(r.value,e,"",p,""):"",m:p=>p?yf(r.value,e,"","",p):"",be:(p,m)=>p&&m?yf(r.value,e,p,m,""):"",em:(p,m)=>p&&m?yf(r.value,e,"",p,m):"",bm:(p,m)=>p&&m?yf(r.value,e,p,"",m):"",bem:(p,m,g)=>p&&m&&g?yf(r.value,e,p,m,g):"",is:(p,...m)=>{const g=m.length>=1?m[0]:!0;return p&&g?`${FFe}${p}`:""},cssVar:p=>{const m={};for(const g in p)p[g]&&(m[`--${r.value}-${g}`]=p[g]);return m},cssVarName:p=>`--${r.value}-${p}`,cssVarBlock:p=>{const m={};for(const g in p)p[g]&&(m[`--${r.value}-${e}-${g}`]=p[g]);return m},cssVarBlockName:p=>`--${r.value}-${e}-${p}`}},VI=(e,t={})=>{Dn(e)||Ta("[useLockscreen]","You need to pass a ref param to this function");const r=t.ns||Ze("popup"),n=dF(()=>r.bm("parent","hidden"));if(!Ur||ns(document.body,n.value))return;let a=0,i=!1,o="0";const s=()=>{setTimeout(()=>{Ai(document==null?void 0:document.body,n.value),i&&document&&(document.body.style.width=o)},200)};He(e,l=>{if(!l){s();return}i=!ns(document.body,n.value),i&&(o=document.body.style.width),a=kH(r.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=uc(document.body,"overflowY");a>0&&(u||c==="scroll")&&i&&(document.body.style.width=`calc(100% - ${a}px)`),Jo(document.body,n.value)}),Z6(()=>s())},zFe=Ws({type:ve(Boolean),default:null}),GFe=Ws({type:ve(Function)}),GH=e=>{const t=`update:${e}`,r=`onUpdate:${e}`,n=[t],a={[e]:zFe,[r]:GFe};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const d=Er(),{emit:h}=d,v=d.props,p=$(()=>Jt(v[r])),m=$(()=>v[e]===null),g=S=>{o.value!==!0&&(o.value=!0,s&&(s.value=S),Jt(c)&&c(S))},b=S=>{o.value!==!1&&(o.value=!1,s&&(s.value=S),Jt(f)&&f(S))},y=S=>{if(v.disabled===!0||Jt(u)&&!u())return;const C=p.value&&Ur;C&&h(t,!0),(m.value||!C)&&g(S)},w=S=>{if(v.disabled===!0||!Ur)return;const C=p.value&&Ur;C&&h(t,!1),(m.value||!C)&&b(S)},_=S=>{fa(S)&&(v.disabled&&S?p.value&&h(t,!1):o.value!==S&&(S?g():b()))},x=()=>{o.value?w():y()};return He(()=>v[e],_),l&&d.appContext.config.globalProperties.$route!==void 0&&He(()=>({...d.proxy.$route}),()=>{l.value&&o.value&&w()}),vr(()=>{_(v[e])}),{hide:w,show:y,toggle:x,hasUpdateHandler:p}},useModelToggleProps:a,useModelToggleEmits:n}};GH("modelValue");const jH=e=>{const t=Er();return $(()=>{var r,n;return(n=(r=t==null?void 0:t.proxy)==null?void 0:r.$props)==null?void 0:n[e]})};var no="top",cs="bottom",fs="right",ao="left",UI="auto",lm=[no,cs,fs,ao],mv="start",o0="end",jFe="clippingParents",VH="viewport",kp="popper",VFe="reference",J5=lm.reduce(function(e,t){return e.concat([t+"-"+mv,t+"-"+o0])},[]),Ad=[].concat(lm,[UI]).reduce(function(e,t){return e.concat([t,t+"-"+mv,t+"-"+o0])},[]),UFe="beforeRead",WFe="read",HFe="afterRead",YFe="beforeMain",KFe="main",XFe="afterMain",qFe="beforeWrite",ZFe="write",QFe="afterWrite",JFe=[UFe,WFe,HFe,YFe,KFe,XFe,qFe,ZFe,QFe];function kl(e){return e?(e.nodeName||"").toLowerCase():null}function Hs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function yv(e){var t=Hs(e).Element;return e instanceof t||e instanceof Element}function as(e){var t=Hs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function WI(e){if(typeof ShadowRoot>"u")return!1;var t=Hs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function e8e(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},a=t.attributes[r]||{},i=t.elements[r];!as(i)||!kl(i)||(Object.assign(i.style,n),Object.keys(a).forEach(function(o){var s=a[o];s===!1?i.removeAttribute(o):i.setAttribute(o,s===!0?"":s)}))})}function t8e(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var a=t.elements[n],i=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=o.reduce(function(l,u){return l[u]="",l},{});!as(a)||!kl(a)||(Object.assign(a.style,s),Object.keys(i).forEach(function(l){a.removeAttribute(l)}))})}}var UH={name:"applyStyles",enabled:!0,phase:"write",fn:e8e,effect:t8e,requires:["computeStyles"]};function xl(e){return e.split("-")[0]}var Zf=Math.max,Cw=Math.min,bv=Math.round;function wv(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,a=1;if(as(e)&&t){var i=e.offsetHeight,o=e.offsetWidth;o>0&&(n=bv(r.width)/o||1),i>0&&(a=bv(r.height)/i||1)}return{width:r.width/n,height:r.height/a,top:r.top/a,right:r.right/n,bottom:r.bottom/a,left:r.left/n,x:r.left/n,y:r.top/a}}function HI(e){var t=wv(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function WH(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&WI(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function yu(e){return Hs(e).getComputedStyle(e)}function r8e(e){return["table","td","th"].indexOf(kl(e))>=0}function qc(e){return((yv(e)?e.ownerDocument:e.document)||window.document).documentElement}function c2(e){return kl(e)==="html"?e:e.assignedSlot||e.parentNode||(WI(e)?e.host:null)||qc(e)}function eB(e){return!as(e)||yu(e).position==="fixed"?null:e.offsetParent}function n8e(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&as(e)){var n=yu(e);if(n.position==="fixed")return null}var a=c2(e);for(WI(a)&&(a=a.host);as(a)&&["html","body"].indexOf(kl(a))<0;){var i=yu(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function um(e){for(var t=Hs(e),r=eB(e);r&&r8e(r)&&yu(r).position==="static";)r=eB(r);return r&&(kl(r)==="html"||kl(r)==="body"&&yu(r).position==="static")?t:r||n8e(e)||t}function YI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yg(e,t,r){return Zf(e,Cw(t,r))}function a8e(e,t,r){var n=yg(e,t,r);return n>r?r:n}function HH(){return{top:0,right:0,bottom:0,left:0}}function YH(e){return Object.assign({},HH(),e)}function KH(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var i8e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,YH(typeof e!="number"?e:KH(e,lm))};function o8e(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,s=xl(r.placement),l=YI(s),u=[ao,fs].indexOf(s)>=0,c=u?"height":"width";if(!(!i||!o)){var f=i8e(a.padding,r),d=HI(i),h=l==="y"?no:ao,v=l==="y"?cs:fs,p=r.rects.reference[c]+r.rects.reference[l]-o[l]-r.rects.popper[c],m=o[l]-r.rects.reference[l],g=um(i),b=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,w=f[h],_=b-d[c]-f[v],x=b/2-d[c]/2+y,S=yg(w,x,_),C=l;r.modifiersData[n]=(t={},t[C]=S,t.centerOffset=S-x,t)}}function s8e(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||!WH(t.elements.popper,a)||(t.elements.arrow=a))}var l8e={name:"arrow",enabled:!0,phase:"main",fn:o8e,effect:s8e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ev(e){return e.split("-")[1]}var u8e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c8e(e){var t=e.x,r=e.y,n=window,a=n.devicePixelRatio||1;return{x:bv(t*a)/a||0,y:bv(r*a)/a||0}}function tB(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,h=d===void 0?0:d,v=o.y,p=v===void 0?0:v,m=typeof c=="function"?c({x:h,y:p}):{x:h,y:p};h=m.x,p=m.y;var g=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=ao,w=no,_=window;if(u){var x=um(r),S="clientHeight",C="clientWidth";if(x===Hs(r)&&(x=qc(r),yu(x).position!=="static"&&s==="absolute"&&(S="scrollHeight",C="scrollWidth")),x=x,a===no||(a===ao||a===fs)&&i===o0){w=cs;var T=f&&x===_&&_.visualViewport?_.visualViewport.height:x[S];p-=T-n.height,p*=l?1:-1}if(a===ao||(a===no||a===cs)&&i===o0){y=fs;var M=f&&x===_&&_.visualViewport?_.visualViewport.width:x[C];h-=M-n.width,h*=l?1:-1}}var k=Object.assign({position:s},u&&u8e),A=c===!0?c8e({x:h,y:p}):{x:h,y:p};if(h=A.x,p=A.y,l){var O;return Object.assign({},k,(O={},O[w]=b?"0":"",O[y]=g?"0":"",O.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",O))}return Object.assign({},k,(t={},t[w]=b?p+"px":"",t[y]=g?h+"px":"",t.transform="",t))}function f8e(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:xl(t.placement),variation:Ev(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,tB(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,tB(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var XH={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:f8e,data:{}},a1={passive:!0};function d8e(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,s=o===void 0?!0:o,l=Hs(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",r.update,a1)}),s&&l.addEventListener("resize",r.update,a1),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",r.update,a1)}),s&&l.removeEventListener("resize",r.update,a1)}}var qH={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:d8e,data:{}},h8e={left:"right",right:"left",bottom:"top",top:"bottom"};function Z1(e){return e.replace(/left|right|bottom|top/g,function(t){return h8e[t]})}var v8e={start:"end",end:"start"};function rB(e){return e.replace(/start|end/g,function(t){return v8e[t]})}function KI(e){var t=Hs(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function XI(e){return wv(qc(e)).left+KI(e).scrollLeft}function p8e(e){var t=Hs(e),r=qc(e),n=t.visualViewport,a=r.clientWidth,i=r.clientHeight,o=0,s=0;return n&&(a=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:a,height:i,x:o+XI(e),y:s}}function g8e(e){var t,r=qc(e),n=KI(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Zf(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Zf(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-n.scrollLeft+XI(e),l=-n.scrollTop;return yu(a||r).direction==="rtl"&&(s+=Zf(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:l}}function qI(e){var t=yu(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function ZH(e){return["html","body","#document"].indexOf(kl(e))>=0?e.ownerDocument.body:as(e)&&qI(e)?e:ZH(c2(e))}function bg(e,t){var r;t=[];var n=ZH(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=Hs(n),o=a?[i].concat(i.visualViewport||[],qI(n)?n:[]):n,s=t.concat(o);return a?s:s.concat(bg(c2(o)))}function MM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function m8e(e){var t=wv(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function nB(e,t){return t===VH?MM(p8e(e)):yv(t)?m8e(t):MM(g8e(qc(e)))}function y8e(e){var t=bg(c2(e)),r=["absolute","fixed"].indexOf(yu(e).position)>=0,n=r&&as(e)?um(e):e;return yv(n)?t.filter(function(a){return yv(a)&&WH(a,n)&&kl(a)!=="body"}):[]}function b8e(e,t,r){var n=t==="clippingParents"?y8e(e):[].concat(t),a=[].concat(n,[r]),i=a[0],o=a.reduce(function(s,l){var u=nB(e,l);return s.top=Zf(u.top,s.top),s.right=Cw(u.right,s.right),s.bottom=Cw(u.bottom,s.bottom),s.left=Zf(u.left,s.left),s},nB(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function QH(e){var t=e.reference,r=e.element,n=e.placement,a=n?xl(n):null,i=n?Ev(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(a){case no:l={x:o,y:t.y-r.height};break;case cs:l={x:o,y:t.y+t.height};break;case fs:l={x:t.x+t.width,y:s};break;case ao:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var u=a?YI(a):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case mv:l[u]=l[u]-(t[c]/2-r[c]/2);break;case o0:l[u]=l[u]+(t[c]/2-r[c]/2);break}}return l}function s0(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.boundary,o=i===void 0?jFe:i,s=r.rootBoundary,l=s===void 0?VH:s,u=r.elementContext,c=u===void 0?kp:u,f=r.altBoundary,d=f===void 0?!1:f,h=r.padding,v=h===void 0?0:h,p=YH(typeof v!="number"?v:KH(v,lm)),m=c===kp?VFe:kp,g=e.rects.popper,b=e.elements[d?m:c],y=b8e(yv(b)?b:b.contextElement||qc(e.elements.popper),o,l),w=wv(e.elements.reference),_=QH({reference:w,element:g,strategy:"absolute",placement:a}),x=MM(Object.assign({},g,_)),S=c===kp?x:w,C={top:y.top-S.top+p.top,bottom:S.bottom-y.bottom+p.bottom,left:y.left-S.left+p.left,right:S.right-y.right+p.right},T=e.modifiersData.offset;if(c===kp&&T){var M=T[a];Object.keys(C).forEach(function(k){var A=[fs,cs].indexOf(k)>=0?1:-1,O=[no,cs].indexOf(k)>=0?"y":"x";C[k]+=M[O]*A})}return C}function w8e(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Ad:l,c=Ev(n),f=c?s?J5:J5.filter(function(v){return Ev(v)===c}):lm,d=f.filter(function(v){return u.indexOf(v)>=0});d.length===0&&(d=f);var h=d.reduce(function(v,p){return v[p]=s0(e,{placement:p,boundary:a,rootBoundary:i,padding:o})[xl(p)],v},{});return Object.keys(h).sort(function(v,p){return h[v]-h[p]})}function E8e(e){if(xl(e)===UI)return[];var t=Z1(e);return[rB(e),t,rB(t)]}function _8e(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,v=h===void 0?!0:h,p=r.allowedAutoPlacements,m=t.options.placement,g=xl(m),b=g===m,y=l||(b||!v?[Z1(m)]:E8e(m)),w=[m].concat(y).reduce(function(Y,ie){return Y.concat(xl(ie)===UI?w8e(t,{placement:ie,boundary:c,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:p}):ie)},[]),_=t.rects.reference,x=t.rects.popper,S=new Map,C=!0,T=w[0],M=0;M<w.length;M++){var k=w[M],A=xl(k),O=Ev(k)===mv,P=[no,cs].indexOf(A)>=0,R=P?"width":"height",N=s0(t,{placement:k,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),L=P?O?fs:ao:O?cs:no;_[R]>x[R]&&(L=Z1(L));var B=Z1(L),I=[];if(i&&I.push(N[A]<=0),s&&I.push(N[L]<=0,N[B]<=0),I.every(function(Y){return Y})){T=k,C=!1;break}S.set(k,I)}if(C)for(var D=v?3:1,z=function(Y){var ie=w.find(function(X){var re=S.get(X);if(re)return re.slice(0,Y).every(function(oe){return oe})});if(ie)return T=ie,"break"},U=D;U>0;U--){var H=z(U);if(H==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}var x8e={name:"flip",enabled:!0,phase:"main",fn:_8e,requiresIfExists:["offset"],data:{_skip:!1}};function aB(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function iB(e){return[no,fs,cs,ao].some(function(t){return e[t]>=0})}function S8e(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=s0(t,{elementContext:"reference"}),s=s0(t,{altBoundary:!0}),l=aB(o,n),u=aB(s,a,i),c=iB(l),f=iB(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var C8e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:S8e};function M8e(e,t,r){var n=xl(e),a=[ao,no].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[ao,fs].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function T8e(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,o=Ad.reduce(function(c,f){return c[f]=M8e(f,t.rects,i),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}var k8e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:T8e};function A8e(e){var t=e.state,r=e.name;t.modifiersData[r]=QH({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var JH={name:"popperOffsets",enabled:!0,phase:"read",fn:A8e,data:{}};function I8e(e){return e==="x"?"y":"x"}function O8e(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,v=r.tetherOffset,p=v===void 0?0:v,m=s0(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),g=xl(t.placement),b=Ev(t.placement),y=!b,w=YI(g),_=I8e(w),x=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,T=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,M=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(x){if(i){var O,P=w==="y"?no:ao,R=w==="y"?cs:fs,N=w==="y"?"height":"width",L=x[w],B=L+m[P],I=L-m[R],D=h?-C[N]/2:0,z=b===mv?S[N]:C[N],U=b===mv?-C[N]:-S[N],H=t.elements.arrow,Y=h&&H?HI(H):{width:0,height:0},ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:HH(),X=ie[P],re=ie[R],oe=yg(0,S[N],Y[N]),Ne=y?S[N]/2-D-oe-X-M.mainAxis:z-oe-X-M.mainAxis,me=y?-S[N]/2+D+oe+re+M.mainAxis:U+oe+re+M.mainAxis,xe=t.elements.arrow&&um(t.elements.arrow),ze=xe?w==="y"?xe.clientTop||0:xe.clientLeft||0:0,te=(O=k==null?void 0:k[w])!=null?O:0,le=L+Ne-te-ze,Ae=L+me-te,Ve=yg(h?Cw(B,le):B,L,h?Zf(I,Ae):I);x[w]=Ve,A[w]=Ve-L}if(s){var Ie,De=w==="x"?no:ao,Ge=w==="x"?cs:fs,Qe=x[_],ke=_==="y"?"height":"width",q=Qe+m[De],j=Qe-m[Ge],Ce=[no,ao].indexOf(g)!==-1,fe=(Ie=k==null?void 0:k[_])!=null?Ie:0,ge=Ce?q:Qe-S[ke]-C[ke]-fe+M.altAxis,Ue=Ce?Qe+S[ke]+C[ke]-fe-M.altAxis:j,tt=h&&Ce?a8e(ge,Qe,Ue):yg(h?ge:q,Qe,h?Ue:j);x[_]=tt,A[_]=tt-Qe}t.modifiersData[n]=A}}var L8e={name:"preventOverflow",enabled:!0,phase:"main",fn:O8e,requiresIfExists:["offset"]};function N8e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function P8e(e){return e===Hs(e)||!as(e)?KI(e):N8e(e)}function D8e(e){var t=e.getBoundingClientRect(),r=bv(t.width)/e.offsetWidth||1,n=bv(t.height)/e.offsetHeight||1;return r!==1||n!==1}function R8e(e,t,r){r===void 0&&(r=!1);var n=as(t),a=as(t)&&D8e(t),i=qc(t),o=wv(e,a),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((kl(t)!=="body"||qI(i))&&(s=P8e(t)),as(t)?(l=wv(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=XI(i))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function $8e(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&a(l)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function B8e(e){var t=$8e(e);return JFe.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function F8e(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function z8e(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var oB={placement:"bottom",modifiers:[],strategy:"absolute"};function sB(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ZI(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?oB:a;return function(o,s,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},oB,i),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},c=[],f=!1,d={state:u,setOptions:function(p){var m=typeof p=="function"?p(u.options):p;v(),u.options=Object.assign({},i,u.options,m),u.scrollParents={reference:yv(o)?bg(o):o.contextElement?bg(o.contextElement):[],popper:bg(s)};var g=B8e(z8e([].concat(n,u.options.modifiers)));return u.orderedModifiers=g.filter(function(b){return b.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var p=u.elements,m=p.reference,g=p.popper;if(sB(m,g)){u.rects={reference:R8e(m,um(g),u.options.strategy==="fixed"),popper:HI(g)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(C){return u.modifiersData[C.name]=Object.assign({},C.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var y=u.orderedModifiers[b],w=y.fn,_=y.options,x=_===void 0?{}:_,S=y.name;typeof w=="function"&&(u=w({state:u,options:x,name:S,instance:d})||u)}}}},update:F8e(function(){return new Promise(function(p){d.forceUpdate(),p(u)})}),destroy:function(){v(),f=!0}};if(!sB(o,s))return d;d.setOptions(l).then(function(p){!f&&l.onFirstUpdate&&l.onFirstUpdate(p)});function h(){u.orderedModifiers.forEach(function(p){var m=p.name,g=p.options,b=g===void 0?{}:g,y=p.effect;if(typeof y=="function"){var w=y({state:u,name:m,instance:d,options:b}),_=function(){};c.push(w||_)}})}function v(){c.forEach(function(p){return p()}),c=[]}return d}}ZI();var G8e=[qH,JH,XH,UH];ZI({defaultModifiers:G8e});var j8e=[qH,JH,XH,UH,k8e,x8e,L8e,l8e,C8e],V8e=ZI({defaultModifiers:j8e});const U8e=(e,t,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=W8e(l);Object.assign(o.value,u)},requires:["computeStyles"]},a=$(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=E(r);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],n,{name:"applyStyles",enabled:!1}]}}),i=Pn(),o=W({styles:{popper:{position:E(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return He(a,l=>{const u=E(i);u&&u.setOptions(l)},{deep:!0}),He([e,t],([l,u])=>{s(),!(!l||!u)&&(i.value=V8e(l,u,E(a)))}),On(()=>{s()}),{state:$(()=>{var l;return{...((l=E(i))==null?void 0:l.state)||{}}}),styles:$(()=>E(o).styles),attributes:$(()=>E(o).attributes),update:()=>{var l;return(l=E(i))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=E(i))==null?void 0:l.forceUpdate()},instanceRef:$(()=>E(i))}};function W8e(e){const t=Object.keys(e.elements),r=Sw(t.map(a=>[a,e.styles[a]||{}])),n=Sw(t.map(a=>[a,e.attributes[a]]));return{styles:r,attributes:n}}const QI=e=>{if(!e)return{onClick:mn,onMousedown:mn,onMouseup:mn};let t=!1,r=!1;return{onClick:o=>{t&&r&&e(o),t=r=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{r=o.target===o.currentTarget}}},H8e=(e,t=0)=>{if(t===0)return e;const r=W(!1);let n=0;const a=()=>{n&&clearTimeout(n),n=window.setTimeout(()=>{r.value=e.value},t)};return vr(a),He(()=>e.value,i=>{i?a():r.value=i}),r};function lB(){let e;const t=(n,a)=>{r(),e=window.setTimeout(n,a)},r=()=>window.clearTimeout(e);return rm(()=>r()),{registerTimeout:t,cancelTimeout:r}}const uB={prefix:Math.floor(Math.random()*1e4),current:0},Y8e=Symbol("elIdInjection"),JI=()=>Er()?At(Y8e,uB):uB,bi=e=>{const t=JI(),r=jI();return $(()=>E(e)||`${r.value}-id-${t.prefix}-${t.current++}`)};let mh=[];const cB=e=>{const t=e;t.key===Kt.esc&&mh.forEach(r=>r(t))},K8e=e=>{vr(()=>{mh.length===0&&document.addEventListener("keydown",cB),Ur&&mh.push(e)}),On(()=>{mh=mh.filter(t=>t!==e),mh.length===0&&Ur&&document.removeEventListener("keydown",cB)})};let fB;const eY=()=>{const e=jI(),t=JI(),r=$(()=>`${e.value}-popper-container-${t.prefix}`),n=$(()=>`#${r.value}`);return{id:r,selector:n}},X8e=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},q8e=()=>{const{id:e,selector:t}=eY();return Zw(()=>{Ur&&!fB&&!document.body.querySelector(t.value)&&(fB=X8e(e.value))}),{id:e,selector:t}},Z8e=it({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Q8e=({showAfter:e,hideAfter:t,autoClose:r,open:n,close:a})=>{const{registerTimeout:i}=lB(),{registerTimeout:o,cancelTimeout:s}=lB();return{onOpen:c=>{i(()=>{n(c);const f=E(r);Qt(f)&&f>0&&o(()=>{a(c)},f)},E(e))},onClose:c=>{s(),i(()=>{a(c)},E(t))}}},tY=Symbol("elForwardRef"),J8e=e=>{$r(tY,{setForwardRef:r=>{e.value=r}})},eze=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),dB={current:0},hB=W(0),rY=2e3,vB=Symbol("elZIndexContextKey"),nY=Symbol("zIndexContextKey"),Gv=e=>{const t=Er()?At(vB,dB):dB,r=e||(Er()?At(nY,void 0):void 0),n=$(()=>{const o=E(r);return Qt(o)?o:rY}),a=$(()=>n.value+hB.value),i=()=>(t.current++,hB.value=t.current,a.value);return!Ur&&At(vB),{initialZIndex:n,currentZIndex:a,nextZIndex:i}},_v=Math.min,Qf=Math.max,Mw=Math.round,i1=Math.floor,$c=e=>({x:e,y:e}),tze={left:"right",right:"left",bottom:"top",top:"bottom"},rze={start:"end",end:"start"};function TM(e,t,r){return Qf(e,_v(t,r))}function cm(e,t){return typeof e=="function"?e(t):e}function pd(e){return e.split("-")[0]}function fm(e){return e.split("-")[1]}function aY(e){return e==="x"?"y":"x"}function eO(e){return e==="y"?"height":"width"}function f2(e){return["top","bottom"].includes(pd(e))?"y":"x"}function tO(e){return aY(f2(e))}function nze(e,t,r){r===void 0&&(r=!1);const n=fm(e),a=tO(e),i=eO(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Tw(o)),[o,Tw(o)]}function aze(e){const t=Tw(e);return[kM(e),t,kM(t)]}function kM(e){return e.replace(/start|end/g,t=>rze[t])}function ize(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function oze(e,t,r,n){const a=fm(e);let i=ize(pd(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(kM)))),i}function Tw(e){return e.replace(/left|right|bottom|top/g,t=>tze[t])}function sze(e){return{top:0,right:0,bottom:0,left:0,...e}}function iY(e){return typeof e!="number"?sze(e):{top:e,right:e,bottom:e,left:e}}function kw(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function pB(e,t,r){let{reference:n,floating:a}=e;const i=f2(t),o=tO(t),s=eO(o),l=pd(t),u=i==="y",c=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,d=n[s]/2-a[s]/2;let h;switch(l){case"top":h={x:c,y:n.y-a.height};break;case"bottom":h={x:c,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(fm(t)){case"start":h[o]-=d*(r&&u?-1:1);break;case"end":h[o]+=d*(r&&u?-1:1);break}return h}const lze=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,s=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:c,y:f}=pB(u,n,l),d=n,h={},v=0;for(let p=0;p<s.length;p++){const{name:m,fn:g}=s[p],{x:b,y,data:w,reset:_}=await g({x:c,y:f,initialPlacement:n,placement:d,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=b??c,f=y??f,h={...h,[m]:{...h[m],...w}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(d=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:c,y:f}=pB(u,d,l)),p=-1)}return{x:c,y:f,placement:d,strategy:a,middlewareData:h}};async function rO(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=cm(t,e),v=iY(h),m=s[d?f==="floating"?"reference":"floating":f],g=kw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),b=f==="floating"?{...o.floating,x:n,y:a}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},_=kw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:y,strategy:l}):b);return{top:(g.top-_.top+v.top)/w.y,bottom:(_.bottom-g.bottom+v.bottom)/w.y,left:(g.left-_.left+v.left)/w.x,right:(_.right-g.right+v.right)/w.x}}const uze=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=cm(e,t)||{};if(u==null)return{};const f=iY(c),d={x:r,y:n},h=tO(a),v=eO(h),p=await o.getDimensions(u),m=h==="y",g=m?"top":"left",b=m?"bottom":"right",y=m?"clientHeight":"clientWidth",w=i.reference[v]+i.reference[h]-d[h]-i.floating[v],_=d[h]-i.reference[h],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=x?x[y]:0;(!S||!await(o.isElement==null?void 0:o.isElement(x)))&&(S=s.floating[y]||i.floating[v]);const C=w/2-_/2,T=S/2-p[v]/2-1,M=_v(f[g],T),k=_v(f[b],T),A=M,O=S-p[v]-k,P=S/2-p[v]/2+C,R=TM(A,P,O),N=!l.arrow&&fm(a)!=null&&P!==R&&i.reference[v]/2-(P<A?M:k)-p[v]/2<0,L=N?P<A?P-A:P-O:0;return{[h]:d[h]+L,data:{[h]:R,centerOffset:P-R-L,...N&&{alignmentOffset:L}},reset:N}}}),cze=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...m}=cm(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=pd(a),b=pd(s)===s,y=await(l.isRTL==null?void 0:l.isRTL(u.floating)),w=d||(b||!p?[Tw(s)]:aze(s));!d&&v!=="none"&&w.push(...oze(s,p,v,y));const _=[s,...w],x=await rO(t,m),S=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&S.push(x[g]),f){const A=nze(a,o,y);S.push(x[A[0]],x[A[1]])}if(C=[...C,{placement:a,overflows:S}],!S.every(A=>A<=0)){var T,M;const A=(((T=i.flip)==null?void 0:T.index)||0)+1,O=_[A];if(O)return{data:{index:A,overflows:C},reset:{placement:O}};let P=(M=C.filter(R=>R.overflows[0]<=0).sort((R,N)=>R.overflows[1]-N.overflows[1])[0])==null?void 0:M.placement;if(!P)switch(h){case"bestFit":{var k;const R=(k=C.map(N=>[N.placement,N.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((N,L)=>N[1]-L[1])[0])==null?void 0:k[0];R&&(P=R);break}case"initialPlacement":P=s;break}if(a!==P)return{reset:{placement:P}}}return{}}}};async function fze(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=pd(r),s=fm(r),l=f2(r)==="y",u=["left","top"].includes(o)?-1:1,c=i&&l?-1:1,f=cm(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&typeof v=="number"&&(h=s==="end"?v*-1:v),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const oY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:s}=t,l=await fze(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:o}}}}},dze=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:s={fn:m=>{let{x:g,y:b}=m;return{x:g,y:b}}},...l}=cm(e,t),u={x:r,y:n},c=await rO(t,l),f=f2(pd(a)),d=aY(f);let h=u[d],v=u[f];if(i){const m=d==="y"?"top":"left",g=d==="y"?"bottom":"right",b=h+c[m],y=h-c[g];h=TM(b,h,y)}if(o){const m=f==="y"?"top":"left",g=f==="y"?"bottom":"right",b=v+c[m],y=v-c[g];v=TM(b,v,y)}const p=s.fn({...t,[d]:h,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n}}}}};function Bc(e){return sY(e)?(e.nodeName||"").toLowerCase():"#document"}function Lo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nu(e){var t;return(t=(sY(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sY(e){return e instanceof Node||e instanceof Lo(e).Node}function bu(e){return e instanceof Element||e instanceof Lo(e).Element}function Al(e){return e instanceof HTMLElement||e instanceof Lo(e).HTMLElement}function gB(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Lo(e).ShadowRoot}function dm(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function hze(e){return["table","td","th"].includes(Bc(e))}function nO(e){const t=aO(),r=ds(e);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function vze(e){let t=xv(e);for(;Al(t)&&!d2(t);){if(nO(t))return t;t=xv(t)}return null}function aO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function d2(e){return["html","body","#document"].includes(Bc(e))}function ds(e){return Lo(e).getComputedStyle(e)}function h2(e){return bu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function xv(e){if(Bc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gB(e)&&e.host||Nu(e);return gB(t)?t.host:t}function lY(e){const t=xv(e);return d2(t)?e.ownerDocument?e.ownerDocument.body:e.body:Al(t)&&dm(t)?t:lY(t)}function l0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=lY(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Lo(a);return i?t.concat(o,o.visualViewport||[],dm(a)?a:[],o.frameElement&&r?l0(o.frameElement):[]):t.concat(a,l0(a,[],r))}function uY(e){const t=ds(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Al(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,s=Mw(r)!==i||Mw(n)!==o;return s&&(r=i,n=o),{width:r,height:n,$:s}}function iO(e){return bu(e)?e:e.contextElement}function zh(e){const t=iO(e);if(!Al(t))return $c(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=uY(t);let o=(i?Mw(r.width):r.width)/n,s=(i?Mw(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const pze=$c(0);function cY(e){const t=Lo(e);return!aO()||!t.visualViewport?pze:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gze(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Lo(e)?!1:t}function gd(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=iO(e);let o=$c(1);t&&(n?bu(n)&&(o=zh(n)):o=zh(e));const s=gze(i,r,n)?cY(i):$c(0);let l=(a.left+s.x)/o.x,u=(a.top+s.y)/o.y,c=a.width/o.x,f=a.height/o.y;if(i){const d=Lo(i),h=n&&bu(n)?Lo(n):n;let v=d,p=v.frameElement;for(;p&&n&&h!==v;){const m=zh(p),g=p.getBoundingClientRect(),b=ds(p),y=g.left+(p.clientLeft+parseFloat(b.paddingLeft))*m.x,w=g.top+(p.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,f*=m.y,l+=y,u+=w,v=Lo(p),p=v.frameElement}}return kw({width:c,height:f,x:l,y:u})}const mze=[":popover-open",":modal"];function fY(e){return mze.some(t=>{try{return e.matches(t)}catch{return!1}})}function yze(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Nu(n),s=t?fY(t.floating):!1;if(n===o||s&&i)return r;let l={scrollLeft:0,scrollTop:0},u=$c(1);const c=$c(0),f=Al(n);if((f||!f&&!i)&&((Bc(n)!=="body"||dm(o))&&(l=h2(n)),Al(n))){const d=gd(n);u=zh(n),c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x,y:r.y*u.y-l.scrollTop*u.y+c.y}}function bze(e){return Array.from(e.getClientRects())}function dY(e){return gd(Nu(e)).left+h2(e).scrollLeft}function wze(e){const t=Nu(e),r=h2(e),n=e.ownerDocument.body,a=Qf(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Qf(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dY(e);const s=-r.scrollTop;return ds(n).direction==="rtl"&&(o+=Qf(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:s}}function Eze(e,t){const r=Lo(e),n=Nu(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;if(a){i=a.width,o=a.height;const u=aO();(!u||u&&t==="fixed")&&(s=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:s,y:l}}function _ze(e,t){const r=gd(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Al(e)?zh(e):$c(1),o=e.clientWidth*i.x,s=e.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:o,height:s,x:l,y:u}}function mB(e,t,r){let n;if(t==="viewport")n=Eze(e,r);else if(t==="document")n=wze(Nu(e));else if(bu(t))n=_ze(t,r);else{const a=cY(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return kw(n)}function hY(e,t){const r=xv(e);return r===t||!bu(r)||d2(r)?!1:ds(r).position==="fixed"||hY(r,t)}function xze(e,t){const r=t.get(e);if(r)return r;let n=l0(e,[],!1).filter(s=>bu(s)&&Bc(s)!=="body"),a=null;const i=ds(e).position==="fixed";let o=i?xv(e):e;for(;bu(o)&&!d2(o);){const s=ds(o),l=nO(o);!l&&s.position==="fixed"&&(a=null),(i?!l&&!a:!l&&s.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||dm(o)&&!l&&hY(e,o))?n=n.filter(c=>c!==o):a=s,o=xv(o)}return t.set(e,n),n}function Sze(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?xze(t,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,c)=>{const f=mB(t,c,a);return u.top=Qf(f.top,u.top),u.right=_v(f.right,u.right),u.bottom=_v(f.bottom,u.bottom),u.left=Qf(f.left,u.left),u},mB(t,s,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Cze(e){const{width:t,height:r}=uY(e);return{width:t,height:r}}function Mze(e,t,r){const n=Al(t),a=Nu(t),i=r==="fixed",o=gd(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=$c(0);if(n||!n&&!i)if((Bc(t)!=="body"||dm(a))&&(s=h2(t)),n){const f=gd(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else a&&(l.x=dY(a));const u=o.left+s.scrollLeft-l.x,c=o.top+s.scrollTop-l.y;return{x:u,y:c,width:o.width,height:o.height}}function yB(e,t){return!Al(e)||ds(e).position==="fixed"?null:t?t(e):e.offsetParent}function vY(e,t){const r=Lo(e);if(!Al(e)||fY(e))return r;let n=yB(e,t);for(;n&&hze(n)&&ds(n).position==="static";)n=yB(n,t);return n&&(Bc(n)==="html"||Bc(n)==="body"&&ds(n).position==="static"&&!nO(n))?r:n||vze(e)||r}const Tze=async function(e){const t=this.getOffsetParent||vY,r=this.getDimensions;return{reference:Mze(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await r(e.floating)}}};function kze(e){return ds(e).direction==="rtl"}const Aze={convertOffsetParentRelativeRectToViewportRelativeRect:yze,getDocumentElement:Nu,getClippingRect:Sze,getOffsetParent:vY,getElementRects:Tze,getClientRects:bze,getDimensions:Cze,getScale:zh,isElement:bu,isRTL:kze};function Ize(e,t){let r=null,n;const a=Nu(e);function i(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),i();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=i1(c),v=i1(a.clientWidth-(u+f)),p=i1(a.clientHeight-(c+d)),m=i1(u),b={rootMargin:-h+"px "+-v+"px "+-p+"px "+-m+"px",threshold:Qf(0,_v(1,l))||1};let y=!0;function w(_){const x=_[0].intersectionRatio;if(x!==l){if(!y)return o();x?o(!1,x):n=setTimeout(()=>{o(!1,1e-7)},100)}y=!1}try{r=new IntersectionObserver(w,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,b)}r.observe(e)}return o(!0),i}function Oze(e,t,r,n){n={};const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=iO(e),c=a||i?[...u?l0(u):[],...l0(t)]:[];c.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&s?Ize(u,r):null;let d=-1,h=null;o&&(h=new ResizeObserver(g=>{let[b]=g;b&&b.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),r()}),u&&!l&&h.observe(u),h.observe(t));let v,p=l?gd(e):null;l&&m();function m(){const g=gd(e);p&&(g.x!==p.x||g.y!==p.y||g.width!==p.width||g.height!==p.height)&&r(),p=g,v=requestAnimationFrame(m)}return r(),()=>{var g;c.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const Lze=dze,Nze=cze,pY=uze,gY=(e,t,r)=>{const n=new Map,a={platform:Aze,...r},i={...a.platform,_c:n};return lze(e,t,{...a,platform:i})};it({});const Pze=e=>{if(!Ur)return;if(!e)return e;const t=ro(e);return t||(Dn(e)?t:e)},Dze=({middleware:e,placement:t,strategy:r})=>{const n=W(),a=W(),i=W(),o=W(),s=W({}),l={x:i,y:o,placement:t,strategy:r,middlewareData:s},u=async()=>{if(!Ur)return;const c=Pze(n),f=ro(a);if(!c||!f)return;const d=await gY(c,f,{placement:E(t),strategy:E(r),middleware:E(e)});vv(l).forEach(h=>{l[h].value=d[h]})};return vr(()=>{gi(()=>{u()})}),{...l,update:u,referenceRef:n,contentRef:a}},Rze=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(r){const n=E(e);return n?pY({element:n,padding:t}).fn(r):{}}});function $ze(e){const t=W();function r(){if(e.value==null)return;const{selectionStart:a,selectionEnd:i,value:o}=e.value;if(a==null||i==null)return;const s=o.slice(0,Math.max(0,a)),l=o.slice(Math.max(0,i));t.value={selectionStart:a,selectionEnd:i,value:o,beforeTxt:s,afterTxt:l}}function n(){if(e.value==null||t.value==null)return;const{value:a}=e.value,{beforeTxt:i,afterTxt:o,selectionStart:s}=t.value;if(i==null||o==null||s==null)return;let l=a.length;if(a.endsWith(o))l=a.length-o.length;else if(a.startsWith(i))l=i.length;else{const u=i[s-1],c=a.indexOf(u,s-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[r,n]}const Bze=(e,t,r)=>Ec(e.subTree).filter(i=>{var o;return Rn(i)&&((o=i.type)==null?void 0:o.name)===t&&!!i.component}).map(i=>i.component.uid).map(i=>r[i]).filter(i=>!!i),oO=(e,t)=>{const r={},n=Pn([]);return{children:n,addChild:o=>{r[o.uid]=o,n.value=Bze(e,t,r)},removeChild:o=>{delete r[o],n.value=n.value.filter(s=>s.uid!==o)}}},Da=Ws({type:String,values:Bl,required:!1}),mY=Symbol("size"),Fze=()=>{const e=At(mY,{});return $(()=>E(e.size)||"")};function v2(e,{afterFocus:t,beforeBlur:r,afterBlur:n}={}){const a=Er(),{emit:i}=a,o=Pn(),s=W(!1),l=f=>{s.value||(s.value=!0,i("focus",f),t==null||t())},u=f=>{var d;Jt(r)&&r(f)||f.relatedTarget&&((d=o.value)!=null&&d.contains(f.relatedTarget))||(s.value=!1,i("blur",f),n==null||n())},c=()=>{var f;(f=e.value)==null||f.focus()};return He(o,f=>{f&&f.setAttribute("tabindex","-1")}),Ln(o,"click",c),{wrapperRef:o,isFocused:s,handleFocus:l,handleBlur:u}}const zze=["",void 0,null],Gze=void 0,jv=it({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>Jt(e)?!e():!e}}),p2=(e,t)=>{let r=hm();r.value||(r=W({}));const n=$(()=>e.emptyValues||r.value.emptyValues||zze),a=$(()=>Jt(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:Jt(r.value.valueOnClear)?r.value.valueOnClear():r.value.valueOnClear!==void 0?r.value.valueOnClear:t!==void 0?t:Gze),i=o=>n.value.includes(o);return n.value.includes(a.value),{emptyValues:n,valueOnClear:a,isEmptyValue:i}},yY=Symbol(),Aw=W();function hm(e,t=void 0){const r=Er()?At(yY,Aw):Aw;return e?$(()=>{var n,a;return(a=(n=r.value)==null?void 0:n[e])!=null?a:t}):r}function g2(e,t){const r=hm(),n=Ze(e,$(()=>{var s;return((s=r.value)==null?void 0:s.namespace)||mg})),a=Zr($(()=>{var s;return(s=r.value)==null?void 0:s.locale})),i=Gv($(()=>{var s;return((s=r.value)==null?void 0:s.zIndex)||rY})),o=$(()=>{var s;return E(t)||((s=r.value)==null?void 0:s.size)||""});return sO($(()=>E(r)||{})),{ns:n,locale:a,zIndex:i,size:o}}const sO=(e,t,r=!1)=>{var n;const a=!!Er(),i=a?hm():void 0,o=(n=t==null?void 0:t.provide)!=null?n:a?$r:void 0;if(!o)return;const s=$(()=>{const l=E(e);return i!=null&&i.value?jze(i.value,l):l});return o(yY,s),o(FH,$(()=>s.value.locale)),o(zH,$(()=>s.value.namespace)),o(nY,$(()=>s.value.zIndex)),o(mY,{size:$(()=>s.value.size||"")}),(r||!Aw.value)&&(Aw.value=s.value),s},jze=(e,t)=>{const r=[...new Set([...vv(e),...vv(t)])],n={};for(const a of r)n[a]=t[a]!==void 0?t[a]:e[a];return n},Vze=it({a11y:{type:Boolean,default:!0},locale:{type:ve(Object)},size:Da,button:{type:ve(Object)},experimentalFeatures:{type:ve(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ve(Object)},zIndex:Number,namespace:{type:String,default:"el"},...jv}),AM={},Uze=J({name:"ElConfigProvider",props:Vze,setup(e,{slots:t}){He(()=>e.message,n=>{Object.assign(AM,n??{})},{immediate:!0,deep:!0});const r=sO(e);return()=>Pe(t,"default",{config:r==null?void 0:r.value})}}),Wze=_r(Uze),Hze="2.7.1",Yze=(e=[])=>({version:Hze,install:(r,n)=>{r[Z5]||(r[Z5]=!0,e.forEach(a=>r.use(a)),n&&sO(n,r,!0))}}),Kze=it({zIndex:{type:ve([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),Xze={scroll:({scrollTop:e,fixed:t})=>Qt(e)&&fa(t),[Nn]:e=>fa(e)};var ut=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r};const bY="ElAffix",qze=J({name:bY}),Zze=J({...qze,props:Kze,emits:Xze,setup(e,{expose:t,emit:r}){const n=e,a=Ze("affix"),i=Pn(),o=Pn(),s=Pn(),{height:l}=B3e(),{height:u,width:c,top:f,bottom:d,update:h}=f5(o,{windowScroll:!1}),v=f5(i),p=W(!1),m=W(0),g=W(0),b=$(()=>({height:p.value?`${u.value}px`:"",width:p.value?`${c.value}px`:""})),y=$(()=>{if(!p.value)return{};const x=n.offset?Xn(n.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:n.position==="top"?x:"",bottom:n.position==="bottom"?x:"",transform:g.value?`translateY(${g.value}px)`:"",zIndex:n.zIndex}}),w=()=>{if(s.value)if(m.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0,n.position==="top")if(n.target){const x=v.bottom.value-n.offset-u.value;p.value=n.offset>f.value&&v.bottom.value>0,g.value=x<0?x:0}else p.value=n.offset>f.value;else if(n.target){const x=l.value-v.top.value-n.offset-u.value;p.value=l.value-n.offset<d.value&&l.value>v.top.value,g.value=x<0?-x:0}else p.value=l.value-n.offset<d.value},_=()=>{h(),r("scroll",{scrollTop:m.value,fixed:p.value})};return He(p,x=>r("change",x)),vr(()=>{var x;n.target?(i.value=(x=document.querySelector(n.target))!=null?x:void 0,i.value||Ta(bY,`Target is not existed: ${n.target}`)):i.value=document.documentElement,s.value=LI(o.value,!0),h()}),Ln(s,"scroll",_),gi(w),t({update:w,updateRoot:h}),(x,S)=>(F(),K("div",{ref_key:"root",ref:o,class:G(E(a).b()),style:Bt(E(b))},[Z("div",{class:G({[E(a).m("fixed")]:p.value}),style:Bt(E(y))},[Pe(x.$slots,"default")],6)],6))}});var Qze=ut(Zze,[["__file","affix.vue"]]);const Jze=_r(Qze),eGe=it({size:{type:ve([Number,String])},color:{type:String}}),tGe=J({name:"ElIcon",inheritAttrs:!1}),rGe=J({...tGe,props:eGe,setup(e){const t=e,r=Ze("icon"),n=$(()=>{const{size:a,color:i}=t;return!a&&!i?{}:{fontSize:ca(a)?void 0:Xn(a),"--color":i}});return(a,i)=>(F(),K("i",Dr({class:E(r).b(),style:E(n)},a.$attrs),[Pe(a.$slots,"default")],16))}});var nGe=ut(rGe,[["__file","icon.vue"]]);const $t=_r(nGe),aGe=["light","dark"],iGe=it({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:vv(Rc),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:aGe,default:"light"}}),oGe={close:e=>e instanceof MouseEvent},sGe=J({name:"ElAlert"}),lGe=J({...sGe,props:iGe,emits:oGe,setup(e,{emit:t}){const r=e,{Close:n}=BI,a=Ya(),i=Ze("alert"),o=W(!0),s=$(()=>Rc[r.type]),l=$(()=>[i.e("icon"),{[i.is("big")]:!!r.description||!!a.default}]),u=$(()=>({"with-description":r.description||a.default})),c=f=>{o.value=!1,t("close",f)};return(f,d)=>(F(),Oe(Ma,{name:E(i).b("fade"),persisted:""},{default:he(()=>[cr(Z("div",{class:G([E(i).b(),E(i).m(f.type),E(i).is("center",f.center),E(i).is(f.effect)]),role:"alert"},[f.showIcon&&E(s)?(F(),Oe(E($t),{key:0,class:G(E(l))},{default:he(()=>[(F(),Oe(kr(E(s))))]),_:1},8,["class"])):be("v-if",!0),Z("div",{class:G(E(i).e("content"))},[f.title||f.$slots.title?(F(),K("span",{key:0,class:G([E(i).e("title"),E(u)])},[Pe(f.$slots,"title",{},()=>[qr(ct(f.title),1)])],2)):be("v-if",!0),f.$slots.default||f.description?(F(),K("p",{key:1,class:G(E(i).e("description"))},[Pe(f.$slots,"default",{},()=>[qr(ct(f.description),1)])],2)):be("v-if",!0),f.closable?(F(),K(zt,{key:2},[f.closeText?(F(),K("div",{key:0,class:G([E(i).e("close-btn"),E(i).is("customed")]),onClick:c},ct(f.closeText),3)):(F(),Oe(E($t),{key:1,class:G(E(i).e("close-btn")),onClick:c},{default:he(()=>[ae(E(n))]),_:1},8,["class"]))],64)):be("v-if",!0)],2)],2),[[nn,o.value]])]),_:3},8,["name"]))}});var uGe=ut(lGe,[["__file","alert.vue"]]);const cGe=_r(uGe),Id=Symbol("formContextKey"),Il=Symbol("formItemContextKey"),ba=(e,t={})=>{const r=W(void 0),n=t.prop?r:jH("size"),a=t.global?r:Fze(),i=t.form?{size:void 0}:At(Id,void 0),o=t.formItem?{size:void 0}:At(Il,void 0);return $(()=>n.value||E(e)||(o==null?void 0:o.size)||(i==null?void 0:i.size)||a.value||"")},Ui=e=>{const t=jH("disabled"),r=At(Id,void 0);return $(()=>t.value||E(e)||(r==null?void 0:r.disabled)||!1)},Oi=()=>{const e=At(Id,void 0),t=At(Il,void 0);return{form:e,formItem:t}},Ys=(e,{formItemContext:t,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=W(!1)),n||(n=W(!1));const a=W();let i;const o=$(()=>{var s;return!!(!e.label&&t&&t.inputIds&&((s=t.inputIds)==null?void 0:s.length)<=1)});return vr(()=>{i=He([kn(e,"id"),r],([s,l])=>{const u=s??(l?void 0:bi().value);u!==a.value&&(t!=null&&t.removeInputId&&(a.value&&t.removeInputId(a.value),!(n!=null&&n.value)&&!l&&u&&t.addInputId(u)),a.value=u)},{immediate:!0})}),jc(()=>{i&&i(),t!=null&&t.removeInputId&&a.value&&t.removeInputId(a.value)}),{isLabeledByFormItem:o,inputId:a}},fGe=it({size:{type:String,values:Bl},disabled:Boolean}),dGe=it({...fGe,model:Object,rules:{type:ve(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),hGe={validate:(e,t,r)=>(_t(e)||nr(e))&&fa(t)&&nr(r)};function vGe(){const e=W([]),t=$(()=>{if(!e.value.length)return"0";const i=Math.max(...e.value);return i?`${i}px`:""});function r(i){const o=e.value.indexOf(i);return o===-1&&t.value,o}function n(i,o){if(i&&o){const s=r(o);e.value.splice(s,1,i)}else i&&e.value.push(i)}function a(i){const o=r(i);o>-1&&e.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:n,deregisterLabelWidth:a}}const o1=(e,t)=>{const r=dd(t);return r.length>0?e.filter(n=>n.prop&&r.includes(n.prop)):e},pGe="ElForm",gGe=J({name:pGe}),mGe=J({...gGe,props:dGe,emits:hGe,setup(e,{expose:t,emit:r}){const n=e,a=[],i=ba(),o=Ze("form"),s=$(()=>{const{labelPosition:y,inline:w}=n;return[o.b(),o.m(i.value||"default"),{[o.m(`label-${y}`)]:y,[o.m("inline")]:w}]}),l=y=>a.find(w=>w.prop===y),u=y=>{a.push(y)},c=y=>{y.prop&&a.splice(a.indexOf(y),1)},f=(y=[])=>{n.model&&o1(a,y).forEach(w=>w.resetField())},d=(y=[])=>{o1(a,y).forEach(w=>w.clearValidate())},h=$(()=>!!n.model),v=y=>{if(a.length===0)return[];const w=o1(a,y);return w.length?w:[]},p=async y=>g(void 0,y),m=async(y=[])=>{if(!h.value)return!1;const w=v(y);if(w.length===0)return!0;let _={};for(const x of w)try{await x.validate("")}catch(S){_={..._,...S}}return Object.keys(_).length===0?!0:Promise.reject(_)},g=async(y=[],w)=>{const _=!Jt(w);try{const x=await m(y);return x===!0&&(w==null||w(x)),x}catch(x){if(x instanceof Error)throw x;const S=x;return n.scrollToError&&b(Object.keys(S)[0]),w==null||w(!1,S),_&&Promise.reject(S)}},b=y=>{var w;const _=o1(a,y)[0];_&&((w=_.$el)==null||w.scrollIntoView(n.scrollIntoViewOptions))};return He(()=>n.rules,()=>{n.validateOnRuleChange&&p().catch(y=>void 0)},{deep:!0}),$r(Id,cn({...ui(n),emit:r,resetFields:f,clearValidate:d,validateField:g,getField:l,addField:u,removeField:c,...vGe()})),t({validate:p,validateField:g,resetFields:f,clearValidate:d,scrollToField:b}),(y,w)=>(F(),K("form",{class:G(E(s))},[Pe(y.$slots,"default")],2))}});var yGe=ut(mGe,[["__file","form.vue"]]);function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function bGe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u0(e,t)}function IM(e){return IM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IM(e)}function u0(e,t){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u0(e,t)}function wGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q1(e,t,r){return wGe()?Q1=Reflect.construct.bind():Q1=function(a,i,o){var s=[null];s.push.apply(s,i);var l=Function.bind.apply(a,s),u=new l;return o&&u0(u,o.prototype),u},Q1.apply(null,arguments)}function EGe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function OM(e){var t=typeof Map=="function"?new Map:void 0;return OM=function(n){if(n===null||!EGe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return Q1(n,arguments,IM(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),u0(a,n)},OM(e)}var _Ge=/%[sdj%]/g,xGe=function(){};function LM(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function ko(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=0,i=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var o=e.replace(_Ge,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return s}});return o}return e}function SGe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Ha(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||SGe(t)&&typeof e=="string"&&!e)}function CGe(e,t,r){var n=[],a=0,i=e.length;function o(s){n.push.apply(n,s||[]),a++,a===i&&r(n)}e.forEach(function(s){t(s,o)})}function bB(e,t,r){var n=0,a=e.length;function i(o){if(o&&o.length){r(o);return}var s=n;n=n+1,s<a?t(e[s],i):r([])}i([])}function MGe(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var wB=function(e){bGe(t,e);function t(r,n){var a;return a=e.call(this,"Async Validation Error")||this,a.errors=r,a.fields=n,a}return t}(OM(Error));function TGe(e,t,r,n,a){if(t.first){var i=new Promise(function(d,h){var v=function(g){return n(g),g.length?h(new wB(g,LM(g))):d(a)},p=MGe(e);bB(p,r,v)});return i.catch(function(d){return d}),i}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],f=new Promise(function(d,h){var v=function(m){if(c.push.apply(c,m),u++,u===l)return n(c),c.length?h(new wB(c,LM(c))):d(a)};s.length||(n(c),d(a)),s.forEach(function(p){var m=e[p];o.indexOf(p)!==-1?bB(m,r,v):CGe(m,r,v)})});return f.catch(function(d){return d}),f}function kGe(e){return!!(e&&e.message!==void 0)}function AGe(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function EB(e,t){return function(r){var n;return e.fullFields?n=AGe(t,e.fullFields):n=t[r.field||e.fullField],kGe(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function _B(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];typeof n=="object"&&typeof e[r]=="object"?e[r]=Df({},e[r],n):e[r]=n}}return e}var wY=function(t,r,n,a,i,o){t.required&&(!n.hasOwnProperty(t.field)||Ha(r,o||t.type))&&a.push(ko(i.messages.required,t.fullField))},IGe=function(t,r,n,a,i){(/^\s+$/.test(r)||r==="")&&a.push(ko(i.messages.whitespace,t.fullField))},s1,OGe=function(){if(s1)return s1;var e="[a-fA-F\\d:]",t=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+r+"$)|(?:^"+a+"$)"),o=new RegExp("^"+r+"$"),s=new RegExp("^"+a+"$"),l=function(w){return w&&w.exact?i:new RegExp("(?:"+t(w)+r+t(w)+")|(?:"+t(w)+a+t(w)+")","g")};l.v4=function(y){return y&&y.exact?o:new RegExp(""+t(y)+r+t(y),"g")},l.v6=function(y){return y&&y.exact?s:new RegExp(""+t(y)+a+t(y),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',b="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+h+v+p+")"+m+g;return s1=new RegExp("(?:^"+b+"$)","i"),s1},xB={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Wp={integer:function(t){return Wp.number(t)&&parseInt(t,10)===t},float:function(t){return Wp.number(t)&&!Wp.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Wp.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(xB.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(OGe())},hex:function(t){return typeof t=="string"&&!!t.match(xB.hex)}},LGe=function(t,r,n,a,i){if(t.required&&r===void 0){wY(t,r,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?Wp[s](r)||a.push(ko(i.messages.types[s],t.fullField,t.type)):s&&typeof r!==t.type&&a.push(ko(i.messages.types[s],t.fullField,t.type))},NGe=function(t,r,n,a,i){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,f=null,d=typeof r=="number",h=typeof r=="string",v=Array.isArray(r);if(d?f="number":h?f="string":v&&(f="array"),!f)return!1;v&&(c=r.length),h&&(c=r.replace(u,"_").length),o?c!==t.len&&a.push(ko(i.messages[f].len,t.fullField,t.len)):s&&!l&&c<t.min?a.push(ko(i.messages[f].min,t.fullField,t.min)):l&&!s&&c>t.max?a.push(ko(i.messages[f].max,t.fullField,t.max)):s&&l&&(c<t.min||c>t.max)&&a.push(ko(i.messages[f].range,t.fullField,t.min,t.max))},ih="enum",PGe=function(t,r,n,a,i){t[ih]=Array.isArray(t[ih])?t[ih]:[],t[ih].indexOf(r)===-1&&a.push(ko(i.messages[ih],t.fullField,t[ih].join(", ")))},DGe=function(t,r,n,a,i){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||a.push(ko(i.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(r)||a.push(ko(i.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},Tn={required:wY,whitespace:IGe,type:LGe,range:NGe,enum:PGe,pattern:DGe},RGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r,"string")&&!t.required)return n();Tn.required(t,r,a,o,i,"string"),Ha(r,"string")||(Tn.type(t,r,a,o,i),Tn.range(t,r,a,o,i),Tn.pattern(t,r,a,o,i),t.whitespace===!0&&Tn.whitespace(t,r,a,o,i))}n(o)},$Ge=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),r!==void 0&&Tn.type(t,r,a,o,i)}n(o)},BGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(r===""&&(r=void 0),Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),r!==void 0&&(Tn.type(t,r,a,o,i),Tn.range(t,r,a,o,i))}n(o)},FGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),r!==void 0&&Tn.type(t,r,a,o,i)}n(o)},zGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),Ha(r)||Tn.type(t,r,a,o,i)}n(o)},GGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),r!==void 0&&(Tn.type(t,r,a,o,i),Tn.range(t,r,a,o,i))}n(o)},jGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),r!==void 0&&(Tn.type(t,r,a,o,i),Tn.range(t,r,a,o,i))}n(o)},VGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(r==null&&!t.required)return n();Tn.required(t,r,a,o,i,"array"),r!=null&&(Tn.type(t,r,a,o,i),Tn.range(t,r,a,o,i))}n(o)},UGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),r!==void 0&&Tn.type(t,r,a,o,i)}n(o)},WGe="enum",HGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i),r!==void 0&&Tn[WGe](t,r,a,o,i)}n(o)},YGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r,"string")&&!t.required)return n();Tn.required(t,r,a,o,i),Ha(r,"string")||Tn.pattern(t,r,a,o,i)}n(o)},KGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r,"date")&&!t.required)return n();if(Tn.required(t,r,a,o,i),!Ha(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),Tn.type(t,l,a,o,i),l&&Tn.range(t,l.getTime(),a,o,i)}}n(o)},XGe=function(t,r,n,a,i){var o=[],s=Array.isArray(r)?"array":typeof r;Tn.required(t,r,a,o,i,s),n(o)},eS=function(t,r,n,a,i){var o=t.type,s=[],l=t.required||!t.required&&a.hasOwnProperty(t.field);if(l){if(Ha(r,o)&&!t.required)return n();Tn.required(t,r,a,s,i,o),Ha(r,o)||Tn.type(t,r,a,s,i)}n(s)},qGe=function(t,r,n,a,i){var o=[],s=t.required||!t.required&&a.hasOwnProperty(t.field);if(s){if(Ha(r)&&!t.required)return n();Tn.required(t,r,a,o,i)}n(o)},wg={string:RGe,method:$Ge,number:BGe,boolean:FGe,regexp:zGe,integer:GGe,float:jGe,array:VGe,object:UGe,enum:HGe,pattern:YGe,date:KGe,url:eS,hex:eS,email:eS,required:XGe,any:qGe};function NM(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var PM=NM(),vm=function(){function e(r){this.rules=null,this._messages=PM,this.define(r)}var t=e.prototype;return t.define=function(n){var a=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];a.rules[i]=Array.isArray(o)?o:[o]})},t.messages=function(n){return n&&(this._messages=_B(NM(),n)),this._messages},t.validate=function(n,a,i){var o=this;a===void 0&&(a={}),i===void 0&&(i=function(){});var s=n,l=a,u=i;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(p){var m=[],g={};function b(w){if(Array.isArray(w)){var _;m=(_=m).concat.apply(_,w)}else m.push(w)}for(var y=0;y<p.length;y++)b(p[y]);m.length?(g=LM(m),u(m,g)):u(null,s)}if(l.messages){var f=this.messages();f===PM&&(f=NM()),_B(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(p){var m=o.rules[p],g=s[p];m.forEach(function(b){var y=b;typeof y.transform=="function"&&(s===n&&(s=Df({},s)),g=s[p]=y.transform(g)),typeof y=="function"?y={validator:y}:y=Df({},y),y.validator=o.getValidationMethod(y),y.validator&&(y.field=p,y.fullField=y.fullField||p,y.type=o.getType(y),d[p]=d[p]||[],d[p].push({rule:y,value:g,source:s,field:p}))})});var v={};return TGe(d,l,function(p,m){var g=p.rule,b=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");b=b&&(g.required||!g.required&&p.value),g.field=p.field;function y(x,S){return Df({},S,{fullField:g.fullField+"."+x,fullFields:g.fullFields?[].concat(g.fullFields,[x]):[x]})}function w(x){x===void 0&&(x=[]);var S=Array.isArray(x)?x:[x];!l.suppressWarning&&S.length&&e.warning("async-validator:",S),S.length&&g.message!==void 0&&(S=[].concat(g.message));var C=S.map(EB(g,s));if(l.first&&C.length)return v[g.field]=1,m(C);if(!b)m(C);else{if(g.required&&!p.value)return g.message!==void 0?C=[].concat(g.message).map(EB(g,s)):l.error&&(C=[l.error(g,ko(l.messages.required,g.field))]),m(C);var T={};g.defaultField&&Object.keys(p.value).map(function(A){T[A]=g.defaultField}),T=Df({},T,p.rule.fields);var M={};Object.keys(T).forEach(function(A){var O=T[A],P=Array.isArray(O)?O:[O];M[A]=P.map(y.bind(null,A))});var k=new e(M);k.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),k.validate(p.value,p.rule.options||l,function(A){var O=[];C&&C.length&&O.push.apply(O,C),A&&A.length&&O.push.apply(O,A),m(O.length?O:null)})}}var _;if(g.asyncValidator)_=g.asyncValidator(g,p.value,w,p.source,l);else if(g.validator){try{_=g.validator(g,p.value,w,p.source,l)}catch(x){console.error==null||console.error(x),l.suppressValidatorError||setTimeout(function(){throw x},0),w(x.message)}_===!0?w():_===!1?w(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):_ instanceof Array?w(_):_ instanceof Error&&w(_.message)}_&&_.then&&_.then(function(){return w()},function(x){return w(x)})},function(p){c(p)},s)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!wg.hasOwnProperty(n.type))throw new Error(ko("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var a=Object.keys(n),i=a.indexOf("message");return i!==-1&&a.splice(i,1),a.length===1&&a[0]==="required"?wg.required:wg[this.getType(n)]||void 0},e}();vm.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");wg[t]=r};vm.warning=xGe;vm.messages=PM;vm.validators=wg;const ZGe=["","error","validating","success"],QGe=it({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ve([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ve([Object,Array])},error:String,validateStatus:{type:String,values:ZGe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Bl}}),SB="ElLabelWrap";var JGe=J({name:SB,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const r=At(Id,void 0),n=At(Il);n||Ta(SB,"usage: <el-form-item><label-wrap /></el-form-item>");const a=Ze("form"),i=W(),o=W(0),s=()=>{var c;if((c=i.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(i.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{Ut(()=>{t.default&&e.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&(r==null||r.deregisterLabelWidth(o.value)))})},u=()=>l("update");return vr(()=>{u()}),On(()=>{l("remove")}),_u(()=>u()),He(o,(c,f)=>{e.updateAll&&(r==null||r.registerLabelWidth(c,f))}),Bn($(()=>{var c,f;return(f=(c=i.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!t)return null;const{isAutoWidth:d}=e;if(d){const h=r==null?void 0:r.autoLabelWidth,v=n==null?void 0:n.hasLabel,p={};if(v&&h&&h!=="auto"){const m=Math.max(0,Number.parseInt(h,10)-o.value),g=r.labelPosition==="left"?"marginRight":"marginLeft";m&&(p[g]=`${m}px`)}return ae("div",{ref:i,class:[a.be("item","label-wrap")],style:p},[(c=t.default)==null?void 0:c.call(t)])}else return ae(zt,{ref:i},[(f=t.default)==null?void 0:f.call(t)])}}});const eje=["role","aria-labelledby"],tje=J({name:"ElFormItem"}),rje=J({...tje,props:QGe,setup(e,{expose:t}){const r=e,n=Ya(),a=At(Id,void 0),i=At(Il,void 0),o=ba(void 0,{formItem:!1}),s=Ze("form-item"),l=bi().value,u=W([]),c=W(""),f=w3e(c,100),d=W(""),h=W();let v,p=!1;const m=$(()=>{if((a==null?void 0:a.labelPosition)==="top")return{};const re=Xn(r.labelWidth||(a==null?void 0:a.labelWidth)||"");return re?{width:re}:{}}),g=$(()=>{if((a==null?void 0:a.labelPosition)==="top"||a!=null&&a.inline)return{};if(!r.label&&!r.labelWidth&&T)return{};const re=Xn(r.labelWidth||(a==null?void 0:a.labelWidth)||"");return!r.label&&!n.label?{marginLeft:re}:{}}),b=$(()=>[s.b(),s.m(o.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",P.value||r.required),s.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:a==null?void 0:a.statusIcon}]),y=$(()=>fa(r.inlineMessage)?r.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),w=$(()=>[s.e("error"),{[s.em("error","inline")]:y.value}]),_=$(()=>r.prop?nr(r.prop)?r.prop:r.prop.join("."):""),x=$(()=>!!(r.label||n.label)),S=$(()=>r.for||(u.value.length===1?u.value[0]:void 0)),C=$(()=>!S.value&&x.value),T=!!i,M=$(()=>{const re=a==null?void 0:a.model;if(!(!re||!r.prop))return q1(re,r.prop).value}),k=$(()=>{const{required:re}=r,oe=[];r.rules&&oe.push(...dd(r.rules));const Ne=a==null?void 0:a.rules;if(Ne&&r.prop){const me=q1(Ne,r.prop).value;me&&oe.push(...dd(me))}if(re!==void 0){const me=oe.map((xe,ze)=>[xe,ze]).filter(([xe])=>Object.keys(xe).includes("required"));if(me.length>0)for(const[xe,ze]of me)xe.required!==re&&(oe[ze]={...xe,required:re});else oe.push({required:re})}return oe}),A=$(()=>k.value.length>0),O=re=>k.value.filter(Ne=>!Ne.trigger||!re?!0:Array.isArray(Ne.trigger)?Ne.trigger.includes(re):Ne.trigger===re).map(({trigger:Ne,...me})=>me),P=$(()=>k.value.some(re=>re.required)),R=$(()=>{var re;return f.value==="error"&&r.showMessage&&((re=a==null?void 0:a.showMessage)!=null?re:!0)}),N=$(()=>`${r.label||""}${(a==null?void 0:a.labelSuffix)||""}`),L=re=>{c.value=re},B=re=>{var oe,Ne;const{errors:me,fields:xe}=re;(!me||!xe)&&console.error(re),L("error"),d.value=me?(Ne=(oe=me==null?void 0:me[0])==null?void 0:oe.message)!=null?Ne:`${r.prop} is required`:"",a==null||a.emit("validate",r.prop,!1,d.value)},I=()=>{L("success"),a==null||a.emit("validate",r.prop,!0,"")},D=async re=>{const oe=_.value;return new vm({[oe]:re}).validate({[oe]:M.value},{firstFields:!0}).then(()=>(I(),!0)).catch(me=>(B(me),Promise.reject(me)))},z=async(re,oe)=>{if(p||!r.prop)return!1;const Ne=Jt(oe);if(!A.value)return oe==null||oe(!1),!1;const me=O(re);return me.length===0?(oe==null||oe(!0),!0):(L("validating"),D(me).then(()=>(oe==null||oe(!0),!0)).catch(xe=>{const{fields:ze}=xe;return oe==null||oe(!1,ze),Ne?!1:Promise.reject(ze)}))},U=()=>{L(""),d.value="",p=!1},H=async()=>{const re=a==null?void 0:a.model;if(!re||!r.prop)return;const oe=q1(re,r.prop);p=!0,oe.value=V5(v),await Ut(),U(),p=!1},Y=re=>{u.value.includes(re)||u.value.push(re)},ie=re=>{u.value=u.value.filter(oe=>oe!==re)};He(()=>r.error,re=>{d.value=re||"",L(re?"error":"")},{immediate:!0}),He(()=>r.validateStatus,re=>L(re||""));const X=cn({...ui(r),$el:h,size:o,validateState:c,labelId:l,inputIds:u,isGroup:C,hasLabel:x,fieldValue:M,addInputId:Y,removeInputId:ie,resetField:H,clearValidate:U,validate:z});return $r(Il,X),vr(()=>{r.prop&&(a==null||a.addField(X),v=V5(M.value))}),On(()=>{a==null||a.removeField(X)}),t({size:o,validateMessage:d,validateState:c,validate:z,clearValidate:U,resetField:H}),(re,oe)=>{var Ne;return F(),K("div",{ref_key:"formItemRef",ref:h,class:G(E(b)),role:E(C)?"group":void 0,"aria-labelledby":E(C)?E(l):void 0},[ae(E(JGe),{"is-auto-width":E(m).width==="auto","update-all":((Ne=E(a))==null?void 0:Ne.labelWidth)==="auto"},{default:he(()=>[E(x)?(F(),Oe(kr(E(S)?"label":"div"),{key:0,id:E(l),for:E(S),class:G(E(s).e("label")),style:Bt(E(m))},{default:he(()=>[Pe(re.$slots,"label",{label:E(N)},()=>[qr(ct(E(N)),1)])]),_:3},8,["id","for","class","style"])):be("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),Z("div",{class:G(E(s).e("content")),style:Bt(E(g))},[Pe(re.$slots,"default"),ae(r8,{name:`${E(s).namespace.value}-zoom-in-top`},{default:he(()=>[E(R)?Pe(re.$slots,"error",{key:0,error:d.value},()=>[Z("div",{class:G(E(w))},ct(d.value),3)]):be("v-if",!0)]),_:3},8,["name"])],6)],10,eje)}}});var EY=ut(rje,[["__file","form-item.vue"]]);const nje=_r(yGe,{FormItem:EY}),aje=jn(EY);let ws;const ije=`
  height:0 !important;
  visibility:hidden !important;
  ${GW()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,oje=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function sje(e){const t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:oje.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:a,boxSizing:r}}function CB(e,t=1,r){var n;ws||(ws=document.createElement("textarea"),document.body.appendChild(ws));const{paddingSize:a,borderSize:i,boxSizing:o,contextStyle:s}=sje(e);ws.setAttribute("style",`${s};${ije}`),ws.value=e.value||e.placeholder||"";let l=ws.scrollHeight;const u={};o==="border-box"?l=l+i:o==="content-box"&&(l=l-a),ws.value="";const c=ws.scrollHeight-a;if(Qt(t)){let f=c*t;o==="border-box"&&(f=f+a+i),l=Math.max(f,l),u.minHeight=`${f}px`}if(Qt(r)){let f=c*r;o==="border-box"&&(f=f+a+i),l=Math.min(f,l)}return u.height=`${l}px`,(n=ws.parentNode)==null||n.removeChild(ws),ws=void 0,u}const lje=it({id:{type:String,default:void 0},size:Da,disabled:Boolean,modelValue:{type:ve([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ve([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Cn},prefixIcon:{type:Cn},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ve([Object,Array,String]),default:()=>Fn({})},autofocus:{type:Boolean,default:!1}}),uje={[Mr]:e=>nr(e),input:e=>nr(e),change:e=>nr(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},cje=["role"],fje=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],dje=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],hje=J({name:"ElInput",inheritAttrs:!1}),vje=J({...hje,props:lje,emits:uje,setup(e,{expose:t,emit:r}){const n=e,a=bd(),i=Ya(),o=$(()=>{const fe={};return n.containerRole==="combobox"&&(fe["aria-haspopup"]=a["aria-haspopup"],fe["aria-owns"]=a["aria-owns"],fe["aria-expanded"]=a["aria-expanded"]),fe}),s=$(()=>[n.type==="textarea"?m.b():p.b(),p.m(h.value),p.is("disabled",v.value),p.is("exceed",Y.value),{[p.b("group")]:i.prepend||i.append,[p.bm("group","append")]:i.append,[p.bm("group","prepend")]:i.prepend,[p.m("prefix")]:i.prefix||n.prefixIcon,[p.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[p.bm("suffix","password-clear")]:D.value&&z.value,[p.b("hidden")]:n.type==="hidden"},a.class]),l=$(()=>[p.e("wrapper"),p.is("focus",M.value)]),u=GI({excludeKeys:$(()=>Object.keys(o.value))}),{form:c,formItem:f}=Oi(),{inputId:d}=Ys(n,{formItemContext:f}),h=ba(),v=Ui(),p=Ze("input"),m=Ze("textarea"),g=Pn(),b=Pn(),y=W(!1),w=W(!1),_=W(!1),x=W(),S=Pn(n.inputStyle),C=$(()=>g.value||b.value),{wrapperRef:T,isFocused:M,handleFocus:k,handleBlur:A}=v2(C,{afterBlur(){var fe;n.validateEvent&&((fe=f==null?void 0:f.validate)==null||fe.call(f,"blur").catch(ge=>void 0))}}),O=$(()=>{var fe;return(fe=c==null?void 0:c.statusIcon)!=null?fe:!1}),P=$(()=>(f==null?void 0:f.validateState)||""),R=$(()=>P.value&&FI[P.value]),N=$(()=>_.value?wFe:U6e),L=$(()=>[a.style]),B=$(()=>[n.inputStyle,S.value,{resize:n.resize}]),I=$(()=>Ua(n.modelValue)?"":String(n.modelValue)),D=$(()=>n.clearable&&!v.value&&!n.readonly&&!!I.value&&(M.value||y.value)),z=$(()=>n.showPassword&&!v.value&&!n.readonly&&!!I.value&&(!!I.value||M.value)),U=$(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!v.value&&!n.readonly&&!n.showPassword),H=$(()=>I.value.length),Y=$(()=>!!U.value&&H.value>Number(n.maxlength)),ie=$(()=>!!i.suffix||!!n.suffixIcon||D.value||n.showPassword||U.value||!!P.value&&O.value),[X,re]=$ze(g);Bn(b,fe=>{if(me(),!U.value||n.resize!=="both")return;const ge=fe[0],{width:Ue}=ge.contentRect;x.value={right:`calc(100% - ${Ue+15+6}px)`}});const oe=()=>{const{type:fe,autosize:ge}=n;if(!(!Ur||fe!=="textarea"||!b.value))if(ge){const Ue=Sr(ge)?ge.minRows:void 0,tt=Sr(ge)?ge.maxRows:void 0,ot=CB(b.value,Ue,tt);S.value={overflowY:"hidden",...ot},Ut(()=>{b.value.offsetHeight,S.value=ot})}else S.value={minHeight:CB(b.value).minHeight}},me=(fe=>{let ge=!1;return()=>{var Ue;if(ge||!n.autosize)return;((Ue=b.value)==null?void 0:Ue.offsetParent)===null||(fe(),ge=!0)}})(oe),xe=()=>{const fe=C.value,ge=n.formatter?n.formatter(I.value):I.value;!fe||fe.value===ge||(fe.value=ge)},ze=async fe=>{X();let{value:ge}=fe.target;if(n.formatter&&(ge=n.parser?n.parser(ge):ge),!w.value){if(ge===I.value){xe();return}r(Mr,ge),r("input",ge),await Ut(),xe(),re()}},te=fe=>{r("change",fe.target.value)},le=fe=>{r("compositionstart",fe),w.value=!0},Ae=fe=>{var ge;r("compositionupdate",fe);const Ue=(ge=fe.target)==null?void 0:ge.value,tt=Ue[Ue.length-1]||"";w.value=!zI(tt)},Ve=fe=>{r("compositionend",fe),w.value&&(w.value=!1,ze(fe))},Ie=()=>{_.value=!_.value,De()},De=async()=>{var fe;await Ut(),(fe=C.value)==null||fe.focus()},Ge=()=>{var fe;return(fe=C.value)==null?void 0:fe.blur()},Qe=fe=>{y.value=!1,r("mouseleave",fe)},ke=fe=>{y.value=!0,r("mouseenter",fe)},q=fe=>{r("keydown",fe)},j=()=>{var fe;(fe=C.value)==null||fe.select()},Ce=()=>{r(Mr,""),r("change",""),r("clear"),r("input","")};return He(()=>n.modelValue,()=>{var fe;Ut(()=>oe()),n.validateEvent&&((fe=f==null?void 0:f.validate)==null||fe.call(f,"change").catch(ge=>void 0))}),He(I,()=>xe()),He(()=>n.type,async()=>{await Ut(),xe(),oe()}),vr(()=>{!n.formatter&&n.parser,xe(),Ut(oe)}),t({input:g,textarea:b,ref:C,textareaStyle:B,autosize:kn(n,"autosize"),focus:De,blur:Ge,select:j,clear:Ce,resizeTextarea:oe}),(fe,ge)=>(F(),K("div",Dr(E(o),{class:E(s),style:E(L),role:fe.containerRole,onMouseenter:ke,onMouseleave:Qe}),[be(" input "),fe.type!=="textarea"?(F(),K(zt,{key:0},[be(" prepend slot "),fe.$slots.prepend?(F(),K("div",{key:0,class:G(E(p).be("group","prepend"))},[Pe(fe.$slots,"prepend")],2)):be("v-if",!0),Z("div",{ref_key:"wrapperRef",ref:T,class:G(E(l))},[be(" prefix slot "),fe.$slots.prefix||fe.prefixIcon?(F(),K("span",{key:0,class:G(E(p).e("prefix"))},[Z("span",{class:G(E(p).e("prefix-inner"))},[Pe(fe.$slots,"prefix"),fe.prefixIcon?(F(),Oe(E($t),{key:0,class:G(E(p).e("icon"))},{default:he(()=>[(F(),Oe(kr(fe.prefixIcon)))]),_:1},8,["class"])):be("v-if",!0)],2)],2)):be("v-if",!0),Z("input",Dr({id:E(d),ref_key:"input",ref:g,class:E(p).e("inner")},E(u),{minlength:fe.minlength,maxlength:fe.maxlength,type:fe.showPassword?_.value?"text":"password":fe.type,disabled:E(v),readonly:fe.readonly,autocomplete:fe.autocomplete,tabindex:fe.tabindex,"aria-label":fe.label,placeholder:fe.placeholder,style:fe.inputStyle,form:fe.form,autofocus:fe.autofocus,onCompositionstart:le,onCompositionupdate:Ae,onCompositionend:Ve,onInput:ze,onFocus:ge[0]||(ge[0]=(...Ue)=>E(k)&&E(k)(...Ue)),onBlur:ge[1]||(ge[1]=(...Ue)=>E(A)&&E(A)(...Ue)),onChange:te,onKeydown:q}),null,16,fje),be(" suffix slot "),E(ie)?(F(),K("span",{key:1,class:G(E(p).e("suffix"))},[Z("span",{class:G(E(p).e("suffix-inner"))},[!E(D)||!E(z)||!E(U)?(F(),K(zt,{key:0},[Pe(fe.$slots,"suffix"),fe.suffixIcon?(F(),Oe(E($t),{key:0,class:G(E(p).e("icon"))},{default:he(()=>[(F(),Oe(kr(fe.suffixIcon)))]),_:1},8,["class"])):be("v-if",!0)],64)):be("v-if",!0),E(D)?(F(),Oe(E($t),{key:1,class:G([E(p).e("icon"),E(p).e("clear")]),onMousedown:tr(E(mn),["prevent"]),onClick:Ce},{default:he(()=>[ae(E(Kc))]),_:1},8,["class","onMousedown"])):be("v-if",!0),E(z)?(F(),Oe(E($t),{key:2,class:G([E(p).e("icon"),E(p).e("password")]),onClick:Ie},{default:he(()=>[(F(),Oe(kr(E(N))))]),_:1},8,["class"])):be("v-if",!0),E(U)?(F(),K("span",{key:3,class:G(E(p).e("count"))},[Z("span",{class:G(E(p).e("count-inner"))},ct(E(H))+" / "+ct(fe.maxlength),3)],2)):be("v-if",!0),E(P)&&E(R)&&E(O)?(F(),Oe(E($t),{key:4,class:G([E(p).e("icon"),E(p).e("validateIcon"),E(p).is("loading",E(P)==="validating")])},{default:he(()=>[(F(),Oe(kr(E(R))))]),_:1},8,["class"])):be("v-if",!0)],2)],2)):be("v-if",!0)],2),be(" append slot "),fe.$slots.append?(F(),K("div",{key:1,class:G(E(p).be("group","append"))},[Pe(fe.$slots,"append")],2)):be("v-if",!0)],64)):(F(),K(zt,{key:1},[be(" textarea "),Z("textarea",Dr({id:E(d),ref_key:"textarea",ref:b,class:E(m).e("inner")},E(u),{minlength:fe.minlength,maxlength:fe.maxlength,tabindex:fe.tabindex,disabled:E(v),readonly:fe.readonly,autocomplete:fe.autocomplete,style:E(B),"aria-label":fe.label,placeholder:fe.placeholder,form:fe.form,autofocus:fe.autofocus,onCompositionstart:le,onCompositionupdate:Ae,onCompositionend:Ve,onInput:ze,onFocus:ge[2]||(ge[2]=(...Ue)=>E(k)&&E(k)(...Ue)),onBlur:ge[3]||(ge[3]=(...Ue)=>E(A)&&E(A)(...Ue)),onChange:te,onKeydown:q}),null,16,dje),E(U)?(F(),K("span",{key:0,style:Bt(x.value),class:G(E(p).e("count"))},ct(E(H))+" / "+ct(fe.maxlength),7)):be("v-if",!0)],64))],16,cje))}});var pje=ut(vje,[["__file","input.vue"]]);const Mi=_r(pje),oh=4,_Y={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},gje=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),lO=Symbol("scrollbarContextKey"),mje=it({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),yje="Thumb",bje=J({__name:"thumb",props:mje,setup(e){const t=e,r=At(lO),n=Ze("scrollbar");r||Ta(yje,"can not inject scrollbar context");const a=W(),i=W(),o=W({}),s=W(!1);let l=!1,u=!1,c=Ur?document.onselectstart:null;const f=$(()=>_Y[t.vertical?"vertical":"horizontal"]),d=$(()=>gje({size:t.size,move:t.move,bar:f.value})),h=$(()=>a.value[f.value.offset]**2/r.wrapElement[f.value.scrollSize]/t.ratio/i.value[f.value.offset]),v=x=>{var S;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(S=window.getSelection())==null||S.removeAllRanges(),m(x);const C=x.currentTarget;C&&(o.value[f.value.axis]=C[f.value.offset]-(x[f.value.client]-C.getBoundingClientRect()[f.value.direction]))},p=x=>{if(!i.value||!a.value||!r.wrapElement)return;const S=Math.abs(x.target.getBoundingClientRect()[f.value.direction]-x[f.value.client]),C=i.value[f.value.offset]/2,T=(S-C)*100*h.value/a.value[f.value.offset];r.wrapElement[f.value.scroll]=T*r.wrapElement[f.value.scrollSize]/100},m=x=>{x.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",b),c=document.onselectstart,document.onselectstart=()=>!1},g=x=>{if(!a.value||!i.value||l===!1)return;const S=o.value[f.value.axis];if(!S)return;const C=(a.value.getBoundingClientRect()[f.value.direction]-x[f.value.client])*-1,T=i.value[f.value.offset]-S,M=(C-T)*100*h.value/a.value[f.value.offset];r.wrapElement[f.value.scroll]=M*r.wrapElement[f.value.scrollSize]/100},b=()=>{l=!1,o.value[f.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",b),_(),u&&(s.value=!1)},y=()=>{u=!1,s.value=!!t.size},w=()=>{u=!0,s.value=l};On(()=>{_(),document.removeEventListener("mouseup",b)});const _=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return Ln(kn(r,"scrollbarElement"),"mousemove",y),Ln(kn(r,"scrollbarElement"),"mouseleave",w),(x,S)=>(F(),Oe(Ma,{name:E(n).b("fade"),persisted:""},{default:he(()=>[cr(Z("div",{ref_key:"instance",ref:a,class:G([E(n).e("bar"),E(n).is(E(f).key)]),onMousedown:p},[Z("div",{ref_key:"thumb",ref:i,class:G(E(n).e("thumb")),style:Bt(E(d)),onMousedown:v},null,38)],34),[[nn,x.always||s.value]])]),_:1},8,["name"]))}});var MB=ut(bje,[["__file","thumb.vue"]]);const wje=it({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Eje=J({__name:"bar",props:wje,setup(e,{expose:t}){const r=e,n=At(lO),a=W(0),i=W(0),o=W(""),s=W(""),l=W(1),u=W(1);return t({handleScroll:d=>{if(d){const h=d.offsetHeight-oh,v=d.offsetWidth-oh;i.value=d.scrollTop*100/h*l.value,a.value=d.scrollLeft*100/v*u.value}},update:()=>{const d=n==null?void 0:n.wrapElement;if(!d)return;const h=d.offsetHeight-oh,v=d.offsetWidth-oh,p=h**2/d.scrollHeight,m=v**2/d.scrollWidth,g=Math.max(p,r.minSize),b=Math.max(m,r.minSize);l.value=p/(h-p)/(g/(h-g)),u.value=m/(v-m)/(b/(v-b)),s.value=g+oh<h?`${g}px`:"",o.value=b+oh<v?`${b}px`:""}}),(d,h)=>(F(),K(zt,null,[ae(MB,{move:a.value,ratio:u.value,size:o.value,always:d.always},null,8,["move","ratio","size","always"]),ae(MB,{move:i.value,ratio:l.value,size:s.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var _je=ut(Eje,[["__file","bar.vue"]]);const xje=it({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ve([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Sje={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Qt)},Cje="ElScrollbar",Mje=J({name:Cje}),Tje=J({...Mje,props:xje,emits:Sje,setup(e,{expose:t,emit:r}){const n=e,a=Ze("scrollbar");let i,o;const s=W(),l=W(),u=W(),c=W(),f=$(()=>{const y={};return n.height&&(y.height=Xn(n.height)),n.maxHeight&&(y.maxHeight=Xn(n.maxHeight)),[n.wrapStyle,y]}),d=$(()=>[n.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!n.native}]),h=$(()=>[a.e("view"),n.viewClass]),v=()=>{var y;l.value&&((y=c.value)==null||y.handleScroll(l.value),r("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function p(y,w){Sr(y)?l.value.scrollTo(y):Qt(y)&&Qt(w)&&l.value.scrollTo(y,w)}const m=y=>{Qt(y)&&(l.value.scrollTop=y)},g=y=>{Qt(y)&&(l.value.scrollLeft=y)},b=()=>{var y;(y=c.value)==null||y.update()};return He(()=>n.noresize,y=>{y?(i==null||i(),o==null||o()):({stop:i}=Bn(u,b),o=Ln("resize",b))},{immediate:!0}),He(()=>[n.maxHeight,n.height],()=>{n.native||Ut(()=>{var y;b(),l.value&&((y=c.value)==null||y.handleScroll(l.value))})}),$r(lO,cn({scrollbarElement:s,wrapElement:l})),vr(()=>{n.native||Ut(()=>{b()})}),_u(()=>b()),t({wrapRef:l,update:b,scrollTo:p,setScrollTop:m,setScrollLeft:g,handleScroll:v}),(y,w)=>(F(),K("div",{ref_key:"scrollbarRef",ref:s,class:G(E(a).b())},[Z("div",{ref_key:"wrapRef",ref:l,class:G(E(d)),style:Bt(E(f)),onScroll:v},[(F(),Oe(kr(y.tag),{id:y.id,ref_key:"resizeRef",ref:u,class:G(E(h)),style:Bt(y.viewStyle),role:y.role,"aria-label":y.ariaLabel,"aria-orientation":y.ariaOrientation},{default:he(()=>[Pe(y.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),y.native?be("v-if",!0):(F(),Oe(_je,{key:0,ref_key:"barRef",ref:c,always:y.always,"min-size":y.minSize},null,8,["always","min-size"]))],2))}});var kje=ut(Tje,[["__file","scrollbar.vue"]]);const Pu=_r(kje),uO=Symbol("popper"),xY=Symbol("popperContent"),Aje=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],SY=it({role:{type:String,values:Aje,default:"tooltip"}}),Ije=J({name:"ElPopper",inheritAttrs:!1}),Oje=J({...Ije,props:SY,setup(e,{expose:t}){const r=e,n=W(),a=W(),i=W(),o=W(),s=$(()=>r.role),l={triggerRef:n,popperInstanceRef:a,contentRef:i,referenceRef:o,role:s};return t(l),$r(uO,l),(u,c)=>Pe(u.$slots,"default")}});var Lje=ut(Oje,[["__file","popper.vue"]]);const CY=it({arrowOffset:{type:Number,default:5}}),Nje=J({name:"ElPopperArrow",inheritAttrs:!1}),Pje=J({...Nje,props:CY,setup(e,{expose:t}){const r=e,n=Ze("popper"),{arrowOffset:a,arrowRef:i,arrowStyle:o}=At(xY,void 0);return He(()=>r.arrowOffset,s=>{a.value=s}),On(()=>{i.value=void 0}),t({arrowRef:i}),(s,l)=>(F(),K("span",{ref_key:"arrowRef",ref:i,class:G(E(n).e("arrow")),style:Bt(E(o)),"data-popper-arrow":""},null,6))}});var Dje=ut(Pje,[["__file","arrow.vue"]]);const Rje="ElOnlyChild",MY=J({name:Rje,setup(e,{slots:t,attrs:r}){var n;const a=At(tY),i=eze((n=a==null?void 0:a.setForwardRef)!=null?n:mn);return()=>{var o;const s=(o=t.default)==null?void 0:o.call(t,r);if(!s||s.length>1)return null;const l=TY(s);return l?cr(pu(l,r),[[i]]):null}}});function TY(e){if(!e)return null;const t=e;for(const r of t){if(Sr(r))switch(r.type){case Bi:continue;case Iv:case"svg":return TB(r);case zt:return TY(r.children);default:return r}return TB(r)}return null}function TB(e){const t=Ze("only-child");return ae("span",{class:t.e("content")},[e])}const kY=it({virtualRef:{type:ve(Object)},virtualTriggering:Boolean,onMouseenter:{type:ve(Function)},onMouseleave:{type:ve(Function)},onClick:{type:ve(Function)},onKeydown:{type:ve(Function)},onFocus:{type:ve(Function)},onBlur:{type:ve(Function)},onContextmenu:{type:ve(Function)},id:String,open:Boolean}),$je=J({name:"ElPopperTrigger",inheritAttrs:!1}),Bje=J({...$je,props:kY,setup(e,{expose:t}){const r=e,{role:n,triggerRef:a}=At(uO,void 0);J8e(a);const i=$(()=>s.value?r.id:void 0),o=$(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),s=$(()=>{if(n&&n.value!=="tooltip")return n.value}),l=$(()=>s.value?`${r.open}`:void 0);let u;return vr(()=>{He(()=>r.virtualRef,c=>{c&&(a.value=ro(c))},{immediate:!0}),He(a,(c,f)=>{u==null||u(),u=void 0,us(c)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(d=>{var h;const v=r[d];v&&(c.addEventListener(d.slice(2).toLowerCase(),v),(h=f==null?void 0:f.removeEventListener)==null||h.call(f,d.slice(2).toLowerCase(),v))}),u=He([i,o,s,l],d=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,v)=>{Ua(d[v])?c.removeAttribute(h):c.setAttribute(h,d[v])})},{immediate:!0})),us(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(d=>f.removeAttribute(d))},{immediate:!0})}),On(()=>{u==null||u(),u=void 0}),t({triggerRef:a}),(c,f)=>c.virtualTriggering?be("v-if",!0):(F(),Oe(E(MY),Dr({key:0},c.$attrs,{"aria-controls":E(i),"aria-describedby":E(o),"aria-expanded":E(l),"aria-haspopup":E(s)}),{default:he(()=>[Pe(c.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Fje=ut(Bje,[["__file","trigger.vue"]]);const tS="focus-trap.focus-after-trapped",rS="focus-trap.focus-after-released",zje="focus-trap.focusout-prevented",kB={cancelable:!0,bubbles:!1},Gje={cancelable:!0,bubbles:!1},AB="focusAfterTrapped",IB="focusAfterReleased",cO=Symbol("elFocusTrap"),fO=W(),m2=W(0),dO=W(0);let l1=0;const AY=e=>{const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t},OB=(e,t)=>{for(const r of e)if(!jje(r,t))return r},jje=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Vje=e=>{const t=AY(e),r=OB(t,e),n=OB(t.reverse(),e);return[r,n]},Uje=e=>e instanceof HTMLInputElement&&"select"in e,Zu=(e,t)=>{if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),dO.value=window.performance.now(),e!==r&&Uje(e)&&t&&e.select()}};function LB(e,t){const r=[...e],n=e.indexOf(t);return n!==-1&&r.splice(n,1),r}const Wje=()=>{let e=[];return{push:n=>{const a=e[0];a&&n!==a&&a.pause(),e=LB(e,n),e.unshift(n)},remove:n=>{var a,i;e=LB(e,n),(i=(a=e[0])==null?void 0:a.resume)==null||i.call(a)}}},Hje=(e,t=!1)=>{const r=document.activeElement;for(const n of e)if(Zu(n,t),document.activeElement!==r)return},NB=Wje(),Yje=()=>m2.value>dO.value,u1=()=>{fO.value="pointer",m2.value=window.performance.now()},PB=()=>{fO.value="keyboard",m2.value=window.performance.now()},Kje=()=>(vr(()=>{l1===0&&(document.addEventListener("mousedown",u1),document.addEventListener("touchstart",u1),document.addEventListener("keydown",PB)),l1++}),On(()=>{l1--,l1<=0&&(document.removeEventListener("mousedown",u1),document.removeEventListener("touchstart",u1),document.removeEventListener("keydown",PB))}),{focusReason:fO,lastUserFocusTimestamp:m2,lastAutomatedFocusTimestamp:dO}),c1=e=>new CustomEvent(zje,{...Gje,detail:e}),Xje=J({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[AB,IB,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const r=W();let n,a;const{focusReason:i}=Kje();K8e(v=>{e.trapped&&!o.paused&&t("release-requested",v)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=v=>{if(!e.loop&&!e.trapped||o.paused)return;const{key:p,altKey:m,ctrlKey:g,metaKey:b,currentTarget:y,shiftKey:w}=v,{loop:_}=e,x=p===Kt.tab&&!m&&!g&&!b,S=document.activeElement;if(x&&S){const C=y,[T,M]=Vje(C);if(T&&M){if(!w&&S===M){const A=c1({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||(v.preventDefault(),_&&Zu(T,!0))}else if(w&&[T,C].includes(S)){const A=c1({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||(v.preventDefault(),_&&Zu(M,!0))}}else if(S===C){const A=c1({focusReason:i.value});t("focusout-prevented",A),A.defaultPrevented||v.preventDefault()}}};$r(cO,{focusTrapRef:r,onKeydown:s}),He(()=>e.focusTrapEl,v=>{v&&(r.value=v)},{immediate:!0}),He([r],([v],[p])=>{v&&(v.addEventListener("keydown",s),v.addEventListener("focusin",c),v.addEventListener("focusout",f)),p&&(p.removeEventListener("keydown",s),p.removeEventListener("focusin",c),p.removeEventListener("focusout",f))});const l=v=>{t(AB,v)},u=v=>t(IB,v),c=v=>{const p=E(r);if(!p)return;const m=v.target,g=v.relatedTarget,b=m&&p.contains(m);e.trapped||g&&p.contains(g)||(n=g),b&&t("focusin",v),!o.paused&&e.trapped&&(b?a=m:Zu(a,!0))},f=v=>{const p=E(r);if(!(o.paused||!p))if(e.trapped){const m=v.relatedTarget;!Ua(m)&&!p.contains(m)&&setTimeout(()=>{if(!o.paused&&e.trapped){const g=c1({focusReason:i.value});t("focusout-prevented",g),g.defaultPrevented||Zu(a,!0)}},0)}else{const m=v.target;m&&p.contains(m)||t("focusout",v)}};async function d(){await Ut();const v=E(r);if(v){NB.push(o);const p=v.contains(document.activeElement)?n:document.activeElement;if(n=p,!v.contains(p)){const g=new Event(tS,kB);v.addEventListener(tS,l),v.dispatchEvent(g),g.defaultPrevented||Ut(()=>{let b=e.focusStartEl;nr(b)||(Zu(b),document.activeElement!==b&&(b="first")),b==="first"&&Hje(AY(v),!0),(document.activeElement===p||b==="container")&&Zu(v)})}}}function h(){const v=E(r);if(v){v.removeEventListener(tS,l);const p=new CustomEvent(rS,{...kB,detail:{focusReason:i.value}});v.addEventListener(rS,u),v.dispatchEvent(p),!p.defaultPrevented&&(i.value=="keyboard"||!Yje()||v.contains(document.activeElement))&&Zu(n??document.body),v.removeEventListener(rS,u),NB.remove(o)}}return vr(()=>{e.trapped&&d(),He(()=>e.trapped,v=>{v?d():h()})}),On(()=>{e.trapped&&h()}),{onKeydown:s}}});function qje(e,t,r,n,a,i){return Pe(e.$slots,"default",{handleKeydown:e.onKeydown})}var pm=ut(Xje,[["render",qje],["__file","focus-trap.vue"]]);const Zje=["fixed","absolute"],Qje=it({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ve(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ad,default:"bottom"},popperOptions:{type:ve(Object),default:()=>({})},strategy:{type:String,values:Zje,default:"absolute"}}),IY=it({...Qje,id:String,style:{type:ve([String,Array,Object])},className:{type:ve([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ve([String,Array,Object])},popperStyle:{type:ve([String,Array,Object])},referenceEl:{type:ve(Object)},triggerTargetEl:{type:ve(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),Jje={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},eVe=(e,t=[])=>{const{placement:r,strategy:n,popperOptions:a}=e,i={placement:r,strategy:n,...a,modifiers:[...rVe(e),...t]};return nVe(i,a==null?void 0:a.modifiers),i},tVe=e=>{if(Ur)return ro(e)};function rVe(e){const{offset:t,gpuAcceleration:r,fallbackPlacements:n}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function nVe(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const aVe=0,iVe=e=>{const{popperInstanceRef:t,contentRef:r,triggerRef:n,role:a}=At(uO,void 0),i=W(),o=W(),s=$(()=>({name:"eventListeners",enabled:!!e.visible})),l=$(()=>{var g;const b=E(i),y=(g=E(o))!=null?g:aVe;return{name:"arrow",enabled:!CH(b),options:{element:b,padding:y}}}),u=$(()=>({onFirstUpdate:()=>{v()},...eVe(e,[E(l),E(s)])})),c=$(()=>tVe(e.referenceEl)||E(n)),{attributes:f,state:d,styles:h,update:v,forceUpdate:p,instanceRef:m}=U8e(c,r,u);return He(m,g=>t.value=g),vr(()=>{He(()=>{var g;return(g=E(c))==null?void 0:g.getBoundingClientRect()},()=>{v()})}),{attributes:f,arrowRef:i,contentRef:r,instanceRef:m,state:d,styles:h,role:a,forceUpdate:p,update:v}},oVe=(e,{attributes:t,styles:r,role:n})=>{const{nextZIndex:a}=Gv(),i=Ze("popper"),o=$(()=>E(t).popper),s=W(Qt(e.zIndex)?e.zIndex:a()),l=$(()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass]),u=$(()=>[{zIndex:E(s)},E(r).popper,e.popperStyle||{}]),c=$(()=>n.value==="dialog"?"false":void 0),f=$(()=>E(r).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:o,contentClass:l,contentStyle:u,contentZIndex:s,updateZIndex:()=>{s.value=Qt(e.zIndex)?e.zIndex:a()}}},sVe=(e,t)=>{const r=W(!1),n=W();return{focusStartRef:n,trapped:r,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(n.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:u=>{e.visible&&!r.value&&(u.target&&(n.value=u.target),r.value=!0)},onFocusoutPrevented:u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,t("close")}}},lVe=J({name:"ElPopperContent"}),uVe=J({...lVe,props:IY,emits:Jje,setup(e,{expose:t,emit:r}){const n=e,{focusStartRef:a,trapped:i,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=sVe(n,r),{attributes:f,arrowRef:d,contentRef:h,styles:v,instanceRef:p,role:m,update:g}=iVe(n),{ariaModal:b,arrowStyle:y,contentAttrs:w,contentClass:_,contentStyle:x,updateZIndex:S}=oVe(n,{styles:v,attributes:f,role:m}),C=At(Il,void 0),T=W();$r(xY,{arrowStyle:y,arrowRef:d,arrowOffset:T}),C&&(C.addInputId||C.removeInputId)&&$r(Il,{...C,addInputId:mn,removeInputId:mn});let M;const k=(O=!0)=>{g(),O&&S()},A=()=>{k(!1),n.visible&&n.focusOnShow?i.value=!0:n.visible===!1&&(i.value=!1)};return vr(()=>{He(()=>n.triggerTargetEl,(O,P)=>{M==null||M(),M=void 0;const R=E(O||h.value),N=E(P||h.value);us(R)&&(M=He([m,()=>n.ariaLabel,b,()=>n.id],L=>{["role","aria-label","aria-modal","id"].forEach((B,I)=>{Ua(L[I])?R.removeAttribute(B):R.setAttribute(B,L[I])})},{immediate:!0})),N!==R&&us(N)&&["role","aria-label","aria-modal","id"].forEach(L=>{N.removeAttribute(L)})},{immediate:!0}),He(()=>n.visible,A,{immediate:!0})}),On(()=>{M==null||M(),M=void 0}),t({popperContentRef:h,popperInstanceRef:p,updatePopper:k,contentStyle:x}),(O,P)=>(F(),K("div",Dr({ref_key:"contentRef",ref:h},E(w),{style:E(x),class:E(_),tabindex:"-1",onMouseenter:P[0]||(P[0]=R=>O.$emit("mouseenter",R)),onMouseleave:P[1]||(P[1]=R=>O.$emit("mouseleave",R))}),[ae(E(pm),{trapped:E(i),"trap-on-focus-in":!0,"focus-trap-el":E(h),"focus-start-el":E(a),onFocusAfterTrapped:E(s),onFocusAfterReleased:E(o),onFocusin:E(l),onFocusoutPrevented:E(u),onReleaseRequested:E(c)},{default:he(()=>[Pe(O.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var cVe=ut(uVe,[["__file","content.vue"]]);const OY=_r(Lje),y2=Symbol("elTooltip"),ni=it({...Z8e,...IY,appendTo:{type:ve([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:ve(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),c0=it({...kY,disabled:Boolean,trigger:{type:ve([String,Array]),default:"hover"},triggerKeys:{type:ve(Array),default:()=>[Kt.enter,Kt.space]}}),{useModelToggleProps:fVe,useModelToggleEmits:dVe,useModelToggle:hVe}=GH("visible"),vVe=it({...SY,...fVe,...ni,...c0,...CY,showArrow:{type:Boolean,default:!0}}),pVe=[...dVe,"before-show","before-hide","show","hide","open","close"],gVe=(e,t)=>_t(e)?e.includes(t):e===t,sh=(e,t,r)=>n=>{gVe(E(e),t)&&r(n)},mVe=J({name:"ElTooltipTrigger"}),yVe=J({...mVe,props:c0,setup(e,{expose:t}){const r=e,n=Ze("tooltip"),{controlled:a,id:i,open:o,onOpen:s,onClose:l,onToggle:u}=At(y2,void 0),c=W(null),f=()=>{if(E(a)||r.disabled)return!0},d=kn(r,"trigger"),h=Yn(f,sh(d,"hover",s)),v=Yn(f,sh(d,"hover",l)),p=Yn(f,sh(d,"click",w=>{w.button===0&&u(w)})),m=Yn(f,sh(d,"focus",s)),g=Yn(f,sh(d,"focus",l)),b=Yn(f,sh(d,"contextmenu",w=>{w.preventDefault(),u(w)})),y=Yn(f,w=>{const{code:_}=w;r.triggerKeys.includes(_)&&(w.preventDefault(),u(w))});return t({triggerRef:c}),(w,_)=>(F(),Oe(E(Fje),{id:E(i),"virtual-ref":w.virtualRef,open:E(o),"virtual-triggering":w.virtualTriggering,class:G(E(n).e("trigger")),onBlur:E(g),onClick:E(p),onContextmenu:E(b),onFocus:E(m),onMouseenter:E(h),onMouseleave:E(v),onKeydown:E(y)},{default:he(()=>[Pe(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var bVe=ut(yVe,[["__file","trigger.vue"]]);const wVe=J({name:"ElTooltipContent",inheritAttrs:!1}),EVe=J({...wVe,props:ni,setup(e,{expose:t}){const r=e,{selector:n}=eY(),a=Ze("tooltip"),i=W(null),o=W(!1),{controlled:s,id:l,open:u,trigger:c,onClose:f,onOpen:d,onShow:h,onHide:v,onBeforeShow:p,onBeforeHide:m}=At(y2,void 0),g=$(()=>r.transition||`${a.namespace.value}-fade-in-linear`),b=$(()=>r.persistent);On(()=>{o.value=!0});const y=$(()=>E(b)?!0:E(u)),w=$(()=>r.disabled?!1:E(u)),_=$(()=>r.appendTo||n.value),x=$(()=>{var L;return(L=r.style)!=null?L:{}}),S=$(()=>!E(u)),C=()=>{v()},T=()=>{if(E(s))return!0},M=Yn(T,()=>{r.enterable&&E(c)==="hover"&&d()}),k=Yn(T,()=>{E(c)==="hover"&&f()}),A=()=>{var L,B;(B=(L=i.value)==null?void 0:L.updatePopper)==null||B.call(L),p==null||p()},O=()=>{m==null||m()},P=()=>{h(),N=pI($(()=>{var L;return(L=i.value)==null?void 0:L.popperContentRef}),()=>{if(E(s))return;E(c)!=="hover"&&f()})},R=()=>{r.virtualTriggering||f()};let N;return He(()=>E(u),L=>{L||N==null||N()},{flush:"post"}),He(()=>r.content,()=>{var L,B;(B=(L=i.value)==null?void 0:L.updatePopper)==null||B.call(L)}),t({contentRef:i}),(L,B)=>(F(),Oe(Av,{disabled:!L.teleported,to:E(_)},[ae(Ma,{name:E(g),onAfterLeave:C,onBeforeEnter:A,onAfterEnter:P,onBeforeLeave:O},{default:he(()=>[E(y)?cr((F(),Oe(E(cVe),Dr({key:0,id:E(l),ref_key:"contentRef",ref:i},L.$attrs,{"aria-label":L.ariaLabel,"aria-hidden":E(S),"boundaries-padding":L.boundariesPadding,"fallback-placements":L.fallbackPlacements,"gpu-acceleration":L.gpuAcceleration,offset:L.offset,placement:L.placement,"popper-options":L.popperOptions,strategy:L.strategy,effect:L.effect,enterable:L.enterable,pure:L.pure,"popper-class":L.popperClass,"popper-style":[L.popperStyle,E(x)],"reference-el":L.referenceEl,"trigger-target-el":L.triggerTargetEl,visible:E(w),"z-index":L.zIndex,onMouseenter:E(M),onMouseleave:E(k),onBlur:R,onClose:E(f)}),{default:he(()=>[o.value?be("v-if",!0):Pe(L.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[nn,E(w)]]):be("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var _Ve=ut(EVe,[["__file","content.vue"]]);const xVe=["innerHTML"],SVe={key:1},CVe=J({name:"ElTooltip"}),MVe=J({...CVe,props:vVe,emits:pVe,setup(e,{expose:t,emit:r}){const n=e;q8e();const a=bi(),i=W(),o=W(),s=()=>{var g;const b=E(i);b&&((g=b.popperInstanceRef)==null||g.update())},l=W(!1),u=W(),{show:c,hide:f,hasUpdateHandler:d}=hVe({indicator:l,toggleReason:u}),{onOpen:h,onClose:v}=Q8e({showAfter:kn(n,"showAfter"),hideAfter:kn(n,"hideAfter"),autoClose:kn(n,"autoClose"),open:c,close:f}),p=$(()=>fa(n.visible)&&!d.value);$r(y2,{controlled:p,id:a,open:kv(l),trigger:kn(n,"trigger"),onOpen:g=>{h(g)},onClose:g=>{v(g)},onToggle:g=>{E(l)?v(g):h(g)},onShow:()=>{r("show",u.value)},onHide:()=>{r("hide",u.value)},onBeforeShow:()=>{r("before-show",u.value)},onBeforeHide:()=>{r("before-hide",u.value)},updatePopper:s}),He(()=>n.disabled,g=>{g&&l.value&&(l.value=!1)});const m=g=>{var b,y;const w=(y=(b=o.value)==null?void 0:b.contentRef)==null?void 0:y.popperContentRef,_=(g==null?void 0:g.relatedTarget)||document.activeElement;return w&&w.contains(_)};return TF(()=>l.value&&f()),t({popperRef:i,contentRef:o,isFocusInsideContent:m,updatePopper:s,onOpen:h,onClose:v,hide:f}),(g,b)=>(F(),Oe(E(OY),{ref_key:"popperRef",ref:i,role:g.role},{default:he(()=>[ae(bVe,{disabled:g.disabled,trigger:g.trigger,"trigger-keys":g.triggerKeys,"virtual-ref":g.virtualRef,"virtual-triggering":g.virtualTriggering},{default:he(()=>[g.$slots.default?Pe(g.$slots,"default",{key:0}):be("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ae(_Ve,{ref_key:"contentRef",ref:o,"aria-label":g.ariaLabel,"boundaries-padding":g.boundariesPadding,content:g.content,disabled:g.disabled,effect:g.effect,enterable:g.enterable,"fallback-placements":g.fallbackPlacements,"hide-after":g.hideAfter,"gpu-acceleration":g.gpuAcceleration,offset:g.offset,persistent:g.persistent,"popper-class":g.popperClass,"popper-style":g.popperStyle,placement:g.placement,"popper-options":g.popperOptions,pure:g.pure,"raw-content":g.rawContent,"reference-el":g.referenceEl,"trigger-target-el":g.triggerTargetEl,"show-after":g.showAfter,strategy:g.strategy,teleported:g.teleported,transition:g.transition,"virtual-triggering":g.virtualTriggering,"z-index":g.zIndex,"append-to":g.appendTo},{default:he(()=>[Pe(g.$slots,"content",{},()=>[g.rawContent?(F(),K("span",{key:0,innerHTML:g.content},null,8,xVe)):(F(),K("span",SVe,ct(g.content),1))]),g.showArrow?(F(),Oe(E(Dje),{key:0,"arrow-offset":g.arrowOffset},null,8,["arrow-offset"])):be("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var TVe=ut(MVe,[["__file","tooltip.vue"]]);const Ii=_r(TVe),kVe=it({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ve(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ve([Function,Array]),default:mn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:ni.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),AVe={[Mr]:e=>nr(e),[zi]:e=>nr(e),[Nn]:e=>nr(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Sr(e)},IVe=["aria-expanded","aria-owns"],OVe={key:0},LVe=["id","aria-selected","onClick"],LY="ElAutocomplete",NVe=J({name:LY,inheritAttrs:!1}),PVe=J({...NVe,props:kVe,emits:AVe,setup(e,{expose:t,emit:r}){const n=e,a=GI(),i=bd(),o=Ui(),s=Ze("autocomplete"),l=W(),u=W(),c=W(),f=W();let d=!1,h=!1;const v=W([]),p=W(-1),m=W(""),g=W(!1),b=W(!1),y=W(!1),w=bi(),_=$(()=>i.style),x=$(()=>(v.value.length>0||y.value)&&g.value),S=$(()=>!n.hideLoading&&y.value),C=$(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),T=()=>{x.value&&(m.value=`${l.value.$el.offsetWidth}px`)},M=()=>{p.value=-1},A=uo(async X=>{if(b.value)return;const re=oe=>{y.value=!1,!b.value&&(_t(oe)?(v.value=oe,p.value=n.highlightFirstItem?0:-1):Ta(LY,"autocomplete suggestions must be an array"))};if(y.value=!0,_t(n.fetchSuggestions))re(n.fetchSuggestions);else{const oe=await n.fetchSuggestions(X,re);_t(oe)&&re(oe)}},n.debounce),O=X=>{const re=!!X;if(r(zi,X),r(Mr,X),b.value=!1,g.value||(g.value=re),!n.triggerOnFocus&&!X){b.value=!0,v.value=[];return}A(X)},P=X=>{var re;o.value||(((re=X.target)==null?void 0:re.tagName)!=="INPUT"||C.value.includes(document.activeElement))&&(g.value=!0)},R=X=>{r(Nn,X)},N=X=>{h?h=!1:(g.value=!0,r("focus",X),n.triggerOnFocus&&!d&&A(String(n.modelValue)))},L=X=>{setTimeout(()=>{var re;if((re=c.value)!=null&&re.isFocusInsideContent()){h=!0;return}g.value&&z(),r("blur",X)})},B=()=>{g.value=!1,r(Mr,""),r("clear")},I=async()=>{x.value&&p.value>=0&&p.value<v.value.length?Y(v.value[p.value]):n.selectWhenUnmatched&&(r("select",{value:n.modelValue}),v.value=[],p.value=-1)},D=X=>{x.value&&(X.preventDefault(),X.stopPropagation(),z())},z=()=>{g.value=!1},U=()=>{var X;(X=l.value)==null||X.focus()},H=()=>{var X;(X=l.value)==null||X.blur()},Y=async X=>{r(zi,X[n.valueKey]),r(Mr,X[n.valueKey]),r("select",X),v.value=[],p.value=-1},ie=X=>{if(!x.value||y.value)return;if(X<0){p.value=-1;return}X>=v.value.length&&(X=v.value.length-1);const re=u.value.querySelector(`.${s.be("suggestion","wrap")}`),Ne=re.querySelectorAll(`.${s.be("suggestion","list")} li`)[X],me=re.scrollTop,{offsetTop:xe,scrollHeight:ze}=Ne;xe+ze>me+re.clientHeight&&(re.scrollTop+=ze),xe<me&&(re.scrollTop-=ze),p.value=X,l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${p.value}`)};return pI(f,()=>{x.value&&z()}),vr(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${p.value}`),d=l.value.ref.hasAttribute("readonly")}),t({highlightedIndex:p,activated:g,loading:y,inputRef:l,popperRef:c,suggestions:v,handleSelect:Y,handleKeyEnter:I,focus:U,blur:H,close:z,highlight:ie}),(X,re)=>(F(),Oe(E(Ii),{ref_key:"popperRef",ref:c,visible:E(x),placement:X.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[E(s).e("popper"),X.popperClass],teleported:X.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${E(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:T,onHide:M},{content:he(()=>[Z("div",{ref_key:"regionRef",ref:u,class:G([E(s).b("suggestion"),E(s).is("loading",E(S))]),style:Bt({[X.fitInputWidth?"width":"minWidth"]:m.value,outline:"none"}),role:"region"},[ae(E(Pu),{id:E(w),tag:"ul","wrap-class":E(s).be("suggestion","wrap"),"view-class":E(s).be("suggestion","list"),role:"listbox"},{default:he(()=>[E(S)?(F(),K("li",OVe,[Pe(X.$slots,"loading",{},()=>[ae(E($t),{class:G(E(s).is("loading"))},{default:he(()=>[ae(E(Xc))]),_:1},8,["class"])])])):(F(!0),K(zt,{key:1},zr(v.value,(oe,Ne)=>(F(),K("li",{id:`${E(w)}-item-${Ne}`,key:Ne,class:G({highlighted:p.value===Ne}),role:"option","aria-selected":p.value===Ne,onClick:me=>Y(oe)},[Pe(X.$slots,"default",{item:oe},()=>[qr(ct(oe[X.valueKey]),1)])],10,LVe))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:he(()=>[Z("div",{ref_key:"listboxRef",ref:f,class:G([E(s).b(),X.$attrs.class]),style:Bt(E(_)),role:"combobox","aria-haspopup":"listbox","aria-expanded":E(x),"aria-owns":E(w)},[ae(E(Mi),Dr({ref_key:"inputRef",ref:l},E(a),{clearable:X.clearable,disabled:E(o),name:X.name,"model-value":X.modelValue,onInput:O,onChange:R,onFocus:N,onBlur:L,onClear:B,onKeydown:[re[0]||(re[0]=Sn(tr(oe=>ie(p.value-1),["prevent"]),["up"])),re[1]||(re[1]=Sn(tr(oe=>ie(p.value+1),["prevent"]),["down"])),Sn(I,["enter"]),Sn(z,["tab"]),Sn(D,["esc"])],onMousedown:P}),vu({_:2},[X.$slots.prepend?{name:"prepend",fn:he(()=>[Pe(X.$slots,"prepend")])}:void 0,X.$slots.append?{name:"append",fn:he(()=>[Pe(X.$slots,"append")])}:void 0,X.$slots.prefix?{name:"prefix",fn:he(()=>[Pe(X.$slots,"prefix")])}:void 0,X.$slots.suffix?{name:"suffix",fn:he(()=>[Pe(X.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,IVe)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var DVe=ut(PVe,[["__file","autocomplete.vue"]]);const RVe=_r(DVe),$Ve=it({size:{type:[Number,String],values:Bl,default:"",validator:e=>Qt(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Cn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ve(String),default:"cover"}}),BVe={error:e=>e instanceof Event},FVe=["src","alt","srcset"],zVe=J({name:"ElAvatar"}),GVe=J({...zVe,props:$Ve,emits:BVe,setup(e,{emit:t}){const r=e,n=Ze("avatar"),a=W(!1),i=$(()=>{const{size:u,icon:c,shape:f}=r,d=[n.b()];return nr(u)&&d.push(n.m(u)),c&&d.push(n.m("icon")),f&&d.push(n.m(f)),d}),o=$(()=>{const{size:u}=r;return Qt(u)?n.cssVarBlock({size:Xn(u)||""}):void 0}),s=$(()=>({objectFit:r.fit}));He(()=>r.src,()=>a.value=!1);function l(u){a.value=!0,t("error",u)}return(u,c)=>(F(),K("span",{class:G(E(i)),style:Bt(E(o))},[(u.src||u.srcSet)&&!a.value?(F(),K("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:Bt(E(s)),onError:l},null,44,FVe)):u.icon?(F(),Oe(E($t),{key:1},{default:he(()=>[(F(),Oe(kr(u.icon)))]),_:1})):Pe(u.$slots,"default",{key:2})],6))}});var jVe=ut(GVe,[["__file","avatar.vue"]]);const VVe=_r(jVe),UVe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},WVe={click:e=>e instanceof MouseEvent},HVe=(e,t,r)=>{const n=Pn(),a=Pn(),i=W(!1),o=()=>{n.value&&(i.value=n.value.scrollTop>=e.visibilityHeight)},s=u=>{var c;(c=n.value)==null||c.scrollTo({top:0,behavior:"smooth"}),t("click",u)},l=$W(o,300,!0);return Ln(a,"scroll",l),vr(()=>{var u;a.value=document,n.value=document.documentElement,e.target&&(n.value=(u=document.querySelector(e.target))!=null?u:void 0,n.value||Ta(r,`target does not exist: ${e.target}`),a.value=n.value),o()}),{visible:i,handleClick:s}},NY="ElBacktop",YVe=J({name:NY}),KVe=J({...YVe,props:UVe,emits:WVe,setup(e,{emit:t}){const r=e,n=Ze("backtop"),{handleClick:a,visible:i}=HVe(r,t,NY),o=$(()=>({right:`${r.right}px`,bottom:`${r.bottom}px`}));return(s,l)=>(F(),Oe(Ma,{name:`${E(n).namespace.value}-fade-in`},{default:he(()=>[E(i)?(F(),K("div",{key:0,style:Bt(E(o)),class:G(E(n).b()),onClick:l[0]||(l[0]=tr((...u)=>E(a)&&E(a)(...u),["stop"]))},[Pe(s.$slots,"default",{},()=>[ae(E($t),{class:G(E(n).e("icon"))},{default:he(()=>[ae(E(M6e))]),_:1},8,["class"])])],6)):be("v-if",!0)]),_:3},8,["name"]))}});var XVe=ut(KVe,[["__file","backtop.vue"]]);const qVe=_r(XVe),ZVe=it({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:ve([String,Object,Array])},badgeStyle:{type:ve([String,Object,Array])},offset:{type:ve(Array),default:[0,0]},dotClass:{type:String},badgeClass:{type:String}}),QVe=["textContent"],JVe=J({name:"ElBadge"}),e9e=J({...JVe,props:ZVe,setup(e,{expose:t}){const r=e,n=Ze("badge"),a=$(()=>r.isDot?"":Qt(r.value)&&Qt(r.max)?r.max<r.value?`${r.max}+`:r.value===0&&!r.showZero?"":`${r.value}`:`${r.value}`),i=$(()=>{var o,s,l,u,c,f;return[{backgroundColor:r.color,marginRight:Xn(-((s=(o=r.offset)==null?void 0:o[0])!=null?s:0)),marginTop:Xn((u=(l=r.offset)==null?void 0:l[1])!=null?u:0)},(c=r.dotStyle)!=null?c:{},(f=r.badgeStyle)!=null?f:{}]});return du({from:"dot-style",replacement:"badge-style",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},$(()=>!!r.dotStyle)),du({from:"dot-class",replacement:"badge-class",version:"2.8.0",scope:"el-badge",ref:"https://element-plus.org/en-US/component/badge.html"},$(()=>!!r.dotClass)),t({content:a}),(o,s)=>(F(),K("div",{class:G(E(n).b())},[Pe(o.$slots,"default"),ae(Ma,{name:`${E(n).namespace.value}-zoom-in-center`,persisted:""},{default:he(()=>[cr(Z("sup",{class:G([E(n).e("content"),E(n).em("content",o.type),E(n).is("fixed",!!o.$slots.default),E(n).is("dot",o.isDot),o.dotClass,o.badgeClass]),style:Bt(E(i)),textContent:ct(E(a))},null,14,QVe),[[nn,!o.hidden&&(E(a)||o.isDot)]])]),_:1},8,["name"])],2))}});var t9e=ut(e9e,[["__file","badge.vue"]]);const PY=_r(t9e),DY=Symbol("breadcrumbKey"),r9e=it({separator:{type:String,default:"/"},separatorIcon:{type:Cn}}),n9e=["aria-label"],a9e=J({name:"ElBreadcrumb"}),i9e=J({...a9e,props:r9e,setup(e){const t=e,{t:r}=Zr(),n=Ze("breadcrumb"),a=W();return $r(DY,t),vr(()=>{const i=a.value.querySelectorAll(`.${n.e("item")}`);i.length&&i[i.length-1].setAttribute("aria-current","page")}),(i,o)=>(F(),K("div",{ref_key:"breadcrumb",ref:a,class:G(E(n).b()),"aria-label":E(r)("el.breadcrumb.label"),role:"navigation"},[Pe(i.$slots,"default")],10,n9e))}});var o9e=ut(i9e,[["__file","breadcrumb.vue"]]);const s9e=it({to:{type:ve([String,Object]),default:""},replace:{type:Boolean,default:!1}}),l9e=J({name:"ElBreadcrumbItem"}),u9e=J({...l9e,props:s9e,setup(e){const t=e,r=Er(),n=At(DY,void 0),a=Ze("breadcrumb"),i=r.appContext.config.globalProperties.$router,o=W(),s=()=>{!t.to||!i||(t.replace?i.replace(t.to):i.push(t.to))};return(l,u)=>{var c,f;return F(),K("span",{class:G(E(a).e("item"))},[Z("span",{ref_key:"link",ref:o,class:G([E(a).e("inner"),E(a).is("link",!!l.to)]),role:"link",onClick:s},[Pe(l.$slots,"default")],2),(c=E(n))!=null&&c.separatorIcon?(F(),Oe(E($t),{key:0,class:G(E(a).e("separator"))},{default:he(()=>[(F(),Oe(kr(E(n).separatorIcon)))]),_:1},8,["class"])):(F(),K("span",{key:1,class:G(E(a).e("separator")),role:"presentation"},ct((f=E(n))==null?void 0:f.separator),3))],2)}}});var RY=ut(u9e,[["__file","breadcrumb-item.vue"]]);const c9e=_r(o9e,{BreadcrumbItem:RY}),f9e=jn(RY),$Y=Symbol("buttonGroupContextKey"),d9e=(e,t)=>{du({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},$(()=>e.type==="text"));const r=At($Y,void 0),n=hm("button"),{form:a}=Oi(),i=ba($(()=>r==null?void 0:r.size)),o=Ui(),s=W(),l=Ya(),u=$(()=>e.type||(r==null?void 0:r.type)||""),c=$(()=>{var v,p,m;return(m=(p=e.autoInsertSpace)!=null?p:(v=n.value)==null?void 0:v.autoInsertSpace)!=null?m:!1}),f=$(()=>e.tag==="button"?{ariaDisabled:o.value||e.loading,disabled:o.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),d=$(()=>{var v;const p=(v=l.default)==null?void 0:v.call(l);if(c.value&&(p==null?void 0:p.length)===1){const m=p[0];if((m==null?void 0:m.type)===Iv){const g=m.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(g.trim())}}return!1});return{_disabled:o,_size:i,_type:u,_ref:s,_props:f,shouldAddSpace:d,handleClick:v=>{e.nativeType==="reset"&&(a==null||a.resetFields()),t("click",v)}}},DM=["default","primary","success","warning","info","danger","text",""],h9e=["button","submit","reset"],RM=it({size:Da,disabled:Boolean,type:{type:String,values:DM,default:""},icon:{type:Cn},nativeType:{type:String,values:h9e,default:"button"},loading:Boolean,loadingIcon:{type:Cn,default:()=>Xc},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ve([String,Object]),default:"button"}}),v9e={click:e=>e instanceof MouseEvent};function mi(e,t){p9e(e)&&(e="100%");var r=g9e(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function f1(e){return Math.min(1,Math.max(0,e))}function p9e(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function g9e(e){return typeof e=="string"&&e.indexOf("%")!==-1}function BY(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function d1(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Rf(e){return e.length===1?"0"+e:String(e)}function m9e(e,t,r){return{r:mi(e,255)*255,g:mi(t,255)*255,b:mi(r,255)*255}}function DB(e,t,r){e=mi(e,255),t=mi(t,255),r=mi(r,255);var n=Math.max(e,t,r),a=Math.min(e,t,r),i=0,o=0,s=(n+a)/2;if(n===a)o=0,i=0;else{var l=n-a;switch(o=s>.5?l/(2-n-a):l/(n+a),n){case e:i=(t-r)/l+(t<r?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,l:s}}function nS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function y9e(e,t,r){var n,a,i;if(e=mi(e,360),t=mi(t,100),r=mi(r,100),t===0)a=r,i=r,n=r;else{var o=r<.5?r*(1+t):r+t-r*t,s=2*r-o;n=nS(s,o,e+1/3),a=nS(s,o,e),i=nS(s,o,e-1/3)}return{r:n*255,g:a*255,b:i*255}}function RB(e,t,r){e=mi(e,255),t=mi(t,255),r=mi(r,255);var n=Math.max(e,t,r),a=Math.min(e,t,r),i=0,o=n,s=n-a,l=n===0?0:s/n;if(n===a)i=0;else{switch(n){case e:i=(t-r)/s+(t<r?6:0);break;case t:i=(r-e)/s+2;break;case r:i=(e-t)/s+4;break}i/=6}return{h:i,s:l,v:o}}function b9e(e,t,r){e=mi(e,360)*6,t=mi(t,100),r=mi(r,100);var n=Math.floor(e),a=e-n,i=r*(1-t),o=r*(1-a*t),s=r*(1-(1-a)*t),l=n%6,u=[r,o,i,i,s,r][l],c=[s,r,r,o,i,i][l],f=[i,i,s,r,r,o][l];return{r:u*255,g:c*255,b:f*255}}function $B(e,t,r,n){var a=[Rf(Math.round(e).toString(16)),Rf(Math.round(t).toString(16)),Rf(Math.round(r).toString(16))];return n&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function w9e(e,t,r,n,a){var i=[Rf(Math.round(e).toString(16)),Rf(Math.round(t).toString(16)),Rf(Math.round(r).toString(16)),Rf(E9e(n))];return a&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function E9e(e){return Math.round(parseFloat(e)*255).toString(16)}function BB(e){return yo(e)/255}function yo(e){return parseInt(e,16)}function _9e(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var $M={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function x9e(e){var t={r:0,g:0,b:0},r=1,n=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=M9e(e)),typeof e=="object"&&(Xl(e.r)&&Xl(e.g)&&Xl(e.b)?(t=m9e(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Xl(e.h)&&Xl(e.s)&&Xl(e.v)?(n=d1(e.s),a=d1(e.v),t=b9e(e.h,n,a),o=!0,s="hsv"):Xl(e.h)&&Xl(e.s)&&Xl(e.l)&&(n=d1(e.s),i=d1(e.l),t=y9e(e.h,n,i),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=BY(r),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var S9e="[-\\+]?\\d+%?",C9e="[-\\+]?\\d*\\.\\d+%?",pc="(?:".concat(C9e,")|(?:").concat(S9e,")"),aS="[\\s|\\(]+(".concat(pc,")[,|\\s]+(").concat(pc,")[,|\\s]+(").concat(pc,")\\s*\\)?"),iS="[\\s|\\(]+(".concat(pc,")[,|\\s]+(").concat(pc,")[,|\\s]+(").concat(pc,")[,|\\s]+(").concat(pc,")\\s*\\)?"),_s={CSS_UNIT:new RegExp(pc),rgb:new RegExp("rgb"+aS),rgba:new RegExp("rgba"+iS),hsl:new RegExp("hsl"+aS),hsla:new RegExp("hsla"+iS),hsv:new RegExp("hsv"+aS),hsva:new RegExp("hsva"+iS),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function M9e(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if($M[e])e=$M[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=_s.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=_s.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=_s.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=_s.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=_s.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=_s.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=_s.hex8.exec(e),r?{r:yo(r[1]),g:yo(r[2]),b:yo(r[3]),a:BB(r[4]),format:t?"name":"hex8"}:(r=_s.hex6.exec(e),r?{r:yo(r[1]),g:yo(r[2]),b:yo(r[3]),format:t?"name":"hex"}:(r=_s.hex4.exec(e),r?{r:yo(r[1]+r[1]),g:yo(r[2]+r[2]),b:yo(r[3]+r[3]),a:BB(r[4]+r[4]),format:t?"name":"hex8"}:(r=_s.hex3.exec(e),r?{r:yo(r[1]+r[1]),g:yo(r[2]+r[2]),b:yo(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function Xl(e){return!!_s.CSS_UNIT.exec(String(e))}var FY=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=_9e(t)),this.originalInput=t;var a=x9e(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:a.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,n,a,i=t.r/255,o=t.g/255,s=t.b/255;return i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*r+.7152*n+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=BY(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=RB(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=RB(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(a,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=DB(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=DB(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(a,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),$B(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),w9e(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(n,")"):"rgba(".concat(t,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(mi(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(mi(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+$B(this.r,this.g,this.b,!1),r=0,n=Object.entries($M);r<n.length;r++){var a=n[r],i=a[0],o=a[1];if(t===o)return i}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var n=!1,a=this.a<1&&this.a>=0,i=!r&&a&&(t.startsWith("hex")||t==="name");return i?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=f1(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=f1(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=f1(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=f1(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var n=this.toRgb(),a=new e(t).toRgb(),i=r/100,o={r:(a.r-n.r)*i+n.r,g:(a.g-n.g)*i+n.g,b:(a.b-n.b)*i+n.b,a:(a.a-n.a)*i+n.a};return new e(o)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var n=this.toHsl(),a=360/r,i=[this];for(n.h=(n.h-(a*t>>1)+720)%360;--t;)n.h=(n.h+a)%360,i.push(new e(n));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),n=r.h,a=r.s,i=r.v,o=[],s=1/t;t--;)o.push(new e({h:n,s:a,v:i})),i=(i+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb(),a=r.a+n.a*(1-r.a);return new e({r:(r.r*r.a+n.r*n.a*(1-r.a))/a,g:(r.g*r.a+n.g*n.a*(1-r.a))/a,b:(r.b*r.a+n.b*n.a*(1-r.a))/a,a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,a=[this],i=360/t,o=1;o<t;o++)a.push(new e({h:(n+o*i)%360,s:r.s,l:r.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Ku(e,t=20){return e.mix("#141414",t).toString()}function T9e(e){const t=Ui(),r=Ze("button");return $(()=>{let n={};const a=e.color;if(a){const i=new FY(a),o=e.dark?i.tint(20).toString():Ku(i,20);if(e.plain)n=r.cssVarBlock({"bg-color":e.dark?Ku(i,90):i.tint(90).toString(),"text-color":a,"border-color":e.dark?Ku(i,50):i.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":o,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":o}),t.value&&(n[r.cssVarBlockName("disabled-bg-color")]=e.dark?Ku(i,90):i.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=e.dark?Ku(i,50):i.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=e.dark?Ku(i,80):i.tint(80).toString());else{const s=e.dark?Ku(i,30):i.tint(30).toString(),l=i.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":a,"text-color":l,"border-color":a,"hover-bg-color":s,"hover-text-color":l,"hover-border-color":s,"active-bg-color":o,"active-border-color":o}),t.value){const u=e.dark?Ku(i,50):i.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=u,n[r.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=u}}}return n})}const k9e=J({name:"ElButton"}),A9e=J({...k9e,props:RM,emits:v9e,setup(e,{expose:t,emit:r}){const n=e,a=T9e(n),i=Ze("button"),{_ref:o,_size:s,_type:l,_disabled:u,_props:c,shouldAddSpace:f,handleClick:d}=d9e(n,r),h=$(()=>[i.b(),i.m(l.value),i.m(s.value),i.is("disabled",u.value),i.is("loading",n.loading),i.is("plain",n.plain),i.is("round",n.round),i.is("circle",n.circle),i.is("text",n.text),i.is("link",n.link),i.is("has-bg",n.bg)]);return t({ref:o,size:s,type:l,disabled:u,shouldAddSpace:f}),(v,p)=>(F(),Oe(kr(v.tag),Dr({ref_key:"_ref",ref:o},E(c),{class:E(h),style:E(a),onClick:E(d)}),{default:he(()=>[v.loading?(F(),K(zt,{key:0},[v.$slots.loading?Pe(v.$slots,"loading",{key:0}):(F(),Oe(E($t),{key:1,class:G(E(i).is("loading"))},{default:he(()=>[(F(),Oe(kr(v.loadingIcon)))]),_:1},8,["class"]))],64)):v.icon||v.$slots.icon?(F(),Oe(E($t),{key:1},{default:he(()=>[v.icon?(F(),Oe(kr(v.icon),{key:0})):Pe(v.$slots,"icon",{key:1})]),_:3})):be("v-if",!0),v.$slots.default?(F(),K("span",{key:2,class:G({[E(i).em("text","expand")]:E(f)})},[Pe(v.$slots,"default")],2)):be("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var I9e=ut(A9e,[["__file","button.vue"]]);const O9e={size:RM.size,type:RM.type},L9e=J({name:"ElButtonGroup"}),N9e=J({...L9e,props:O9e,setup(e){const t=e;$r($Y,cn({size:kn(t,"size"),type:kn(t,"type")}));const r=Ze("button");return(n,a)=>(F(),K("div",{class:G(`${E(r).b("group")}`)},[Pe(n.$slots,"default")],2))}});var zY=ut(N9e,[["__file","button-group.vue"]]);const Wa=_r(I9e,{ButtonGroup:zY}),GY=jn(zY);var jY={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){var r=1e3,n=6e4,a=36e5,i="millisecond",o="second",s="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",v="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var R=["th","st","nd","rd"],N=P%100;return"["+P+(R[(N-20)%10]||R[N]||R[0])+"]"}},y=function(P,R,N){var L=String(P);return!L||L.length>=R?P:""+Array(R+1-L.length).join(N)+P},w={s:y,z:function(P){var R=-P.utcOffset(),N=Math.abs(R),L=Math.floor(N/60),B=N%60;return(R<=0?"+":"-")+y(L,2,"0")+":"+y(B,2,"0")},m:function P(R,N){if(R.date()<N.date())return-P(N,R);var L=12*(N.year()-R.year())+(N.month()-R.month()),B=R.clone().add(L,f),I=N-B<0,D=R.clone().add(L+(I?-1:1),f);return+(-(L+(N-B)/(I?B-D:D-B))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:f,y:h,w:c,d:u,D:v,h:l,m:s,s:o,ms:i,Q:d}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},_="en",x={};x[_]=b;var S="$isDayjsObject",C=function(P){return P instanceof A||!(!P||!P[S])},T=function P(R,N,L){var B;if(!R)return _;if(typeof R=="string"){var I=R.toLowerCase();x[I]&&(B=I),N&&(x[I]=N,B=I);var D=R.split("-");if(!B&&D.length>1)return P(D[0])}else{var z=R.name;x[z]=R,B=z}return!L&&B&&(_=B),B||!L&&_},M=function(P,R){if(C(P))return P.clone();var N=typeof R=="object"?R:{};return N.date=P,N.args=arguments,new A(N)},k=w;k.l=T,k.i=C,k.w=function(P,R){return M(P,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var A=function(){function P(N){this.$L=T(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[S]=!0}var R=P.prototype;return R.parse=function(N){this.$d=function(L){var B=L.date,I=L.utc;if(B===null)return new Date(NaN);if(k.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var D=B.match(m);if(D){var z=D[2]-1||0,U=(D[7]||"0").substring(0,3);return I?new Date(Date.UTC(D[1],z,D[3]||1,D[4]||0,D[5]||0,D[6]||0,U)):new Date(D[1],z,D[3]||1,D[4]||0,D[5]||0,D[6]||0,U)}}return new Date(B)}(N),this.init()},R.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},R.$utils=function(){return k},R.isValid=function(){return this.$d.toString()!==p},R.isSame=function(N,L){var B=M(N);return this.startOf(L)<=B&&B<=this.endOf(L)},R.isAfter=function(N,L){return M(N)<this.startOf(L)},R.isBefore=function(N,L){return this.endOf(L)<M(N)},R.$g=function(N,L,B){return k.u(N)?this[L]:this.set(B,N)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(N,L){var B=this,I=!!k.u(L)||L,D=k.p(N),z=function(Ne,me){var xe=k.w(B.$u?Date.UTC(B.$y,me,Ne):new Date(B.$y,me,Ne),B);return I?xe:xe.endOf(u)},U=function(Ne,me){return k.w(B.toDate()[Ne].apply(B.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(me)),B)},H=this.$W,Y=this.$M,ie=this.$D,X="set"+(this.$u?"UTC":"");switch(D){case h:return I?z(1,0):z(31,11);case f:return I?z(1,Y):z(0,Y+1);case c:var re=this.$locale().weekStart||0,oe=(H<re?H+7:H)-re;return z(I?ie-oe:ie+(6-oe),Y);case u:case v:return U(X+"Hours",0);case l:return U(X+"Minutes",1);case s:return U(X+"Seconds",2);case o:return U(X+"Milliseconds",3);default:return this.clone()}},R.endOf=function(N){return this.startOf(N,!1)},R.$set=function(N,L){var B,I=k.p(N),D="set"+(this.$u?"UTC":""),z=(B={},B[u]=D+"Date",B[v]=D+"Date",B[f]=D+"Month",B[h]=D+"FullYear",B[l]=D+"Hours",B[s]=D+"Minutes",B[o]=D+"Seconds",B[i]=D+"Milliseconds",B)[I],U=I===u?this.$D+(L-this.$W):L;if(I===f||I===h){var H=this.clone().set(v,1);H.$d[z](U),H.init(),this.$d=H.set(v,Math.min(this.$D,H.daysInMonth())).$d}else z&&this.$d[z](U);return this.init(),this},R.set=function(N,L){return this.clone().$set(N,L)},R.get=function(N){return this[k.p(N)]()},R.add=function(N,L){var B,I=this;N=Number(N);var D=k.p(L),z=function(Y){var ie=M(I);return k.w(ie.date(ie.date()+Math.round(Y*N)),I)};if(D===f)return this.set(f,this.$M+N);if(D===h)return this.set(h,this.$y+N);if(D===u)return z(1);if(D===c)return z(7);var U=(B={},B[s]=n,B[l]=a,B[o]=r,B)[D]||1,H=this.$d.getTime()+N*U;return k.w(H,this)},R.subtract=function(N,L){return this.add(-1*N,L)},R.format=function(N){var L=this,B=this.$locale();if(!this.isValid())return B.invalidDate||p;var I=N||"YYYY-MM-DDTHH:mm:ssZ",D=k.z(this),z=this.$H,U=this.$m,H=this.$M,Y=B.weekdays,ie=B.months,X=B.meridiem,re=function(me,xe,ze,te){return me&&(me[xe]||me(L,I))||ze[xe].slice(0,te)},oe=function(me){return k.s(z%12||12,me,"0")},Ne=X||function(me,xe,ze){var te=me<12?"AM":"PM";return ze?te.toLowerCase():te};return I.replace(g,function(me,xe){return xe||function(ze){switch(ze){case"YY":return String(L.$y).slice(-2);case"YYYY":return k.s(L.$y,4,"0");case"M":return H+1;case"MM":return k.s(H+1,2,"0");case"MMM":return re(B.monthsShort,H,ie,3);case"MMMM":return re(ie,H);case"D":return L.$D;case"DD":return k.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return re(B.weekdaysMin,L.$W,Y,2);case"ddd":return re(B.weekdaysShort,L.$W,Y,3);case"dddd":return Y[L.$W];case"H":return String(z);case"HH":return k.s(z,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return Ne(z,U,!0);case"A":return Ne(z,U,!1);case"m":return String(U);case"mm":return k.s(U,2,"0");case"s":return String(L.$s);case"ss":return k.s(L.$s,2,"0");case"SSS":return k.s(L.$ms,3,"0");case"Z":return D}return null}(me)||D.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(N,L,B){var I,D=this,z=k.p(L),U=M(N),H=(U.utcOffset()-this.utcOffset())*n,Y=this-U,ie=function(){return k.m(D,U)};switch(z){case h:I=ie()/12;break;case f:I=ie();break;case d:I=ie()/3;break;case c:I=(Y-H)/6048e5;break;case u:I=(Y-H)/864e5;break;case l:I=Y/a;break;case s:I=Y/n;break;case o:I=Y/r;break;default:I=Y}return B?I:k.a(I)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return x[this.$L]},R.locale=function(N,L){if(!N)return this.$L;var B=this.clone(),I=T(N,L,!0);return I&&(B.$L=I),B},R.clone=function(){return k.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},P}(),O=A.prototype;return M.prototype=O,[["$ms",i],["$s",o],["$m",s],["$H",l],["$W",u],["$M",f],["$y",h],["$D",v]].forEach(function(P){O[P[1]]=function(R){return this.$g(R,P[0],P[1])}}),M.extend=function(P,R){return P.$i||(P(R,A,M),P.$i=!0),M},M.locale=T,M.isDayjs=C,M.unix=function(P){return M(1e3*P)},M.en=x[_],M.Ls=x,M.p={},M})})(jY);var P9e=jY.exports;const xr=Ka(P9e);var VY={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},l=function(p){return(p=+p)+(p>68?1900:2e3)},u=function(p){return function(m){this[p]=+m}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var g=m.match(/([+-]|\d\d)/g),b=60*g[1]+(+g[2]||0);return b===0?0:g[0]==="+"?-b:b}(p)}],f=function(p){var m=s[p];return m&&(m.indexOf?m:m.s.concat(m.f))},d=function(p,m){var g,b=s.meridiem;if(b){for(var y=1;y<=24;y+=1)if(p.indexOf(b(y,0,m))>-1){g=y>12;break}}else g=p===(m?"pm":"PM");return g},h={A:[o,function(p){this.afternoon=d(p,!1)}],a:[o,function(p){this.afternoon=d(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[a,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[i,u("seconds")],ss:[i,u("seconds")],m:[i,u("minutes")],mm:[i,u("minutes")],H:[i,u("hours")],h:[i,u("hours")],HH:[i,u("hours")],hh:[i,u("hours")],D:[i,u("day")],DD:[a,u("day")],Do:[o,function(p){var m=s.ordinal,g=p.match(/\d+/);if(this.day=g[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===p&&(this.day=b)}],M:[i,u("month")],MM:[a,u("month")],MMM:[o,function(p){var m=f("months"),g=(f("monthsShort")||m.map(function(b){return b.slice(0,3)})).indexOf(p)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[o,function(p){var m=f("months").indexOf(p)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,u("year")],YY:[a,function(p){this.year=l(p)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function v(p){var m,g;m=p,g=s&&s.formats;for(var b=(p=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(T,M,k){var A=k&&k.toUpperCase();return M||g[k]||r[k]||g[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,P,R){return P||R.slice(1)})})).match(n),y=b.length,w=0;w<y;w+=1){var _=b[w],x=h[_],S=x&&x[0],C=x&&x[1];b[w]=C?{regex:S,parser:C}:_.replace(/^\[|\]$/g,"")}return function(T){for(var M={},k=0,A=0;k<y;k+=1){var O=b[k];if(typeof O=="string")A+=O.length;else{var P=O.regex,R=O.parser,N=T.slice(A),L=P.exec(N)[0];R.call(M,L),T=T.replace(L,"")}}return function(B){var I=B.afternoon;if(I!==void 0){var D=B.hours;I?D<12&&(B.hours+=12):D===12&&(B.hours=0),delete B.afternoon}}(M),M}}return function(p,m,g){g.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(l=p.parseTwoDigitYear);var b=m.prototype,y=b.parse;b.parse=function(w){var _=w.date,x=w.utc,S=w.args;this.$u=x;var C=S[1];if(typeof C=="string"){var T=S[2]===!0,M=S[3]===!0,k=T||M,A=S[2];M&&(A=S[2]),s=this.$locale(),!T&&A&&(s=g.Ls[A]),this.$d=function(N,L,B){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*N);var I=v(L)(N),D=I.year,z=I.month,U=I.day,H=I.hours,Y=I.minutes,ie=I.seconds,X=I.milliseconds,re=I.zone,oe=new Date,Ne=U||(D||z?1:oe.getDate()),me=D||oe.getFullYear(),xe=0;D&&!z||(xe=z>0?z-1:oe.getMonth());var ze=H||0,te=Y||0,le=ie||0,Ae=X||0;return re?new Date(Date.UTC(me,xe,Ne,ze,te,le,Ae+60*re.offset*1e3)):B?new Date(Date.UTC(me,xe,Ne,ze,te,le,Ae)):new Date(me,xe,Ne,ze,te,le,Ae)}catch{return new Date("")}}(_,C,x),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),k&&_!=this.format(C)&&(this.$d=new Date("")),s={}}else if(C instanceof Array)for(var O=C.length,P=1;P<=O;P+=1){S[1]=C[P-1];var R=g.apply(this,S);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}P===O&&(this.$d=new Date(""))}else y.call(this,w)}}})})(VY);var D9e=VY.exports;const hO=Ka(D9e),FB=["hours","minutes","seconds"],BM="HH:mm:ss",yh="YYYY-MM-DD",R9e={date:yh,dates:yh,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${yh} ${BM}`,monthrange:"YYYY-MM",daterange:yh,datetimerange:`${yh} ${BM}`},oS=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],_c=e=>Array.from(Array.from({length:e}).keys()),UY=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),WY=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),zB=function(e,t){const r=ed(e),n=ed(t);return r&&n?e.getTime()===t.getTime():!r&&!n?e===t:!1},GB=function(e,t){const r=_t(e),n=_t(t);return r&&n?e.length!==t.length?!1:e.every((a,i)=>zB(a,t[i])):!r&&!n?zB(e,t):!1},jB=function(e,t,r){const n=Qo(t)||t==="x"?xr(e).locale(r):xr(e,t).locale(r);return n.isValid()?n:void 0},VB=function(e,t,r){return Qo(t)?e:t==="x"?+e:xr(e).locale(r).format(t)},sS=(e,t)=>{var r;const n=[],a=t==null?void 0:t();for(let i=0;i<e;i++)n.push((r=a==null?void 0:a.includes(i))!=null?r:!1);return n},HY=it({disabledHours:{type:ve(Function)},disabledMinutes:{type:ve(Function)},disabledSeconds:{type:ve(Function)}}),YY=it({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),vO=it({id:{type:ve([Array,String])},name:{type:ve([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ve([String,Object]),default:Kc},editable:{type:Boolean,default:!0},prefixIcon:{type:ve([String,Object]),default:""},size:Da,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:ve(Object),default:()=>({})},modelValue:{type:ve([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ve([Date,Array])},defaultTime:{type:ve([Date,Array])},isRange:Boolean,...HY,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:ve([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...jv}),$9e=["id","name","placeholder","value","disabled","readonly"],B9e=["id","name","placeholder","value","disabled","readonly"],F9e=J({name:"Picker"}),z9e=J({...F9e,props:vO,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:r}){const n=e,a=bd(),{lang:i}=Zr(),o=Ze("date"),s=Ze("input"),l=Ze("range"),{form:u,formItem:c}=Oi(),f=At("ElPopperOptions",{}),{valueOnClear:d}=p2(n,null),h=W(),v=W(),p=W(!1),m=W(!1),g=W(null);let b=!1,y=!1;const w=$(()=>[o.b("editor"),o.bm("editor",n.type),s.e("wrapper"),o.is("disabled",H.value),o.is("active",p.value),l.b("editor"),Ge?l.bm("editor",Ge.value):"",a.class]),_=$(()=>[s.e("icon"),l.e("close-icon"),xe.value?"":l.e("close-icon--hidden")]);He(p,Ee=>{Ee?Ut(()=>{Ee&&(g.value=n.modelValue)}):(q.value=null,Ut(()=>{x(n.modelValue)}))});const x=(Ee,wt)=>{(wt||!GB(Ee,g.value))&&(r("change",Ee),n.validateEvent&&(c==null||c.validate("change").catch(ar=>void 0)))},S=Ee=>{if(!GB(n.modelValue,Ee)){let wt;_t(Ee)?wt=Ee.map(ar=>VB(ar,n.valueFormat,i.value)):Ee&&(wt=VB(Ee,n.valueFormat,i.value)),r("update:modelValue",Ee&&wt,i.value)}},C=Ee=>{r("keydown",Ee)},T=$(()=>{if(v.value){const Ee=De.value?v.value:v.value.$el;return Array.from(Ee.querySelectorAll("input"))}return[]}),M=(Ee,wt,ar)=>{const lr=T.value;lr.length&&(!ar||ar==="min"?(lr[0].setSelectionRange(Ee,wt),lr[0].focus()):ar==="max"&&(lr[1].setSelectionRange(Ee,wt),lr[1].focus()))},k=()=>{I(!0,!0),Ut(()=>{y=!1})},A=(Ee="",wt=!1)=>{wt||(y=!0),p.value=wt;let ar;_t(Ee)?ar=Ee.map(lr=>lr.toDate()):ar=Ee&&Ee.toDate(),q.value=null,S(ar)},O=()=>{m.value=!0},P=()=>{r("visible-change",!0)},R=Ee=>{(Ee==null?void 0:Ee.key)===Kt.esc&&I(!0,!0)},N=()=>{m.value=!1,p.value=!1,y=!1,r("visible-change",!1)},L=()=>{p.value=!0},B=()=>{p.value=!1},I=(Ee=!0,wt=!1)=>{y=wt;const[ar,lr]=E(T);let Wr=ar;!Ee&&De.value&&(Wr=lr),Wr&&Wr.focus()},D=Ee=>{n.readonly||H.value||p.value||y||(p.value=!0,r("focus",Ee))};let z;const U=Ee=>{const wt=async()=>{setTimeout(()=>{var ar;z===wt&&(!((ar=h.value)!=null&&ar.isFocusInsideContent()&&!b)&&T.value.filter(lr=>lr.contains(document.activeElement)).length===0&&(j(),p.value=!1,r("blur",Ee),n.validateEvent&&(c==null||c.validate("blur").catch(lr=>void 0))),b=!1)},0)};z=wt,wt()},H=$(()=>n.disabled||(u==null?void 0:u.disabled)),Y=$(()=>{let Ee;if(te.value?Be.value.getDefaultValue&&(Ee=Be.value.getDefaultValue()):_t(n.modelValue)?Ee=n.modelValue.map(wt=>jB(wt,n.valueFormat,i.value)):Ee=jB(n.modelValue,n.valueFormat,i.value),Be.value.getRangeAvailableTime){const wt=Be.value.getRangeAvailableTime(Ee);ki(wt,Ee)||(Ee=wt,S(_t(Ee)?Ee.map(ar=>ar.toDate()):Ee.toDate()))}return _t(Ee)&&Ee.some(wt=>!wt)&&(Ee=[]),Ee}),ie=$(()=>{if(!Be.value.panelReady)return"";const Ee=fe(Y.value);return _t(q.value)?[q.value[0]||Ee&&Ee[0]||"",q.value[1]||Ee&&Ee[1]||""]:q.value!==null?q.value:!re.value&&te.value||!p.value&&te.value?"":Ee?oe.value||Ne.value?Ee.join(", "):Ee:""}),X=$(()=>n.type.includes("time")),re=$(()=>n.type.startsWith("time")),oe=$(()=>n.type==="dates"),Ne=$(()=>n.type==="years"),me=$(()=>n.prefixIcon||(X.value?OH:x6e)),xe=W(!1),ze=Ee=>{n.readonly||H.value||xe.value&&(Ee.stopPropagation(),k(),S(d.value),x(d.value,!0),xe.value=!1,p.value=!1,Be.value.handleClear&&Be.value.handleClear())},te=$(()=>{const{modelValue:Ee}=n;return!Ee||_t(Ee)&&!Ee.filter(Boolean).length}),le=async Ee=>{var wt;n.readonly||H.value||(((wt=Ee.target)==null?void 0:wt.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(p.value=!0)},Ae=()=>{n.readonly||H.value||!te.value&&n.clearable&&(xe.value=!0)},Ve=()=>{xe.value=!1},Ie=Ee=>{var wt;n.readonly||H.value||(((wt=Ee.touches[0].target)==null?void 0:wt.tagName)!=="INPUT"||T.value.includes(document.activeElement))&&(p.value=!0)},De=$(()=>n.type.includes("range")),Ge=ba(),Qe=$(()=>{var Ee,wt;return(wt=(Ee=E(h))==null?void 0:Ee.popperRef)==null?void 0:wt.contentRef}),ke=$(()=>{var Ee;return E(De)?E(v):(Ee=E(v))==null?void 0:Ee.$el});pI(ke,Ee=>{const wt=E(Qe),ar=E(ke);wt&&(Ee.target===wt||Ee.composedPath().includes(wt))||Ee.target===ar||Ee.composedPath().includes(ar)||(p.value=!1)});const q=W(null),j=()=>{if(q.value){const Ee=Ce(ie.value);Ee&&ge(Ee)&&(S(_t(Ee)?Ee.map(wt=>wt.toDate()):Ee.toDate()),q.value=null)}q.value===""&&(S(d.value),x(d.value),q.value=null)},Ce=Ee=>Ee?Be.value.parseUserInput(Ee):null,fe=Ee=>Ee?Be.value.formatToString(Ee):null,ge=Ee=>Be.value.isValidValue(Ee),Ue=async Ee=>{if(n.readonly||H.value)return;const{code:wt}=Ee;if(C(Ee),wt===Kt.esc){p.value===!0&&(p.value=!1,Ee.preventDefault(),Ee.stopPropagation());return}if(wt===Kt.down&&(Be.value.handleFocusPicker&&(Ee.preventDefault(),Ee.stopPropagation()),p.value===!1&&(p.value=!0,await Ut()),Be.value.handleFocusPicker)){Be.value.handleFocusPicker();return}if(wt===Kt.tab){b=!0;return}if(wt===Kt.enter||wt===Kt.numpadEnter){(q.value===null||q.value===""||ge(Ce(ie.value)))&&(j(),p.value=!1),Ee.stopPropagation();return}if(q.value){Ee.stopPropagation();return}Be.value.handleKeydownInput&&Be.value.handleKeydownInput(Ee)},tt=Ee=>{q.value=Ee,p.value||(p.value=!0)},ot=Ee=>{const wt=Ee.target;q.value?q.value=[wt.value,q.value[1]]:q.value=[wt.value,null]},Ye=Ee=>{const wt=Ee.target;q.value?q.value=[q.value[0],wt.value]:q.value=[null,wt.value]},we=()=>{var Ee;const wt=q.value,ar=Ce(wt&&wt[0]),lr=E(Y);if(ar&&ar.isValid()){q.value=[fe(ar),((Ee=ie.value)==null?void 0:Ee[1])||null];const Wr=[ar,lr&&(lr[1]||null)];ge(Wr)&&(S(Wr),q.value=null)}},qe=()=>{var Ee;const wt=E(q),ar=Ce(wt&&wt[1]),lr=E(Y);if(ar&&ar.isValid()){q.value=[((Ee=E(ie))==null?void 0:Ee[0])||null,fe(ar)];const Wr=[lr&&lr[0],ar];ge(Wr)&&(S(Wr),q.value=null)}},Be=W({}),pe=Ee=>{Be.value[Ee[0]]=Ee[1],Be.value.panelReady=!0},Re=Ee=>{r("calendar-change",Ee)},ft=(Ee,wt,ar)=>{r("panel-change",Ee,wt,ar)};return $r("EP_PICKER_BASE",{props:n}),t({focus:I,handleFocusInput:D,handleBlurInput:U,handleOpen:L,handleClose:B,onPick:A}),(Ee,wt)=>(F(),Oe(E(Ii),Dr({ref_key:"refPopper",ref:h,visible:p.value,effect:"light",pure:"",trigger:"click"},Ee.$attrs,{role:"dialog",teleported:"",transition:`${E(o).namespace.value}-zoom-in-top`,"popper-class":[`${E(o).namespace.value}-picker__popper`,Ee.popperClass],"popper-options":E(f),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:O,onShow:P,onHide:N}),{default:he(()=>[E(De)?(F(),K("div",{key:1,ref_key:"inputRef",ref:v,class:G(E(w)),style:Bt(Ee.$attrs.style),onClick:D,onMouseenter:Ae,onMouseleave:Ve,onTouchstart:Ie,onKeydown:Ue},[E(me)?(F(),Oe(E($t),{key:0,class:G([E(s).e("icon"),E(l).e("icon")]),onMousedown:tr(le,["prevent"]),onTouchstart:Ie},{default:he(()=>[(F(),Oe(kr(E(me))))]),_:1},8,["class","onMousedown"])):be("v-if",!0),Z("input",{id:Ee.id&&Ee.id[0],autocomplete:"off",name:Ee.name&&Ee.name[0],placeholder:Ee.startPlaceholder,value:E(ie)&&E(ie)[0],disabled:E(H),readonly:!Ee.editable||Ee.readonly,class:G(E(l).b("input")),onMousedown:le,onInput:ot,onChange:we,onFocus:D,onBlur:U},null,42,$9e),Pe(Ee.$slots,"range-separator",{},()=>[Z("span",{class:G(E(l).b("separator"))},ct(Ee.rangeSeparator),3)]),Z("input",{id:Ee.id&&Ee.id[1],autocomplete:"off",name:Ee.name&&Ee.name[1],placeholder:Ee.endPlaceholder,value:E(ie)&&E(ie)[1],disabled:E(H),readonly:!Ee.editable||Ee.readonly,class:G(E(l).b("input")),onMousedown:le,onFocus:D,onBlur:U,onInput:Ye,onChange:qe},null,42,B9e),Ee.clearIcon?(F(),Oe(E($t),{key:1,class:G(E(_)),onClick:ze},{default:he(()=>[(F(),Oe(kr(Ee.clearIcon)))]),_:1},8,["class"])):be("v-if",!0)],38)):(F(),Oe(E(Mi),{key:0,id:Ee.id,ref_key:"inputRef",ref:v,"container-role":"combobox","model-value":E(ie),name:Ee.name,size:E(Ge),disabled:E(H),placeholder:Ee.placeholder,class:G([E(o).b("editor"),E(o).bm("editor",Ee.type),Ee.$attrs.class]),style:Bt(Ee.$attrs.style),readonly:!Ee.editable||Ee.readonly||E(oe)||E(Ne)||Ee.type==="week",label:Ee.label,tabindex:Ee.tabindex,"validate-event":!1,onInput:tt,onFocus:D,onBlur:U,onKeydown:Ue,onChange:j,onMousedown:le,onMouseenter:Ae,onMouseleave:Ve,onTouchstart:Ie,onClick:wt[0]||(wt[0]=tr(()=>{},["stop"]))},{prefix:he(()=>[E(me)?(F(),Oe(E($t),{key:0,class:G(E(s).e("icon")),onMousedown:tr(le,["prevent"]),onTouchstart:Ie},{default:he(()=>[(F(),Oe(kr(E(me))))]),_:1},8,["class","onMousedown"])):be("v-if",!0)]),suffix:he(()=>[xe.value&&Ee.clearIcon?(F(),Oe(E($t),{key:0,class:G(`${E(s).e("icon")} clear-icon`),onClick:tr(ze,["stop"])},{default:he(()=>[(F(),Oe(kr(Ee.clearIcon)))]),_:1},8,["class","onClick"])):be("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:he(()=>[Pe(Ee.$slots,"default",{visible:p.value,actualVisible:m.value,parsedValue:E(Y),format:Ee.format,dateFormat:Ee.dateFormat,timeFormat:Ee.timeFormat,unlinkPanels:Ee.unlinkPanels,type:Ee.type,defaultValue:Ee.defaultValue,onPick:A,onSelectRange:M,onSetPickerOption:pe,onCalendarChange:Re,onPanelChange:ft,onKeydown:R,onMousedown:wt[1]||(wt[1]=tr(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var KY=ut(z9e,[["__file","picker.vue"]]);const G9e=it({...YY,datetimeRole:String,parsedValue:{type:ve(Object)}}),XY=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:r})=>{const n=(o,s,l,u)=>{const c={hour:e,minute:t,second:r};let f=o;return["hour","minute","second"].forEach(d=>{if(c[d]){let h;const v=c[d];switch(d){case"minute":{h=v(f.hour(),s,u);break}case"second":{h=v(f.hour(),f.minute(),s,u);break}default:{h=v(s,u);break}}if(h!=null&&h.length&&!h.includes(f[d]())){const p=l?0:h.length-1;f=f[d](h[p])}}}),f},a={};return{timePickerOptions:a,getAvailableTime:n,onSetOption:([o,s])=>{a[o]=s}}},lS=e=>{const t=(n,a)=>n||a,r=n=>n!==!0;return e.map(t).filter(r)},qY=(e,t,r)=>({getHoursList:(o,s)=>sS(24,e&&(()=>e==null?void 0:e(o,s))),getMinutesList:(o,s,l)=>sS(60,t&&(()=>t==null?void 0:t(o,s,l))),getSecondsList:(o,s,l,u)=>sS(60,r&&(()=>r==null?void 0:r(o,s,l,u)))}),ZY=(e,t,r)=>{const{getHoursList:n,getMinutesList:a,getSecondsList:i}=qY(e,t,r);return{getAvailableHours:(u,c)=>lS(n(u,c)),getAvailableMinutes:(u,c,f)=>lS(a(u,c,f)),getAvailableSeconds:(u,c,f,d)=>lS(i(u,c,f,d))}},QY=e=>{const t=W(e.parsedValue);return He(()=>e.visible,r=>{r||(t.value=e.parsedValue)}),t},Qu=new Map;let UB;Ur&&(document.addEventListener("mousedown",e=>UB=e),document.addEventListener("mouseup",e=>{for(const t of Qu.values())for(const{documentHandler:r}of t)r(e,UB)}));function WB(e,t){let r=[];return Array.isArray(t.arg)?r=t.arg:us(t.arg)&&r.push(t.arg),function(n,a){const i=t.instance.popperRef,o=n.target,s=a==null?void 0:a.target,l=!t||!t.instance,u=!o||!s,c=e.contains(o)||e.contains(s),f=e===o,d=r.length&&r.some(v=>v==null?void 0:v.contains(o))||r.length&&r.includes(s),h=i&&(i.contains(o)||i.contains(s));l||u||c||f||d||h||t.value(n,a)}}const wu={beforeMount(e,t){Qu.has(e)||Qu.set(e,[]),Qu.get(e).push({documentHandler:WB(e,t),bindingFn:t.value})},updated(e,t){Qu.has(e)||Qu.set(e,[]);const r=Qu.get(e),n=r.findIndex(i=>i.bindingFn===t.oldValue),a={documentHandler:WB(e,t),bindingFn:t.value};n>=0?r.splice(n,1,a):r.push(a)},unmounted(e){Qu.delete(e)}},j9e=100,V9e=600,Iw={beforeMount(e,t){const r=t.value,{interval:n=j9e,delay:a=V9e}=Jt(r)?{}:r;let i,o;const s=()=>Jt(r)?r():r.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),i&&(clearInterval(i),i=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(l(),s(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{i=setInterval(()=>{s()},n)},a))})}},FM="_trap-focus-children",$f=[],HB=e=>{if($f.length===0)return;const t=$f[$f.length-1][FM];if(t.length>0&&e.code===Kt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const r=e.shiftKey,n=e.target===t[0],a=e.target===t[t.length-1];n&&r&&(e.preventDefault(),t[t.length-1].focus()),a&&!r&&(e.preventDefault(),t[0].focus())}},U9e={beforeMount(e){e[FM]=t5(e),$f.push(e),$f.length<=1&&document.addEventListener("keydown",HB)},updated(e){Ut(()=>{e[FM]=t5(e)})},unmounted(){$f.shift(),$f.length===0&&document.removeEventListener("keydown",HB)}};var YB=!1,Tf,zM,GM,J1,eb,JY,tb,jM,VM,UM,eK,WM,HM,tK,rK;function Zi(){if(!YB){YB=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(WM=/\b(iPhone|iP[ao]d)/.exec(e),HM=/\b(iP[ao]d)/.exec(e),UM=/Android/i.exec(e),tK=/FBAN\/\w+;/i.exec(e),rK=/Mobile/i.exec(e),eK=!!/Win64/.exec(e),t){Tf=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Tf&&document&&document.documentMode&&(Tf=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);JY=n?parseFloat(n[1])+4:Tf,zM=t[2]?parseFloat(t[2]):NaN,GM=t[3]?parseFloat(t[3]):NaN,J1=t[4]?parseFloat(t[4]):NaN,J1?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),eb=t&&t[1]?parseFloat(t[1]):NaN):eb=NaN}else Tf=zM=GM=eb=J1=NaN;if(r){if(r[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);tb=a?parseFloat(a[1].replace("_",".")):!0}else tb=!1;jM=!!r[2],VM=!!r[3]}else tb=jM=VM=!1}}var YM={ie:function(){return Zi()||Tf},ieCompatibilityMode:function(){return Zi()||JY>Tf},ie64:function(){return YM.ie()&&eK},firefox:function(){return Zi()||zM},opera:function(){return Zi()||GM},webkit:function(){return Zi()||J1},safari:function(){return YM.webkit()},chrome:function(){return Zi()||eb},windows:function(){return Zi()||jM},osx:function(){return Zi()||tb},linux:function(){return Zi()||VM},iphone:function(){return Zi()||WM},mobile:function(){return Zi()||WM||HM||UM||rK},nativeApp:function(){return Zi()||tK},android:function(){return Zi()||UM},ipad:function(){return Zi()||HM}},W9e=YM,h1=!!(typeof window<"u"&&window.document&&window.document.createElement),H9e={canUseDOM:h1,canUseWorkers:typeof Worker<"u",canUseEventListeners:h1&&!!(window.addEventListener||window.attachEvent),canUseViewport:h1&&!!window.screen,isInWorker:!h1},nK=H9e,aK;nK.canUseDOM&&(aK=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Y9e(e,t){if(!nK.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,n=r in document;if(!n){var a=document.createElement("div");a.setAttribute(r,"return;"),n=typeof a[r]=="function"}return!n&&aK&&e==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var K9e=Y9e,KB=10,XB=40,qB=800;function iK(e){var t=0,r=0,n=0,a=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=t*KB,a=r*KB,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||a)&&e.deltaMode&&(e.deltaMode==1?(n*=XB,a*=XB):(n*=qB,a*=qB)),n&&!t&&(t=n<1?-1:1),a&&!r&&(r=a<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:a}}iK.getEventType=function(){return W9e.firefox()?"DOMMouseScroll":K9e("wheel")?"wheel":"mousewheel"};var X9e=iK;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const q9e=function(e,t){if(e&&e.addEventListener){const r=function(n){const a=X9e(n);t&&Reflect.apply(t,this,[n,a])};e.addEventListener("wheel",r,{passive:!0})}},Z9e={beforeMount(e,t){q9e(e,t.value)}},Q9e=it({role:{type:String,required:!0},spinnerDate:{type:ve(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ve(String),default:""},...HY}),J9e=["onClick"],eUe=["onMouseenter"],tUe=J({__name:"basic-time-spinner",props:Q9e,emits:["change","select-range","set-option"],setup(e,{emit:t}){const r=e,n=Ze("time"),{getHoursList:a,getMinutesList:i,getSecondsList:o}=qY(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let s=!1;const l=W(),u=W(),c=W(),f=W(),d={hours:u,minutes:c,seconds:f},h=$(()=>r.showSeconds?FB:FB.slice(0,2)),v=$(()=>{const{spinnerDate:I}=r,D=I.hour(),z=I.minute(),U=I.second();return{hours:D,minutes:z,seconds:U}}),p=$(()=>{const{hours:I,minutes:D}=E(v);return{hours:a(r.role),minutes:i(I,r.role),seconds:o(I,D,r.role)}}),m=$(()=>{const{hours:I,minutes:D,seconds:z}=E(v);return{hours:oS(I,23),minutes:oS(D,59),seconds:oS(z,59)}}),g=uo(I=>{s=!1,w(I)},200),b=I=>{if(!!!r.amPmMode)return"";const z=r.amPmMode==="A";let U=I<12?" am":" pm";return z&&(U=U.toUpperCase()),U},y=I=>{let D;switch(I){case"hours":D=[0,2];break;case"minutes":D=[3,5];break;case"seconds":D=[6,8];break}const[z,U]=D;t("select-range",z,U),l.value=I},w=I=>{S(I,E(v)[I])},_=()=>{w("hours"),w("minutes"),w("seconds")},x=I=>I.querySelector(`.${n.namespace.value}-scrollbar__wrap`),S=(I,D)=>{if(r.arrowControl)return;const z=E(d[I]);z&&z.$el&&(x(z.$el).scrollTop=Math.max(0,D*C(I)))},C=I=>{const D=E(d[I]),z=D==null?void 0:D.$el.querySelector("li");return z&&Number.parseFloat(uc(z,"height"))||0},T=()=>{k(1)},M=()=>{k(-1)},k=I=>{l.value||y("hours");const D=l.value,z=E(v)[D],U=l.value==="hours"?24:60,H=A(D,z,I,U);O(D,H),S(D,H),Ut(()=>y(D))},A=(I,D,z,U)=>{let H=(D+z+U)%U;const Y=E(p)[I];for(;Y[H]&&H!==D;)H=(H+z+U)%U;return H},O=(I,D)=>{if(E(p)[I][D])return;const{hours:H,minutes:Y,seconds:ie}=E(v);let X;switch(I){case"hours":X=r.spinnerDate.hour(D).minute(Y).second(ie);break;case"minutes":X=r.spinnerDate.hour(H).minute(D).second(ie);break;case"seconds":X=r.spinnerDate.hour(H).minute(Y).second(D);break}t("change",X)},P=(I,{value:D,disabled:z})=>{z||(O(I,D),y(I),S(I,D))},R=I=>{s=!0,g(I);const D=Math.min(Math.round((x(E(d[I]).$el).scrollTop-(N(I)*.5-10)/C(I)+3)/C(I)),I==="hours"?23:59);O(I,D)},N=I=>E(d[I]).$el.offsetHeight,L=()=>{const I=D=>{const z=E(d[D]);z&&z.$el&&(x(z.$el).onscroll=()=>{R(D)})};I("hours"),I("minutes"),I("seconds")};vr(()=>{Ut(()=>{!r.arrowControl&&L(),_(),r.role==="start"&&y("hours")})});const B=(I,D)=>{d[D].value=I};return t("set-option",[`${r.role}_scrollDown`,k]),t("set-option",[`${r.role}_emitSelectRange`,y]),He(()=>r.spinnerDate,()=>{s||_()}),(I,D)=>(F(),K("div",{class:G([E(n).b("spinner"),{"has-seconds":I.showSeconds}])},[I.arrowControl?be("v-if",!0):(F(!0),K(zt,{key:0},zr(E(h),z=>(F(),Oe(E(Pu),{key:z,ref_for:!0,ref:U=>B(U,z),class:G(E(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":E(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:U=>y(z),onMousemove:U=>w(z)},{default:he(()=>[(F(!0),K(zt,null,zr(E(p)[z],(U,H)=>(F(),K("li",{key:H,class:G([E(n).be("spinner","item"),E(n).is("active",H===E(v)[z]),E(n).is("disabled",U)]),onClick:Y=>P(z,{value:H,disabled:U})},[z==="hours"?(F(),K(zt,{key:0},[qr(ct(("0"+(I.amPmMode?H%12||12:H)).slice(-2))+ct(b(H)),1)],64)):(F(),K(zt,{key:1},[qr(ct(("0"+H).slice(-2)),1)],64))],10,J9e))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),I.arrowControl?(F(!0),K(zt,{key:1},zr(E(h),z=>(F(),K("div",{key:z,class:G([E(n).be("spinner","wrapper"),E(n).is("arrow")]),onMouseenter:U=>y(z)},[cr((F(),Oe(E($t),{class:G(["arrow-up",E(n).be("spinner","arrow")])},{default:he(()=>[ae(E(NI))]),_:1},8,["class"])),[[E(Iw),M]]),cr((F(),Oe(E($t),{class:G(["arrow-down",E(n).be("spinner","arrow")])},{default:he(()=>[ae(E(Lu))]),_:1},8,["class"])),[[E(Iw),T]]),Z("ul",{class:G(E(n).be("spinner","list"))},[(F(!0),K(zt,null,zr(E(m)[z],(U,H)=>(F(),K("li",{key:H,class:G([E(n).be("spinner","item"),E(n).is("active",U===E(v)[z]),E(n).is("disabled",E(p)[z][U])])},[typeof U=="number"?(F(),K(zt,{key:0},[z==="hours"?(F(),K(zt,{key:0},[qr(ct(("0"+(I.amPmMode?U%12||12:U)).slice(-2))+ct(b(U)),1)],64)):(F(),K(zt,{key:1},[qr(ct(("0"+U).slice(-2)),1)],64))],64)):be("v-if",!0)],2))),128))],2)],42,eUe))),128)):be("v-if",!0)],2))}});var KM=ut(tUe,[["__file","basic-time-spinner.vue"]]);const rUe=J({__name:"panel-time-pick",props:G9e,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const r=e,n=At("EP_PICKER_BASE"),{arrowControl:a,disabledHours:i,disabledMinutes:o,disabledSeconds:s,defaultValue:l}=n.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}=ZY(i,o,s),d=Ze("time"),{t:h,lang:v}=Zr(),p=W([0,2]),m=QY(r),g=$(()=>ca(r.actualVisible)?`${d.namespace.value}-zoom-in-top`:""),b=$(()=>r.format.includes("ss")),y=$(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),w=B=>{const I=xr(B).locale(v.value),D=P(I);return I.isSame(D)},_=()=>{t("pick",m.value,!1)},x=(B=!1,I=!1)=>{I||t("pick",r.parsedValue,B)},S=B=>{if(!r.visible)return;const I=P(B).millisecond(0);t("pick",I,!0)},C=(B,I)=>{t("select-range",B,I),p.value=[B,I]},T=B=>{const I=[0,3].concat(b.value?[6]:[]),D=["hours","minutes"].concat(b.value?["seconds"]:[]),U=(I.indexOf(p.value[0])+B+I.length)%I.length;k.start_emitSelectRange(D[U])},M=B=>{const I=B.code,{left:D,right:z,up:U,down:H}=Kt;if([D,z].includes(I)){T(I===D?-1:1),B.preventDefault();return}if([U,H].includes(I)){const Y=I===U?-1:1;k.start_scrollDown(Y),B.preventDefault();return}},{timePickerOptions:k,onSetOption:A,getAvailableTime:O}=XY({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}),P=B=>O(B,r.datetimeRole||"",!0),R=B=>B?xr(B,r.format).locale(v.value):null,N=B=>B?B.format(r.format):null,L=()=>xr(l).locale(v.value);return t("set-picker-option",["isValidValue",w]),t("set-picker-option",["formatToString",N]),t("set-picker-option",["parseUserInput",R]),t("set-picker-option",["handleKeydownInput",M]),t("set-picker-option",["getRangeAvailableTime",P]),t("set-picker-option",["getDefaultValue",L]),(B,I)=>(F(),Oe(Ma,{name:E(g)},{default:he(()=>[B.actualVisible||B.visible?(F(),K("div",{key:0,class:G(E(d).b("panel"))},[Z("div",{class:G([E(d).be("panel","content"),{"has-seconds":E(b)}])},[ae(KM,{ref:"spinner",role:B.datetimeRole||"start","arrow-control":E(a),"show-seconds":E(b),"am-pm-mode":E(y),"spinner-date":B.parsedValue,"disabled-hours":E(i),"disabled-minutes":E(o),"disabled-seconds":E(s),onChange:S,onSetOption:E(A),onSelectRange:C},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:G(E(d).be("panel","footer"))},[Z("button",{type:"button",class:G([E(d).be("panel","btn"),"cancel"]),onClick:_},ct(E(h)("el.datepicker.cancel")),3),Z("button",{type:"button",class:G([E(d).be("panel","btn"),"confirm"]),onClick:I[0]||(I[0]=D=>x())},ct(E(h)("el.datepicker.confirm")),3)],2)],2)):be("v-if",!0)]),_:1},8,["name"]))}});var Ow=ut(rUe,[["__file","panel-time-pick.vue"]]);const nUe=it({...YY,parsedValue:{type:ve(Array)}}),aUe=["disabled"],iUe=J({__name:"panel-time-range",props:nUe,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const r=e,n=(xe,ze)=>{const te=[];for(let le=xe;le<=ze;le++)te.push(le);return te},{t:a,lang:i}=Zr(),o=Ze("time"),s=Ze("picker"),l=At("EP_PICKER_BASE"),{arrowControl:u,disabledHours:c,disabledMinutes:f,disabledSeconds:d,defaultValue:h}=l.props,v=$(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),w.value?"has-seconds":""]),p=$(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),w.value?"has-seconds":""]),m=$(()=>r.parsedValue[0]),g=$(()=>r.parsedValue[1]),b=QY(r),y=()=>{t("pick",b.value,!1)},w=$(()=>r.format.includes("ss")),_=$(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),x=(xe=!1)=>{t("pick",[m.value,g.value],xe)},S=xe=>{M(xe.millisecond(0),g.value)},C=xe=>{M(m.value,xe.millisecond(0))},T=xe=>{const ze=xe.map(le=>xr(le).locale(i.value)),te=z(ze);return ze[0].isSame(te[0])&&ze[1].isSame(te[1])},M=(xe,ze)=>{t("pick",[xe,ze],!0)},k=$(()=>m.value>g.value),A=W([0,2]),O=(xe,ze)=>{t("select-range",xe,ze,"min"),A.value=[xe,ze]},P=$(()=>w.value?11:8),R=(xe,ze)=>{t("select-range",xe,ze,"max");const te=E(P);A.value=[xe+te,ze+te]},N=xe=>{const ze=w.value?[0,3,6,11,14,17]:[0,3,8,11],te=["hours","minutes"].concat(w.value?["seconds"]:[]),Ae=(ze.indexOf(A.value[0])+xe+ze.length)%ze.length,Ve=ze.length/2;Ae<Ve?ie.start_emitSelectRange(te[Ae]):ie.end_emitSelectRange(te[Ae-Ve])},L=xe=>{const ze=xe.code,{left:te,right:le,up:Ae,down:Ve}=Kt;if([te,le].includes(ze)){N(ze===te?-1:1),xe.preventDefault();return}if([Ae,Ve].includes(ze)){const Ie=ze===Ae?-1:1,De=A.value[0]<P.value?"start":"end";ie[`${De}_scrollDown`](Ie),xe.preventDefault();return}},B=(xe,ze)=>{const te=c?c(xe):[],le=xe==="start",Ve=(ze||(le?g.value:m.value)).hour(),Ie=le?n(Ve+1,23):n(0,Ve-1);return Qx(te,Ie)},I=(xe,ze,te)=>{const le=f?f(xe,ze):[],Ae=ze==="start",Ve=te||(Ae?g.value:m.value),Ie=Ve.hour();if(xe!==Ie)return le;const De=Ve.minute(),Ge=Ae?n(De+1,59):n(0,De-1);return Qx(le,Ge)},D=(xe,ze,te,le)=>{const Ae=d?d(xe,ze,te):[],Ve=te==="start",Ie=le||(Ve?g.value:m.value),De=Ie.hour(),Ge=Ie.minute();if(xe!==De||ze!==Ge)return Ae;const Qe=Ie.second(),ke=Ve?n(Qe+1,59):n(0,Qe-1);return Qx(Ae,ke)},z=([xe,ze])=>[X(xe,"start",!0,ze),X(ze,"end",!1,xe)],{getAvailableHours:U,getAvailableMinutes:H,getAvailableSeconds:Y}=ZY(B,I,D),{timePickerOptions:ie,getAvailableTime:X,onSetOption:re}=XY({getAvailableHours:U,getAvailableMinutes:H,getAvailableSeconds:Y}),oe=xe=>xe?_t(xe)?xe.map(ze=>xr(ze,r.format).locale(i.value)):xr(xe,r.format).locale(i.value):null,Ne=xe=>xe?_t(xe)?xe.map(ze=>ze.format(r.format)):xe.format(r.format):null,me=()=>{if(_t(h))return h.map(ze=>xr(ze).locale(i.value));const xe=xr(h).locale(i.value);return[xe,xe.add(60,"m")]};return t("set-picker-option",["formatToString",Ne]),t("set-picker-option",["parseUserInput",oe]),t("set-picker-option",["isValidValue",T]),t("set-picker-option",["handleKeydownInput",L]),t("set-picker-option",["getDefaultValue",me]),t("set-picker-option",["getRangeAvailableTime",z]),(xe,ze)=>xe.actualVisible?(F(),K("div",{key:0,class:G([E(o).b("range-picker"),E(s).b("panel")])},[Z("div",{class:G(E(o).be("range-picker","content"))},[Z("div",{class:G(E(o).be("range-picker","cell"))},[Z("div",{class:G(E(o).be("range-picker","header"))},ct(E(a)("el.datepicker.startTime")),3),Z("div",{class:G(E(v))},[ae(KM,{ref:"minSpinner",role:"start","show-seconds":E(w),"am-pm-mode":E(_),"arrow-control":E(u),"spinner-date":E(m),"disabled-hours":B,"disabled-minutes":I,"disabled-seconds":D,onChange:S,onSetOption:E(re),onSelectRange:O},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Z("div",{class:G(E(o).be("range-picker","cell"))},[Z("div",{class:G(E(o).be("range-picker","header"))},ct(E(a)("el.datepicker.endTime")),3),Z("div",{class:G(E(p))},[ae(KM,{ref:"maxSpinner",role:"end","show-seconds":E(w),"am-pm-mode":E(_),"arrow-control":E(u),"spinner-date":E(g),"disabled-hours":B,"disabled-minutes":I,"disabled-seconds":D,onChange:C,onSetOption:E(re),onSelectRange:R},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Z("div",{class:G(E(o).be("panel","footer"))},[Z("button",{type:"button",class:G([E(o).be("panel","btn"),"cancel"]),onClick:ze[0]||(ze[0]=te=>y())},ct(E(a)("el.datepicker.cancel")),3),Z("button",{type:"button",class:G([E(o).be("panel","btn"),"confirm"]),disabled:E(k),onClick:ze[1]||(ze[1]=te=>x())},ct(E(a)("el.datepicker.confirm")),11,aUe)],2)],2)):be("v-if",!0)}});var oUe=ut(iUe,[["__file","panel-time-range.vue"]]);xr.extend(hO);var sUe=J({name:"ElTimePicker",install:null,props:{...vO,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const r=W(),[n,a]=e.isRange?["timerange",oUe]:["time",Ow],i=o=>t.emit("update:modelValue",o);return $r("ElPopperOptions",e.popperOptions),t.expose({focus:o=>{var s;(s=r.value)==null||s.handleFocusInput(o)},blur:o=>{var s;(s=r.value)==null||s.handleBlurInput(o)},handleOpen:()=>{var o;(o=r.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=r.value)==null||o.handleClose()}}),()=>{var o;const s=(o=e.format)!=null?o:BM;return ae(KY,Dr(e,{ref:r,type:n,format:s,"onUpdate:modelValue":i}),{default:l=>ae(a,l,null)})}}});const rb=sUe;rb.install=e=>{e.component(rb.name,rb)};const lUe=rb,uUe=(e,t)=>{const r=e.subtract(1,"month").endOf("month").date();return _c(t).map((n,a)=>r-(t-a-1))},cUe=e=>{const t=e.daysInMonth();return _c(t).map((r,n)=>n+1)},fUe=e=>_c(e.length/7).map(t=>{const r=t*7;return e.slice(r,r+7)}),dUe=it({selectedDay:{type:ve(Object)},range:{type:ve(Array)},date:{type:ve(Object),required:!0},hideHeader:{type:Boolean}}),hUe={pick:e=>Sr(e)};var oK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){return function(r,n,a){var i=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,v,p){var m=f.name?f:f.$locale(),g=o(m[d]),b=o(m[h]),y=g||b.map(function(_){return _.slice(0,v)});if(!p)return y;var w=m.weekStart;return y.map(function(_,x){return y[(x+(w||0))%7]})},l=function(){return a.Ls[a.locale()]},u=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,p,m){return p||m.slice(1)})}(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return c.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return s(l(),"months")},a.monthsShort=function(){return s(l(),"monthsShort","months",3)},a.weekdays=function(f){return s(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(oK);var vUe=oK.exports;const sK=Ka(vUe),pUe=(e,t)=>{xr.extend(sK);const r=xr.localeData().firstDayOfWeek(),{t:n,lang:a}=Zr(),i=xr().locale(a.value),o=$(()=>!!e.range&&!!e.range.length),s=$(()=>{let d=[];if(o.value){const[h,v]=e.range,p=_c(v.date()-h.date()+1).map(b=>({text:h.date()+b,type:"current"}));let m=p.length%7;m=m===0?0:7-m;const g=_c(m).map((b,y)=>({text:y+1,type:"next"}));d=p.concat(g)}else{const h=e.date.startOf("month").day(),v=uUe(e.date,(h-r+7)%7).map(b=>({text:b,type:"prev"})),p=cUe(e.date).map(b=>({text:b,type:"current"}));d=[...v,...p];const m=7-(d.length%7||7),g=_c(m).map((b,y)=>({text:y+1,type:"next"}));d=d.concat(g)}return fUe(d)}),l=$(()=>{const d=r;return d===0?Jx.map(h=>n(`el.datepicker.weeks.${h}`)):Jx.slice(d).concat(Jx.slice(0,d)).map(h=>n(`el.datepicker.weeks.${h}`))}),u=(d,h)=>{switch(h){case"prev":return e.date.startOf("month").subtract(1,"month").date(d);case"next":return e.date.startOf("month").add(1,"month").date(d);case"current":return e.date.date(d)}};return{now:i,isInRange:o,rows:s,weekDays:l,getFormattedDate:u,handlePickDay:({text:d,type:h})=>{const v=u(d,h);t("pick",v)},getSlotData:({text:d,type:h})=>{const v=u(d,h);return{isSelected:v.isSame(e.selectedDay),type:`${h}-month`,day:v.format("YYYY-MM-DD"),date:v.toDate()}}}},gUe={key:0},mUe=["onClick"],yUe=J({name:"DateTable"}),bUe=J({...yUe,props:dUe,emits:hUe,setup(e,{expose:t,emit:r}){const n=e,{isInRange:a,now:i,rows:o,weekDays:s,getFormattedDate:l,handlePickDay:u,getSlotData:c}=pUe(n,r),f=Ze("calendar-table"),d=Ze("calendar-day"),h=({text:v,type:p})=>{const m=[p];if(p==="current"){const g=l(v,p);g.isSame(n.selectedDay,"day")&&m.push(d.is("selected")),g.isSame(i,"day")&&m.push(d.is("today"))}return m};return t({getFormattedDate:l}),(v,p)=>(F(),K("table",{class:G([E(f).b(),E(f).is("range",E(a))]),cellspacing:"0",cellpadding:"0"},[v.hideHeader?be("v-if",!0):(F(),K("thead",gUe,[(F(!0),K(zt,null,zr(E(s),m=>(F(),K("th",{key:m},ct(m),1))),128))])),Z("tbody",null,[(F(!0),K(zt,null,zr(E(o),(m,g)=>(F(),K("tr",{key:g,class:G({[E(f).e("row")]:!0,[E(f).em("row","hide-border")]:g===0&&v.hideHeader})},[(F(!0),K(zt,null,zr(m,(b,y)=>(F(),K("td",{key:y,class:G(h(b)),onClick:w=>E(u)(b)},[Z("div",{class:G(E(d).b())},[Pe(v.$slots,"date-cell",{data:E(c)(b)},()=>[Z("span",null,ct(b.text),1)])],2)],10,mUe))),128))],2))),128))])],2))}});var ZB=ut(bUe,[["__file","date-table.vue"]]);const wUe=(e,t)=>{const r=e.endOf("month"),n=t.startOf("month"),i=r.isSame(n,"week")?n.add(1,"week"):n;return[[e,r],[i.startOf("week"),t]]},EUe=(e,t)=>{const r=e.endOf("month"),n=e.add(1,"month").startOf("month"),a=r.isSame(n,"week")?n.add(1,"week"):n,i=a.endOf("month"),o=t.startOf("month"),s=i.isSame(o,"week")?o.add(1,"week"):o;return[[e,r],[a.startOf("week"),i],[s.startOf("week"),t]]},_Ue=(e,t,r)=>{const{lang:n}=Zr(),a=W(),i=xr().locale(n.value),o=$({get(){return e.modelValue?l.value:a.value},set(m){if(!m)return;a.value=m;const g=m.toDate();t(zi,g),t(Mr,g)}}),s=$(()=>{if(!e.range)return[];const m=e.range.map(y=>xr(y).locale(n.value)),[g,b]=m;return g.isAfter(b)?[]:g.isSame(b,"month")?h(g,b):g.add(1,"month").month()!==b.month()?[]:h(g,b)}),l=$(()=>e.modelValue?xr(e.modelValue).locale(n.value):o.value||(s.value.length?s.value[0][0]:i)),u=$(()=>l.value.subtract(1,"month").date(1)),c=$(()=>l.value.add(1,"month").date(1)),f=$(()=>l.value.subtract(1,"year").date(1)),d=$(()=>l.value.add(1,"year").date(1)),h=(m,g)=>{const b=m.startOf("week"),y=g.endOf("week"),w=b.get("month"),_=y.get("month");return w===_?[[b,y]]:(w+1)%12===_?wUe(b,y):w+2===_||(w+1)%11===_?EUe(b,y):[]},v=m=>{o.value=m};return{calculateValidatedDateRange:h,date:l,realSelectedDay:o,pickDay:v,selectDate:m=>{const b={"prev-month":u.value,"next-month":c.value,"prev-year":f.value,"next-year":d.value,today:i}[m];b.isSame(l.value,"day")||v(b)},validatedRange:s}},xUe=e=>_t(e)&&e.length===2&&e.every(t=>ed(t)),SUe=it({modelValue:{type:Date},range:{type:ve(Array),validator:xUe}}),CUe={[Mr]:e=>ed(e),[zi]:e=>ed(e)},MUe="ElCalendar",TUe=J({name:MUe}),kUe=J({...TUe,props:SUe,emits:CUe,setup(e,{expose:t,emit:r}){const n=e,a=Ze("calendar"),{calculateValidatedDateRange:i,date:o,pickDay:s,realSelectedDay:l,selectDate:u,validatedRange:c}=_Ue(n,r),{t:f}=Zr(),d=$(()=>{const h=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${f("el.datepicker.year")} ${f(h)}`});return t({selectedDay:l,pickDay:s,selectDate:u,calculateValidatedDateRange:i}),(h,v)=>(F(),K("div",{class:G(E(a).b())},[Z("div",{class:G(E(a).e("header"))},[Pe(h.$slots,"header",{date:E(d)},()=>[Z("div",{class:G(E(a).e("title"))},ct(E(d)),3),E(c).length===0?(F(),K("div",{key:0,class:G(E(a).e("button-group"))},[ae(E(GY),null,{default:he(()=>[ae(E(Wa),{size:"small",onClick:v[0]||(v[0]=p=>E(u)("prev-month"))},{default:he(()=>[qr(ct(E(f)("el.datepicker.prevMonth")),1)]),_:1}),ae(E(Wa),{size:"small",onClick:v[1]||(v[1]=p=>E(u)("today"))},{default:he(()=>[qr(ct(E(f)("el.datepicker.today")),1)]),_:1}),ae(E(Wa),{size:"small",onClick:v[2]||(v[2]=p=>E(u)("next-month"))},{default:he(()=>[qr(ct(E(f)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):be("v-if",!0)])],2),E(c).length===0?(F(),K("div",{key:0,class:G(E(a).e("body"))},[ae(ZB,{date:E(o),"selected-day":E(l),onPick:E(s)},vu({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:he(p=>[Pe(h.$slots,"date-cell",nu(Wh(p)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(F(),K("div",{key:1,class:G(E(a).e("body"))},[(F(!0),K(zt,null,zr(E(c),(p,m)=>(F(),Oe(ZB,{key:m,date:p[0],"selected-day":E(l),range:p,"hide-header":m!==0,onPick:E(s)},vu({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:he(g=>[Pe(h.$slots,"date-cell",nu(Wh(g)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var AUe=ut(kUe,[["__file","calendar.vue"]]);const IUe=_r(AUe),OUe=it({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:ve([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),LUe=J({name:"ElCard"}),NUe=J({...LUe,props:OUe,setup(e){const t=Ze("card");return(r,n)=>(F(),K("div",{class:G([E(t).b(),E(t).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(F(),K("div",{key:0,class:G(E(t).e("header"))},[Pe(r.$slots,"header",{},()=>[qr(ct(r.header),1)])],2)):be("v-if",!0),Z("div",{class:G([E(t).e("body"),r.bodyClass]),style:Bt(r.bodyStyle)},[Pe(r.$slots,"default")],6),r.$slots.footer||r.footer?(F(),K("div",{key:1,class:G(E(t).e("footer"))},[Pe(r.$slots,"footer",{},()=>[qr(ct(r.footer),1)])],2)):be("v-if",!0)],2))}});var PUe=ut(NUe,[["__file","card.vue"]]);const DUe=_r(PUe),RUe=it({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),$Ue={change:(e,t)=>[e,t].every(Qt)},lK=Symbol("carouselContextKey"),QB=300,BUe=(e,t,r)=>{const{children:n,addChild:a,removeChild:i}=oO(Er(),"ElCarouselItem"),o=Ya(),s=W(-1),l=W(null),u=W(!1),c=W(),f=W(0),d=W(!0),h=W(!0),v=W(!1),p=$(()=>e.arrow!=="never"&&!E(b)),m=$(()=>n.value.some(X=>X.props.label.toString().length>0)),g=$(()=>e.type==="card"),b=$(()=>e.direction==="vertical"),y=$(()=>e.height!=="auto"?{height:e.height}:{height:`${f.value}px`,overflow:"hidden"}),w=qf(X=>{M(X)},QB,{trailing:!0}),_=qf(X=>{I(X)},QB),x=X=>d.value?s.value<=1?X<=1:X>1:!0;function S(){l.value&&(clearInterval(l.value),l.value=null)}function C(){e.interval<=0||!e.autoplay||l.value||(l.value=setInterval(()=>T(),e.interval))}const T=()=>{h.value||(v.value=!0),h.value=!1,s.value<n.value.length-1?s.value=s.value+1:e.loop&&(s.value=0)};function M(X){if(h.value||(v.value=!0),h.value=!1,nr(X)){const Ne=n.value.filter(me=>me.props.name===X);Ne.length>0&&(X=n.value.indexOf(Ne[0]))}if(X=Number(X),Number.isNaN(X)||X!==Math.floor(X))return;const re=n.value.length,oe=s.value;X<0?s.value=e.loop?re-1:0:X>=re?s.value=e.loop?0:re-1:s.value=X,oe===s.value&&k(oe),U()}function k(X){n.value.forEach((re,oe)=>{re.translateItem(oe,s.value,X)})}function A(X,re){var oe,Ne,me,xe;const ze=E(n),te=ze.length;if(te===0||!X.states.inStage)return!1;const le=re+1,Ae=re-1,Ve=te-1,Ie=ze[Ve].states.active,De=ze[0].states.active,Ge=(Ne=(oe=ze[le])==null?void 0:oe.states)==null?void 0:Ne.active,Qe=(xe=(me=ze[Ae])==null?void 0:me.states)==null?void 0:xe.active;return re===Ve&&De||Ge?"left":re===0&&Ie||Qe?"right":!1}function O(){u.value=!0,e.pauseOnHover&&S()}function P(){u.value=!1,C()}function R(){v.value=!1}function N(X){E(b)||n.value.forEach((re,oe)=>{X===A(re,oe)&&(re.states.hover=!0)})}function L(){E(b)||n.value.forEach(X=>{X.states.hover=!1})}function B(X){X!==s.value&&(h.value||(v.value=!0)),s.value=X}function I(X){e.trigger==="hover"&&X!==s.value&&(s.value=X,h.value||(v.value=!0))}function D(){M(s.value-1)}function z(){M(s.value+1)}function U(){S(),e.pauseOnHover||C()}function H(X){e.height==="auto"&&(f.value=X)}function Y(){var X;const re=(X=o.default)==null?void 0:X.call(o);if(!re)return null;const oe=Ec(re),Ne="ElCarouselItem",me=oe.filter(xe=>Rn(xe)&&xe.type.name===Ne);return(me==null?void 0:me.length)===2&&e.loop&&!g.value?(d.value=!0,me):(d.value=!1,null)}He(()=>s.value,(X,re)=>{k(re),d.value&&(X=X%2,re=re%2),re>-1&&t("change",X,re)}),He(()=>e.autoplay,X=>{X?C():S()}),He(()=>e.loop,()=>{M(s.value)}),He(()=>e.interval,()=>{U()});const ie=Pn();return vr(()=>{He(()=>n.value,()=>{n.value.length>0&&M(e.initialIndex)},{immediate:!0}),ie.value=Bn(c.value,()=>{k()}),C()}),On(()=>{S(),c.value&&ie.value&&ie.value.stop()}),$r(lK,{root:c,isCardType:g,isVertical:b,items:n,loop:e.loop,addItem:a,removeItem:i,setActiveItem:M,setContainerHeight:H}),{root:c,activeIndex:s,arrowDisplay:p,hasLabel:m,hover:u,isCardType:g,isTransitioning:v,items:n,isVertical:b,containerStyle:y,isItemsTwoLength:d,handleButtonEnter:N,handleTransitionEnd:R,handleButtonLeave:L,handleIndicatorClick:B,handleMouseEnter:O,handleMouseLeave:P,setActiveItem:M,prev:D,next:z,PlaceholderItem:Y,isTwoLengthShow:x,throttledArrowClick:w,throttledIndicatorHover:_}},FUe=["aria-label"],zUe=["aria-label"],GUe=["onMouseenter","onClick"],jUe=["aria-label"],VUe={key:0},UUe={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},WUe=Z("defs",null,[Z("filter",{id:"elCarouselHorizontal"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Z("filter",{id:"elCarouselVertical"},[Z("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),HUe=[WUe],YUe="ElCarousel",KUe=J({name:YUe}),XUe=J({...KUe,props:RUe,emits:$Ue,setup(e,{expose:t,emit:r}){const n=e,{root:a,activeIndex:i,arrowDisplay:o,hasLabel:s,hover:l,isCardType:u,items:c,isVertical:f,containerStyle:d,handleButtonEnter:h,handleButtonLeave:v,isTransitioning:p,handleIndicatorClick:m,handleMouseEnter:g,handleMouseLeave:b,handleTransitionEnd:y,setActiveItem:w,prev:_,next:x,PlaceholderItem:S,isTwoLengthShow:C,throttledArrowClick:T,throttledIndicatorHover:M}=BUe(n,r),k=Ze("carousel"),{t:A}=Zr(),O=$(()=>{const N=[k.b(),k.m(n.direction)];return E(u)&&N.push(k.m("card")),N}),P=$(()=>{const N=[k.e("container")];return n.motionBlur&&E(p)&&N.push(E(f)?`${k.namespace.value}-transitioning-vertical`:`${k.namespace.value}-transitioning`),N}),R=$(()=>{const N=[k.e("indicators"),k.em("indicators",n.direction)];return E(s)&&N.push(k.em("indicators","labels")),n.indicatorPosition==="outside"&&N.push(k.em("indicators","outside")),E(f)&&N.push(k.em("indicators","right")),N});return t({setActiveItem:w,prev:_,next:x}),(N,L)=>(F(),K("div",{ref_key:"root",ref:a,class:G(E(O)),onMouseenter:L[7]||(L[7]=tr((...B)=>E(g)&&E(g)(...B),["stop"])),onMouseleave:L[8]||(L[8]=tr((...B)=>E(b)&&E(b)(...B),["stop"]))},[E(o)?(F(),Oe(Ma,{key:0,name:"carousel-arrow-left",persisted:""},{default:he(()=>[cr(Z("button",{type:"button",class:G([E(k).e("arrow"),E(k).em("arrow","left")]),"aria-label":E(A)("el.carousel.leftArrow"),onMouseenter:L[0]||(L[0]=B=>E(h)("left")),onMouseleave:L[1]||(L[1]=(...B)=>E(v)&&E(v)(...B)),onClick:L[2]||(L[2]=tr(B=>E(T)(E(i)-1),["stop"]))},[ae(E($t),null,{default:he(()=>[ae(E(Dc))]),_:1})],42,FUe),[[nn,(N.arrow==="always"||E(l))&&(n.loop||E(i)>0)]])]),_:1})):be("v-if",!0),E(o)?(F(),Oe(Ma,{key:1,name:"carousel-arrow-right",persisted:""},{default:he(()=>[cr(Z("button",{type:"button",class:G([E(k).e("arrow"),E(k).em("arrow","right")]),"aria-label":E(A)("el.carousel.rightArrow"),onMouseenter:L[3]||(L[3]=B=>E(h)("right")),onMouseleave:L[4]||(L[4]=(...B)=>E(v)&&E(v)(...B)),onClick:L[5]||(L[5]=tr(B=>E(T)(E(i)+1),["stop"]))},[ae(E($t),null,{default:he(()=>[ae(E(Fi))]),_:1})],42,zUe),[[nn,(N.arrow==="always"||E(l))&&(n.loop||E(i)<E(c).length-1)]])]),_:1})):be("v-if",!0),Z("div",{class:G(E(P)),style:Bt(E(d)),onTransitionend:L[6]||(L[6]=(...B)=>E(y)&&E(y)(...B))},[ae(E(S)),Pe(N.$slots,"default")],38),N.indicatorPosition!=="none"?(F(),K("ul",{key:2,class:G(E(R))},[(F(!0),K(zt,null,zr(E(c),(B,I)=>cr((F(),K("li",{key:I,class:G([E(k).e("indicator"),E(k).em("indicator",N.direction),E(k).is("active",I===E(i))]),onMouseenter:D=>E(M)(I),onClick:tr(D=>E(m)(I),["stop"])},[Z("button",{class:G(E(k).e("button")),"aria-label":E(A)("el.carousel.indicator",{index:I+1})},[E(s)?(F(),K("span",VUe,ct(B.props.label),1)):be("v-if",!0)],10,jUe)],42,GUe)),[[nn,E(C)(I)]])),128))],2)):be("v-if",!0),n.motionBlur?(F(),K("svg",UUe,HUe)):be("v-if",!0)],34))}});var qUe=ut(XUe,[["__file","carousel.vue"]]);const ZUe=it({name:{type:String,default:""},label:{type:[String,Number],default:""}}),QUe=(e,t)=>{const r=At(lK),n=Er(),a=.83,i=W(),o=W(!1),s=W(0),l=W(1),u=W(!1),c=W(!1),f=W(!1),d=W(!1),{isCardType:h,isVertical:v}=r;function p(w,_,x){const S=x-1,C=_-1,T=_+1,M=x/2;return _===0&&w===S?-1:_===S&&w===0?x:w<C&&_-w>=M?x+1:w>T&&w-_>=M?-2:w}function m(w,_){var x,S;const C=E(v)?((x=r.root.value)==null?void 0:x.offsetHeight)||0:((S=r.root.value)==null?void 0:S.offsetWidth)||0;return f.value?C*((2-a)*(w-_)+1)/4:w<_?-(1+a)*C/4:(3+a)*C/4}function g(w,_,x){const S=r.root.value;return S?((x?S.offsetHeight:S.offsetWidth)||0)*(w-_):0}const b=(w,_,x)=>{var S;const C=E(h),T=(S=r.items.value.length)!=null?S:Number.NaN,M=w===_;!C&&!ca(x)&&(d.value=M||w===x),!M&&T>2&&r.loop&&(w=p(w,_,T));const k=E(v);u.value=M,C?(f.value=Math.round(Math.abs(w-_))<=1,s.value=m(w,_),l.value=E(u)?1:a):s.value=g(w,_,k),c.value=!0,M&&i.value&&r.setContainerHeight(i.value.offsetHeight)};function y(){if(r&&E(h)){const w=r.items.value.findIndex(({uid:_})=>_===n.uid);r.setActiveItem(w)}}return vr(()=>{r.addItem({props:e,states:cn({hover:o,translate:s,scale:l,active:u,ready:c,inStage:f,animating:d}),uid:n.uid,translateItem:b})}),jc(()=>{r.removeItem(n.uid)}),{carouselItemRef:i,active:u,animating:d,hover:o,inStage:f,isVertical:v,translate:s,isCardType:h,scale:l,ready:c,handleItemClick:y}},JUe=J({name:"ElCarouselItem"}),e7e=J({...JUe,props:ZUe,setup(e){const t=e,r=Ze("carousel"),{carouselItemRef:n,active:a,animating:i,hover:o,inStage:s,isVertical:l,translate:u,isCardType:c,scale:f,ready:d,handleItemClick:h}=QUe(t),v=$(()=>[r.e("item"),r.is("active",a.value),r.is("in-stage",s.value),r.is("hover",o.value),r.is("animating",i.value),{[r.em("item","card")]:c.value,[r.em("item","card-vertical")]:c.value&&l.value}]),p=$(()=>{const g=`${`translate${E(l)?"Y":"X"}`}(${E(u)}px)`,b=`scale(${E(f)})`;return{transform:[g,b].join(" ")}});return(m,g)=>cr((F(),K("div",{ref_key:"carouselItemRef",ref:n,class:G(E(v)),style:Bt(E(p)),onClick:g[0]||(g[0]=(...b)=>E(h)&&E(h)(...b))},[E(c)?cr((F(),K("div",{key:0,class:G(E(r).e("mask"))},null,2)),[[nn,!E(a)]]):be("v-if",!0),Pe(m.$slots,"default")],6)),[[nn,E(d)]])}});var uK=ut(e7e,[["__file","carousel-item.vue"]]);const t7e=_r(qUe,{CarouselItem:uK}),r7e=jn(uK),cK={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:Da,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},fK={[Mr]:e=>nr(e)||Qt(e)||fa(e),change:e=>nr(e)||Qt(e)||fa(e)},Vv=Symbol("checkboxGroupContextKey"),n7e=({model:e,isChecked:t})=>{const r=At(Vv,void 0),n=$(()=>{var i,o;const s=(i=r==null?void 0:r.max)==null?void 0:i.value,l=(o=r==null?void 0:r.min)==null?void 0:o.value;return!ca(s)&&e.value.length>=s&&!t.value||!ca(l)&&e.value.length<=l&&t.value});return{isDisabled:Ui($(()=>(r==null?void 0:r.disabled.value)||n.value)),isLimitDisabled:n}},a7e=(e,{model:t,isLimitExceeded:r,hasOwnLabel:n,isDisabled:a,isLabeledByFormItem:i})=>{const o=At(Vv,void 0),{formItem:s}=Oi(),{emit:l}=Er();function u(v){var p,m,g,b;return[!0,e.trueValue,e.trueLabel].includes(v)?(m=(p=e.trueValue)!=null?p:e.trueLabel)!=null?m:!0:(b=(g=e.falseValue)!=null?g:e.falseLabel)!=null?b:!1}function c(v,p){l("change",u(v),p)}function f(v){if(r.value)return;const p=v.target;l("change",u(p.checked),v)}async function d(v){r.value||!n.value&&!a.value&&i.value&&(v.composedPath().some(g=>g.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await Ut(),c(t.value,v)))}const h=$(()=>(o==null?void 0:o.validateEvent)||e.validateEvent);return He(()=>e.modelValue,()=>{h.value&&(s==null||s.validate("change").catch(v=>void 0))}),{handleChange:f,onClickRoot:d}},i7e=e=>{const t=W(!1),{emit:r}=Er(),n=At(Vv,void 0),a=$(()=>ca(n)===!1),i=W(!1),o=$({get(){var s,l;return a.value?(s=n==null?void 0:n.modelValue)==null?void 0:s.value:(l=e.modelValue)!=null?l:t.value},set(s){var l,u;a.value&&_t(s)?(i.value=((l=n==null?void 0:n.max)==null?void 0:l.value)!==void 0&&s.length>(n==null?void 0:n.max.value)&&s.length>o.value.length,i.value===!1&&((u=n==null?void 0:n.changeEvent)==null||u.call(n,s))):(r(Mr,s),t.value=s)}});return{model:o,isGroup:a,isLimitExceeded:i}},o7e=(e,t,{model:r})=>{const n=At(Vv,void 0),a=W(!1),i=$(()=>hd(e.value)?e.label:e.value),o=$(()=>{const c=r.value;return fa(c)?c:_t(c)?Sr(i.value)?c.map(yn).some(f=>ki(f,i.value)):c.map(yn).includes(i.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),s=ba($(()=>{var c;return(c=n==null?void 0:n.size)==null?void 0:c.value}),{prop:!0}),l=ba($(()=>{var c;return(c=n==null?void 0:n.size)==null?void 0:c.value})),u=$(()=>!!t.default||!hd(i.value));return{checkboxButtonSize:s,isChecked:o,isFocused:a,checkboxSize:l,hasOwnLabel:u,actualValue:i}},dK=(e,t)=>{const{formItem:r}=Oi(),{model:n,isGroup:a,isLimitExceeded:i}=i7e(e),{isFocused:o,isChecked:s,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:f}=o7e(e,t,{model:n}),{isDisabled:d}=n7e({model:n,isChecked:s}),{inputId:h,isLabeledByFormItem:v}=Ys(e,{formItemContext:r,disableIdGeneration:c,disableIdManagement:a}),{handleChange:p,onClickRoot:m}=a7e(e,{model:n,isLimitExceeded:i,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:v});return(()=>{function b(){var y,w;_t(n.value)&&!n.value.includes(f.value)?n.value.push(f.value):n.value=(w=(y=e.trueValue)!=null?y:e.trueLabel)!=null?w:!0}e.checked&&b()})(),du({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},$(()=>a.value&&hd(e.value))),du({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},$(()=>!!e.trueLabel)),du({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},$(()=>!!e.falseLabel)),{inputId:h,isLabeledByFormItem:v,isChecked:s,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:n,actualValue:f,handleChange:p,onClickRoot:m}},s7e=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],l7e=["id","indeterminate","disabled","value","name","tabindex"],u7e=J({name:"ElCheckbox"}),c7e=J({...u7e,props:cK,emits:fK,setup(e){const t=e,r=Ya(),{inputId:n,isLabeledByFormItem:a,isChecked:i,isDisabled:o,isFocused:s,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:f,handleChange:d,onClickRoot:h}=dK(t,r),v=Ze("checkbox"),p=$(()=>[v.b(),v.m(l.value),v.is("disabled",o.value),v.is("bordered",t.border),v.is("checked",i.value)]),m=$(()=>[v.e("input"),v.is("disabled",o.value),v.is("checked",i.value),v.is("indeterminate",t.indeterminate),v.is("focus",s.value)]);return(g,b)=>(F(),Oe(kr(!E(u)&&E(a)?"span":"label"),{class:G(E(p)),"aria-controls":g.indeterminate?g.controls:null,onClick:E(h)},{default:he(()=>{var y,w;return[Z("span",{class:G(E(m))},[g.trueValue||g.falseValue||g.trueLabel||g.falseLabel?cr((F(),K("input",{key:0,id:E(n),"onUpdate:modelValue":b[0]||(b[0]=_=>Dn(c)?c.value=_:null),class:G(E(v).e("original")),type:"checkbox",indeterminate:g.indeterminate,name:g.name,tabindex:g.tabindex,disabled:E(o),"true-value":(y=g.trueValue)!=null?y:g.trueLabel,"false-value":(w=g.falseValue)!=null?w:g.falseLabel,onChange:b[1]||(b[1]=(..._)=>E(d)&&E(d)(..._)),onFocus:b[2]||(b[2]=_=>s.value=!0),onBlur:b[3]||(b[3]=_=>s.value=!1),onClick:b[4]||(b[4]=tr(()=>{},["stop"]))},null,42,s7e)),[[Tb,E(c)]]):cr((F(),K("input",{key:1,id:E(n),"onUpdate:modelValue":b[5]||(b[5]=_=>Dn(c)?c.value=_:null),class:G(E(v).e("original")),type:"checkbox",indeterminate:g.indeterminate,disabled:E(o),value:E(f),name:g.name,tabindex:g.tabindex,onChange:b[6]||(b[6]=(..._)=>E(d)&&E(d)(..._)),onFocus:b[7]||(b[7]=_=>s.value=!0),onBlur:b[8]||(b[8]=_=>s.value=!1),onClick:b[9]||(b[9]=tr(()=>{},["stop"]))},null,42,l7e)),[[Tb,E(c)]]),Z("span",{class:G(E(v).e("inner"))},null,2)],2),E(u)?(F(),K("span",{key:0,class:G(E(v).e("label"))},[Pe(g.$slots,"default"),g.$slots.default?be("v-if",!0):(F(),K(zt,{key:0},[qr(ct(g.label),1)],64))],2)):be("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var f7e=ut(c7e,[["__file","checkbox.vue"]]);const d7e=["name","tabindex","disabled","true-value","false-value"],h7e=["name","tabindex","disabled","value"],v7e=J({name:"ElCheckboxButton"}),p7e=J({...v7e,props:cK,emits:fK,setup(e){const t=e,r=Ya(),{isFocused:n,isChecked:a,isDisabled:i,checkboxButtonSize:o,model:s,actualValue:l,handleChange:u}=dK(t,r),c=At(Vv,void 0),f=Ze("checkbox"),d=$(()=>{var v,p,m,g;const b=(p=(v=c==null?void 0:c.fill)==null?void 0:v.value)!=null?p:"";return{backgroundColor:b,borderColor:b,color:(g=(m=c==null?void 0:c.textColor)==null?void 0:m.value)!=null?g:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),h=$(()=>[f.b("button"),f.bm("button",o.value),f.is("disabled",i.value),f.is("checked",a.value),f.is("focus",n.value)]);return(v,p)=>{var m,g;return F(),K("label",{class:G(E(h))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?cr((F(),K("input",{key:0,"onUpdate:modelValue":p[0]||(p[0]=b=>Dn(s)?s.value=b:null),class:G(E(f).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:E(i),"true-value":(m=v.trueValue)!=null?m:v.trueLabel,"false-value":(g=v.falseValue)!=null?g:v.falseLabel,onChange:p[1]||(p[1]=(...b)=>E(u)&&E(u)(...b)),onFocus:p[2]||(p[2]=b=>n.value=!0),onBlur:p[3]||(p[3]=b=>n.value=!1),onClick:p[4]||(p[4]=tr(()=>{},["stop"]))},null,42,d7e)),[[Tb,E(s)]]):cr((F(),K("input",{key:1,"onUpdate:modelValue":p[5]||(p[5]=b=>Dn(s)?s.value=b:null),class:G(E(f).be("button","original")),type:"checkbox",name:v.name,tabindex:v.tabindex,disabled:E(i),value:E(l),onChange:p[6]||(p[6]=(...b)=>E(u)&&E(u)(...b)),onFocus:p[7]||(p[7]=b=>n.value=!0),onBlur:p[8]||(p[8]=b=>n.value=!1),onClick:p[9]||(p[9]=tr(()=>{},["stop"]))},null,42,h7e)),[[Tb,E(s)]]),v.$slots.default||v.label?(F(),K("span",{key:2,class:G(E(f).be("button","inner")),style:Bt(E(a)?E(d):void 0)},[Pe(v.$slots,"default",{},()=>[qr(ct(v.label),1)])],6)):be("v-if",!0)],2)}}});var hK=ut(p7e,[["__file","checkbox-button.vue"]]);const g7e=it({modelValue:{type:ve(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Da,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),m7e={[Mr]:e=>_t(e),change:e=>_t(e)},y7e=J({name:"ElCheckboxGroup"}),b7e=J({...y7e,props:g7e,emits:m7e,setup(e,{emit:t}){const r=e,n=Ze("checkbox"),{formItem:a}=Oi(),{inputId:i,isLabeledByFormItem:o}=Ys(r,{formItemContext:a}),s=async u=>{t(Mr,u),await Ut(),t("change",u)},l=$({get(){return r.modelValue},set(u){s(u)}});return $r(Vv,{...su(ui(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:s}),He(()=>r.modelValue,()=>{r.validateEvent&&(a==null||a.validate("change").catch(u=>void 0))}),(u,c)=>{var f;return F(),Oe(kr(u.tag),{id:E(i),class:G(E(n).b("group")),role:"group","aria-label":E(o)?void 0:u.label||"checkbox-group","aria-labelledby":E(o)?(f=E(a))==null?void 0:f.labelId:void 0},{default:he(()=>[Pe(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var vK=ut(b7e,[["__file","checkbox-group.vue"]]);const hs=_r(f7e,{CheckboxButton:hK,CheckboxGroup:vK}),w7e=jn(hK),pK=jn(vK),gK=it({modelValue:{type:[String,Number,Boolean],default:void 0},size:Da,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),E7e=it({...gK,border:Boolean}),mK={[Mr]:e=>nr(e)||Qt(e)||fa(e),[Nn]:e=>nr(e)||Qt(e)||fa(e)},yK=Symbol("radioGroupKey"),bK=(e,t)=>{const r=W(),n=At(yK,void 0),a=$(()=>!!n),i=$(()=>hd(e.value)?e.label:e.value),o=$({get(){return a.value?n.modelValue:e.modelValue},set(f){a.value?n.changeEvent(f):t&&t(Mr,f),r.value.checked=e.modelValue===i.value}}),s=ba($(()=>n==null?void 0:n.size)),l=Ui($(()=>n==null?void 0:n.disabled)),u=W(!1),c=$(()=>l.value||a.value&&o.value!==i.value?-1:0);return du({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},$(()=>a.value&&hd(e.value))),{radioRef:r,isGroup:a,radioGroup:n,focus:u,size:s,disabled:l,tabIndex:c,modelValue:o,actualValue:i}},_7e=["value","name","disabled"],x7e=J({name:"ElRadio"}),S7e=J({...x7e,props:E7e,emits:mK,setup(e,{emit:t}){const r=e,n=Ze("radio"),{radioRef:a,radioGroup:i,focus:o,size:s,disabled:l,modelValue:u,actualValue:c}=bK(r,t);function f(){Ut(()=>t("change",u.value))}return(d,h)=>{var v;return F(),K("label",{class:G([E(n).b(),E(n).is("disabled",E(l)),E(n).is("focus",E(o)),E(n).is("bordered",d.border),E(n).is("checked",E(u)===E(c)),E(n).m(E(s))])},[Z("span",{class:G([E(n).e("input"),E(n).is("disabled",E(l)),E(n).is("checked",E(u)===E(c))])},[cr(Z("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":h[0]||(h[0]=p=>Dn(u)?u.value=p:null),class:G(E(n).e("original")),value:E(c),name:d.name||((v=E(i))==null?void 0:v.name),disabled:E(l),type:"radio",onFocus:h[1]||(h[1]=p=>o.value=!0),onBlur:h[2]||(h[2]=p=>o.value=!1),onChange:f,onClick:h[3]||(h[3]=tr(()=>{},["stop"]))},null,42,_7e),[[n8,E(u)]]),Z("span",{class:G(E(n).e("inner"))},null,2)],2),Z("span",{class:G(E(n).e("label")),onKeydown:h[4]||(h[4]=tr(()=>{},["stop"]))},[Pe(d.$slots,"default",{},()=>[qr(ct(d.label),1)])],34)],2)}}});var C7e=ut(S7e,[["__file","radio.vue"]]);const M7e=it({...gK}),T7e=["value","name","disabled"],k7e=J({name:"ElRadioButton"}),A7e=J({...k7e,props:M7e,setup(e){const t=e,r=Ze("radio"),{radioRef:n,focus:a,size:i,disabled:o,modelValue:s,radioGroup:l,actualValue:u}=bK(t),c=$(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,d)=>{var h;return F(),K("label",{class:G([E(r).b("button"),E(r).is("active",E(s)===E(u)),E(r).is("disabled",E(o)),E(r).is("focus",E(a)),E(r).bm("button",E(i))])},[cr(Z("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":d[0]||(d[0]=v=>Dn(s)?s.value=v:null),class:G(E(r).be("button","original-radio")),value:E(u),type:"radio",name:f.name||((h=E(l))==null?void 0:h.name),disabled:E(o),onFocus:d[1]||(d[1]=v=>a.value=!0),onBlur:d[2]||(d[2]=v=>a.value=!1),onClick:d[3]||(d[3]=tr(()=>{},["stop"]))},null,42,T7e),[[n8,E(s)]]),Z("span",{class:G(E(r).be("button","inner")),style:Bt(E(s)===E(u)?E(c):{}),onKeydown:d[4]||(d[4]=tr(()=>{},["stop"]))},[Pe(f.$slots,"default",{},()=>[qr(ct(f.label),1)])],38)],2)}}});var wK=ut(A7e,[["__file","radio-button.vue"]]);const I7e=it({id:{type:String,default:void 0},size:Da,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),O7e=mK,L7e=["id","aria-label","aria-labelledby"],N7e=J({name:"ElRadioGroup"}),P7e=J({...N7e,props:I7e,emits:O7e,setup(e,{emit:t}){const r=e,n=Ze("radio"),a=bi(),i=W(),{formItem:o}=Oi(),{inputId:s,isLabeledByFormItem:l}=Ys(r,{formItemContext:o}),u=f=>{t(Mr,f),Ut(()=>t("change",f))};vr(()=>{const f=i.value.querySelectorAll("[type=radio]"),d=f[0];!Array.from(f).some(h=>h.checked)&&d&&(d.tabIndex=0)});const c=$(()=>r.name||a.value);return $r(yK,cn({...ui(r),changeEvent:u,name:c})),He(()=>r.modelValue,()=>{r.validateEvent&&(o==null||o.validate("change").catch(f=>void 0))}),(f,d)=>(F(),K("div",{id:E(s),ref_key:"radioGroupRef",ref:i,class:G(E(n).b("group")),role:"radiogroup","aria-label":E(l)?void 0:f.label||"radio-group","aria-labelledby":E(l)?E(o).labelId:void 0},[Pe(f.$slots,"default")],10,L7e))}});var EK=ut(P7e,[["__file","radio-group.vue"]]);const _K=_r(C7e,{RadioButton:wK,RadioGroup:EK}),D7e=jn(EK),R7e=jn(wK);var $7e=J({name:"NodeContent",setup(){return{ns:Ze("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:r}=this.$parent,{data:n,label:a}=t,{renderLabelFn:i}=r;return Yt("span",{class:e.e("label")},i?i({node:t,data:n}):a)}});const pO=Symbol(),B7e=J({name:"ElCascaderNode",components:{ElCheckbox:hs,ElRadio:_K,NodeContent:$7e,ElIcon:$t,Check:sm,Loading:Xc,ArrowRight:Fi},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const r=At(pO),n=Ze("cascader-node"),a=$(()=>r.isHoverMenu),i=$(()=>r.config.multiple),o=$(()=>r.config.checkStrictly),s=$(()=>{var x;return(x=r.checkedNodes[0])==null?void 0:x.uid}),l=$(()=>e.node.isDisabled),u=$(()=>e.node.isLeaf),c=$(()=>o.value&&!u.value||!l.value),f=$(()=>h(r.expandingNode)),d=$(()=>o.value&&r.checkedNodes.some(h)),h=x=>{var S;const{level:C,uid:T}=e.node;return((S=x==null?void 0:x.pathNodes[C-1])==null?void 0:S.uid)===T},v=()=>{f.value||r.expandNode(e.node)},p=x=>{const{node:S}=e;x!==S.checked&&r.handleCheckChange(S,x)},m=()=>{r.lazyLoad(e.node,()=>{u.value||v()})},g=x=>{a.value&&(b(),!u.value&&t("expand",x))},b=()=>{const{node:x}=e;!c.value||x.loading||(x.loaded?v():m())},y=()=>{a.value&&!u.value||(u.value&&!l.value&&!o.value&&!i.value?_(!0):b())},w=x=>{o.value?(p(x),e.node.loaded&&v()):_(x)},_=x=>{e.node.loaded?(p(x),!o.value&&v()):m()};return{panel:r,isHoverMenu:a,multiple:i,checkStrictly:o,checkedNodeId:s,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:f,inCheckedPath:d,ns:n,handleHoverExpand:g,handleExpand:b,handleClick:y,handleCheck:_,handleSelectCheck:w}}}),F7e=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],z7e=Z("span",null,null,-1);function G7e(e,t,r,n,a,i){const o=br("el-checkbox"),s=br("el-radio"),l=br("check"),u=br("el-icon"),c=br("node-content"),f=br("loading"),d=br("arrow-right");return F(),K("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:G([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...h)=>e.handleHoverExpand&&e.handleHoverExpand(...h)),onFocus:t[3]||(t[3]=(...h)=>e.handleHoverExpand&&e.handleHoverExpand(...h)),onClick:t[4]||(t[4]=(...h)=>e.handleClick&&e.handleClick(...h))},[be(" prefix "),e.multiple?(F(),Oe(o,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=tr(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(F(),Oe(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=tr(()=>{},["stop"]))},{default:he(()=>[be(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),z7e]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(F(),Oe(u,{key:2,class:G(e.ns.e("prefix"))},{default:he(()=>[ae(l)]),_:1},8,["class"])):be("v-if",!0),be(" content "),ae(c),be(" postfix "),e.isLeaf?be("v-if",!0):(F(),K(zt,{key:3},[e.node.loading?(F(),Oe(u,{key:0,class:G([e.ns.is("loading"),e.ns.e("postfix")])},{default:he(()=>[ae(f)]),_:1},8,["class"])):(F(),Oe(u,{key:1,class:G(["arrow-right",e.ns.e("postfix")])},{default:he(()=>[ae(d)]),_:1},8,["class"]))],64))],42,F7e)}var j7e=ut(B7e,[["render",G7e],["__file","node.vue"]]);const V7e=J({name:"ElCascaderMenu",components:{Loading:Xc,ElIcon:$t,ElScrollbar:Pu,ElCascaderNode:j7e},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=Er(),r=Ze("cascader-menu"),{t:n}=Zr(),a=bi();let i=null,o=null;const s=At(pO),l=W(null),u=$(()=>!e.nodes.length),c=$(()=>!s.initialLoaded),f=$(()=>`${a.value}-${e.index}`),d=m=>{i=m.target},h=m=>{if(!(!s.isHoverMenu||!i||!l.value))if(i.contains(m.target)){v();const g=t.vnode.el,{left:b}=g.getBoundingClientRect(),{offsetWidth:y,offsetHeight:w}=g,_=m.clientX-b,x=i.offsetTop,S=x+i.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${x} L${y} 0 V${x} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${S} L${y} ${w} V${S} Z" />
        `}else o||(o=window.setTimeout(p,s.config.hoverThreshold))},v=()=>{o&&(clearTimeout(o),o=null)},p=()=>{l.value&&(l.value.innerHTML="",v())};return{ns:r,panel:s,hoverZone:l,isEmpty:u,isLoading:c,menuId:f,t:n,handleExpand:d,handleMouseMove:h,clearHoverZone:p}}});function U7e(e,t,r,n,a,i){const o=br("el-cascader-node"),s=br("loading"),l=br("el-icon"),u=br("el-scrollbar");return F(),Oe(u,{key:e.menuId,tag:"ul",role:"menu",class:G(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:he(()=>{var c;return[(F(!0),K(zt,null,zr(e.nodes,f=>(F(),Oe(o,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(F(),K("div",{key:0,class:G(e.ns.e("empty-text"))},[ae(l,{size:"14",class:G(e.ns.is("loading"))},{default:he(()=>[ae(s)]),_:1},8,["class"]),qr(" "+ct(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(F(),K("div",{key:1,class:G(e.ns.e("empty-text"))},ct(e.t("el.cascader.noData")),3)):(c=e.panel)!=null&&c.isHoverMenu?(F(),K("svg",{key:2,ref:"hoverZone",class:G(e.ns.e("hover-zone"))},null,2)):be("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var W7e=ut(V7e,[["render",U7e],["__file","menu.vue"]]);let H7e=0;const Y7e=e=>{const t=[e];let{parent:r}=e;for(;r;)t.unshift(r),r=r.parent;return t};let XM=class qM{constructor(t,r,n,a=!1){this.data=t,this.config=r,this.parent=n,this.root=a,this.uid=H7e++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:i,label:o,children:s}=r,l=t[s],u=Y7e(this);this.level=a?0:n?n.level+1:1,this.value=t[i],this.label=t[o],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new qM(c,r,this)),this.loaded=!r.lazy||this.isLeaf||!Qo(l)}get isDisabled(){const{data:t,parent:r,config:n}=this,{disabled:a,checkStrictly:i}=n;return(Jt(a)?a(t,this):!!t[a])||!i&&(r==null?void 0:r.isDisabled)}get isLeaf(){const{data:t,config:r,childrenData:n,loaded:a}=this,{lazy:i,leaf:o}=r,s=Jt(o)?o(t,this):t[o];return ca(s)?i&&!a?!1:!(Array.isArray(n)&&n.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:r,children:n}=this,a=new qM(t,this.config,this);return Array.isArray(r)?r.push(t):this.childrenData=[t],n.push(a),a}calcText(t,r){const n=t?this.pathLabels.join(r):this.label;return this.text=n,n}broadcast(t,...r){const n=`onParent${fl(t)}`;this.children.forEach(a=>{a&&(a.broadcast(t,...r),a[n]&&a[n](...r))})}emit(t,...r){const{parent:n}=this,a=`onChild${fl(t)}`;n&&(n[a]&&n[a](...r),n.emit(t,...r))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,r=t.filter(a=>!a.isDisabled),n=r.length?r.every(a=>a.checked):!1;this.setCheckState(n)}setCheckState(t){const r=this.children.length,n=this.children.reduce((a,i)=>{const o=i.checked?1:i.indeterminate?.5:0;return a+o},0);this.checked=this.loaded&&this.children.filter(a=>!a.isDisabled).every(a=>a.loaded&&a.checked)&&t,this.indeterminate=this.loaded&&n!==r&&n>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:r,multiple:n}=this.config;r||!n?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const ZM=(e,t)=>e.reduce((r,n)=>(n.isLeaf?r.push(n):(!t&&r.push(n),r=r.concat(ZM(n.children,t))),r),[]);class JB{constructor(t,r){this.config=r;const n=(t||[]).map(a=>new XM(a,this.config));this.nodes=n,this.allNodes=ZM(n,!1),this.leafNodes=ZM(n,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,r){const n=r?r.appendChild(t):new XM(t,this.config);r||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(t,r){t.forEach(n=>this.appendNode(n,r))}getNodeByValue(t,r=!1){return!t&&t!==0?null:this.getFlattedNodes(r).find(a=>ki(a.value,t)||ki(a.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:n,level:a})=>ki(t.value,n)&&t.level===a)||null}}const xK=it({modelValue:{type:ve([Number,String,Array])},options:{type:ve(Array),default:()=>[]},props:{type:ve(Object),default:()=>({})}}),K7e={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:mn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},X7e=e=>$(()=>({...K7e,...e.props})),e6=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},q7e=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():PW(e)&&e.click()},Z7e=(e,t)=>{const r=t.slice(0),n=r.map(i=>i.uid),a=e.reduce((i,o)=>{const s=n.indexOf(o.uid);return s>-1&&(i.push(o),r.splice(s,1),n.splice(s,1)),i},[]);return a.push(...r),a},Q7e=J({name:"ElCascaderPanel",components:{ElCascaderMenu:W7e},props:{...xK,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Mr,Nn,"close","expand-change"],setup(e,{emit:t,slots:r}){let n=!1;const a=Ze("cascader"),i=X7e(e);let o=null;const s=W(!0),l=W([]),u=W(null),c=W([]),f=W(null),d=W([]),h=$(()=>i.value.expandTrigger==="hover"),v=$(()=>e.renderLabel||r.default),p=()=>{const{options:A}=e,O=i.value;n=!1,o=new JB(A,O),c.value=[o.getNodes()],O.lazy&&Qo(e.options)?(s.value=!1,m(void 0,P=>{P&&(o=new JB(P,O),c.value=[o.getNodes()]),s.value=!0,C(!1,!0)})):C(!1,!0)},m=(A,O)=>{const P=i.value;A=A||new XM({},P,void 0,!0),A.loading=!0;const R=N=>{const L=A,B=L.root?null:L;N&&(o==null||o.appendNodes(N,B)),L.loading=!1,L.loaded=!0,L.childrenData=L.childrenData||[],O&&O(N)};P.lazyLoad(A,R)},g=(A,O)=>{var P;const{level:R}=A,N=c.value.slice(0,R);let L;A.isLeaf?L=A.pathNodes[R-2]:(L=A,N.push(A.children)),((P=f.value)==null?void 0:P.uid)!==(L==null?void 0:L.uid)&&(f.value=A,c.value=N,!O&&t("expand-change",(A==null?void 0:A.pathValues)||[]))},b=(A,O,P=!0)=>{const{checkStrictly:R,multiple:N}=i.value,L=d.value[0];n=!0,!N&&(L==null||L.doCheck(!1)),A.doCheck(O),S(),P&&!N&&!R&&t("close"),!P&&!N&&!R&&y(A)},y=A=>{A&&(A=A.parent,y(A),A&&g(A))},w=A=>o==null?void 0:o.getFlattedNodes(A),_=A=>{var O;return(O=w(A))==null?void 0:O.filter(P=>P.checked!==!1)},x=()=>{d.value.forEach(A=>A.doCheck(!1)),S(),c.value=c.value.slice(0,1),f.value=null,t("expand-change",[])},S=()=>{var A;const{checkStrictly:O,multiple:P}=i.value,R=d.value,N=_(!O),L=Z7e(R,N),B=L.map(I=>I.valueByOption);d.value=L,u.value=P?B:(A=B[0])!=null?A:null},C=(A=!1,O=!1)=>{const{modelValue:P}=e,{lazy:R,multiple:N,checkStrictly:L}=i.value,B=!L;if(!(!s.value||n||!O&&ki(P,u.value)))if(R&&!A){const D=Q5(ZBe(xo(P))).map(z=>o==null?void 0:o.getNodeByValue(z)).filter(z=>!!z&&!z.loaded&&!z.loading);D.length?D.forEach(z=>{m(z,()=>C(!1,O))}):C(!0,O)}else{const I=N?xo(P):[P],D=Q5(I.map(z=>o==null?void 0:o.getNodeByValue(z,B)));T(D,O),u.value=_w(P)}},T=(A,O=!0)=>{const{checkStrictly:P}=i.value,R=d.value,N=A.filter(I=>!!I&&(P||I.isLeaf)),L=o==null?void 0:o.getSameNode(f.value),B=O&&L||N[0];B?B.pathNodes.forEach(I=>g(I,!0)):f.value=null,R.forEach(I=>I.doCheck(!1)),cn(N).forEach(I=>I.doCheck(!0)),d.value=N,Ut(M)},M=()=>{Ur&&l.value.forEach(A=>{const O=A==null?void 0:A.$el;if(O){const P=O.querySelector(`.${a.namespace.value}-scrollbar__wrap`),R=O.querySelector(`.${a.b("node")}.${a.is("active")}`)||O.querySelector(`.${a.b("node")}.in-active-path`);AH(P,R)}})},k=A=>{const O=A.target,{code:P}=A;switch(P){case Kt.up:case Kt.down:{A.preventDefault();const R=P===Kt.up?-1:1;X1(DW(O,R,`.${a.b("node")}[tabindex="-1"]`));break}case Kt.left:{A.preventDefault();const R=l.value[e6(O)-1],N=R==null?void 0:R.$el.querySelector(`.${a.b("node")}[aria-expanded="true"]`);X1(N);break}case Kt.right:{A.preventDefault();const R=l.value[e6(O)+1],N=R==null?void 0:R.$el.querySelector(`.${a.b("node")}[tabindex="-1"]`);X1(N);break}case Kt.enter:q7e(O);break}};return $r(pO,cn({config:i,expandingNode:f,checkedNodes:d,isHoverMenu:h,initialLoaded:s,renderLabelFn:v,lazyLoad:m,expandNode:g,handleCheckChange:b})),He([i,()=>e.options],p,{deep:!0,immediate:!0}),He(()=>e.modelValue,()=>{n=!1,C()},{deep:!0}),He(()=>u.value,A=>{ki(A,e.modelValue)||(t(Mr,A),t(Nn,A))}),AF(()=>l.value=[]),vr(()=>!Qo(e.modelValue)&&C()),{ns:a,menuList:l,menus:c,checkedNodes:d,handleKeyDown:k,handleCheckChange:b,getFlattedNodes:w,getCheckedNodes:_,clearCheckedNodes:x,calculateCheckedValue:S,scrollToExpandingNode:M}}});function J7e(e,t,r,n,a,i){const o=br("el-cascader-menu");return F(),K("div",{class:G([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...s)=>e.handleKeyDown&&e.handleKeyDown(...s))},[(F(!0),K(zt,null,zr(e.menus,(s,l)=>(F(),Oe(o,{key:l,ref_for:!0,ref:u=>e.menuList[l]=u,index:l,nodes:[...s]},null,8,["index","nodes"]))),128))],34)}var nb=ut(Q7e,[["render",J7e],["__file","index.vue"]]);nb.install=e=>{e.component(nb.name,nb)};const SK=nb,eWe=SK,b2=it({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Bl},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tWe={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},rWe=J({name:"ElTag"}),nWe=J({...rWe,props:b2,emits:tWe,setup(e,{emit:t}){const r=e,n=ba(),a=Ze("tag"),i=$(()=>{const{type:l,hit:u,effect:c,closable:f,round:d}=r;return[a.b(),a.is("closable",f),a.m(l||"primary"),a.m(n.value),a.m(c),a.is("hit",u),a.is("round",d)]}),o=l=>{t("close",l)},s=l=>{t("click",l)};return(l,u)=>l.disableTransitions?(F(),K("span",{key:0,class:G(E(i)),style:Bt({backgroundColor:l.color}),onClick:s},[Z("span",{class:G(E(a).e("content"))},[Pe(l.$slots,"default")],2),l.closable?(F(),Oe(E($t),{key:0,class:G(E(a).e("close")),onClick:tr(o,["stop"])},{default:he(()=>[ae(E($s))]),_:1},8,["class","onClick"])):be("v-if",!0)],6)):(F(),Oe(Ma,{key:1,name:`${E(a).namespace.value}-zoom-in-center`,appear:""},{default:he(()=>[Z("span",{class:G(E(i)),style:Bt({backgroundColor:l.color}),onClick:s},[Z("span",{class:G(E(a).e("content"))},[Pe(l.$slots,"default")],2),l.closable?(F(),Oe(E($t),{key:0,class:G(E(a).e("close")),onClick:tr(o,["stop"])},{default:he(()=>[ae(E($s))]),_:1},8,["class","onClick"])):be("v-if",!0)],6)]),_:3},8,["name"]))}});var aWe=ut(nWe,[["__file","tag.vue"]]);const f0=_r(aWe),iWe=it({...xK,size:Da,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:ve(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:ve(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:ni.teleported,tagType:{...b2.type,default:"info"},validateEvent:{type:Boolean,default:!0},...jv}),oWe={[Mr]:e=>!0,[Nn]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>fa(e),expandChange:e=>!!e,removeTag:e=>!!e},sWe={key:0},lWe=["placeholder","onKeydown"],uWe=["onClick"],cWe="ElCascader",fWe=J({name:cWe}),dWe=J({...fWe,props:iWe,emits:oWe,setup(e,{expose:t,emit:r}){const n=e,a={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:pe})=>{const{modifiersData:Re,placement:ft}=pe;["right","left","bottom","top"].includes(ft)||(Re.arrow.x=35)},requires:["arrow"]}]},i=bd();let o=0,s=0;const l=Ze("cascader"),u=Ze("input"),{t:c}=Zr(),{form:f,formItem:d}=Oi(),{valueOnClear:h}=p2(n),v=W(null),p=W(null),m=W(null),g=W(null),b=W(null),y=W(!1),w=W(!1),_=W(!1),x=W(!1),S=W(""),C=W(""),T=W([]),M=W([]),k=W([]),A=W(!1),O=$(()=>i.style),P=$(()=>n.disabled||(f==null?void 0:f.disabled)),R=$(()=>n.placeholder||c("el.cascader.placeholder")),N=$(()=>C.value||T.value.length>0||A.value?"":R.value),L=ba(),B=$(()=>["small"].includes(L.value)?"small":"default"),I=$(()=>!!n.props.multiple),D=$(()=>!n.filterable||I.value),z=$(()=>I.value?C.value:S.value),U=$(()=>{var pe;return((pe=g.value)==null?void 0:pe.checkedNodes)||[]}),H=$(()=>!n.clearable||P.value||_.value||!w.value?!1:!!U.value.length),Y=$(()=>{const{showAllLevels:pe,separator:Re}=n,ft=U.value;return ft.length?I.value?"":ft[0].calcText(pe,Re):""}),ie=$(()=>(d==null?void 0:d.validateState)||""),X=$({get(){return _w(n.modelValue)},set(pe){const Re=pe||h.value;r(Mr,Re),r(Nn,Re),n.validateEvent&&(d==null||d.validate("change").catch(ft=>void 0))}}),re=$(()=>[l.b(),l.m(L.value),l.is("disabled",P.value),i.class]),oe=$(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",y.value)]),Ne=$(()=>l.is("focus",y.value||x.value)),me=$(()=>{var pe,Re;return(Re=(pe=v.value)==null?void 0:pe.popperRef)==null?void 0:Re.contentRef}),xe=pe=>{var Re,ft,Ee;P.value||(pe=pe??!y.value,pe!==y.value&&(y.value=pe,(ft=(Re=p.value)==null?void 0:Re.input)==null||ft.setAttribute("aria-expanded",`${pe}`),pe?(ze(),Ut((Ee=g.value)==null?void 0:Ee.scrollToExpandingNode)):n.filterable&&fe(),r("visibleChange",pe)))},ze=()=>{Ut(()=>{var pe;(pe=v.value)==null||pe.updatePopper()})},te=()=>{_.value=!1},le=pe=>{const{showAllLevels:Re,separator:ft}=n;return{node:pe,key:pe.uid,text:pe.calcText(Re,ft),hitState:!1,closable:!P.value&&!pe.isDisabled,isCollapseTag:!1}},Ae=pe=>{var Re;const ft=pe.node;ft.doCheck(!1),(Re=g.value)==null||Re.calculateCheckedValue(),r("removeTag",ft.valueByOption)},Ve=()=>{if(!I.value)return;const pe=U.value,Re=[],ft=[];if(pe.forEach(Ee=>ft.push(le(Ee))),M.value=ft,pe.length){pe.slice(0,n.maxCollapseTags).forEach(ar=>Re.push(le(ar)));const Ee=pe.slice(n.maxCollapseTags),wt=Ee.length;wt&&(n.collapseTags?Re.push({key:-1,text:`+ ${wt}`,closable:!1,isCollapseTag:!0}):Ee.forEach(ar=>Re.push(le(ar))))}T.value=Re},Ie=()=>{var pe,Re;const{filterMethod:ft,showAllLevels:Ee,separator:wt}=n,ar=(Re=(pe=g.value)==null?void 0:pe.getFlattedNodes(!n.props.checkStrictly))==null?void 0:Re.filter(lr=>lr.isDisabled?!1:(lr.calcText(Ee,wt),ft(lr,z.value)));I.value&&(T.value.forEach(lr=>{lr.hitState=!1}),M.value.forEach(lr=>{lr.hitState=!1})),_.value=!0,k.value=ar,ze()},De=()=>{var pe;let Re;_.value&&b.value?Re=b.value.$el.querySelector(`.${l.e("suggestion-item")}`):Re=(pe=g.value)==null?void 0:pe.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Re&&(Re.focus(),!_.value&&Re.click())},Ge=()=>{var pe,Re;const ft=(pe=p.value)==null?void 0:pe.input,Ee=m.value,wt=(Re=b.value)==null?void 0:Re.$el;if(!(!Ur||!ft)){if(wt){const ar=wt.querySelector(`.${l.e("suggestion-list")}`);ar.style.minWidth=`${ft.offsetWidth}px`}if(Ee){const{offsetHeight:ar}=Ee,lr=T.value.length>0?`${Math.max(ar+6,o)}px`:`${o}px`;ft.style.height=lr,ze()}}},Qe=pe=>{var Re;return(Re=g.value)==null?void 0:Re.getCheckedNodes(pe)},ke=pe=>{ze(),r("expandChange",pe)},q=pe=>{var Re;const ft=(Re=pe.target)==null?void 0:Re.value;if(pe.type==="compositionend")A.value=!1,Ut(()=>qe(ft));else{const Ee=ft[ft.length-1]||"";A.value=!zI(Ee)}},j=pe=>{if(!A.value)switch(pe.code){case Kt.enter:xe();break;case Kt.down:xe(!0),Ut(De),pe.preventDefault();break;case Kt.esc:y.value===!0&&(pe.preventDefault(),pe.stopPropagation(),xe(!1));break;case Kt.tab:xe(!1);break}},Ce=()=>{var pe;(pe=g.value)==null||pe.clearCheckedNodes(),!y.value&&n.filterable&&fe(),xe(!1)},fe=()=>{const{value:pe}=Y;S.value=pe,C.value=pe},ge=pe=>{var Re,ft;const{checked:Ee}=pe;I.value?(Re=g.value)==null||Re.handleCheckChange(pe,!Ee,!1):(!Ee&&((ft=g.value)==null||ft.handleCheckChange(pe,!0,!1)),xe(!1))},Ue=pe=>{const Re=pe.target,{code:ft}=pe;switch(ft){case Kt.up:case Kt.down:{const Ee=ft===Kt.up?-1:1;X1(DW(Re,Ee,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Kt.enter:Re.click();break}},tt=()=>{const pe=T.value,Re=pe[pe.length-1];s=C.value?0:s+1,!(!Re||!s||n.collapseTags&&pe.length>1)&&(Re.hitState?Ae(Re):Re.hitState=!0)},ot=pe=>{const Re=pe.target,ft=l.e("search-input");Re.className===ft&&(x.value=!0),r("focus",pe)},Ye=pe=>{x.value=!1,r("blur",pe)},we=uo(()=>{const{value:pe}=z;if(!pe)return;const Re=n.beforeFilter(pe);Sg(Re)?Re.then(Ie).catch(()=>{}):Re!==!1?Ie():te()},n.debounce),qe=(pe,Re)=>{!y.value&&xe(!0),!(Re!=null&&Re.isComposing)&&(pe?we():te())},Be=pe=>Number.parseFloat(S3e(u.cssVarName("input-height"),pe).value)-2;return He(_,ze),He([U,P],Ve),He(T,()=>{Ut(()=>Ge())}),He(L,async()=>{await Ut();const pe=p.value.input;o=Be(pe)||o,Ge()}),He(Y,fe,{immediate:!0}),vr(()=>{const pe=p.value.input,Re=Be(pe);o=pe.offsetHeight||Re,Bn(pe,Ge)}),t({getCheckedNodes:Qe,cascaderPanelRef:g,togglePopperVisible:xe,contentRef:me}),(pe,Re)=>(F(),Oe(E(Ii),{ref_key:"tooltipRef",ref:v,visible:y.value,teleported:pe.teleported,"popper-class":[E(l).e("dropdown"),pe.popperClass],"popper-options":a,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${E(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:te},{default:he(()=>[cr((F(),K("div",{class:G(E(re)),style:Bt(E(O)),onClick:Re[5]||(Re[5]=()=>xe(E(D)?void 0:!0)),onKeydown:j,onMouseenter:Re[6]||(Re[6]=ft=>w.value=!0),onMouseleave:Re[7]||(Re[7]=ft=>w.value=!1)},[ae(E(Mi),{ref_key:"input",ref:p,modelValue:S.value,"onUpdate:modelValue":Re[1]||(Re[1]=ft=>S.value=ft),placeholder:E(N),readonly:E(D),disabled:E(P),"validate-event":!1,size:E(L),class:G(E(Ne)),tabindex:E(I)&&pe.filterable&&!E(P)?-1:void 0,onCompositionstart:q,onCompositionupdate:q,onCompositionend:q,onFocus:ot,onBlur:Ye,onInput:qe},{suffix:he(()=>[E(H)?(F(),Oe(E($t),{key:"clear",class:G([E(u).e("icon"),"icon-circle-close"]),onClick:tr(Ce,["stop"])},{default:he(()=>[ae(E(Kc))]),_:1},8,["class","onClick"])):(F(),Oe(E($t),{key:"arrow-down",class:G(E(oe)),onClick:Re[0]||(Re[0]=tr(ft=>xe(),["stop"]))},{default:he(()=>[ae(E(Lu))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),E(I)?(F(),K("div",{key:0,ref_key:"tagWrapper",ref:m,class:G([E(l).e("tags"),E(l).is("validate",!!E(ie))])},[(F(!0),K(zt,null,zr(T.value,ft=>(F(),Oe(E(f0),{key:ft.key,type:pe.tagType,size:E(B),hit:ft.hitState,closable:ft.closable,"disable-transitions":"",onClose:Ee=>Ae(ft)},{default:he(()=>[ft.isCollapseTag===!1?(F(),K("span",sWe,ct(ft.text),1)):(F(),Oe(E(Ii),{key:1,disabled:y.value||!pe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:he(()=>[Z("span",null,ct(ft.text),1)]),content:he(()=>[Z("div",{class:G(E(l).e("collapse-tags"))},[(F(!0),K(zt,null,zr(M.value.slice(pe.maxCollapseTags),(Ee,wt)=>(F(),K("div",{key:wt,class:G(E(l).e("collapse-tag"))},[(F(),Oe(E(f0),{key:Ee.key,class:"in-tooltip",type:pe.tagType,size:E(B),hit:Ee.hitState,closable:Ee.closable,"disable-transitions":"",onClose:ar=>Ae(Ee)},{default:he(()=>[Z("span",null,ct(Ee.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),pe.filterable&&!E(P)?cr((F(),K("input",{key:0,"onUpdate:modelValue":Re[2]||(Re[2]=ft=>C.value=ft),type:"text",class:G(E(l).e("search-input")),placeholder:E(Y)?"":E(R),onInput:Re[3]||(Re[3]=ft=>qe(C.value,ft)),onClick:Re[4]||(Re[4]=tr(ft=>xe(!0),["stop"])),onKeydown:Sn(tt,["delete"]),onCompositionstart:q,onCompositionupdate:q,onCompositionend:q,onFocus:ot,onBlur:Ye},null,42,lWe)),[[qT,C.value]]):be("v-if",!0)],2)):be("v-if",!0)],38)),[[E(wu),()=>xe(!1),E(me)]])]),content:he(()=>[cr(ae(E(SK),{ref_key:"cascaderPanelRef",ref:g,modelValue:E(X),"onUpdate:modelValue":Re[8]||(Re[8]=ft=>Dn(X)?X.value=ft:null),options:pe.options,props:n.props,border:!1,"render-label":pe.$slots.default,onExpandChange:ke,onClose:Re[9]||(Re[9]=ft=>pe.$nextTick(()=>xe(!1)))},null,8,["modelValue","options","props","render-label"]),[[nn,!_.value]]),pe.filterable?cr((F(),Oe(E(Pu),{key:0,ref_key:"suggestionPanel",ref:b,tag:"ul",class:G(E(l).e("suggestion-panel")),"view-class":E(l).e("suggestion-list"),onKeydown:Ue},{default:he(()=>[k.value.length?(F(!0),K(zt,{key:0},zr(k.value,ft=>(F(),K("li",{key:ft.uid,class:G([E(l).e("suggestion-item"),E(l).is("checked",ft.checked)]),tabindex:-1,onClick:Ee=>ge(ft)},[Z("span",null,ct(ft.text),1),ft.checked?(F(),Oe(E($t),{key:0},{default:he(()=>[ae(E(sm))]),_:1})):be("v-if",!0)],10,uWe))),128)):Pe(pe.$slots,"empty",{key:1},()=>[Z("li",{class:G(E(l).e("empty-text"))},ct(E(c)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[nn,_.value]]):be("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var ab=ut(dWe,[["__file","cascader.vue"]]);ab.install=e=>{e.component(ab.name,ab)};const hWe=ab,vWe=hWe,pWe=it({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),gWe={"update:checked":e=>fa(e),[Nn]:e=>fa(e)},mWe=J({name:"ElCheckTag"}),yWe=J({...mWe,props:pWe,emits:gWe,setup(e,{emit:t}){const r=e,n=Ze("check-tag"),a=$(()=>[n.b(),n.is("checked",r.checked),n.m(r.type||"primary")]),i=()=>{const o=!r.checked;t(Nn,o),t("update:checked",o)};return(o,s)=>(F(),K("span",{class:G(E(a)),onClick:i},[Pe(o.$slots,"default")],2))}});var bWe=ut(yWe,[["__file","check-tag.vue"]]);const wWe=_r(bWe),CK=Symbol("rowContextKey"),EWe=["start","center","end","space-around","space-between","space-evenly"],_We=["top","middle","bottom"],xWe=it({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:EWe,default:"start"},align:{type:String,values:_We}}),SWe=J({name:"ElRow"}),CWe=J({...SWe,props:xWe,setup(e){const t=e,r=Ze("row"),n=$(()=>t.gutter);$r(CK,{gutter:n});const a=$(()=>{const o={};return t.gutter&&(o.marginRight=o.marginLeft=`-${t.gutter/2}px`),o}),i=$(()=>[r.b(),r.is(`justify-${t.justify}`,t.justify!=="start"),r.is(`align-${t.align}`,!!t.align)]);return(o,s)=>(F(),Oe(kr(o.tag),{class:G(E(i)),style:Bt(E(a))},{default:he(()=>[Pe(o.$slots,"default")]),_:3},8,["class","style"]))}});var MWe=ut(CWe,[["__file","row.vue"]]);const TWe=_r(MWe),kWe=it({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ve([Number,Object]),default:()=>Fn({})},sm:{type:ve([Number,Object]),default:()=>Fn({})},md:{type:ve([Number,Object]),default:()=>Fn({})},lg:{type:ve([Number,Object]),default:()=>Fn({})},xl:{type:ve([Number,Object]),default:()=>Fn({})}}),AWe=J({name:"ElCol"}),IWe=J({...AWe,props:kWe,setup(e){const t=e,{gutter:r}=At(CK,{gutter:$(()=>0)}),n=Ze("col"),a=$(()=>{const o={};return r.value&&(o.paddingLeft=o.paddingRight=`${r.value/2}px`),o}),i=$(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];Qt(c)&&(u==="span"?o.push(n.b(`${t[u]}`)):c>0&&o.push(n.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Qt(t[u])?o.push(n.b(`${u}-${t[u]}`)):Sr(t[u])&&Object.entries(t[u]).forEach(([c,f])=>{o.push(c!=="span"?n.b(`${u}-${c}-${f}`):n.b(`${u}-${f}`))})}),r.value&&o.push(n.is("guttered")),[n.b(),o]});return(o,s)=>(F(),Oe(kr(o.tag),{class:G(E(i)),style:Bt(E(a))},{default:he(()=>[Pe(o.$slots,"default")]),_:3},8,["class","style"]))}});var OWe=ut(IWe,[["__file","col.vue"]]);const LWe=_r(OWe),t6=e=>Qt(e)||nr(e)||_t(e),NWe=it({accordion:Boolean,modelValue:{type:ve([Array,String,Number]),default:()=>Fn([])}}),PWe={[Mr]:t6,[Nn]:t6},MK=Symbol("collapseContextKey"),DWe=(e,t)=>{const r=W(dd(e.modelValue)),n=i=>{r.value=i;const o=e.accordion?r.value[0]:r.value;t(Mr,o),t(Nn,o)},a=i=>{if(e.accordion)n([r.value[0]===i?"":i]);else{const o=[...r.value],s=o.indexOf(i);s>-1?o.splice(s,1):o.push(i),n(o)}};return He(()=>e.modelValue,()=>r.value=dd(e.modelValue),{deep:!0}),$r(MK,{activeNames:r,handleItemClick:a}),{activeNames:r,setActiveNames:n}},RWe=()=>{const e=Ze("collapse");return{rootKls:$(()=>e.b())}},$We=J({name:"ElCollapse"}),BWe=J({...$We,props:NWe,emits:PWe,setup(e,{expose:t,emit:r}){const n=e,{activeNames:a,setActiveNames:i}=DWe(n,r),{rootKls:o}=RWe();return t({activeNames:a,setActiveNames:i}),(s,l)=>(F(),K("div",{class:G(E(o))},[Pe(s.$slots,"default")],2))}});var FWe=ut(BWe,[["__file","collapse.vue"]]);const zWe=J({name:"ElCollapseTransition"}),GWe=J({...zWe,setup(e){const t=Ze("collapse-transition"),r=a=>{a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom},n={beforeEnter(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.style.height&&(a.dataset.elExistsHeight=a.style.height),a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0},enter(a){requestAnimationFrame(()=>{a.dataset.oldOverflow=a.style.overflow,a.dataset.elExistsHeight?a.style.maxHeight=a.dataset.elExistsHeight:a.scrollHeight!==0?a.style.maxHeight=`${a.scrollHeight}px`:a.style.maxHeight=0,a.style.paddingTop=a.dataset.oldPaddingTop,a.style.paddingBottom=a.dataset.oldPaddingBottom,a.style.overflow="hidden"})},afterEnter(a){a.style.maxHeight="",a.style.overflow=a.dataset.oldOverflow},enterCancelled(a){r(a)},beforeLeave(a){a.dataset||(a.dataset={}),a.dataset.oldPaddingTop=a.style.paddingTop,a.dataset.oldPaddingBottom=a.style.paddingBottom,a.dataset.oldOverflow=a.style.overflow,a.style.maxHeight=`${a.scrollHeight}px`,a.style.overflow="hidden"},leave(a){a.scrollHeight!==0&&(a.style.maxHeight=0,a.style.paddingTop=0,a.style.paddingBottom=0)},afterLeave(a){r(a)},leaveCancelled(a){r(a)}};return(a,i)=>(F(),Oe(Ma,Dr({name:E(t).b()},wee(n)),{default:he(()=>[Pe(a.$slots,"default")]),_:3},16,["name"]))}});var ib=ut(GWe,[["__file","collapse-transition.vue"]]);ib.install=e=>{e.component(ib.name,ib)};const w2=ib,jWe=w2,VWe=it({title:{type:String,default:""},name:{type:ve([String,Number]),default:void 0},disabled:Boolean}),UWe=e=>{const t=At(MK),{namespace:r}=Ze("collapse"),n=W(!1),a=W(!1),i=JI(),o=$(()=>i.current++),s=$(()=>{var d;return(d=e.name)!=null?d:`${r.value}-id-${i.prefix}-${E(o)}`}),l=$(()=>t==null?void 0:t.activeNames.value.includes(E(s)));return{focusing:n,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{a.value?a.value=!1:n.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(E(s)),n.value=!1,a.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(E(s))}}},WWe=(e,{focusing:t,isActive:r,id:n})=>{const a=Ze("collapse"),i=$(()=>[a.b("item"),a.is("active",E(r)),a.is("disabled",e.disabled)]),o=$(()=>[a.be("item","header"),a.is("active",E(r)),{focusing:E(t)&&!e.disabled}]),s=$(()=>[a.be("item","arrow"),a.is("active",E(r))]),l=$(()=>a.be("item","wrap")),u=$(()=>a.be("item","content")),c=$(()=>a.b(`content-${E(n)}`)),f=$(()=>a.b(`head-${E(n)}`));return{arrowKls:s,headKls:o,rootKls:i,itemWrapperKls:l,itemContentKls:u,scopedContentId:c,scopedHeadId:f}},HWe=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],YWe=["id","aria-hidden","aria-labelledby"],KWe=J({name:"ElCollapseItem"}),XWe=J({...KWe,props:VWe,setup(e,{expose:t}){const r=e,{focusing:n,id:a,isActive:i,handleFocus:o,handleHeaderClick:s,handleEnterClick:l}=UWe(r),{arrowKls:u,headKls:c,rootKls:f,itemWrapperKls:d,itemContentKls:h,scopedContentId:v,scopedHeadId:p}=WWe(r,{focusing:n,isActive:i,id:a});return t({isActive:i}),(m,g)=>(F(),K("div",{class:G(E(f))},[Z("button",{id:E(p),class:G(E(c)),"aria-expanded":E(i),"aria-controls":E(v),"aria-describedby":E(v),tabindex:m.disabled?-1:0,type:"button",onClick:g[0]||(g[0]=(...b)=>E(s)&&E(s)(...b)),onKeydown:g[1]||(g[1]=Sn(tr((...b)=>E(l)&&E(l)(...b),["stop","prevent"]),["space","enter"])),onFocus:g[2]||(g[2]=(...b)=>E(o)&&E(o)(...b)),onBlur:g[3]||(g[3]=b=>n.value=!1)},[Pe(m.$slots,"title",{},()=>[qr(ct(m.title),1)]),ae(E($t),{class:G(E(u))},{default:he(()=>[ae(E(Fi))]),_:1},8,["class"])],42,HWe),ae(E(w2),null,{default:he(()=>[cr(Z("div",{id:E(v),role:"region",class:G(E(d)),"aria-hidden":!E(i),"aria-labelledby":E(p)},[Z("div",{class:G(E(h))},[Pe(m.$slots,"default")],2)],10,YWe),[[nn,E(i)]])]),_:3})],2))}});var TK=ut(XWe,[["__file","collapse-item.vue"]]);const qWe=_r(FWe,{CollapseItem:TK}),ZWe=jn(TK),QWe=it({color:{type:ve(Object),required:!0},vertical:{type:Boolean,default:!1}});let uS=!1;function d0(e,t){if(!Ur)return;const r=function(i){var o;(o=t.drag)==null||o.call(t,i)},n=function(i){var o;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",n),document.onselectstart=null,document.ondragstart=null,uS=!1,(o=t.end)==null||o.call(t,i)},a=function(i){var o;uS||(i.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",n),document.addEventListener("touchmove",r),document.addEventListener("touchend",n),uS=!0,(o=t.start)==null||o.call(t,i))};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a)}const JWe=e=>{const t=Er(),r=Pn(),n=Pn();function a(o){o.target!==r.value&&i(o)}function i(o){if(!n.value||!r.value)return;const l=t.vnode.el.getBoundingClientRect(),{clientX:u,clientY:c}=gI(o);if(e.vertical){let f=c-l.top;f=Math.max(r.value.offsetHeight/2,f),f=Math.min(f,l.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((f-r.value.offsetHeight/2)/(l.height-r.value.offsetHeight)*100))}else{let f=u-l.left;f=Math.max(r.value.offsetWidth/2,f),f=Math.min(f,l.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((f-r.value.offsetWidth/2)/(l.width-r.value.offsetWidth)*100))}}return{thumb:r,bar:n,handleDrag:i,handleClick:a}},eHe=(e,{bar:t,thumb:r,handleDrag:n})=>{const a=Er(),i=Ze("color-alpha-slider"),o=W(0),s=W(0),l=W();function u(){if(!r.value||e.vertical)return 0;const b=a.vnode.el,y=e.color.get("alpha");return b?Math.round(y*(b.offsetWidth-r.value.offsetWidth/2)/100):0}function c(){if(!r.value)return 0;const b=a.vnode.el;if(!e.vertical)return 0;const y=e.color.get("alpha");return b?Math.round(y*(b.offsetHeight-r.value.offsetHeight/2)/100):0}function f(){if(e.color&&e.color.value){const{r:b,g:y,b:w}=e.color.toRgb();return`linear-gradient(to right, rgba(${b}, ${y}, ${w}, 0) 0%, rgba(${b}, ${y}, ${w}, 1) 100%)`}return""}function d(){o.value=u(),s.value=c(),l.value=f()}vr(()=>{if(!t.value||!r.value)return;const b={drag:y=>{n(y)},end:y=>{n(y)}};d0(t.value,b),d0(r.value,b),d()}),He(()=>e.color.get("alpha"),()=>d()),He(()=>e.color.value,()=>d());const h=$(()=>[i.b(),i.is("vertical",e.vertical)]),v=$(()=>i.e("bar")),p=$(()=>i.e("thumb")),m=$(()=>({background:l.value})),g=$(()=>({left:Xn(o.value),top:Xn(s.value)}));return{rootKls:h,barKls:v,barStyle:m,thumbKls:p,thumbStyle:g,update:d}},tHe="ElColorAlphaSlider",rHe=J({name:tHe}),nHe=J({...rHe,props:QWe,setup(e,{expose:t}){const r=e,{bar:n,thumb:a,handleDrag:i,handleClick:o}=JWe(r),{rootKls:s,barKls:l,barStyle:u,thumbKls:c,thumbStyle:f,update:d}=eHe(r,{bar:n,thumb:a,handleDrag:i});return t({update:d,bar:n,thumb:a}),(h,v)=>(F(),K("div",{class:G(E(s))},[Z("div",{ref_key:"bar",ref:n,class:G(E(l)),style:Bt(E(u)),onClick:v[0]||(v[0]=(...p)=>E(o)&&E(o)(...p))},null,6),Z("div",{ref_key:"thumb",ref:a,class:G(E(c)),style:Bt(E(f))},null,6)],2))}});var aHe=ut(nHe,[["__file","alpha-slider.vue"]]);const iHe=J({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=Ze("color-hue-slider"),r=Er(),n=W(),a=W(),i=W(0),o=W(0),s=$(()=>e.color.get("hue"));He(()=>s.value,()=>{d()});function l(h){h.target!==n.value&&u(h)}function u(h){if(!a.value||!n.value)return;const p=r.vnode.el.getBoundingClientRect(),{clientX:m,clientY:g}=gI(h);let b;if(e.vertical){let y=g-p.top;y=Math.min(y,p.height-n.value.offsetHeight/2),y=Math.max(n.value.offsetHeight/2,y),b=Math.round((y-n.value.offsetHeight/2)/(p.height-n.value.offsetHeight)*360)}else{let y=m-p.left;y=Math.min(y,p.width-n.value.offsetWidth/2),y=Math.max(n.value.offsetWidth/2,y),b=Math.round((y-n.value.offsetWidth/2)/(p.width-n.value.offsetWidth)*360)}e.color.set("hue",b)}function c(){if(!n.value)return 0;const h=r.vnode.el;if(e.vertical)return 0;const v=e.color.get("hue");return h?Math.round(v*(h.offsetWidth-n.value.offsetWidth/2)/360):0}function f(){if(!n.value)return 0;const h=r.vnode.el;if(!e.vertical)return 0;const v=e.color.get("hue");return h?Math.round(v*(h.offsetHeight-n.value.offsetHeight/2)/360):0}function d(){i.value=c(),o.value=f()}return vr(()=>{if(!a.value||!n.value)return;const h={drag:v=>{u(v)},end:v=>{u(v)}};d0(a.value,h),d0(n.value,h),d()}),{bar:a,thumb:n,thumbLeft:i,thumbTop:o,hueValue:s,handleClick:l,update:d,ns:t}}});function oHe(e,t,r,n,a,i){return F(),K("div",{class:G([e.ns.b(),e.ns.is("vertical",e.vertical)])},[Z("div",{ref:"bar",class:G(e.ns.e("bar")),onClick:t[0]||(t[0]=(...o)=>e.handleClick&&e.handleClick(...o))},null,2),Z("div",{ref:"thumb",class:G(e.ns.e("thumb")),style:Bt({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var sHe=ut(iHe,[["render",oHe],["__file","hue-slider.vue"]]);const lHe=it({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Da,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:ve(Array)},validateEvent:{type:Boolean,default:!0}}),uHe={[Mr]:e=>nr(e)||Ua(e),[Nn]:e=>nr(e)||Ua(e),activeChange:e=>nr(e)||Ua(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},kK=Symbol("colorPickerContextKey"),r6=function(e,t,r){return[e,t*r/((e=(2-t)*r)<1?e:2-e)||0,e/2]},cHe=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},fHe=function(e){return typeof e=="string"&&e.includes("%")},Gh=function(e,t){cHe(e)&&(e="100%");const r=fHe(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),r&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},n6={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},ob=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),r=e%16;return`${n6[t]||t}${n6[r]||r}`},a6=function({r:e,g:t,b:r}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+r)?"":`#${ob(e)}${ob(t)}${ob(r)}`},cS={A:10,B:11,C:12,D:13,E:14,F:15},bf=function(e){return e.length===2?(cS[e[0].toUpperCase()]||+e[0])*16+(cS[e[1].toUpperCase()]||+e[1]):cS[e[1].toUpperCase()]||+e[1]},dHe=function(e,t,r){t=t/100,r=r/100;let n=t;const a=Math.max(r,.01);r*=2,t*=r<=1?r:2-r,n*=a<=1?a:2-a;const i=(r+t)/2,o=r===0?2*n/(a+n):2*t/(r+t);return{h:e,s:o*100,v:i*100}},i6=(e,t,r)=>{e=Gh(e,255),t=Gh(t,255),r=Gh(r,255);const n=Math.max(e,t,r),a=Math.min(e,t,r);let i;const o=n,s=n-a,l=n===0?0:s/n;if(n===a)i=0;else{switch(n){case e:{i=(t-r)/s+(t<r?6:0);break}case t:{i=(r-e)/s+2;break}case r:{i=(e-t)/s+4;break}}i/=6}return{h:i*360,s:l*100,v:o*100}},Ap=function(e,t,r){e=Gh(e,360)*6,t=Gh(t,100),r=Gh(r,100);const n=Math.floor(e),a=e-n,i=r*(1-t),o=r*(1-a*t),s=r*(1-(1-a)*t),l=n%6,u=[r,o,i,i,s,r][l],c=[s,r,r,o,i,i][l],f=[i,i,s,r,r,o][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(f*255)}};class Eg{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const r in t)Xr(t,r)&&(this[r]=t[r]);t.value?this.fromString(t.value):this.doOnChange()}set(t,r){if(arguments.length===1&&typeof t=="object"){for(const n in t)Xr(t,n)&&this.set(n,t[n]);return}this[`_${t}`]=r,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return Ap(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const r=(n,a,i)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,i)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:a,s:i,v:o}=dHe(n[0],n[1],n[2]);r(a,i,o)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&r(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(a=>a!=="").map((a,i)=>i>2?Number.parseFloat(a):Number.parseInt(a,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:a,s:i,v:o}=i6(n[0],n[1],n[2]);r(a,i,o)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let a,i,o;n.length===3?(a=bf(n[0]+n[0]),i=bf(n[1]+n[1]),o=bf(n[2]+n[2])):(n.length===6||n.length===8)&&(a=bf(n.slice(0,2)),i=bf(n.slice(2,4)),o=bf(n.slice(4,6))),n.length===8?this._alpha=bf(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:s,s:l,v:u}=i6(a,i,o);r(s,l,u)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:r,_value:n,_alpha:a,format:i}=this;if(this.enableAlpha)switch(i){case"hsl":{const o=r6(t,r/100,n/100);this.value=`hsla(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(r)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${a6(Ap(t,r,n))}${ob(a*255/100)}`;break}default:{const{r:o,g:s,b:l}=Ap(t,r,n);this.value=`rgba(${o}, ${s}, ${l}, ${this.get("alpha")/100})`}}else switch(i){case"hsl":{const o=r6(t,r/100,n/100);this.value=`hsl(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(r)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r:o,g:s,b:l}=Ap(t,r,n);this.value=`rgb(${o}, ${s}, ${l})`;break}default:this.value=a6(Ap(t,r,n))}}}const hHe=J({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=Ze("color-predefine"),{currentColor:r}=At(kK),n=W(i(e.colors,e.color));He(()=>r.value,o=>{const s=new Eg;s.fromString(o),n.value.forEach(l=>{l.selected=s.compare(l)})}),gi(()=>{n.value=i(e.colors,e.color)});function a(o){e.color.fromString(e.colors[o])}function i(o,s){return o.map(l=>{const u=new Eg;return u.enableAlpha=!0,u.format="rgba",u.fromString(l),u.selected=u.value===s.value,u})}return{rgbaColors:n,handleSelect:a,ns:t}}}),vHe=["onClick"];function pHe(e,t,r,n,a,i){return F(),K("div",{class:G(e.ns.b())},[Z("div",{class:G(e.ns.e("colors"))},[(F(!0),K(zt,null,zr(e.rgbaColors,(o,s)=>(F(),K("div",{key:e.colors[s],class:G([e.ns.e("color-selector"),e.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>e.handleSelect(s)},[Z("div",{style:Bt({backgroundColor:o.value})},null,4)],10,vHe))),128))],2)],2)}var gHe=ut(hHe,[["render",pHe],["__file","predefine.vue"]]);const mHe=J({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=Ze("color-svpanel"),r=Er(),n=W(0),a=W(0),i=W("hsl(0, 100%, 50%)"),o=$(()=>{const u=e.color.get("hue"),c=e.color.get("value");return{hue:u,value:c}});function s(){const u=e.color.get("saturation"),c=e.color.get("value"),f=r.vnode.el,{clientWidth:d,clientHeight:h}=f;a.value=u*d/100,n.value=(100-c)*h/100,i.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function l(u){const f=r.vnode.el.getBoundingClientRect(),{clientX:d,clientY:h}=gI(u);let v=d-f.left,p=h-f.top;v=Math.max(0,v),v=Math.min(v,f.width),p=Math.max(0,p),p=Math.min(p,f.height),a.value=v,n.value=p,e.color.set({saturation:v/f.width*100,value:100-p/f.height*100})}return He(()=>o.value,()=>{s()}),vr(()=>{d0(r.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),s()}),{cursorTop:n,cursorLeft:a,background:i,colorValue:o,handleDrag:l,update:s,ns:t}}}),yHe=Z("div",null,null,-1),bHe=[yHe];function wHe(e,t,r,n,a,i){return F(),K("div",{class:G(e.ns.b()),style:Bt({backgroundColor:e.background})},[Z("div",{class:G(e.ns.e("white"))},null,2),Z("div",{class:G(e.ns.e("black"))},null,2),Z("div",{class:G(e.ns.e("cursor")),style:Bt({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},bHe,6)],6)}var EHe=ut(mHe,[["render",wHe],["__file","sv-panel.vue"]]);const _He=["onKeydown"],xHe=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],SHe=J({name:"ElColorPicker"}),CHe=J({...SHe,props:lHe,emits:uHe,setup(e,{expose:t,emit:r}){const n=e,{t:a}=Zr(),i=Ze("color"),{formItem:o}=Oi(),s=ba(),l=Ui(),{inputId:u,isLabeledByFormItem:c}=Ys(n,{formItemContext:o}),f=W(),d=W(),h=W(),v=W(),p=W(),m=W(),{isFocused:g,handleFocus:b,handleBlur:y}=v2(p,{beforeBlur(me){var xe;return(xe=v.value)==null?void 0:xe.isFocusInsideContent(me)},afterBlur(){N(!1),D()}}),w=me=>{if(l.value)return Ne();b(me)};let _=!0;const x=cn(new Eg({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue})),S=W(!1),C=W(!1),T=W(""),M=$(()=>!n.modelValue&&!C.value?"transparent":R(x,n.showAlpha)),k=$(()=>!n.modelValue&&!C.value?"":x.value),A=$(()=>c.value?void 0:n.label||a("el.colorpicker.defaultLabel")),O=$(()=>c.value?o==null?void 0:o.labelId:void 0),P=$(()=>[i.b("picker"),i.is("disabled",l.value),i.bm("picker",s.value),i.is("focused",g.value)]);function R(me,xe){if(!(me instanceof Eg))throw new TypeError("color should be instance of _color Class");const{r:ze,g:te,b:le}=me.toRgb();return xe?`rgba(${ze}, ${te}, ${le}, ${me.get("alpha")/100})`:`rgb(${ze}, ${te}, ${le})`}function N(me){S.value=me}const L=uo(N,100,{leading:!0});function B(){l.value||N(!0)}function I(){L(!1),D()}function D(){Ut(()=>{n.modelValue?x.fromString(n.modelValue):(x.value="",Ut(()=>{C.value=!1}))})}function z(){l.value||L(!S.value)}function U(){x.fromString(T.value)}function H(){const me=x.value;r(Mr,me),r("change",me),n.validateEvent&&(o==null||o.validate("change").catch(xe=>void 0)),L(!1),Ut(()=>{const xe=new Eg({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue});x.compare(xe)||D()})}function Y(){L(!1),r(Mr,null),r("change",null),n.modelValue!==null&&n.validateEvent&&(o==null||o.validate("change").catch(me=>void 0)),D()}function ie(me){if(S.value&&(I(),g.value)){const xe=new FocusEvent("focus",me);y(xe)}}function X(me){me.preventDefault(),me.stopPropagation(),N(!1),D()}function re(me){switch(me.code){case Kt.enter:case Kt.space:me.preventDefault(),me.stopPropagation(),B(),m.value.focus();break;case Kt.esc:X(me);break}}function oe(){p.value.focus()}function Ne(){p.value.blur()}return vr(()=>{n.modelValue&&(T.value=k.value)}),He(()=>n.modelValue,me=>{me?me&&me!==x.value&&(_=!1,x.fromString(me)):C.value=!1}),He(()=>k.value,me=>{T.value=me,_&&r("activeChange",me),_=!0}),He(()=>x.value,()=>{!n.modelValue&&!C.value&&(C.value=!0)}),He(()=>S.value,()=>{Ut(()=>{var me,xe,ze;(me=f.value)==null||me.update(),(xe=d.value)==null||xe.update(),(ze=h.value)==null||ze.update()})}),$r(kK,{currentColor:k}),t({color:x,show:B,hide:I,focus:oe,blur:Ne}),(me,xe)=>(F(),Oe(E(Ii),{ref_key:"popper",ref:v,visible:S.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[E(i).be("picker","panel"),E(i).b("dropdown"),me.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${E(i).namespace.value}-zoom-in-top`,persistent:"",onHide:xe[2]||(xe[2]=ze=>N(!1))},{content:he(()=>[cr((F(),K("div",{onKeydown:Sn(X,["esc"])},[Z("div",{class:G(E(i).be("dropdown","main-wrapper"))},[ae(sHe,{ref_key:"hue",ref:f,class:"hue-slider",color:E(x),vertical:""},null,8,["color"]),ae(EHe,{ref_key:"sv",ref:d,color:E(x)},null,8,["color"])],2),me.showAlpha?(F(),Oe(aHe,{key:0,ref_key:"alpha",ref:h,color:E(x)},null,8,["color"])):be("v-if",!0),me.predefine?(F(),Oe(gHe,{key:1,ref:"predefine",color:E(x),colors:me.predefine},null,8,["color","colors"])):be("v-if",!0),Z("div",{class:G(E(i).be("dropdown","btns"))},[Z("span",{class:G(E(i).be("dropdown","value"))},[ae(E(Mi),{ref_key:"inputRef",ref:m,modelValue:T.value,"onUpdate:modelValue":xe[0]||(xe[0]=ze=>T.value=ze),"validate-event":!1,size:"small",onKeyup:Sn(U,["enter"]),onBlur:U},null,8,["modelValue","onKeyup"])],2),ae(E(Wa),{class:G(E(i).be("dropdown","link-btn")),text:"",size:"small",onClick:Y},{default:he(()=>[qr(ct(E(a)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ae(E(Wa),{plain:"",size:"small",class:G(E(i).be("dropdown","btn")),onClick:H},{default:he(()=>[qr(ct(E(a)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,_He)),[[E(wu),ie]])]),default:he(()=>[Z("div",{id:E(u),ref_key:"triggerRef",ref:p,class:G(E(P)),role:"button","aria-label":E(A),"aria-labelledby":E(O),"aria-description":E(a)("el.colorpicker.description",{color:me.modelValue||""}),"aria-disabled":E(l),tabindex:E(l)?-1:me.tabindex,onKeydown:re,onFocus:w,onBlur:xe[1]||(xe[1]=(...ze)=>E(y)&&E(y)(...ze))},[E(l)?(F(),K("div",{key:0,class:G(E(i).be("picker","mask"))},null,2)):be("v-if",!0),Z("div",{class:G(E(i).be("picker","trigger")),onClick:z},[Z("span",{class:G([E(i).be("picker","color"),E(i).is("alpha",me.showAlpha)])},[Z("span",{class:G(E(i).be("picker","color-inner")),style:Bt({backgroundColor:E(M)})},[cr(ae(E($t),{class:G([E(i).be("picker","icon"),E(i).is("icon-arrow-down")])},{default:he(()=>[ae(E(Lu))]),_:1},8,["class"]),[[nn,me.modelValue||C.value]]),cr(ae(E($t),{class:G([E(i).be("picker","empty"),E(i).is("icon-close")])},{default:he(()=>[ae(E($s))]),_:1},8,["class"]),[[nn,!me.modelValue&&!C.value]])],6)],2)],2)],42,xHe)]),_:1},8,["visible","popper-class","transition"]))}});var MHe=ut(CHe,[["__file","color-picker.vue"]]);const THe=_r(MHe),kHe=J({name:"ElContainer"}),AHe=J({...kHe,props:{direction:{type:String}},setup(e){const t=e,r=Ya(),n=Ze("container"),a=$(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:r&&r.default?r.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(i,o)=>(F(),K("section",{class:G([E(n).b(),E(n).is("vertical",E(a))])},[Pe(i.$slots,"default")],2))}});var IHe=ut(AHe,[["__file","container.vue"]]);const OHe=J({name:"ElAside"}),LHe=J({...OHe,props:{width:{type:String,default:null}},setup(e){const t=e,r=Ze("aside"),n=$(()=>t.width?r.cssVarBlock({width:t.width}):{});return(a,i)=>(F(),K("aside",{class:G(E(r).b()),style:Bt(E(n))},[Pe(a.$slots,"default")],6))}});var AK=ut(LHe,[["__file","aside.vue"]]);const NHe=J({name:"ElFooter"}),PHe=J({...NHe,props:{height:{type:String,default:null}},setup(e){const t=e,r=Ze("footer"),n=$(()=>t.height?r.cssVarBlock({height:t.height}):{});return(a,i)=>(F(),K("footer",{class:G(E(r).b()),style:Bt(E(n))},[Pe(a.$slots,"default")],6))}});var IK=ut(PHe,[["__file","footer.vue"]]);const DHe=J({name:"ElHeader"}),RHe=J({...DHe,props:{height:{type:String,default:null}},setup(e){const t=e,r=Ze("header"),n=$(()=>t.height?r.cssVarBlock({height:t.height}):{});return(a,i)=>(F(),K("header",{class:G(E(r).b()),style:Bt(E(n))},[Pe(a.$slots,"default")],6))}});var OK=ut(RHe,[["__file","header.vue"]]);const $He=J({name:"ElMain"}),BHe=J({...$He,setup(e){const t=Ze("main");return(r,n)=>(F(),K("main",{class:G(E(t).b())},[Pe(r.$slots,"default")],2))}});var LK=ut(BHe,[["__file","main.vue"]]);const FHe=_r(IHe,{Aside:AK,Footer:IK,Header:OK,Main:LK}),zHe=jn(AK),GHe=jn(IK),jHe=jn(OK),VHe=jn(LK);var NK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){return function(r,n){var a=n.prototype,i=a.format;a.format=function(o){var s=this,l=this.$locale();if(!this.isValid())return i.bind(this)(o);var u=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}});return i.bind(this)(c)}}})})(NK);var UHe=NK.exports;const WHe=Ka(UHe);var PK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){var r="week",n="year";return function(a,i,o){var s=i.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(n).add(1,n).date(u),f=o(this).endOf(r);if(c.isBefore(f))return 1}var d=o(this).startOf(n).date(u).startOf(r).subtract(1,"millisecond"),h=this.diff(d,r,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(PK);var HHe=PK.exports;const YHe=Ka(HHe);var DK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){return function(r,n){n.prototype.weekYear=function(){var a=this.month(),i=this.week(),o=this.year();return i===1&&a===11?o+1:a===0&&i>=52?o-1:o}}})})(DK);var KHe=DK.exports;const XHe=Ka(KHe);var RK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){return function(r,n,a){n.prototype.dayOfYear=function(i){var o=Math.round((a(this).startOf("day")-a(this).startOf("year"))/864e5)+1;return i==null?o:this.add(i-o,"day")}}})})(RK);var qHe=RK.exports;const ZHe=Ka(qHe);var $K={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})($K);var QHe=$K.exports;const JHe=Ka(QHe);var BK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ht,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(BK);var eYe=BK.exports;const tYe=Ka(eYe),gO=Symbol(),rYe=it({...vO,type:{type:ve(String),default:"date"}}),nYe=["date","dates","year","years","month","week","range"],mO=it({disabledDate:{type:ve(Function)},date:{type:ve(Object),required:!0},minDate:{type:ve(Object)},maxDate:{type:ve(Object)},parsedValue:{type:ve([Object,Array])},rangeState:{type:ve(Object),default:()=>({endDate:null,selecting:!1})}}),FK=it({type:{type:ve(String),required:!0,values:TFe},dateFormat:String,timeFormat:String}),zK=it({unlinkPanels:Boolean,parsedValue:{type:ve(Array)}}),yO=e=>({type:String,values:nYe,default:e}),aYe=it({...FK,parsedValue:{type:ve([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),iYe=it({...mO,cellClassName:{type:ve(Function)},showWeekNumber:Boolean,selectionMode:yO("date")}),oYe=["changerange","pick","select"],QM=e=>{if(!_t(e))return!1;const[t,r]=e;return xr.isDayjs(t)&&xr.isDayjs(r)&&t.isSameOrBefore(r)},GK=(e,{lang:t,unit:r,unlinkPanels:n})=>{let a;if(_t(e)){let[i,o]=e.map(s=>xr(s).locale(t));return n||(o=i.add(1,r)),[i,o]}else e?a=xr(e):a=xr();return a=a.locale(t),[a,a.add(1,r)]},sYe=(e,t,{columnIndexOffset:r,startDate:n,nextEndDate:a,now:i,unit:o,relativeDateGetter:s,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const f=t[c];for(let d=0;d<e.column;d++){let h=f[d+r];h||(h={row:c,column:d,type:"normal",inRange:!1,start:!1,end:!1});const v=c*e.column+d,p=s(v);h.dayjs=p,h.date=p.toDate(),h.timestamp=p.valueOf(),h.type="normal",h.inRange=!!(n&&p.isSameOrAfter(n,o)&&a&&p.isSameOrBefore(a,o))||!!(n&&p.isSameOrBefore(n,o)&&a&&p.isSameOrAfter(a,o)),n!=null&&n.isSameOrAfter(a)?(h.start=!!a&&p.isSame(a,o),h.end=n&&p.isSame(n,o)):(h.start=!!n&&p.isSame(n,o),h.end=!!a&&p.isSame(a,o)),p.isSame(i,o)&&(h.type="today"),l==null||l(h,{rowIndex:c,columnIndex:d}),f[d+r]=h}u==null||u(f)}},JM=(e="")=>["normal","today"].includes(e),lYe=(e,t)=>{const{lang:r}=Zr(),n=W(),a=W(),i=W(),o=W(),s=W([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(I=>I.toLowerCase()),f=$(()=>u>3?7-u:-u),d=$(()=>{const I=e.date.startOf("month");return I.subtract(I.day()||7,"day")}),h=$(()=>c.concat(c).slice(u,u+7)),v=$(()=>tH(E(w)).some(I=>I.isCurrent)),p=$(()=>{const I=e.date.startOf("month"),D=I.day()||7,z=I.daysInMonth(),U=I.subtract(1,"month").daysInMonth();return{startOfMonthDay:D,dateCountOfMonth:z,dateCountOfLastMonth:U}}),m=$(()=>e.selectionMode==="dates"?xo(e.parsedValue):[]),g=(I,{count:D,rowIndex:z,columnIndex:U})=>{const{startOfMonthDay:H,dateCountOfMonth:Y,dateCountOfLastMonth:ie}=E(p),X=E(f);if(z>=0&&z<=1){const re=H+X<0?7+H+X:H+X;if(U+z*7>=re)return I.text=D,!0;I.text=ie-(re-U%7)+1+z*7,I.type="prev-month"}else return D<=Y?I.text=D:(I.text=D-Y,I.type="next-month"),!0;return!1},b=(I,{columnIndex:D,rowIndex:z},U)=>{const{disabledDate:H,cellClassName:Y}=e,ie=E(m),X=g(I,{count:U,rowIndex:z,columnIndex:D}),re=I.dayjs.toDate();return I.selected=ie.find(oe=>oe.isSame(I.dayjs,"day")),I.isSelected=!!I.selected,I.isCurrent=x(I),I.disabled=H==null?void 0:H(re),I.customClass=Y==null?void 0:Y(re),X},y=I=>{if(e.selectionMode==="week"){const[D,z]=e.showWeekNumber?[1,7]:[0,6],U=B(I[D+1]);I[D].inRange=U,I[D].start=U,I[z].inRange=U,I[z].end=U}},w=$(()=>{const{minDate:I,maxDate:D,rangeState:z,showWeekNumber:U}=e,H=E(f),Y=E(s),ie="day";let X=1;if(U)for(let re=0;re<6;re++)Y[re][0]||(Y[re][0]={type:"week",text:E(d).add(re*7+1,ie).week()});return sYe({row:6,column:7},Y,{startDate:I,columnIndexOffset:U?1:0,nextEndDate:z.endDate||D||z.selecting&&I||null,now:xr().locale(E(r)).startOf(ie),unit:ie,relativeDateGetter:re=>E(d).add(re-H,ie),setCellMetadata:(...re)=>{b(...re,X)&&(X+=1)},setRowMetadata:y}),Y});He(()=>e.date,async()=>{var I;(I=E(n))!=null&&I.contains(document.activeElement)&&(await Ut(),await _())});const _=async()=>{var I;return(I=E(a))==null?void 0:I.focus()},x=I=>e.selectionMode==="date"&&JM(I.type)&&S(I,e.parsedValue),S=(I,D)=>D?xr(D).locale(E(r)).isSame(e.date.date(Number(I.text)),"day"):!1,C=(I,D)=>{const z=I*7+(D-(e.showWeekNumber?1:0))-E(f);return E(d).add(z,"day")},T=I=>{var D;if(!e.rangeState.selecting)return;let z=I.target;if(z.tagName==="SPAN"&&(z=(D=z.parentNode)==null?void 0:D.parentNode),z.tagName==="DIV"&&(z=z.parentNode),z.tagName!=="TD")return;const U=z.parentNode.rowIndex-1,H=z.cellIndex;E(w)[U][H].disabled||(U!==E(i)||H!==E(o))&&(i.value=U,o.value=H,t("changerange",{selecting:!0,endDate:C(U,H)}))},M=I=>!E(v)&&(I==null?void 0:I.text)===1&&I.type==="normal"||I.isCurrent,k=I=>{l||E(v)||e.selectionMode!=="date"||L(I,!0)},A=I=>{I.target.closest("td")&&(l=!0)},O=I=>{I.target.closest("td")&&(l=!1)},P=I=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:I,maxDate:null}),t("select",!0)):(I>=e.minDate?t("pick",{minDate:e.minDate,maxDate:I}):t("pick",{minDate:I,maxDate:e.minDate}),t("select",!1))},R=I=>{const D=I.week(),z=`${I.year()}w${D}`;t("pick",{year:I.year(),week:D,value:z,date:I.startOf("week")})},N=(I,D)=>{const z=D?xo(e.parsedValue).filter(U=>(U==null?void 0:U.valueOf())!==I.valueOf()):xo(e.parsedValue).concat([I]);t("pick",z)},L=(I,D=!1)=>{const z=I.target.closest("td");if(!z)return;const U=z.parentNode.rowIndex-1,H=z.cellIndex,Y=E(w)[U][H];if(Y.disabled||Y.type==="week")return;const ie=C(U,H);switch(e.selectionMode){case"range":{P(ie);break}case"date":{t("pick",ie,D);break}case"week":{R(ie);break}case"dates":{N(ie,!!Y.selected);break}}},B=I=>{if(e.selectionMode!=="week")return!1;let D=e.date.startOf("day");if(I.type==="prev-month"&&(D=D.subtract(1,"month")),I.type==="next-month"&&(D=D.add(1,"month")),D=D.date(Number.parseInt(I.text,10)),e.parsedValue&&!Array.isArray(e.parsedValue)){const z=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(z,"day").isSame(D,"day")}return!1};return{WEEKS:h,rows:w,tbodyRef:n,currentCellRef:a,focus:_,isCurrent:x,isWeekActive:B,isSelectedCell:M,handlePickDate:L,handleMouseUp:O,handleMouseDown:A,handleMouseMove:T,handleFocus:k}},uYe=(e,{isCurrent:t,isWeekActive:r})=>{const n=Ze("date-table"),{t:a}=Zr(),i=$(()=>[n.b(),{"is-week-mode":e.selectionMode==="week"}]),o=$(()=>a("el.datepicker.dateTablePrompt")),s=$(()=>a("el.datepicker.week"));return{tableKls:i,tableLabel:o,weekLabel:s,getCellClasses:c=>{const f=[];return JM(c.type)&&!c.disabled?(f.push("available"),c.type==="today"&&f.push("today")):f.push(c.type),t(c)&&f.push("current"),c.inRange&&(JM(c.type)||e.selectionMode==="week")&&(f.push("in-range"),c.start&&f.push("start-date"),c.end&&f.push("end-date")),c.disabled&&f.push("disabled"),c.selected&&f.push("selected"),c.customClass&&f.push(c.customClass),f.join(" ")},getRowKls:c=>[n.e("row"),{current:r(c)}],t:a}},cYe=it({cell:{type:ve(Object)}});var fYe=J({name:"ElDatePickerCell",props:cYe,setup(e){const t=Ze("date-table-cell"),{slots:r}=At(gO);return()=>{const{cell:n}=e;return Pe(r,"default",{...n},()=>[ae("div",{class:t.b()},[ae("span",{class:t.e("text")},[n==null?void 0:n.text])])])}}});const dYe=["aria-label"],hYe={key:0,scope:"col"},vYe=["aria-label"],pYe=["aria-current","aria-selected","tabindex"],gYe=J({__name:"basic-date-table",props:iYe,emits:oYe,setup(e,{expose:t,emit:r}){const n=e,{WEEKS:a,rows:i,tbodyRef:o,currentCellRef:s,focus:l,isCurrent:u,isWeekActive:c,isSelectedCell:f,handlePickDate:d,handleMouseUp:h,handleMouseDown:v,handleMouseMove:p,handleFocus:m}=lYe(n,r),{tableLabel:g,tableKls:b,weekLabel:y,getCellClasses:w,getRowKls:_,t:x}=uYe(n,{isCurrent:u,isWeekActive:c});return t({focus:l}),(S,C)=>(F(),K("table",{"aria-label":E(g),class:G(E(b)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:C[1]||(C[1]=(...T)=>E(d)&&E(d)(...T)),onMousemove:C[2]||(C[2]=(...T)=>E(p)&&E(p)(...T)),onMousedown:C[3]||(C[3]=tr((...T)=>E(v)&&E(v)(...T),["prevent"])),onMouseup:C[4]||(C[4]=(...T)=>E(h)&&E(h)(...T))},[Z("tbody",{ref_key:"tbodyRef",ref:o},[Z("tr",null,[S.showWeekNumber?(F(),K("th",hYe,ct(E(y)),1)):be("v-if",!0),(F(!0),K(zt,null,zr(E(a),(T,M)=>(F(),K("th",{key:M,"aria-label":E(x)("el.datepicker.weeksFull."+T),scope:"col"},ct(E(x)("el.datepicker.weeks."+T)),9,vYe))),128))]),(F(!0),K(zt,null,zr(E(i),(T,M)=>(F(),K("tr",{key:M,class:G(E(_)(T[1]))},[(F(!0),K(zt,null,zr(T,(k,A)=>(F(),K("td",{key:`${M}.${A}`,ref_for:!0,ref:O=>E(f)(k)&&(s.value=O),class:G(E(w)(k)),"aria-current":k.isCurrent?"date":void 0,"aria-selected":k.isCurrent,tabindex:E(f)(k)?0:-1,onFocus:C[0]||(C[0]=(...O)=>E(m)&&E(m)(...O))},[ae(E(fYe),{cell:k},null,8,["cell"])],42,pYe))),128))],2))),128))],512)],42,dYe))}});var eT=ut(gYe,[["__file","basic-date-table.vue"]]);const mYe=it({...mO,selectionMode:yO("month")}),yYe=["aria-label"],bYe=["aria-selected","aria-label","tabindex","onKeydown"],wYe={class:"cell"},EYe=J({__name:"basic-month-table",props:mYe,emits:["changerange","pick","select"],setup(e,{expose:t,emit:r}){const n=e,a=(w,_,x)=>{const S=xr().locale(x).startOf("month").month(_).year(w),C=S.daysInMonth();return _c(C).map(T=>S.add(T,"day").toDate())},i=Ze("month-table"),{t:o,lang:s}=Zr(),l=W(),u=W(),c=W(n.date.locale("en").localeData().monthsShort().map(w=>w.toLowerCase())),f=W([[],[],[]]),d=W(),h=W(),v=$(()=>{var w,_;const x=f.value,S=xr().locale(s.value).startOf("month");for(let C=0;C<3;C++){const T=x[C];for(let M=0;M<4;M++){const k=T[M]||(T[M]={row:C,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});k.type="normal";const A=C*4+M,O=n.date.startOf("year").month(A),P=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;k.inRange=!!(n.minDate&&O.isSameOrAfter(n.minDate,"month")&&P&&O.isSameOrBefore(P,"month"))||!!(n.minDate&&O.isSameOrBefore(n.minDate,"month")&&P&&O.isSameOrAfter(P,"month")),(w=n.minDate)!=null&&w.isSameOrAfter(P)?(k.start=!!(P&&O.isSame(P,"month")),k.end=n.minDate&&O.isSame(n.minDate,"month")):(k.start=!!(n.minDate&&O.isSame(n.minDate,"month")),k.end=!!(P&&O.isSame(P,"month"))),S.isSame(O)&&(k.type="today"),k.text=A,k.disabled=((_=n.disabledDate)==null?void 0:_.call(n,O.toDate()))||!1}}return x}),p=()=>{var w;(w=u.value)==null||w.focus()},m=w=>{const _={},x=n.date.year(),S=new Date,C=w.text;return _.disabled=n.disabledDate?a(x,C,s.value).every(n.disabledDate):!1,_.current=xo(n.parsedValue).findIndex(T=>xr.isDayjs(T)&&T.year()===x&&T.month()===C)>=0,_.today=S.getFullYear()===x&&S.getMonth()===C,w.inRange&&(_["in-range"]=!0,w.start&&(_["start-date"]=!0),w.end&&(_["end-date"]=!0)),_},g=w=>{const _=n.date.year(),x=w.text;return xo(n.date).findIndex(S=>S.year()===_&&S.month()===x)>=0},b=w=>{var _;if(!n.rangeState.selecting)return;let x=w.target;if(x.tagName==="SPAN"&&(x=(_=x.parentNode)==null?void 0:_.parentNode),x.tagName==="DIV"&&(x=x.parentNode),x.tagName!=="TD")return;const S=x.parentNode.rowIndex,C=x.cellIndex;v.value[S][C].disabled||(S!==d.value||C!==h.value)&&(d.value=S,h.value=C,r("changerange",{selecting:!0,endDate:n.date.startOf("year").month(S*4+C)}))},y=w=>{var _;const x=(_=w.target)==null?void 0:_.closest("td");if((x==null?void 0:x.tagName)!=="TD"||ns(x,"disabled"))return;const S=x.cellIndex,T=x.parentNode.rowIndex*4+S,M=n.date.startOf("year").month(T);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&M>=n.minDate?r("pick",{minDate:n.minDate,maxDate:M}):r("pick",{minDate:M,maxDate:n.minDate}),r("select",!1)):(r("pick",{minDate:M,maxDate:null}),r("select",!0)):r("pick",T)};return He(()=>n.date,async()=>{var w,_;(w=l.value)!=null&&w.contains(document.activeElement)&&(await Ut(),(_=u.value)==null||_.focus())}),t({focus:p}),(w,_)=>(F(),K("table",{role:"grid","aria-label":E(o)("el.datepicker.monthTablePrompt"),class:G(E(i).b()),onClick:y,onMousemove:b},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(F(!0),K(zt,null,zr(E(v),(x,S)=>(F(),K("tr",{key:S},[(F(!0),K(zt,null,zr(x,(C,T)=>(F(),K("td",{key:T,ref_for:!0,ref:M=>g(C)&&(u.value=M),class:G(m(C)),"aria-selected":`${g(C)}`,"aria-label":E(o)(`el.datepicker.month${+C.text+1}`),tabindex:g(C)?0:-1,onKeydown:[Sn(tr(y,["prevent","stop"]),["space"]),Sn(tr(y,["prevent","stop"]),["enter"])]},[Z("div",null,[Z("span",wYe,ct(E(o)("el.datepicker.months."+c.value[C.text])),1)])],42,bYe))),128))]))),128))],512)],42,yYe))}});var tT=ut(EYe,[["__file","basic-month-table.vue"]]);const{date:_Ye,disabledDate:xYe,parsedValue:SYe}=mO,CYe=it({date:_Ye,disabledDate:xYe,parsedValue:SYe,selectionMode:yO("year")}),MYe=["aria-label"],TYe=["aria-selected","tabindex","onKeydown"],kYe={class:"cell"},AYe={key:1},IYe=J({__name:"basic-year-table",props:CYe,emits:["pick"],setup(e,{expose:t,emit:r}){const n=e,a=(p,m)=>{const g=xr(String(p)).locale(m).startOf("year"),y=g.endOf("year").dayOfYear();return _c(y).map(w=>g.add(w,"day").toDate())},i=Ze("year-table"),{t:o,lang:s}=Zr(),l=W(),u=W(),c=$(()=>Math.floor(n.date.year()/10)*10),f=()=>{var p;(p=u.value)==null||p.focus()},d=p=>{const m={},g=xr().locale(s.value);return m.disabled=n.disabledDate?a(p,s.value).every(n.disabledDate):!1,m.current=xo(n.parsedValue).findIndex(b=>b.year()===p)>=0,m.today=g.year()===p,m},h=p=>p===c.value&&n.date.year()<c.value&&n.date.year()>c.value+9||xo(n.date).findIndex(m=>m.year()===p)>=0||xo(n.parsedValue).findIndex(m=>(m==null?void 0:m.year())===p)>=0,v=p=>{const g=p.target.closest("td");if(g&&g.textContent){if(ns(g,"disabled"))return;const b=g.textContent||g.innerText;if(n.selectionMode==="years"){if(p.type==="keydown"){r("pick",xo(n.parsedValue),!1);return}const y=ns(g,"current")?xo(n.parsedValue).filter(w=>(w==null?void 0:w.year())!==Number(b)):xo(n.parsedValue).concat([xr(b)]);r("pick",y)}else r("pick",Number(b))}};return He(()=>n.date,async()=>{var p,m;(p=l.value)!=null&&p.contains(document.activeElement)&&(await Ut(),(m=u.value)==null||m.focus())}),t({focus:f}),(p,m)=>(F(),K("table",{role:"grid","aria-label":E(o)("el.datepicker.yearTablePrompt"),class:G(E(i).b()),onClick:v},[Z("tbody",{ref_key:"tbodyRef",ref:l},[(F(),K(zt,null,zr(3,(g,b)=>Z("tr",{key:b},[(F(),K(zt,null,zr(4,(y,w)=>(F(),K(zt,{key:b+"_"+w},[b*4+w<10?(F(),K("td",{key:0,ref_for:!0,ref:_=>h(E(c)+b*4+w)&&(u.value=_),class:G(["available",d(E(c)+b*4+w)]),"aria-selected":`${h(E(c)+b*4+w)}`,tabindex:h(E(c)+b*4+w)?0:-1,onKeydown:[Sn(tr(v,["prevent","stop"]),["space"]),Sn(tr(v,["prevent","stop"]),["enter"])]},[Z("div",null,[Z("span",kYe,ct(E(c)+b*4+w),1)])],42,TYe)):(F(),K("td",AYe))],64))),64))])),64))],512)],10,MYe))}});var OYe=ut(IYe,[["__file","basic-year-table.vue"]]);const LYe=["onClick"],NYe=["aria-label"],PYe=["aria-label"],DYe=["aria-label"],RYe=["aria-label"],$Ye=J({__name:"panel-date-pick",props:aYe,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const r=e,n=(we,qe,Be)=>!0,a=Ze("picker-panel"),i=Ze("date-picker"),o=bd(),s=Ya(),{t:l,lang:u}=Zr(),c=At("EP_PICKER_BASE"),f=At(y2),{shortcuts:d,disabledDate:h,cellClassName:v,defaultTime:p}=c.props,m=kn(c.props,"defaultValue"),g=W(),b=W(xr().locale(u.value)),y=W(!1);let w=!1;const _=$(()=>xr(p).locale(u.value)),x=$(()=>b.value.month()),S=$(()=>b.value.year()),C=W([]),T=W(null),M=W(null),k=we=>C.value.length>0?n(we,C.value,r.format||"HH:mm:ss"):!0,A=we=>p&&!le.value&&!y.value&&!w?_.value.year(we.year()).month(we.month()).date(we.date()):X.value?we.millisecond(0):we.startOf("day"),O=(we,...qe)=>{if(!we)t("pick",we,...qe);else if(_t(we)){const Be=we.map(A);t("pick",Be,...qe)}else t("pick",A(we),...qe);T.value=null,M.value=null,y.value=!1,w=!1},P=async(we,qe)=>{if(D.value==="date"){we=we;let Be=r.parsedValue?r.parsedValue.year(we.year()).month(we.month()).date(we.date()):we;k(Be)||(Be=C.value[0][0].year(we.year()).month(we.month()).date(we.date())),b.value=Be,O(Be,X.value||qe),r.type==="datetime"&&(await Ut(),Ue())}else D.value==="week"?O(we.date):D.value==="dates"&&O(we,!0)},R=we=>{const qe=we?"add":"subtract";b.value=b.value[qe](1,"month"),Ye("month")},N=we=>{const qe=b.value,Be=we?"add":"subtract";b.value=L.value==="year"?qe[Be](10,"year"):qe[Be](1,"year"),Ye("year")},L=W("date"),B=$(()=>{const we=l("el.datepicker.year");if(L.value==="year"){const qe=Math.floor(S.value/10)*10;return we?`${qe} ${we} - ${qe+9} ${we}`:`${qe} - ${qe+9}`}return`${S.value} ${we}`}),I=we=>{const qe=Jt(we.value)?we.value():we.value;if(qe){w=!0,O(xr(qe).locale(u.value));return}we.onClick&&we.onClick({attrs:o,slots:s,emit:t})},D=$(()=>{const{type:we}=r;return["week","month","year","years","dates"].includes(we)?we:"date"}),z=$(()=>D.value==="date"?L.value:D.value),U=$(()=>!!d.length),H=async we=>{b.value=b.value.startOf("month").month(we),D.value==="month"?O(b.value,!1):(L.value="date",["month","year","date","week"].includes(D.value)&&(O(b.value,!0),await Ut(),Ue())),Ye("month")},Y=async(we,qe)=>{D.value==="year"?(b.value=b.value.startOf("year").year(we),O(b.value,!1)):D.value==="years"?O(we,qe??!0):(b.value=b.value.year(we),L.value="month",["month","year","date","week"].includes(D.value)&&(O(b.value,!0),await Ut(),Ue())),Ye("year")},ie=async we=>{L.value=we,await Ut(),Ue()},X=$(()=>r.type==="datetime"||r.type==="datetimerange"),re=$(()=>{const we=X.value||D.value==="dates",qe=D.value==="years",Be=L.value==="date",pe=L.value==="year";return we&&Be||qe&&pe}),oe=$(()=>h?r.parsedValue?_t(r.parsedValue)?h(r.parsedValue[0].toDate()):h(r.parsedValue.toDate()):!0:!1),Ne=()=>{if(D.value==="dates"||D.value==="years")O(r.parsedValue);else{let we=r.parsedValue;if(!we){const qe=xr(p).locale(u.value),Be=ge();we=qe.year(Be.year()).month(Be.month()).date(Be.date())}b.value=we,O(we)}},me=$(()=>h?h(xr().locale(u.value).toDate()):!1),xe=()=>{const qe=xr().locale(u.value).toDate();y.value=!0,(!h||!h(qe))&&k(qe)&&(b.value=xr().locale(u.value),O(b.value))},ze=$(()=>r.timeFormat||WY(r.format)),te=$(()=>r.dateFormat||UY(r.format)),le=$(()=>{if(M.value)return M.value;if(!(!r.parsedValue&&!m.value))return(r.parsedValue||b.value).format(ze.value)}),Ae=$(()=>{if(T.value)return T.value;if(!(!r.parsedValue&&!m.value))return(r.parsedValue||b.value).format(te.value)}),Ve=W(!1),Ie=()=>{Ve.value=!0},De=()=>{Ve.value=!1},Ge=we=>({hour:we.hour(),minute:we.minute(),second:we.second(),year:we.year(),month:we.month(),date:we.date()}),Qe=(we,qe,Be)=>{const{hour:pe,minute:Re,second:ft}=Ge(we),Ee=r.parsedValue?r.parsedValue.hour(pe).minute(Re).second(ft):we;b.value=Ee,O(b.value,!0),Be||(Ve.value=qe)},ke=we=>{const qe=xr(we,ze.value).locale(u.value);if(qe.isValid()&&k(qe)){const{year:Be,month:pe,date:Re}=Ge(b.value);b.value=qe.year(Be).month(pe).date(Re),M.value=null,Ve.value=!1,O(b.value,!0)}},q=we=>{const qe=xr(we,te.value).locale(u.value);if(qe.isValid()){if(h&&h(qe.toDate()))return;const{hour:Be,minute:pe,second:Re}=Ge(b.value);b.value=qe.hour(Be).minute(pe).second(Re),T.value=null,O(b.value,!0)}},j=we=>xr.isDayjs(we)&&we.isValid()&&(h?!h(we.toDate()):!0),Ce=we=>_t(we)?we.map(qe=>qe.format(r.format)):we.format(r.format),fe=we=>xr(we,r.format).locale(u.value),ge=()=>{const we=xr(m.value).locale(u.value);if(!m.value){const qe=_.value;return xr().hour(qe.hour()).minute(qe.minute()).second(qe.second()).locale(u.value)}return we},Ue=async()=>{var we;["week","month","year","date"].includes(D.value)&&((we=g.value)==null||we.focus(),D.value==="week"&&ot(Kt.down))},tt=we=>{const{code:qe}=we;[Kt.up,Kt.down,Kt.left,Kt.right,Kt.home,Kt.end,Kt.pageUp,Kt.pageDown].includes(qe)&&(ot(qe),we.stopPropagation(),we.preventDefault()),[Kt.enter,Kt.space,Kt.numpadEnter].includes(qe)&&T.value===null&&M.value===null&&(we.preventDefault(),O(b.value,!1))},ot=we=>{var qe;const{up:Be,down:pe,left:Re,right:ft,home:Ee,end:wt,pageUp:ar,pageDown:lr}=Kt,Wr={year:{[Be]:-4,[pe]:4,[Re]:-1,[ft]:1,offset:(ir,An)=>ir.setFullYear(ir.getFullYear()+An)},month:{[Be]:-4,[pe]:4,[Re]:-1,[ft]:1,offset:(ir,An)=>ir.setMonth(ir.getMonth()+An)},week:{[Be]:-1,[pe]:1,[Re]:-1,[ft]:1,offset:(ir,An)=>ir.setDate(ir.getDate()+An*7)},date:{[Be]:-7,[pe]:7,[Re]:-1,[ft]:1,[Ee]:ir=>-ir.getDay(),[wt]:ir=>-ir.getDay()+6,[ar]:ir=>-new Date(ir.getFullYear(),ir.getMonth(),0).getDate(),[lr]:ir=>new Date(ir.getFullYear(),ir.getMonth()+1,0).getDate(),offset:(ir,An)=>ir.setDate(ir.getDate()+An)}},In=b.value.toDate();for(;Math.abs(b.value.diff(In,"year",!0))<1;){const ir=Wr[z.value];if(!ir)return;if(ir.offset(In,Jt(ir[we])?ir[we](In):(qe=ir[we])!=null?qe:0),h&&h(In))break;const An=xr(In).locale(u.value);b.value=An,t("pick",An,!0);break}},Ye=we=>{t("panel-change",b.value.toDate(),we,L.value)};return He(()=>D.value,we=>{if(["month","year"].includes(we)){L.value=we;return}else if(we==="years"){L.value="year";return}L.value="date"},{immediate:!0}),He(()=>L.value,()=>{f==null||f.updatePopper()}),He(()=>m.value,we=>{we&&(b.value=ge())},{immediate:!0}),He(()=>r.parsedValue,we=>{if(we){if(D.value==="dates"||D.value==="years"||Array.isArray(we))return;b.value=we}else b.value=ge()},{immediate:!0}),t("set-picker-option",["isValidValue",j]),t("set-picker-option",["formatToString",Ce]),t("set-picker-option",["parseUserInput",fe]),t("set-picker-option",["handleFocusPicker",Ue]),(we,qe)=>(F(),K("div",{class:G([E(a).b(),E(i).b(),{"has-sidebar":we.$slots.sidebar||E(U),"has-time":E(X)}])},[Z("div",{class:G(E(a).e("body-wrapper"))},[Pe(we.$slots,"sidebar",{class:G(E(a).e("sidebar"))}),E(U)?(F(),K("div",{key:0,class:G(E(a).e("sidebar"))},[(F(!0),K(zt,null,zr(E(d),(Be,pe)=>(F(),K("button",{key:pe,type:"button",class:G(E(a).e("shortcut")),onClick:Re=>I(Be)},ct(Be.text),11,LYe))),128))],2)):be("v-if",!0),Z("div",{class:G(E(a).e("body"))},[E(X)?(F(),K("div",{key:0,class:G(E(i).e("time-header"))},[Z("span",{class:G(E(i).e("editor-wrap"))},[ae(E(Mi),{placeholder:E(l)("el.datepicker.selectDate"),"model-value":E(Ae),size:"small","validate-event":!1,onInput:qe[0]||(qe[0]=Be=>T.value=Be),onChange:q},null,8,["placeholder","model-value"])],2),cr((F(),K("span",{class:G(E(i).e("editor-wrap"))},[ae(E(Mi),{placeholder:E(l)("el.datepicker.selectTime"),"model-value":E(le),size:"small","validate-event":!1,onFocus:Ie,onInput:qe[1]||(qe[1]=Be=>M.value=Be),onChange:ke},null,8,["placeholder","model-value"]),ae(E(Ow),{visible:Ve.value,format:E(ze),"parsed-value":b.value,onPick:Qe},null,8,["visible","format","parsed-value"])],2)),[[E(wu),De]])],2)):be("v-if",!0),cr(Z("div",{class:G([E(i).e("header"),(L.value==="year"||L.value==="month")&&E(i).e("header--bordered")])},[Z("span",{class:G(E(i).e("prev-btn"))},[Z("button",{type:"button","aria-label":E(l)("el.datepicker.prevYear"),class:G(["d-arrow-left",E(a).e("icon-btn")]),onClick:qe[2]||(qe[2]=Be=>N(!1))},[ae(E($t),null,{default:he(()=>[ae(E(pv))]),_:1})],10,NYe),cr(Z("button",{type:"button","aria-label":E(l)("el.datepicker.prevMonth"),class:G([E(a).e("icon-btn"),"arrow-left"]),onClick:qe[3]||(qe[3]=Be=>R(!1))},[ae(E($t),null,{default:he(()=>[ae(E(Dc))]),_:1})],10,PYe),[[nn,L.value==="date"]])],2),Z("span",{role:"button",class:G(E(i).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:qe[4]||(qe[4]=Sn(Be=>ie("year"),["enter"])),onClick:qe[5]||(qe[5]=Be=>ie("year"))},ct(E(B)),35),cr(Z("span",{role:"button","aria-live":"polite",tabindex:"0",class:G([E(i).e("header-label"),{active:L.value==="month"}]),onKeydown:qe[6]||(qe[6]=Sn(Be=>ie("month"),["enter"])),onClick:qe[7]||(qe[7]=Be=>ie("month"))},ct(E(l)(`el.datepicker.month${E(x)+1}`)),35),[[nn,L.value==="date"]]),Z("span",{class:G(E(i).e("next-btn"))},[cr(Z("button",{type:"button","aria-label":E(l)("el.datepicker.nextMonth"),class:G([E(a).e("icon-btn"),"arrow-right"]),onClick:qe[8]||(qe[8]=Be=>R(!0))},[ae(E($t),null,{default:he(()=>[ae(E(Fi))]),_:1})],10,DYe),[[nn,L.value==="date"]]),Z("button",{type:"button","aria-label":E(l)("el.datepicker.nextYear"),class:G([E(a).e("icon-btn"),"d-arrow-right"]),onClick:qe[9]||(qe[9]=Be=>N(!0))},[ae(E($t),null,{default:he(()=>[ae(E(gv))]),_:1})],10,RYe)],2)],2),[[nn,L.value!=="time"]]),Z("div",{class:G(E(a).e("content")),onKeydown:tt},[L.value==="date"?(F(),Oe(eT,{key:0,ref_key:"currentViewRef",ref:g,"selection-mode":E(D),date:b.value,"parsed-value":we.parsedValue,"disabled-date":E(h),"cell-class-name":E(v),onPick:P},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):be("v-if",!0),L.value==="year"?(F(),Oe(OYe,{key:1,ref_key:"currentViewRef",ref:g,"selection-mode":E(D),date:b.value,"disabled-date":E(h),"parsed-value":we.parsedValue,onPick:Y},null,8,["selection-mode","date","disabled-date","parsed-value"])):be("v-if",!0),L.value==="month"?(F(),Oe(tT,{key:2,ref_key:"currentViewRef",ref:g,date:b.value,"parsed-value":we.parsedValue,"disabled-date":E(h),onPick:H},null,8,["date","parsed-value","disabled-date"])):be("v-if",!0)],34)],2)],2),cr(Z("div",{class:G(E(a).e("footer"))},[cr(ae(E(Wa),{text:"",size:"small",class:G(E(a).e("link-btn")),disabled:E(me),onClick:xe},{default:he(()=>[qr(ct(E(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[nn,E(D)!=="dates"&&E(D)!=="years"]]),ae(E(Wa),{plain:"",size:"small",class:G(E(a).e("link-btn")),disabled:E(oe),onClick:Ne},{default:he(()=>[qr(ct(E(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[nn,E(re)]])],2))}});var BYe=ut($Ye,[["__file","panel-date-pick.vue"]]);const FYe=it({...FK,...zK}),zYe=e=>{const{emit:t}=Er(),r=bd(),n=Ya();return i=>{const o=Jt(i.value)?i.value():i.value;if(o){t("pick",[xr(o[0]).locale(e.value),xr(o[1]).locale(e.value)]);return}i.onClick&&i.onClick({attrs:r,slots:n,emit:t})}},jK=(e,{defaultValue:t,leftDate:r,rightDate:n,unit:a,onParsedValueChanged:i})=>{const{emit:o}=Er(),{pickerNs:s}=At(gO),l=Ze("date-range-picker"),{t:u,lang:c}=Zr(),f=zYe(c),d=W(),h=W(),v=W({endDate:null,selecting:!1}),p=y=>{v.value=y},m=(y=!1)=>{const w=E(d),_=E(h);QM([w,_])&&o("pick",[w,_],y)},g=y=>{v.value.selecting=y,y||(v.value.endDate=null)},b=()=>{const[y,w]=GK(E(t),{lang:E(c),unit:a,unlinkPanels:e.unlinkPanels});d.value=void 0,h.value=void 0,r.value=y,n.value=w};return He(t,y=>{y&&b()},{immediate:!0}),He(()=>e.parsedValue,y=>{if(_t(y)&&y.length===2){const[w,_]=y;d.value=w,r.value=w,h.value=_,i(E(d),E(h))}else b()},{immediate:!0}),{minDate:d,maxDate:h,rangeState:v,lang:c,ppNs:s,drpNs:l,handleChangeRange:p,handleRangeConfirm:m,handleShortcutClick:f,onSelect:g,t:u}},GYe=["onClick"],jYe=["aria-label"],VYe=["aria-label"],UYe=["disabled","aria-label"],WYe=["disabled","aria-label"],HYe=["disabled","aria-label"],YYe=["disabled","aria-label"],KYe=["aria-label"],XYe=["aria-label"],v1="month",qYe=J({__name:"panel-date-range",props:FYe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const r=e,n=At("EP_PICKER_BASE"),{disabledDate:a,cellClassName:i,format:o,defaultTime:s,clearable:l}=n.props,u=kn(n.props,"shortcuts"),c=kn(n.props,"defaultValue"),{lang:f}=Zr(),d=W(xr().locale(f.value)),h=W(xr().locale(f.value).add(1,v1)),{minDate:v,maxDate:p,rangeState:m,ppNs:g,drpNs:b,handleChangeRange:y,handleRangeConfirm:w,handleShortcutClick:_,onSelect:x,t:S}=jK(r,{defaultValue:c,leftDate:d,rightDate:h,unit:v1,onParsedValueChanged:qe}),C=W({min:null,max:null}),T=W({min:null,max:null}),M=$(()=>`${d.value.year()} ${S("el.datepicker.year")} ${S(`el.datepicker.month${d.value.month()+1}`)}`),k=$(()=>`${h.value.year()} ${S("el.datepicker.year")} ${S(`el.datepicker.month${h.value.month()+1}`)}`),A=$(()=>d.value.year()),O=$(()=>d.value.month()),P=$(()=>h.value.year()),R=$(()=>h.value.month()),N=$(()=>!!u.value.length),L=$(()=>C.value.min!==null?C.value.min:v.value?v.value.format(U.value):""),B=$(()=>C.value.max!==null?C.value.max:p.value||v.value?(p.value||v.value).format(U.value):""),I=$(()=>T.value.min!==null?T.value.min:v.value?v.value.format(z.value):""),D=$(()=>T.value.max!==null?T.value.max:p.value||v.value?(p.value||v.value).format(z.value):""),z=$(()=>r.timeFormat||WY(o)),U=$(()=>r.dateFormat||UY(o)),H=Be=>QM(Be)&&(a?!a(Be[0].toDate())&&!a(Be[1].toDate()):!0),Y=()=>{d.value=d.value.subtract(1,"year"),r.unlinkPanels||(h.value=d.value.add(1,"month")),ze("year")},ie=()=>{d.value=d.value.subtract(1,"month"),r.unlinkPanels||(h.value=d.value.add(1,"month")),ze("month")},X=()=>{r.unlinkPanels?h.value=h.value.add(1,"year"):(d.value=d.value.add(1,"year"),h.value=d.value.add(1,"month")),ze("year")},re=()=>{r.unlinkPanels?h.value=h.value.add(1,"month"):(d.value=d.value.add(1,"month"),h.value=d.value.add(1,"month")),ze("month")},oe=()=>{d.value=d.value.add(1,"year"),ze("year")},Ne=()=>{d.value=d.value.add(1,"month"),ze("month")},me=()=>{h.value=h.value.subtract(1,"year"),ze("year")},xe=()=>{h.value=h.value.subtract(1,"month"),ze("month")},ze=Be=>{t("panel-change",[d.value.toDate(),h.value.toDate()],Be)},te=$(()=>{const Be=(O.value+1)%12,pe=O.value+1>=12?1:0;return r.unlinkPanels&&new Date(A.value+pe,Be)<new Date(P.value,R.value)}),le=$(()=>r.unlinkPanels&&P.value*12+R.value-(A.value*12+O.value+1)>=12),Ae=$(()=>!(v.value&&p.value&&!m.value.selecting&&QM([v.value,p.value]))),Ve=$(()=>r.type==="datetime"||r.type==="datetimerange"),Ie=(Be,pe)=>{if(Be)return s?xr(s[pe]||s).locale(f.value).year(Be.year()).month(Be.month()).date(Be.date()):Be},De=(Be,pe=!0)=>{const Re=Be.minDate,ft=Be.maxDate,Ee=Ie(Re,0),wt=Ie(ft,1);p.value===wt&&v.value===Ee||(t("calendar-change",[Re.toDate(),ft&&ft.toDate()]),p.value=wt,v.value=Ee,!(!pe||Ve.value)&&w())},Ge=W(!1),Qe=W(!1),ke=()=>{Ge.value=!1},q=()=>{Qe.value=!1},j=(Be,pe)=>{C.value[pe]=Be;const Re=xr(Be,U.value).locale(f.value);if(Re.isValid()){if(a&&a(Re.toDate()))return;pe==="min"?(d.value=Re,v.value=(v.value||d.value).year(Re.year()).month(Re.month()).date(Re.date()),!r.unlinkPanels&&(!p.value||p.value.isBefore(v.value))&&(h.value=Re.add(1,"month"),p.value=v.value.add(1,"month"))):(h.value=Re,p.value=(p.value||h.value).year(Re.year()).month(Re.month()).date(Re.date()),!r.unlinkPanels&&(!v.value||v.value.isAfter(p.value))&&(d.value=Re.subtract(1,"month"),v.value=p.value.subtract(1,"month")))}},Ce=(Be,pe)=>{C.value[pe]=null},fe=(Be,pe)=>{T.value[pe]=Be;const Re=xr(Be,z.value).locale(f.value);Re.isValid()&&(pe==="min"?(Ge.value=!0,v.value=(v.value||d.value).hour(Re.hour()).minute(Re.minute()).second(Re.second()),(!p.value||p.value.isBefore(v.value))&&(p.value=v.value)):(Qe.value=!0,p.value=(p.value||h.value).hour(Re.hour()).minute(Re.minute()).second(Re.second()),h.value=p.value,p.value&&p.value.isBefore(v.value)&&(v.value=p.value)))},ge=(Be,pe)=>{T.value[pe]=null,pe==="min"?(d.value=v.value,Ge.value=!1):(h.value=p.value,Qe.value=!1)},Ue=(Be,pe,Re)=>{T.value.min||(Be&&(d.value=Be,v.value=(v.value||d.value).hour(Be.hour()).minute(Be.minute()).second(Be.second())),Re||(Ge.value=pe),(!p.value||p.value.isBefore(v.value))&&(p.value=v.value,h.value=Be))},tt=(Be,pe,Re)=>{T.value.max||(Be&&(h.value=Be,p.value=(p.value||h.value).hour(Be.hour()).minute(Be.minute()).second(Be.second())),Re||(Qe.value=pe),p.value&&p.value.isBefore(v.value)&&(v.value=p.value))},ot=()=>{d.value=GK(E(c),{lang:E(f),unit:"month",unlinkPanels:r.unlinkPanels})[0],h.value=d.value.add(1,"month"),p.value=void 0,v.value=void 0,t("pick",null)},Ye=Be=>_t(Be)?Be.map(pe=>pe.format(o)):Be.format(o),we=Be=>_t(Be)?Be.map(pe=>xr(pe,o).locale(f.value)):xr(Be,o).locale(f.value);function qe(Be,pe){if(r.unlinkPanels&&pe){const Re=(Be==null?void 0:Be.year())||0,ft=(Be==null?void 0:Be.month())||0,Ee=pe.year(),wt=pe.month();h.value=Re===Ee&&ft===wt?pe.add(1,v1):pe}else h.value=d.value.add(1,v1),pe&&(h.value=h.value.hour(pe.hour()).minute(pe.minute()).second(pe.second()))}return t("set-picker-option",["isValidValue",H]),t("set-picker-option",["parseUserInput",we]),t("set-picker-option",["formatToString",Ye]),t("set-picker-option",["handleClear",ot]),(Be,pe)=>(F(),K("div",{class:G([E(g).b(),E(b).b(),{"has-sidebar":Be.$slots.sidebar||E(N),"has-time":E(Ve)}])},[Z("div",{class:G(E(g).e("body-wrapper"))},[Pe(Be.$slots,"sidebar",{class:G(E(g).e("sidebar"))}),E(N)?(F(),K("div",{key:0,class:G(E(g).e("sidebar"))},[(F(!0),K(zt,null,zr(E(u),(Re,ft)=>(F(),K("button",{key:ft,type:"button",class:G(E(g).e("shortcut")),onClick:Ee=>E(_)(Re)},ct(Re.text),11,GYe))),128))],2)):be("v-if",!0),Z("div",{class:G(E(g).e("body"))},[E(Ve)?(F(),K("div",{key:0,class:G(E(b).e("time-header"))},[Z("span",{class:G(E(b).e("editors-wrap"))},[Z("span",{class:G(E(b).e("time-picker-wrap"))},[ae(E(Mi),{size:"small",disabled:E(m).selecting,placeholder:E(S)("el.datepicker.startDate"),class:G(E(b).e("editor")),"model-value":E(L),"validate-event":!1,onInput:pe[0]||(pe[0]=Re=>j(Re,"min")),onChange:pe[1]||(pe[1]=Re=>Ce(Re,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),cr((F(),K("span",{class:G(E(b).e("time-picker-wrap"))},[ae(E(Mi),{size:"small",class:G(E(b).e("editor")),disabled:E(m).selecting,placeholder:E(S)("el.datepicker.startTime"),"model-value":E(I),"validate-event":!1,onFocus:pe[2]||(pe[2]=Re=>Ge.value=!0),onInput:pe[3]||(pe[3]=Re=>fe(Re,"min")),onChange:pe[4]||(pe[4]=Re=>ge(Re,"min"))},null,8,["class","disabled","placeholder","model-value"]),ae(E(Ow),{visible:Ge.value,format:E(z),"datetime-role":"start","parsed-value":d.value,onPick:Ue},null,8,["visible","format","parsed-value"])],2)),[[E(wu),ke]])],2),Z("span",null,[ae(E($t),null,{default:he(()=>[ae(E(Fi))]),_:1})]),Z("span",{class:G([E(b).e("editors-wrap"),"is-right"])},[Z("span",{class:G(E(b).e("time-picker-wrap"))},[ae(E(Mi),{size:"small",class:G(E(b).e("editor")),disabled:E(m).selecting,placeholder:E(S)("el.datepicker.endDate"),"model-value":E(B),readonly:!E(v),"validate-event":!1,onInput:pe[5]||(pe[5]=Re=>j(Re,"max")),onChange:pe[6]||(pe[6]=Re=>Ce(Re,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),cr((F(),K("span",{class:G(E(b).e("time-picker-wrap"))},[ae(E(Mi),{size:"small",class:G(E(b).e("editor")),disabled:E(m).selecting,placeholder:E(S)("el.datepicker.endTime"),"model-value":E(D),readonly:!E(v),"validate-event":!1,onFocus:pe[7]||(pe[7]=Re=>E(v)&&(Qe.value=!0)),onInput:pe[8]||(pe[8]=Re=>fe(Re,"max")),onChange:pe[9]||(pe[9]=Re=>ge(Re,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),ae(E(Ow),{"datetime-role":"end",visible:Qe.value,format:E(z),"parsed-value":h.value,onPick:tt},null,8,["visible","format","parsed-value"])],2)),[[E(wu),q]])],2)],2)):be("v-if",!0),Z("div",{class:G([[E(g).e("content"),E(b).e("content")],"is-left"])},[Z("div",{class:G(E(b).e("header"))},[Z("button",{type:"button",class:G([E(g).e("icon-btn"),"d-arrow-left"]),"aria-label":E(S)("el.datepicker.prevYear"),onClick:Y},[ae(E($t),null,{default:he(()=>[ae(E(pv))]),_:1})],10,jYe),Z("button",{type:"button",class:G([E(g).e("icon-btn"),"arrow-left"]),"aria-label":E(S)("el.datepicker.prevMonth"),onClick:ie},[ae(E($t),null,{default:he(()=>[ae(E(Dc))]),_:1})],10,VYe),Be.unlinkPanels?(F(),K("button",{key:0,type:"button",disabled:!E(le),class:G([[E(g).e("icon-btn"),{"is-disabled":!E(le)}],"d-arrow-right"]),"aria-label":E(S)("el.datepicker.nextYear"),onClick:oe},[ae(E($t),null,{default:he(()=>[ae(E(gv))]),_:1})],10,UYe)):be("v-if",!0),Be.unlinkPanels?(F(),K("button",{key:1,type:"button",disabled:!E(te),class:G([[E(g).e("icon-btn"),{"is-disabled":!E(te)}],"arrow-right"]),"aria-label":E(S)("el.datepicker.nextMonth"),onClick:Ne},[ae(E($t),null,{default:he(()=>[ae(E(Fi))]),_:1})],10,WYe)):be("v-if",!0),Z("div",null,ct(E(M)),1)],2),ae(eT,{"selection-mode":"range",date:d.value,"min-date":E(v),"max-date":E(p),"range-state":E(m),"disabled-date":E(a),"cell-class-name":E(i),onChangerange:E(y),onPick:De,onSelect:E(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:G([[E(g).e("content"),E(b).e("content")],"is-right"])},[Z("div",{class:G(E(b).e("header"))},[Be.unlinkPanels?(F(),K("button",{key:0,type:"button",disabled:!E(le),class:G([[E(g).e("icon-btn"),{"is-disabled":!E(le)}],"d-arrow-left"]),"aria-label":E(S)("el.datepicker.prevYear"),onClick:me},[ae(E($t),null,{default:he(()=>[ae(E(pv))]),_:1})],10,HYe)):be("v-if",!0),Be.unlinkPanels?(F(),K("button",{key:1,type:"button",disabled:!E(te),class:G([[E(g).e("icon-btn"),{"is-disabled":!E(te)}],"arrow-left"]),"aria-label":E(S)("el.datepicker.prevMonth"),onClick:xe},[ae(E($t),null,{default:he(()=>[ae(E(Dc))]),_:1})],10,YYe)):be("v-if",!0),Z("button",{type:"button","aria-label":E(S)("el.datepicker.nextYear"),class:G([E(g).e("icon-btn"),"d-arrow-right"]),onClick:X},[ae(E($t),null,{default:he(()=>[ae(E(gv))]),_:1})],10,KYe),Z("button",{type:"button",class:G([E(g).e("icon-btn"),"arrow-right"]),"aria-label":E(S)("el.datepicker.nextMonth"),onClick:re},[ae(E($t),null,{default:he(()=>[ae(E(Fi))]),_:1})],10,XYe),Z("div",null,ct(E(k)),1)],2),ae(eT,{"selection-mode":"range",date:h.value,"min-date":E(v),"max-date":E(p),"range-state":E(m),"disabled-date":E(a),"cell-class-name":E(i),onChangerange:E(y),onPick:De,onSelect:E(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),E(Ve)?(F(),K("div",{key:0,class:G(E(g).e("footer"))},[E(l)?(F(),Oe(E(Wa),{key:0,text:"",size:"small",class:G(E(g).e("link-btn")),onClick:ot},{default:he(()=>[qr(ct(E(S)("el.datepicker.clear")),1)]),_:1},8,["class"])):be("v-if",!0),ae(E(Wa),{plain:"",size:"small",class:G(E(g).e("link-btn")),disabled:E(Ae),onClick:pe[10]||(pe[10]=Re=>E(w)(!1))},{default:he(()=>[qr(ct(E(S)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):be("v-if",!0)],2))}});var ZYe=ut(qYe,[["__file","panel-date-range.vue"]]);const QYe=it({...zK}),JYe=["pick","set-picker-option","calendar-change"],eKe=({unlinkPanels:e,leftDate:t,rightDate:r})=>{const{t:n}=Zr(),a=()=>{t.value=t.value.subtract(1,"year"),e.value||(r.value=r.value.subtract(1,"year"))},i=()=>{e.value||(t.value=t.value.add(1,"year")),r.value=r.value.add(1,"year")},o=()=>{t.value=t.value.add(1,"year")},s=()=>{r.value=r.value.subtract(1,"year")},l=$(()=>`${t.value.year()} ${n("el.datepicker.year")}`),u=$(()=>`${r.value.year()} ${n("el.datepicker.year")}`),c=$(()=>t.value.year()),f=$(()=>r.value.year()===t.value.year()?t.value.year()+1:r.value.year());return{leftPrevYear:a,rightNextYear:i,leftNextYear:o,rightPrevYear:s,leftLabel:l,rightLabel:u,leftYear:c,rightYear:f}},tKe=["onClick"],rKe=["disabled"],nKe=["disabled"],p1="year",aKe=J({name:"DatePickerMonthRange"}),iKe=J({...aKe,props:QYe,emits:JYe,setup(e,{emit:t}){const r=e,{lang:n}=Zr(),a=At("EP_PICKER_BASE"),{shortcuts:i,disabledDate:o,format:s}=a.props,l=kn(a.props,"defaultValue"),u=W(xr().locale(n.value)),c=W(xr().locale(n.value).add(1,p1)),{minDate:f,maxDate:d,rangeState:h,ppNs:v,drpNs:p,handleChangeRange:m,handleRangeConfirm:g,handleShortcutClick:b,onSelect:y}=jK(r,{defaultValue:l,leftDate:u,rightDate:c,unit:p1,onParsedValueChanged:N}),w=$(()=>!!i.length),{leftPrevYear:_,rightNextYear:x,leftNextYear:S,rightPrevYear:C,leftLabel:T,rightLabel:M,leftYear:k,rightYear:A}=eKe({unlinkPanels:kn(r,"unlinkPanels"),leftDate:u,rightDate:c}),O=$(()=>r.unlinkPanels&&A.value>k.value+1),P=(L,B=!0)=>{const I=L.minDate,D=L.maxDate;d.value===D&&f.value===I||(t("calendar-change",[I.toDate(),D&&D.toDate()]),d.value=D,f.value=I,B&&g())},R=L=>L.map(B=>B.format(s));function N(L,B){if(r.unlinkPanels&&B){const I=(L==null?void 0:L.year())||0,D=B.year();c.value=I===D?B.add(1,p1):B}else c.value=u.value.add(1,p1)}return t("set-picker-option",["formatToString",R]),(L,B)=>(F(),K("div",{class:G([E(v).b(),E(p).b(),{"has-sidebar":!!L.$slots.sidebar||E(w)}])},[Z("div",{class:G(E(v).e("body-wrapper"))},[Pe(L.$slots,"sidebar",{class:G(E(v).e("sidebar"))}),E(w)?(F(),K("div",{key:0,class:G(E(v).e("sidebar"))},[(F(!0),K(zt,null,zr(E(i),(I,D)=>(F(),K("button",{key:D,type:"button",class:G(E(v).e("shortcut")),onClick:z=>E(b)(I)},ct(I.text),11,tKe))),128))],2)):be("v-if",!0),Z("div",{class:G(E(v).e("body"))},[Z("div",{class:G([[E(v).e("content"),E(p).e("content")],"is-left"])},[Z("div",{class:G(E(p).e("header"))},[Z("button",{type:"button",class:G([E(v).e("icon-btn"),"d-arrow-left"]),onClick:B[0]||(B[0]=(...I)=>E(_)&&E(_)(...I))},[ae(E($t),null,{default:he(()=>[ae(E(pv))]),_:1})],2),L.unlinkPanels?(F(),K("button",{key:0,type:"button",disabled:!E(O),class:G([[E(v).e("icon-btn"),{[E(v).is("disabled")]:!E(O)}],"d-arrow-right"]),onClick:B[1]||(B[1]=(...I)=>E(S)&&E(S)(...I))},[ae(E($t),null,{default:he(()=>[ae(E(gv))]),_:1})],10,rKe)):be("v-if",!0),Z("div",null,ct(E(T)),1)],2),ae(tT,{"selection-mode":"range",date:u.value,"min-date":E(f),"max-date":E(d),"range-state":E(h),"disabled-date":E(o),onChangerange:E(m),onPick:P,onSelect:E(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Z("div",{class:G([[E(v).e("content"),E(p).e("content")],"is-right"])},[Z("div",{class:G(E(p).e("header"))},[L.unlinkPanels?(F(),K("button",{key:0,type:"button",disabled:!E(O),class:G([[E(v).e("icon-btn"),{"is-disabled":!E(O)}],"d-arrow-left"]),onClick:B[2]||(B[2]=(...I)=>E(C)&&E(C)(...I))},[ae(E($t),null,{default:he(()=>[ae(E(pv))]),_:1})],10,nKe)):be("v-if",!0),Z("button",{type:"button",class:G([E(v).e("icon-btn"),"d-arrow-right"]),onClick:B[3]||(B[3]=(...I)=>E(x)&&E(x)(...I))},[ae(E($t),null,{default:he(()=>[ae(E(gv))]),_:1})],2),Z("div",null,ct(E(M)),1)],2),ae(tT,{"selection-mode":"range",date:c.value,"min-date":E(f),"max-date":E(d),"range-state":E(h),"disabled-date":E(o),onChangerange:E(m),onPick:P,onSelect:E(y)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var oKe=ut(iKe,[["__file","panel-month-range.vue"]]);const sKe=function(e){switch(e){case"daterange":case"datetimerange":return ZYe;case"monthrange":return oKe;default:return BYe}};xr.extend(sK);xr.extend(WHe);xr.extend(hO);xr.extend(YHe);xr.extend(XHe);xr.extend(ZHe);xr.extend(JHe);xr.extend(tYe);var lKe=J({name:"ElDatePicker",install:null,props:rYe,emits:["update:modelValue"],setup(e,{expose:t,emit:r,slots:n}){const a=Ze("picker-panel");$r("ElPopperOptions",cn(kn(e,"popperOptions"))),$r(gO,{slots:n,pickerNs:a});const i=W();t({focus:(l=!0)=>{var u;(u=i.value)==null||u.focus(l)},handleOpen:()=>{var l;(l=i.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=i.value)==null||l.handleClose()}});const s=l=>{r("update:modelValue",l)};return()=>{var l;const u=(l=e.format)!=null?l:R9e[e.type]||yh,c=sKe(e.type);return ae(KY,Dr(e,{format:u,type:e.type,ref:i,"onUpdate:modelValue":s}),{default:f=>ae(c,f,null),"range-separator":n["range-separator"]})}}});const sb=lKe;sb.install=e=>{e.component(sb.name,sb)};const uKe=sb,bO=Symbol("elDescriptions");var Ip=J({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:At(bO,{})}},render(){var e,t,r,n,a,i,o;const s=IFe(this.cell),l=(((e=this.cell)==null?void 0:e.dirs)||[]).map(_=>{const{dir:x,arg:S,modifiers:C,value:T}=_;return[x,T,S,C]}),{border:u,direction:c}=this.descriptions,f=c==="vertical",d=((n=(r=(t=this.cell)==null?void 0:t.children)==null?void 0:r.label)==null?void 0:n.call(r))||s.label,h=(o=(i=(a=this.cell)==null?void 0:a.children)==null?void 0:i.default)==null?void 0:o.call(i),v=s.span,p=s.align?`is-${s.align}`:"",m=s.labelAlign?`is-${s.labelAlign}`:p,g=s.className,b=s.labelClassName,y={width:Xn(s.width),minWidth:Xn(s.minWidth)},w=Ze("descriptions");switch(this.type){case"label":return cr(Yt(this.tag,{style:y,class:[w.e("cell"),w.e("label"),w.is("bordered-label",u),w.is("vertical-label",f),m,b],colSpan:f?v:1},d),l);case"content":return cr(Yt(this.tag,{style:y,class:[w.e("cell"),w.e("content"),w.is("bordered-content",u),w.is("vertical-content",f),p,g],colSpan:f?v:v*2-1},h),l);default:return cr(Yt("td",{style:y,class:[w.e("cell"),p],colSpan:v},[Ua(d)?void 0:Yt("span",{class:[w.e("label"),b]},d),Yt("span",{class:[w.e("content"),g]},h)]),l)}}});const cKe=it({row:{type:ve(Array),default:()=>[]}}),fKe={key:1},dKe=J({name:"ElDescriptionsRow"}),hKe=J({...dKe,props:cKe,setup(e){const t=At(bO,{});return(r,n)=>E(t).direction==="vertical"?(F(),K(zt,{key:0},[Z("tr",null,[(F(!0),K(zt,null,zr(r.row,(a,i)=>(F(),Oe(E(Ip),{key:`tr1-${i}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),Z("tr",null,[(F(!0),K(zt,null,zr(r.row,(a,i)=>(F(),Oe(E(Ip),{key:`tr2-${i}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(F(),K("tr",fKe,[(F(!0),K(zt,null,zr(r.row,(a,i)=>(F(),K(zt,{key:`tr3-${i}`},[E(t).border?(F(),K(zt,{key:0},[ae(E(Ip),{cell:a,tag:"td",type:"label"},null,8,["cell"]),ae(E(Ip),{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(F(),Oe(E(Ip),{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var vKe=ut(hKe,[["__file","descriptions-row.vue"]]);const pKe=it({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Da,title:{type:String,default:""},extra:{type:String,default:""}}),gKe=J({name:"ElDescriptions"}),mKe=J({...gKe,props:pKe,setup(e){const t=e,r=Ze("descriptions"),n=ba(),a=Ya();$r(bO,t);const i=$(()=>[r.b(),r.m(n.value)]),o=(l,u,c,f=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),f&&(l.props.span=u),l),s=()=>{if(!a.default)return[];const l=Ec(a.default()).filter(h=>{var v;return((v=h==null?void 0:h.type)==null?void 0:v.name)==="ElDescriptionsItem"}),u=[];let c=[],f=t.column,d=0;return l.forEach((h,v)=>{var p;const m=((p=h.props)==null?void 0:p.span)||1;if(v<l.length-1&&(d+=m>f?f:m),v===l.length-1){const g=t.column-d%t.column;c.push(o(h,g,f,!0)),u.push(c);return}m<f?(f-=m,c.push(h)):(c.push(o(h,m,f)),u.push(c),f=t.column,c=[])}),u};return(l,u)=>(F(),K("div",{class:G(E(i))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(F(),K("div",{key:0,class:G(E(r).e("header"))},[Z("div",{class:G(E(r).e("title"))},[Pe(l.$slots,"title",{},()=>[qr(ct(l.title),1)])],2),Z("div",{class:G(E(r).e("extra"))},[Pe(l.$slots,"extra",{},()=>[qr(ct(l.extra),1)])],2)],2)):be("v-if",!0),Z("div",{class:G(E(r).e("body"))},[Z("table",{class:G([E(r).e("table"),E(r).is("bordered",l.border)])},[Z("tbody",null,[(F(!0),K(zt,null,zr(s(),(c,f)=>(F(),Oe(vKe,{key:f,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var yKe=ut(mKe,[["__file","description.vue"]]);const bKe=it({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),VK=J({name:"ElDescriptionsItem",props:bKe}),wKe=_r(yKe,{DescriptionsItem:VK}),EKe=jn(VK),_Ke=it({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ve([String,Array,Object])},zIndex:{type:ve([String,Number])}}),xKe={click:e=>e instanceof MouseEvent},SKe="overlay";var CKe=J({name:"ElOverlay",props:_Ke,emits:xKe,setup(e,{slots:t,emit:r}){const n=Ze(SKe),a=l=>{r("click",l)},{onClick:i,onMousedown:o,onMouseup:s}=QI(e.customMaskEvent?void 0:a);return()=>e.mask?ae("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:o,onMouseup:s},[Pe(t,"default")],qo.STYLE|qo.CLASS|qo.PROPS,["onClick","onMouseup","onMousedown"]):Yt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Pe(t,"default")])}});const wO=CKe,UK=Symbol("dialogInjectionKey"),WK=it({center:Boolean,alignCenter:Boolean,closeIcon:{type:Cn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),MKe={close:()=>!0},TKe=["aria-level"],kKe=["aria-label"],AKe=["id"],IKe=J({name:"ElDialogContent"}),OKe=J({...IKe,props:WK,emits:MKe,setup(e){const t=e,{t:r}=Zr(),{Close:n}=$I,{dialogRef:a,headerRef:i,bodyId:o,ns:s,style:l}=At(UK),{focusTrapRef:u}=At(cO),c=$(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center}]),f=u2(u,a),d=$(()=>t.draggable),h=$(()=>t.overflow);return BH(a,i,d,h),(v,p)=>(F(),K("div",{ref:E(f),class:G(E(c)),style:Bt(E(l)),tabindex:"-1"},[Z("header",{ref_key:"headerRef",ref:i,class:G([E(s).e("header"),{"show-close":v.showClose}])},[Pe(v.$slots,"header",{},()=>[Z("span",{role:"heading","aria-level":v.ariaLevel,class:G(E(s).e("title"))},ct(v.title),11,TKe)]),v.showClose?(F(),K("button",{key:0,"aria-label":E(r)("el.dialog.close"),class:G(E(s).e("headerbtn")),type:"button",onClick:p[0]||(p[0]=m=>v.$emit("close"))},[ae(E($t),{class:G(E(s).e("close"))},{default:he(()=>[(F(),Oe(kr(v.closeIcon||E(n))))]),_:1},8,["class"])],10,kKe)):be("v-if",!0)],2),Z("div",{id:E(o),class:G(E(s).e("body"))},[Pe(v.$slots,"default")],10,AKe),v.$slots.footer?(F(),K("footer",{key:0,class:G(E(s).e("footer"))},[Pe(v.$slots,"footer")],2)):be("v-if",!0)],6))}});var LKe=ut(OKe,[["__file","dialog-content.vue"]]);const HK=it({...WK,appendToBody:Boolean,appendTo:{type:ve(String),default:"body"},beforeClose:{type:ve(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),YK={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Mr]:e=>fa(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},KK=(e,t)=>{var r;const a=Er().emit,{nextZIndex:i}=Gv();let o="";const s=bi(),l=bi(),u=W(!1),c=W(!1),f=W(!1),d=W((r=e.zIndex)!=null?r:i());let h,v;const p=hm("namespace",mg),m=$(()=>{const R={},N=`--${p.value}-dialog`;return e.fullscreen||(e.top&&(R[`${N}-margin-top`]=e.top),e.width&&(R[`${N}-width`]=Xn(e.width))),R}),g=$(()=>e.alignCenter?{display:"flex"}:{});function b(){a("opened")}function y(){a("closed"),a(Mr,!1),e.destroyOnClose&&(f.value=!1)}function w(){a("close")}function _(){v==null||v(),h==null||h(),e.openDelay&&e.openDelay>0?{stop:h}=cd(()=>T(),e.openDelay):T()}function x(){h==null||h(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=cd(()=>M(),e.closeDelay):M()}function S(){function R(N){N||(c.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(R):x()}function C(){e.closeOnClickModal&&S()}function T(){Ur&&(u.value=!0)}function M(){u.value=!1}function k(){a("openAutoFocus")}function A(){a("closeAutoFocus")}function O(R){var N;((N=R.detail)==null?void 0:N.focusReason)==="pointer"&&R.preventDefault()}e.lockScroll&&VI(u);function P(){e.closeOnPressEscape&&S()}return He(()=>e.modelValue,R=>{R?(c.value=!1,_(),f.value=!0,d.value=CH(e.zIndex)?i():d.value++,Ut(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):u.value&&x()}),He(()=>e.fullscreen,R=>{t.value&&(R?(o=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=o)}),vr(()=>{e.modelValue&&(u.value=!0,f.value=!0,_())}),{afterEnter:b,afterLeave:y,beforeLeave:w,handleClose:S,onModalClick:C,close:x,doClose:M,onOpenAutoFocus:k,onCloseAutoFocus:A,onCloseRequested:P,onFocusoutPrevented:O,titleId:s,bodyId:l,closed:c,style:m,overlayDialogStyle:g,rendered:f,visible:u,zIndex:d}},NKe=["aria-label","aria-labelledby","aria-describedby"],PKe=J({name:"ElDialog",inheritAttrs:!1}),DKe=J({...PKe,props:HK,emits:YK,setup(e,{expose:t}){const r=e,n=Ya();du({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!n.title));const a=Ze("dialog"),i=W(),o=W(),s=W(),{visible:l,titleId:u,bodyId:c,style:f,overlayDialogStyle:d,rendered:h,zIndex:v,afterEnter:p,afterLeave:m,beforeLeave:g,handleClose:b,onModalClick:y,onOpenAutoFocus:w,onCloseAutoFocus:_,onCloseRequested:x,onFocusoutPrevented:S}=KK(r,i);$r(UK,{dialogRef:i,headerRef:o,bodyId:c,ns:a,rendered:h,style:f});const C=QI(y),T=$(()=>r.draggable&&!r.fullscreen);return t({visible:l,dialogContentRef:s}),(M,k)=>(F(),Oe(Av,{to:M.appendTo,disabled:M.appendTo!=="body"?!1:!M.appendToBody},[ae(Ma,{name:"dialog-fade",onAfterEnter:E(p),onAfterLeave:E(m),onBeforeLeave:E(g),persisted:""},{default:he(()=>[cr(ae(E(wO),{"custom-mask-event":"",mask:M.modal,"overlay-class":M.modalClass,"z-index":E(v)},{default:he(()=>[Z("div",{role:"dialog","aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:E(u),"aria-describedby":E(c),class:G(`${E(a).namespace.value}-overlay-dialog`),style:Bt(E(d)),onClick:k[0]||(k[0]=(...A)=>E(C).onClick&&E(C).onClick(...A)),onMousedown:k[1]||(k[1]=(...A)=>E(C).onMousedown&&E(C).onMousedown(...A)),onMouseup:k[2]||(k[2]=(...A)=>E(C).onMouseup&&E(C).onMouseup(...A))},[ae(E(pm),{loop:"",trapped:E(l),"focus-start-el":"container",onFocusAfterTrapped:E(w),onFocusAfterReleased:E(_),onFocusoutPrevented:E(S),onReleaseRequested:E(x)},{default:he(()=>[E(h)?(F(),Oe(LKe,Dr({key:0,ref_key:"dialogContentRef",ref:s},M.$attrs,{center:M.center,"align-center":M.alignCenter,"close-icon":M.closeIcon,draggable:E(T),overflow:M.overflow,fullscreen:M.fullscreen,"show-close":M.showClose,title:M.title,"aria-level":M.headerAriaLevel,onClose:E(b)}),vu({header:he(()=>[M.$slots.title?Pe(M.$slots,"title",{key:1}):Pe(M.$slots,"header",{key:0,close:E(b),titleId:E(u),titleClass:E(a).e("title")})]),default:he(()=>[Pe(M.$slots,"default")]),_:2},[M.$slots.footer?{name:"footer",fn:he(()=>[Pe(M.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):be("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,NKe)]),_:3},8,["mask","overlay-class","z-index"]),[[nn,E(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var RKe=ut(DKe,[["__file","dialog.vue"]]);const $Ke=_r(RKe),BKe=it({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ve(String),default:"solid"}}),FKe=J({name:"ElDivider"}),zKe=J({...FKe,props:BKe,setup(e){const t=e,r=Ze("divider"),n=$(()=>r.cssVar({"border-style":t.borderStyle}));return(a,i)=>(F(),K("div",{class:G([E(r).b(),E(r).m(a.direction)]),style:Bt(E(n)),role:"separator"},[a.$slots.default&&a.direction!=="vertical"?(F(),K("div",{key:0,class:G([E(r).e("text"),E(r).is(a.contentPosition)])},[Pe(a.$slots,"default")],2)):be("v-if",!0)],6))}});var GKe=ut(zKe,[["__file","divider.vue"]]);const XK=_r(GKe),jKe=it({...HK,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),VKe=YK,UKe=["aria-label","aria-labelledby","aria-describedby"],WKe=["id","aria-level"],HKe=["aria-label"],YKe=["id"],KKe=J({name:"ElDrawer",inheritAttrs:!1}),XKe=J({...KKe,props:jKe,emits:VKe,setup(e,{expose:t}){const r=e,n=Ya();du({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},$(()=>!!n.title));const a=W(),i=W(),o=Ze("drawer"),{t:s}=Zr(),{afterEnter:l,afterLeave:u,beforeLeave:c,visible:f,rendered:d,titleId:h,bodyId:v,zIndex:p,onModalClick:m,onOpenAutoFocus:g,onCloseAutoFocus:b,onFocusoutPrevented:y,onCloseRequested:w,handleClose:_}=KK(r,a),x=$(()=>r.direction==="rtl"||r.direction==="ltr"),S=$(()=>Xn(r.size));return t({handleClose:_,afterEnter:l,afterLeave:u}),(C,T)=>(F(),Oe(Av,{to:"body",disabled:!C.appendToBody},[ae(Ma,{name:E(o).b("fade"),onAfterEnter:E(l),onAfterLeave:E(u),onBeforeLeave:E(c),persisted:""},{default:he(()=>[cr(ae(E(wO),{mask:C.modal,"overlay-class":C.modalClass,"z-index":E(p),onClick:E(m)},{default:he(()=>[ae(E(pm),{loop:"",trapped:E(f),"focus-trap-el":a.value,"focus-start-el":i.value,onFocusAfterTrapped:E(g),onFocusAfterReleased:E(b),onFocusoutPrevented:E(y),onReleaseRequested:E(w)},{default:he(()=>[Z("div",Dr({ref_key:"drawerRef",ref:a,"aria-modal":"true","aria-label":C.title||void 0,"aria-labelledby":C.title?void 0:E(h),"aria-describedby":E(v)},C.$attrs,{class:[E(o).b(),C.direction,E(f)&&"open"],style:E(x)?"width: "+E(S):"height: "+E(S),role:"dialog",onClick:T[1]||(T[1]=tr(()=>{},["stop"]))}),[Z("span",{ref_key:"focusStartRef",ref:i,class:G(E(o).e("sr-focus")),tabindex:"-1"},null,2),C.withHeader?(F(),K("header",{key:0,class:G(E(o).e("header"))},[C.$slots.title?Pe(C.$slots,"title",{key:1},()=>[be(" DEPRECATED SLOT ")]):Pe(C.$slots,"header",{key:0,close:E(_),titleId:E(h),titleClass:E(o).e("title")},()=>[C.$slots.title?be("v-if",!0):(F(),K("span",{key:0,id:E(h),role:"heading","aria-level":C.headerAriaLevel,class:G(E(o).e("title"))},ct(C.title),11,WKe))]),C.showClose?(F(),K("button",{key:2,"aria-label":E(s)("el.drawer.close"),class:G(E(o).e("close-btn")),type:"button",onClick:T[0]||(T[0]=(...M)=>E(_)&&E(_)(...M))},[ae(E($t),{class:G(E(o).e("close"))},{default:he(()=>[ae(E($s))]),_:1},8,["class"])],10,HKe)):be("v-if",!0)],2)):be("v-if",!0),E(d)?(F(),K("div",{key:1,id:E(v),class:G(E(o).e("body"))},[Pe(C.$slots,"default")],10,YKe)):be("v-if",!0),C.$slots.footer?(F(),K("div",{key:2,class:G(E(o).e("footer"))},[Pe(C.$slots,"footer")],2)):be("v-if",!0)],16,UKe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[nn,E(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var qKe=ut(XKe,[["__file","drawer.vue"]]);const ZKe=_r(qKe),QKe=J({inheritAttrs:!1});function JKe(e,t,r,n,a,i){return Pe(e.$slots,"default")}var eXe=ut(QKe,[["render",JKe],["__file","collection.vue"]]);const tXe=J({name:"ElCollectionItem",inheritAttrs:!1});function rXe(e,t,r,n,a,i){return Pe(e.$slots,"default")}var nXe=ut(tXe,[["render",rXe],["__file","collection-item.vue"]]);const qK="data-el-collection-item",ZK=e=>{const t=`El${e}Collection`,r=`${t}Item`,n=Symbol(t),a=Symbol(r),i={...eXe,name:t,setup(){const s=W(null),l=new Map;$r(n,{itemMap:l,getItems:()=>{const c=E(s);if(!c)return[];const f=Array.from(c.querySelectorAll(`[${qK}]`));return[...l.values()].sort((h,v)=>f.indexOf(h.ref)-f.indexOf(v.ref))},collectionRef:s})}},o={...nXe,name:r,setup(s,{attrs:l}){const u=W(null),c=At(n,void 0);$r(a,{collectionItemRef:u}),vr(()=>{const f=E(u);f&&c.itemMap.set(f,{ref:f,...l})}),On(()=>{const f=E(u);c.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:i,ElCollectionItem:o}},aXe=it({style:{type:ve([String,Array,Object])},currentTabId:{type:ve(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ve(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:iXe,ElCollectionItem:oXe,COLLECTION_INJECTION_KEY:EO,COLLECTION_ITEM_INJECTION_KEY:sXe}=ZK("RovingFocusGroup"),_O=Symbol("elRovingFocusGroup"),QK=Symbol("elRovingFocusGroupItem"),lXe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},uXe=(e,t)=>e,cXe=(e,t,r)=>{const n=uXe(e.key);return lXe[n]},fXe=(e,t)=>e.map((r,n)=>e[(n+t)%e.length]),xO=e=>{const{activeElement:t}=document;for(const r of e)if(r===t||(r.focus(),t!==document.activeElement))return},o6="currentTabIdChange",s6="rovingFocusGroup.entryFocus",dXe={bubbles:!1,cancelable:!0},hXe=J({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:aXe,emits:[o6,"entryFocus"],setup(e,{emit:t}){var r;const n=W((r=e.currentTabId||e.defaultCurrentTabId)!=null?r:null),a=W(!1),i=W(!1),o=W(null),{getItems:s}=At(EO,void 0),l=$(()=>[{outline:"none"},e.style]),u=p=>{t(o6,p)},c=()=>{a.value=!0},f=Yn(p=>{var m;(m=e.onMousedown)==null||m.call(e,p)},()=>{i.value=!0}),d=Yn(p=>{var m;(m=e.onFocus)==null||m.call(e,p)},p=>{const m=!E(i),{target:g,currentTarget:b}=p;if(g===b&&m&&!E(a)){const y=new Event(s6,dXe);if(b==null||b.dispatchEvent(y),!y.defaultPrevented){const w=s().filter(T=>T.focusable),_=w.find(T=>T.active),x=w.find(T=>T.id===E(n)),C=[_,x,...w].filter(Boolean).map(T=>T.ref);xO(C)}}i.value=!1}),h=Yn(p=>{var m;(m=e.onBlur)==null||m.call(e,p)},()=>{a.value=!1}),v=(...p)=>{t("entryFocus",...p)};$r(_O,{currentTabbedId:kv(n),loop:kn(e,"loop"),tabIndex:$(()=>E(a)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:kn(e,"orientation"),dir:kn(e,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:d,onMousedown:f}),He(()=>e.currentTabId,p=>{n.value=p??null}),Ln(o,s6,v)}});function vXe(e,t,r,n,a,i){return Pe(e.$slots,"default")}var pXe=ut(hXe,[["render",vXe],["__file","roving-focus-group-impl.vue"]]);const gXe=J({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:iXe,ElRovingFocusGroupImpl:pXe}});function mXe(e,t,r,n,a,i){const o=br("el-roving-focus-group-impl"),s=br("el-focus-group-collection");return F(),Oe(s,null,{default:he(()=>[ae(o,nu(Wh(e.$attrs)),{default:he(()=>[Pe(e.$slots,"default")]),_:3},16)]),_:3})}var yXe=ut(gXe,[["render",mXe],["__file","roving-focus-group.vue"]]);const bXe=J({components:{ElRovingFocusCollectionItem:oXe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:r,loop:n,onItemFocus:a,onItemShiftTab:i}=At(_O,void 0),{getItems:o}=At(EO,void 0),s=bi(),l=W(null),u=Yn(h=>{t("mousedown",h)},h=>{e.focusable?a(E(s)):h.preventDefault()}),c=Yn(h=>{t("focus",h)},()=>{a(E(s))}),f=Yn(h=>{t("keydown",h)},h=>{const{key:v,shiftKey:p,target:m,currentTarget:g}=h;if(v===Kt.tab&&p){i();return}if(m!==g)return;const b=cXe(h);if(b){h.preventDefault();let w=o().filter(_=>_.focusable).map(_=>_.ref);switch(b){case"last":{w.reverse();break}case"prev":case"next":{b==="prev"&&w.reverse();const _=w.indexOf(g);w=n.value?fXe(w,_+1):w.slice(_+1);break}}Ut(()=>{xO(w)})}}),d=$(()=>r.value===E(s));return $r(QK,{rovingFocusGroupItemRef:l,tabIndex:$(()=>E(d)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:f}),{id:s,handleKeydown:f,handleFocus:c,handleMousedown:u}}});function wXe(e,t,r,n,a,i){const o=br("el-roving-focus-collection-item");return F(),Oe(o,{id:e.id,focusable:e.focusable,active:e.active},{default:he(()=>[Pe(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var EXe=ut(bXe,[["render",wXe],["__file","roving-focus-item.vue"]]);const lb=it({trigger:c0.trigger,effect:{...ni.effect,default:"light"},type:{type:ve(String)},placement:{type:ve(String),default:"bottom"},popperOptions:{type:ve(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ve([Number,String]),default:0},maxHeight:{type:ve([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:ve(Object)},teleported:ni.teleported}),JK=it({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Cn}}),_Xe=it({onKeydown:{type:ve(Function)}}),xXe=[Kt.down,Kt.pageDown,Kt.home],eX=[Kt.up,Kt.pageUp,Kt.end],SXe=[...xXe,...eX],{ElCollection:CXe,ElCollectionItem:MXe,COLLECTION_INJECTION_KEY:TXe,COLLECTION_ITEM_INJECTION_KEY:kXe}=ZK("Dropdown"),E2=Symbol("elDropdown"),{ButtonGroup:AXe}=Wa,IXe=J({name:"ElDropdown",components:{ElButton:Wa,ElButtonGroup:AXe,ElScrollbar:Pu,ElDropdownCollection:CXe,ElTooltip:Ii,ElRovingFocusGroup:yXe,ElOnlyChild:MY,ElIcon:$t,ArrowDown:Lu},props:lb,emits:["visible-change","click","command"],setup(e,{emit:t}){const r=Er(),n=Ze("dropdown"),{t:a}=Zr(),i=W(),o=W(),s=W(null),l=W(null),u=W(null),c=W(null),f=W(!1),d=[Kt.enter,Kt.space,Kt.down],h=$(()=>({maxHeight:Xn(e.maxHeight)})),v=$(()=>[n.m(_.value)]),p=$(()=>dd(e.trigger)),m=bi().value,g=$(()=>e.id||m);He([i,p],([L,B],[I])=>{var D,z,U;(D=I==null?void 0:I.$el)!=null&&D.removeEventListener&&I.$el.removeEventListener("pointerenter",S),(z=L==null?void 0:L.$el)!=null&&z.removeEventListener&&L.$el.removeEventListener("pointerenter",S),(U=L==null?void 0:L.$el)!=null&&U.addEventListener&&B.includes("hover")&&L.$el.addEventListener("pointerenter",S)},{immediate:!0}),On(()=>{var L,B;(B=(L=i.value)==null?void 0:L.$el)!=null&&B.removeEventListener&&i.value.$el.removeEventListener("pointerenter",S)});function b(){y()}function y(){var L;(L=s.value)==null||L.onClose()}function w(){var L;(L=s.value)==null||L.onOpen()}const _=ba();function x(...L){t("command",...L)}function S(){var L,B;(B=(L=i.value)==null?void 0:L.$el)==null||B.focus()}function C(){}function T(){const L=E(l);p.value.includes("hover")&&(L==null||L.focus()),c.value=null}function M(L){c.value=L}function k(L){f.value||(L.preventDefault(),L.stopImmediatePropagation())}function A(){t("visible-change",!0)}function O(L){(L==null?void 0:L.type)==="keydown"&&l.value.focus()}function P(){t("visible-change",!1)}return $r(E2,{contentRef:l,role:$(()=>e.role),triggerId:g,isUsingKeyboard:f,onItemEnter:C,onItemLeave:T}),$r("elDropdown",{instance:r,dropdownSize:_,handleClick:b,commandHandler:x,trigger:kn(e,"trigger"),hideOnClick:kn(e,"hideOnClick")}),{t:a,ns:n,scrollbar:u,wrapStyle:h,dropdownTriggerKls:v,dropdownSize:_,triggerId:g,triggerKeys:d,currentTabId:c,handleCurrentTabIdChange:M,handlerMainButtonClick:L=>{t("click",L)},handleEntryFocus:k,handleClose:y,handleOpen:w,handleBeforeShowTooltip:A,handleShowTooltip:O,handleBeforeHideTooltip:P,onFocusAfterTrapped:L=>{var B,I;L.preventDefault(),(I=(B=l.value)==null?void 0:B.focus)==null||I.call(B,{preventScroll:!0})},popperRef:s,contentRef:l,triggeringElementRef:i,referenceElementRef:o}}});function OXe(e,t,r,n,a,i){var o;const s=br("el-dropdown-collection"),l=br("el-roving-focus-group"),u=br("el-scrollbar"),c=br("el-only-child"),f=br("el-tooltip"),d=br("el-button"),h=br("arrow-down"),v=br("el-icon"),p=br("el-button-group");return F(),K("div",{class:G([e.ns.b(),e.ns.is("disabled",e.disabled)])},[ae(f,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(o=e.referenceElementRef)==null?void 0:o.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},vu({content:he(()=>[ae(u,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:he(()=>[ae(l,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:he(()=>[ae(s,null,{default:he(()=>[Pe(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:he(()=>[ae(c,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:he(()=>[Pe(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(F(),Oe(p,{key:0},{default:he(()=>[ae(d,Dr({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:he(()=>[Pe(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ae(d,Dr({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:he(()=>[ae(v,{class:G(e.ns.e("icon"))},{default:he(()=>[ae(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):be("v-if",!0)],2)}var LXe=ut(IXe,[["render",OXe],["__file","dropdown.vue"]]);const NXe=J({name:"DropdownItemImpl",components:{ElIcon:$t},props:JK,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const r=Ze("dropdown"),{role:n}=At(E2,void 0),{collectionItemRef:a}=At(kXe,void 0),{collectionItemRef:i}=At(sXe,void 0),{rovingFocusGroupItemRef:o,tabIndex:s,handleFocus:l,handleKeydown:u,handleMousedown:c}=At(QK,void 0),f=u2(a,i,o),d=$(()=>n.value==="menu"?"menuitem":n.value==="navigation"?"link":"button"),h=Yn(v=>{const{code:p}=v;if(p===Kt.enter||p===Kt.space)return v.preventDefault(),v.stopImmediatePropagation(),t("clickimpl",v),!0},u);return{ns:r,itemRef:f,dataset:{[qK]:""},role:d,tabIndex:s,handleFocus:l,handleKeydown:h,handleMousedown:c}}}),PXe=["aria-disabled","tabindex","role"];function DXe(e,t,r,n,a,i){const o=br("el-icon");return F(),K(zt,null,[e.divided?(F(),K("li",Dr({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):be("v-if",!0),Z("li",Dr({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=s=>e.$emit("clickimpl",s)),onFocus:t[1]||(t[1]=(...s)=>e.handleFocus&&e.handleFocus(...s)),onKeydown:t[2]||(t[2]=tr((...s)=>e.handleKeydown&&e.handleKeydown(...s),["self"])),onMousedown:t[3]||(t[3]=(...s)=>e.handleMousedown&&e.handleMousedown(...s)),onPointermove:t[4]||(t[4]=s=>e.$emit("pointermove",s)),onPointerleave:t[5]||(t[5]=s=>e.$emit("pointerleave",s))}),[e.icon?(F(),Oe(o,{key:0},{default:he(()=>[(F(),Oe(kr(e.icon)))]),_:1})):be("v-if",!0),Pe(e.$slots,"default")],16,PXe)],64)}var RXe=ut(NXe,[["render",DXe],["__file","dropdown-item-impl.vue"]]);const tX=()=>{const e=At("elDropdown",{}),t=$(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},$Xe=J({name:"ElDropdownItem",components:{ElDropdownCollectionItem:MXe,ElRovingFocusItem:EXe,ElDropdownItemImpl:RXe},inheritAttrs:!1,props:JK,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:r}){const{elDropdown:n}=tX(),a=Er(),i=W(null),o=$(()=>{var h,v;return(v=(h=E(i))==null?void 0:h.textContent)!=null?v:""}),{onItemEnter:s,onItemLeave:l}=At(E2,void 0),u=Yn(h=>(t("pointermove",h),h.defaultPrevented),r5(h=>{if(e.disabled){l(h);return}const v=h.currentTarget;v===document.activeElement||v.contains(document.activeElement)||(s(h),h.defaultPrevented||v==null||v.focus())})),c=Yn(h=>(t("pointerleave",h),h.defaultPrevented),r5(h=>{l(h)})),f=Yn(h=>{if(!e.disabled)return t("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var v,p,m;if(e.disabled){h.stopImmediatePropagation();return}(v=n==null?void 0:n.hideOnClick)!=null&&v.value&&((p=n.handleClick)==null||p.call(n)),(m=n.commandHandler)==null||m.call(n,e.command,a,h)}),d=$(()=>({...e,...r}));return{handleClick:f,handlePointerMove:u,handlePointerLeave:c,textContent:o,propsAndAttrs:d}}});function BXe(e,t,r,n,a,i){var o;const s=br("el-dropdown-item-impl"),l=br("el-roving-focus-item"),u=br("el-dropdown-collection-item");return F(),Oe(u,{disabled:e.disabled,"text-value":(o=e.textValue)!=null?o:e.textContent},{default:he(()=>[ae(l,{focusable:!e.disabled},{default:he(()=>[ae(s,Dr(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:he(()=>[Pe(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var rX=ut($Xe,[["render",BXe],["__file","dropdown-item.vue"]]);const FXe=J({name:"ElDropdownMenu",props:_Xe,setup(e){const t=Ze("dropdown"),{_elDropdownSize:r}=tX(),n=r.value,{focusTrapRef:a,onKeydown:i}=At(cO,void 0),{contentRef:o,role:s,triggerId:l}=At(E2,void 0),{collectionRef:u,getItems:c}=At(TXe,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:d,tabIndex:h,onBlur:v,onFocus:p,onMousedown:m}=At(_O,void 0),{collectionRef:g}=At(EO,void 0),b=$(()=>[t.b("menu"),t.bm("menu",n==null?void 0:n.value)]),y=u2(o,u,a,f,g),w=Yn(x=>{var S;(S=e.onKeydown)==null||S.call(e,x)},x=>{const{currentTarget:S,code:C,target:T}=x;if(S.contains(T),Kt.tab===C&&x.stopImmediatePropagation(),x.preventDefault(),T!==E(o)||!SXe.includes(C))return;const k=c().filter(A=>!A.disabled).map(A=>A.ref);eX.includes(C)&&k.reverse(),xO(k)});return{size:n,rovingFocusGroupRootStyle:d,tabIndex:h,dropdownKls:b,role:s,triggerId:l,dropdownListWrapperRef:y,handleKeydown:x=>{w(x),i(x)},onBlur:v,onFocus:p,onMousedown:m}}}),zXe=["role","aria-labelledby"];function GXe(e,t,r,n,a,i){return F(),K("ul",{ref:e.dropdownListWrapperRef,class:G(e.dropdownKls),style:Bt(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...o)=>e.onBlur&&e.onBlur(...o)),onFocus:t[1]||(t[1]=(...o)=>e.onFocus&&e.onFocus(...o)),onKeydown:t[2]||(t[2]=tr((...o)=>e.handleKeydown&&e.handleKeydown(...o),["self"])),onMousedown:t[3]||(t[3]=tr((...o)=>e.onMousedown&&e.onMousedown(...o),["self"]))},[Pe(e.$slots,"default")],46,zXe)}var nX=ut(FXe,[["render",GXe],["__file","dropdown-menu.vue"]]);const jXe=_r(LXe,{DropdownItem:rX,DropdownMenu:nX}),VXe=jn(rX),UXe=jn(nX),WXe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},HXe=["id"],YXe=["stop-color"],KXe=["stop-color"],XXe=["id"],qXe=["stop-color"],ZXe=["stop-color"],QXe=["id"],JXe={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},eqe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},tqe={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},rqe=["fill"],nqe=["fill"],aqe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},iqe=["fill"],oqe=["fill"],sqe=["fill"],lqe=["fill"],uqe=["fill"],cqe={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},fqe=["fill","xlink:href"],dqe=["fill","mask"],hqe=["fill"],vqe=J({name:"ImgEmpty"}),pqe=J({...vqe,setup(e){const t=Ze("empty"),r=bi();return(n,a)=>(F(),K("svg",WXe,[Z("defs",null,[Z("linearGradient",{id:`linearGradient-1-${E(r)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Z("stop",{"stop-color":`var(${E(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,YXe),Z("stop",{"stop-color":`var(${E(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,KXe)],8,HXe),Z("linearGradient",{id:`linearGradient-2-${E(r)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Z("stop",{"stop-color":`var(${E(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,qXe),Z("stop",{"stop-color":`var(${E(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,ZXe)],8,XXe),Z("rect",{id:`path-3-${E(r)}`,x:"0",y:"0",width:"17",height:"36"},null,8,QXe)]),Z("g",JXe,[Z("g",eqe,[Z("g",tqe,[Z("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${E(t).cssVarBlockName("fill-color-3")})`},null,8,rqe),Z("polygon",{id:"Rectangle-Copy-14",fill:`var(${E(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,nqe),Z("g",aqe,[Z("polygon",{id:"Rectangle-Copy-10",fill:`var(${E(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,iqe),Z("polygon",{id:"Rectangle-Copy-11",fill:`var(${E(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,oqe),Z("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${E(r)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,sqe),Z("polygon",{id:"Rectangle-Copy-13",fill:`var(${E(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,lqe)]),Z("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${E(r)})`,x:"13",y:"45",width:"40",height:"36"},null,8,uqe),Z("g",cqe,[Z("use",{id:"Mask",fill:`var(${E(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${E(r)}`},null,8,fqe),Z("polygon",{id:"Rectangle-Copy",fill:`var(${E(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${E(r)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,dqe)]),Z("polygon",{id:"Rectangle-Copy-18",fill:`var(${E(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,hqe)])])])]))}});var gqe=ut(pqe,[["__file","img-empty.vue"]]);const mqe=it({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),yqe=["src"],bqe={key:1},wqe=J({name:"ElEmpty"}),Eqe=J({...wqe,props:mqe,setup(e){const t=e,{t:r}=Zr(),n=Ze("empty"),a=$(()=>t.description||r("el.table.emptyText")),i=$(()=>({width:Xn(t.imageSize)}));return(o,s)=>(F(),K("div",{class:G(E(n).b())},[Z("div",{class:G(E(n).e("image")),style:Bt(E(i))},[o.image?(F(),K("img",{key:0,src:o.image,ondragstart:"return false"},null,8,yqe)):Pe(o.$slots,"image",{key:1},()=>[ae(gqe)])],6),Z("div",{class:G(E(n).e("description"))},[o.$slots.description?Pe(o.$slots,"description",{key:0}):(F(),K("p",bqe,ct(E(a)),1))],2),o.$slots.default?(F(),K("div",{key:0,class:G(E(n).e("bottom"))},[Pe(o.$slots,"default")],2)):be("v-if",!0)],2))}});var _qe=ut(Eqe,[["__file","empty.vue"]]);const aX=_r(_qe),xqe=it({urlList:{type:ve(Array),default:()=>Fn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ve(String)}}),Sqe={close:()=>!0,switch:e=>Qt(e),rotate:e=>Qt(e)},Cqe=["src","crossorigin"],Mqe=J({name:"ElImageViewer"}),Tqe=J({...Mqe,props:xqe,emits:Sqe,setup(e,{expose:t,emit:r}){var n;const a=e,i={CONTAIN:{name:"contain",icon:Ih(j6e)},ORIGINAL:{name:"original",icon:Ih(lFe)}},{t:o}=Zr(),s=Ze("image-viewer"),{nextZIndex:l}=Gv(),u=W(),c=W([]),f=_J(),d=W(!0),h=W(a.initialIndex),v=Pn(i.CONTAIN),p=W({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),m=W((n=a.zIndex)!=null?n:l()),g=$(()=>{const{urlList:D}=a;return D.length<=1}),b=$(()=>h.value===0),y=$(()=>h.value===a.urlList.length-1),w=$(()=>a.urlList[h.value]),_=$(()=>[s.e("btn"),s.e("prev"),s.is("disabled",!a.infinite&&b.value)]),x=$(()=>[s.e("btn"),s.e("next"),s.is("disabled",!a.infinite&&y.value)]),S=$(()=>{const{scale:D,deg:z,offsetX:U,offsetY:H,enableTransition:Y}=p.value;let ie=U/D,X=H/D;switch(z%360){case 90:case-270:[ie,X]=[X,-ie];break;case 180:case-180:[ie,X]=[-ie,-X];break;case 270:case-90:[ie,X]=[-X,ie];break}const re={transform:`scale(${D}) rotate(${z}deg) translate(${ie}px, ${X}px)`,transition:Y?"transform .3s":""};return v.value.name===i.CONTAIN.name&&(re.maxWidth=re.maxHeight="100%"),re});function C(){M(),r("close")}function T(){const D=qf(U=>{switch(U.code){case Kt.esc:a.closeOnPressEscape&&C();break;case Kt.space:R();break;case Kt.left:L();break;case Kt.up:I("zoomIn");break;case Kt.right:B();break;case Kt.down:I("zoomOut");break}}),z=qf(U=>{const H=U.deltaY||U.deltaX;I(H<0?"zoomIn":"zoomOut",{zoomRate:a.zoomRate,enableTransition:!1})});f.run(()=>{Ln(document,"keydown",D),Ln(document,"wheel",z)})}function M(){f.stop()}function k(){d.value=!1}function A(D){d.value=!1,D.target.alt=o("el.image.error")}function O(D){if(d.value||D.button!==0||!u.value)return;p.value.enableTransition=!1;const{offsetX:z,offsetY:U}=p.value,H=D.pageX,Y=D.pageY,ie=qf(re=>{p.value={...p.value,offsetX:z+re.pageX-H,offsetY:U+re.pageY-Y}}),X=Ln(document,"mousemove",ie);Ln(document,"mouseup",()=>{X()}),D.preventDefault()}function P(){p.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function R(){if(d.value)return;const D=vv(i),z=Object.values(i),U=v.value.name,Y=(z.findIndex(ie=>ie.name===U)+1)%D.length;v.value=i[D[Y]],P()}function N(D){const z=a.urlList.length;h.value=(D+z)%z}function L(){b.value&&!a.infinite||N(h.value-1)}function B(){y.value&&!a.infinite||N(h.value+1)}function I(D,z={}){if(d.value)return;const{minScale:U,maxScale:H}=a,{zoomRate:Y,rotateDeg:ie,enableTransition:X}={zoomRate:a.zoomRate,rotateDeg:90,enableTransition:!0,...z};switch(D){case"zoomOut":p.value.scale>U&&(p.value.scale=Number.parseFloat((p.value.scale/Y).toFixed(3)));break;case"zoomIn":p.value.scale<H&&(p.value.scale=Number.parseFloat((p.value.scale*Y).toFixed(3)));break;case"clockwise":p.value.deg+=ie,r("rotate",p.value.deg);break;case"anticlockwise":p.value.deg-=ie,r("rotate",p.value.deg);break}p.value.enableTransition=X}return He(w,()=>{Ut(()=>{const D=c.value[0];D!=null&&D.complete||(d.value=!0)})}),He(h,D=>{P(),r("switch",D)}),vr(()=>{var D,z;T(),(z=(D=u.value)==null?void 0:D.focus)==null||z.call(D)}),t({setActiveItem:N}),(D,z)=>(F(),Oe(Av,{to:"body",disabled:!D.teleported},[ae(Ma,{name:"viewer-fade",appear:""},{default:he(()=>[Z("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:G(E(s).e("wrapper")),style:Bt({zIndex:m.value})},[Z("div",{class:G(E(s).e("mask")),onClick:z[0]||(z[0]=tr(U=>D.hideOnClickModal&&C(),["self"]))},null,2),be(" CLOSE "),Z("span",{class:G([E(s).e("btn"),E(s).e("close")]),onClick:C},[ae(E($t),null,{default:he(()=>[ae(E($s))]),_:1})],2),be(" ARROW "),E(g)?be("v-if",!0):(F(),K(zt,{key:0},[Z("span",{class:G(E(_)),onClick:L},[ae(E($t),null,{default:he(()=>[ae(E(Dc))]),_:1})],2),Z("span",{class:G(E(x)),onClick:B},[ae(E($t),null,{default:he(()=>[ae(E(Fi))]),_:1})],2)],64)),be(" ACTIONS "),Z("div",{class:G([E(s).e("btn"),E(s).e("actions")])},[Z("div",{class:G(E(s).e("actions__inner"))},[ae(E($t),{onClick:z[1]||(z[1]=U=>I("zoomOut"))},{default:he(()=>[ae(E(SFe))]),_:1}),ae(E($t),{onClick:z[2]||(z[2]=U=>I("zoomIn"))},{default:he(()=>[ae(E(PH))]),_:1}),Z("i",{class:G(E(s).e("actions__divider"))},null,2),ae(E($t),{onClick:R},{default:he(()=>[(F(),Oe(kr(E(v).icon)))]),_:1}),Z("i",{class:G(E(s).e("actions__divider"))},null,2),ae(E($t),{onClick:z[3]||(z[3]=U=>I("anticlockwise"))},{default:he(()=>[ae(E(aFe))]),_:1}),ae(E($t),{onClick:z[4]||(z[4]=U=>I("clockwise"))},{default:he(()=>[ae(E(oFe))]),_:1})],2)],2),be(" CANVAS "),Z("div",{class:G(E(s).e("canvas"))},[(F(!0),K(zt,null,zr(D.urlList,(U,H)=>cr((F(),K("img",{ref_for:!0,ref:Y=>c.value[H]=Y,key:U,src:U,style:Bt(E(S)),class:G(E(s).e("img")),crossorigin:D.crossorigin,onLoad:k,onError:A,onMousedown:O},null,46,Cqe)),[[nn,H===h.value]])),128))],2),Pe(D.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var kqe=ut(Tqe,[["__file","image-viewer.vue"]]);const iX=_r(kqe),Aqe=it({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ve([String,Object])},previewSrcList:{type:ve(Array),default:()=>Fn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ve(String)}}),Iqe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>Qt(e),close:()=>!0,show:()=>!0},Oqe=["src","loading","crossorigin"],Lqe={key:0},Nqe=J({name:"ElImage",inheritAttrs:!1}),Pqe=J({...Nqe,props:Aqe,emits:Iqe,setup(e,{emit:t}){const r=e;let n="";const{t:a}=Zr(),i=Ze("image"),o=bd(),s=GI(),l=W(),u=W(!1),c=W(!0),f=W(!1),d=W(),h=W(),v=Ur&&"loading"in HTMLImageElement.prototype;let p,m;const g=$(()=>[i.e("inner"),w.value&&i.e("preview"),c.value&&i.is("loading")]),b=$(()=>o.style),y=$(()=>{const{fit:B}=r;return Ur&&B?{objectFit:B}:{}}),w=$(()=>{const{previewSrcList:B}=r;return Array.isArray(B)&&B.length>0}),_=$(()=>{const{previewSrcList:B,initialIndex:I}=r;let D=I;return I>B.length-1&&(D=0),D}),x=$(()=>r.loading==="eager"?!1:!v&&r.loading==="lazy"||r.lazy),S=()=>{Ur&&(c.value=!0,u.value=!1,l.value=r.src)};function C(B){c.value=!1,u.value=!1,t("load",B)}function T(B){c.value=!1,u.value=!0,t("error",B)}function M(){F3e(d.value,h.value)&&(S(),O())}const k=$W(M,200,!0);async function A(){var B;if(!Ur)return;await Ut();const{scrollContainer:I}=r;us(I)?h.value=I:nr(I)&&I!==""?h.value=(B=document.querySelector(I))!=null?B:void 0:d.value&&(h.value=LI(d.value)),h.value&&(p=Ln(h,"scroll",k),setTimeout(()=>M(),100))}function O(){!Ur||!h.value||!k||(p==null||p(),h.value=void 0)}function P(B){if(B.ctrlKey){if(B.deltaY<0)return B.preventDefault(),!1;if(B.deltaY>0)return B.preventDefault(),!1}}function R(){w.value&&(m=Ln("wheel",P,{passive:!1}),n=document.body.style.overflow,document.body.style.overflow="hidden",f.value=!0,t("show"))}function N(){m==null||m(),document.body.style.overflow=n,f.value=!1,t("close")}function L(B){t("switch",B)}return He(()=>r.src,()=>{x.value?(c.value=!0,u.value=!1,O(),A()):S()}),vr(()=>{x.value?A():S()}),(B,I)=>(F(),K("div",{ref_key:"container",ref:d,class:G([E(i).b(),B.$attrs.class]),style:Bt(E(b))},[u.value?Pe(B.$slots,"error",{key:0},()=>[Z("div",{class:G(E(i).e("error"))},ct(E(a)("el.image.error")),3)]):(F(),K(zt,{key:1},[l.value!==void 0?(F(),K("img",Dr({key:0},E(s),{src:l.value,loading:B.loading,style:E(y),class:E(g),crossorigin:B.crossorigin,onClick:R,onLoad:C,onError:T}),null,16,Oqe)):be("v-if",!0),c.value?(F(),K("div",{key:1,class:G(E(i).e("wrapper"))},[Pe(B.$slots,"placeholder",{},()=>[Z("div",{class:G(E(i).e("placeholder"))},null,2)])],2)):be("v-if",!0)],64)),E(w)?(F(),K(zt,{key:2},[f.value?(F(),Oe(E(iX),{key:0,"z-index":B.zIndex,"initial-index":E(_),infinite:B.infinite,"zoom-rate":B.zoomRate,"min-scale":B.minScale,"max-scale":B.maxScale,"url-list":B.previewSrcList,"hide-on-click-modal":B.hideOnClickModal,teleported:B.previewTeleported,"close-on-press-escape":B.closeOnPressEscape,onClose:N,onSwitch:L},{default:he(()=>[B.$slots.viewer?(F(),K("div",Lqe,[Pe(B.$slots,"viewer")])):be("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):be("v-if",!0)],64)):be("v-if",!0)],6))}});var Dqe=ut(Pqe,[["__file","image.vue"]]);const Rqe=_r(Dqe),$qe=it({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Da,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Qt(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Bqe={[Nn]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[zi]:e=>Qt(e)||Ua(e),[Mr]:e=>Qt(e)||Ua(e)},Fqe=["aria-label","onKeydown"],zqe=["aria-label","onKeydown"],Gqe=J({name:"ElInputNumber"}),jqe=J({...Gqe,props:$qe,emits:Bqe,setup(e,{expose:t,emit:r}){const n=e,{t:a}=Zr(),i=Ze("input-number"),o=W(),s=cn({currentValue:n.modelValue,userInput:null}),{formItem:l}=Oi(),u=$(()=>Qt(n.modelValue)&&n.modelValue<=n.min),c=$(()=>Qt(n.modelValue)&&n.modelValue>=n.max),f=$(()=>{const R=g(n.step);return ca(n.precision)?Math.max(g(n.modelValue),R):(R>n.precision,n.precision)}),d=$(()=>n.controls&&n.controlsPosition==="right"),h=ba(),v=Ui(),p=$(()=>{if(s.userInput!==null)return s.userInput;let R=s.currentValue;if(Ua(R))return"";if(Qt(R)){if(Number.isNaN(R))return"";ca(n.precision)||(R=R.toFixed(n.precision))}return R}),m=(R,N)=>{if(ca(N)&&(N=f.value),N===0)return Math.round(R);let L=String(R);const B=L.indexOf(".");if(B===-1||!L.replace(".","").split("")[B+N])return R;const z=L.length;return L.charAt(z-1)==="5"&&(L=`${L.slice(0,Math.max(0,z-1))}6`),Number.parseFloat(Number(L).toFixed(N))},g=R=>{if(Ua(R))return 0;const N=R.toString(),L=N.indexOf(".");let B=0;return L!==-1&&(B=N.length-L-1),B},b=(R,N=1)=>Qt(R)?m(R+n.step*N):s.currentValue,y=()=>{if(n.readonly||v.value||c.value)return;const R=Number(p.value)||0,N=b(R);x(N),r(zi,s.currentValue),O()},w=()=>{if(n.readonly||v.value||u.value)return;const R=Number(p.value)||0,N=b(R,-1);x(N),r(zi,s.currentValue),O()},_=(R,N)=>{const{max:L,min:B,step:I,precision:D,stepStrictly:z,valueOnClear:U}=n;L<B&&Ta("InputNumber","min should not be greater than max.");let H=Number(R);if(Ua(R)||Number.isNaN(H))return null;if(R===""){if(U===null)return null;H=nr(U)?{min:B,max:L}[U]:U}return z&&(H=m(Math.round(H/I)*I,D)),ca(D)||(H=m(H,D)),(H>L||H<B)&&(H=H>L?L:B,N&&r(Mr,H)),H},x=(R,N=!0)=>{var L;const B=s.currentValue,I=_(R);if(!N){r(Mr,I);return}B===I&&R||(s.userInput=null,r(Mr,I),B!==I&&r(Nn,I,B),n.validateEvent&&((L=l==null?void 0:l.validate)==null||L.call(l,"change").catch(D=>void 0)),s.currentValue=I)},S=R=>{s.userInput=R;const N=R===""?null:Number(R);r(zi,N),x(N,!1)},C=R=>{const N=R!==""?Number(R):"";(Qt(N)&&!Number.isNaN(N)||R==="")&&x(N),O(),s.userInput=null},T=()=>{var R,N;(N=(R=o.value)==null?void 0:R.focus)==null||N.call(R)},M=()=>{var R,N;(N=(R=o.value)==null?void 0:R.blur)==null||N.call(R)},k=R=>{r("focus",R)},A=R=>{var N;s.userInput=null,r("blur",R),n.validateEvent&&((N=l==null?void 0:l.validate)==null||N.call(l,"blur").catch(L=>void 0))},O=()=>{s.currentValue!==n.modelValue&&(s.currentValue=n.modelValue)},P=R=>{document.activeElement===R.target&&R.preventDefault()};return He(()=>n.modelValue,(R,N)=>{const L=_(R,!0);s.userInput===null&&L!==N&&(s.currentValue=L)},{immediate:!0}),vr(()=>{var R;const{min:N,max:L,modelValue:B}=n,I=(R=o.value)==null?void 0:R.input;if(I.setAttribute("role","spinbutton"),Number.isFinite(L)?I.setAttribute("aria-valuemax",String(L)):I.removeAttribute("aria-valuemax"),Number.isFinite(N)?I.setAttribute("aria-valuemin",String(N)):I.removeAttribute("aria-valuemin"),I.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),I.setAttribute("aria-disabled",String(v.value)),!Qt(B)&&B!=null){let D=Number(B);Number.isNaN(D)&&(D=null),r(Mr,D)}I.addEventListener("wheel",P,{passive:!1})}),_u(()=>{var R,N;const L=(R=o.value)==null?void 0:R.input;L==null||L.setAttribute("aria-valuenow",`${(N=s.currentValue)!=null?N:""}`)}),t({focus:T,blur:M}),(R,N)=>(F(),K("div",{class:G([E(i).b(),E(i).m(E(h)),E(i).is("disabled",E(v)),E(i).is("without-controls",!R.controls),E(i).is("controls-right",E(d))]),onDragstart:N[0]||(N[0]=tr(()=>{},["prevent"]))},[R.controls?cr((F(),K("span",{key:0,role:"button","aria-label":E(a)("el.inputNumber.decrease"),class:G([E(i).e("decrease"),E(i).is("disabled",E(u))]),onKeydown:Sn(w,["enter"])},[Pe(R.$slots,"decrease-icon",{},()=>[ae(E($t),null,{default:he(()=>[E(d)?(F(),Oe(E(Lu),{key:0})):(F(),Oe(E(K6e),{key:1}))]),_:1})])],42,Fqe)),[[E(Iw),w]]):be("v-if",!0),R.controls?cr((F(),K("span",{key:1,role:"button","aria-label":E(a)("el.inputNumber.increase"),class:G([E(i).e("increase"),E(i).is("disabled",E(c))]),onKeydown:Sn(y,["enter"])},[Pe(R.$slots,"increase-icon",{},()=>[ae(E($t),null,{default:he(()=>[E(d)?(F(),Oe(E(NI),{key:0})):(F(),Oe(E(LH),{key:1}))]),_:1})])],42,zqe)),[[E(Iw),y]]):be("v-if",!0),ae(E(Mi),{id:R.id,ref_key:"input",ref:o,type:"number",step:R.step,"model-value":E(p),placeholder:R.placeholder,readonly:R.readonly,disabled:E(v),size:E(h),max:R.max,min:R.min,name:R.name,label:R.label,"validate-event":!1,onKeydown:[Sn(tr(y,["prevent"]),["up"]),Sn(tr(w,["prevent"]),["down"])],onBlur:A,onFocus:k,onInput:S,onChange:C},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Vqe=ut(jqe,[["__file","input-number.vue"]]);const oX=_r(Vqe),Uqe=it({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Cn}}),Wqe={click:e=>e instanceof MouseEvent},Hqe=["href","target"],Yqe=J({name:"ElLink"}),Kqe=J({...Yqe,props:Uqe,emits:Wqe,setup(e,{emit:t}){const r=e,n=Ze("link"),a=$(()=>[n.b(),n.m(r.type),n.is("disabled",r.disabled),n.is("underline",r.underline&&!r.disabled)]);function i(o){r.disabled||t("click",o)}return(o,s)=>(F(),K("a",{class:G(E(a)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:i},[o.icon?(F(),Oe(E($t),{key:0},{default:he(()=>[(F(),Oe(kr(o.icon)))]),_:1})):be("v-if",!0),o.$slots.default?(F(),K("span",{key:1,class:G(E(n).e("inner"))},[Pe(o.$slots,"default")],2)):be("v-if",!0),o.$slots.icon?Pe(o.$slots,"icon",{key:2}):be("v-if",!0)],10,Hqe))}});var Xqe=ut(Kqe,[["__file","link.vue"]]);const qqe=_r(Xqe);let Zqe=class{constructor(t,r){this.parent=t,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",n=>{let a=!1;switch(n.code){case Kt.down:{this.gotoSubIndex(this.subIndex+1),a=!0;break}case Kt.up:{this.gotoSubIndex(this.subIndex-1),a=!0;break}case Kt.tab:{K1(t,"mouseleave");break}case Kt.enter:case Kt.space:{a=!0,n.currentTarget.click();break}}return a&&(n.preventDefault(),n.stopPropagation()),!1})})}},Qqe=class{constructor(t,r){this.domNode=t,this.submenu=null,this.submenu=null,this.init(r)}init(t){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${t}-menu`);r&&(this.submenu=new Zqe(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let r=!1;switch(t.code){case Kt.down:{K1(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case Kt.up:{K1(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case Kt.tab:{K1(t.currentTarget,"mouseleave");break}case Kt.enter:case Kt.space:{r=!0,t.currentTarget.click();break}}r&&t.preventDefault()})}},Jqe=class{constructor(t,r){this.domNode=t,this.init(r)}init(t){const r=this.domNode.childNodes;Array.from(r).forEach(n=>{n.nodeType===1&&new Qqe(n,t)})}};const eZe=J({name:"ElMenuCollapseTransition",setup(){const e=Ze("menu");return{listeners:{onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,n){Jo(r,`${e.namespace.value}-opacity-transition`),r.style.opacity="1",n()},onAfterEnter(r){Ai(r,`${e.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),ns(r,e.m("collapse"))?(Ai(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Jo(r,e.m("collapse"))):(Jo(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Ai(r,e.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){Jo(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}}}}});function tZe(e,t,r,n,a,i){return F(),Oe(Ma,Dr({mode:"out-in"},e.listeners),{default:he(()=>[Pe(e.$slots,"default")]),_:3},16)}var rZe=ut(eZe,[["render",tZe],["__file","menu-collapse-transition.vue"]]);function sX(e,t){const r=$(()=>{let a=e.parent;const i=[t.value];for(;a.type.name!=="ElMenu";)a.props.index&&i.unshift(a.props.index),a=a.parent;return i});return{parentMenu:$(()=>{let a=e.parent;for(;a&&!["ElMenu","ElSubMenu"].includes(a.type.name);)a=a.parent;return a}),indexPath:r}}function nZe(e){return $(()=>{const r=e.backgroundColor;return r?new FY(r).shade(20).toString():""})}const lX=(e,t)=>{const r=Ze("menu");return $(()=>r.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":nZe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},aZe=it({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Cn},expandOpenIcon:{type:Cn},collapseCloseIcon:{type:Cn},collapseOpenIcon:{type:Cn}}),fS="ElSubMenu";var SO=J({name:fS,props:aZe,setup(e,{slots:t,expose:r}){const n=Er(),{indexPath:a,parentMenu:i}=sX(n,$(()=>e.index)),o=Ze("menu"),s=Ze("sub-menu"),l=At("rootMenu");l||Ta(fS,"can not inject root menu");const u=At(`subMenu:${i.value.uid}`);u||Ta(fS,"can not inject sub menu");const c=W({}),f=W({});let d;const h=W(!1),v=W(),p=W(null),m=$(()=>C.value==="horizontal"&&b.value?"bottom-start":"right-start"),g=$(()=>C.value==="horizontal"&&b.value||C.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?x.value?e.expandOpenIcon:e.expandCloseIcon:Lu:e.collapseCloseIcon&&e.collapseOpenIcon?x.value?e.collapseOpenIcon:e.collapseCloseIcon:Fi),b=$(()=>u.level===0),y=$(()=>{const D=e.teleported;return D===void 0?b.value:D}),w=$(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),_=$(()=>C.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),x=$(()=>l.openedMenus.includes(e.index)),S=$(()=>{let D=!1;return Object.values(c.value).forEach(z=>{z.active&&(D=!0)}),Object.values(f.value).forEach(z=>{z.active&&(D=!0)}),D}),C=$(()=>l.props.mode),T=cn({index:e.index,indexPath:a,active:S}),M=lX(l.props,u.level+1),k=$(()=>{var D;return(D=e.popperOffset)!=null?D:l.props.popperOffset}),A=$(()=>{var D;return(D=e.popperClass)!=null?D:l.props.popperClass}),O=$(()=>{var D;return(D=e.showTimeout)!=null?D:l.props.showTimeout}),P=$(()=>{var D;return(D=e.hideTimeout)!=null?D:l.props.hideTimeout}),R=()=>{var D,z,U;return(U=(z=(D=p.value)==null?void 0:D.popperRef)==null?void 0:z.popperInstanceRef)==null?void 0:U.destroy()},N=D=>{D||R()},L=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:a.value,active:S.value})},B=(D,z=O.value)=>{var U;if(D.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,d==null||d(),{stop:d}=cd(()=>{l.openMenu(e.index,a.value)},z),y.value&&((U=i.value.vnode.el)==null||U.dispatchEvent(new MouseEvent("mouseenter")))}},I=(D=!1)=>{var z;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}d==null||d(),u.mouseInChild.value=!1,{stop:d}=cd(()=>!h.value&&l.closeMenu(e.index,a.value),P.value),y.value&&D&&((z=u.handleMouseleave)==null||z.call(u,!0))};He(()=>l.props.collapse,D=>N(!!D));{const D=U=>{f.value[U.index]=U},z=U=>{delete f.value[U.index]};$r(`subMenu:${n.uid}`,{addSubMenu:D,removeSubMenu:z,handleMouseleave:I,mouseInChild:h,level:u.level+1})}return r({opened:x}),vr(()=>{l.addSubMenu(T),u.addSubMenu(T)}),On(()=>{u.removeSubMenu(T),l.removeSubMenu(T)}),()=>{var D;const z=[(D=t.title)==null?void 0:D.call(t),Yt($t,{class:s.e("icon-arrow"),style:{transform:x.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>nr(g.value)?Yt(n.appContext.components[g.value]):Yt(g.value)})],U=l.isMenuPopup?Yt(Ii,{ref:p,visible:x.value,effect:"light",pure:!0,offset:k.value,showArrow:!1,persistent:!0,popperClass:A.value,placement:m.value,teleported:y.value,fallbackPlacements:_.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var H;return Yt("div",{class:[o.m(C.value),o.m("popup-container"),A.value],onMouseenter:Y=>B(Y,100),onMouseleave:()=>I(!0),onFocus:Y=>B(Y,100)},[Yt("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${m.value}`)],style:M.value},[(H=t.default)==null?void 0:H.call(t)])])},default:()=>Yt("div",{class:s.e("title"),onClick:L},z)}):Yt(zt,{},[Yt("div",{class:s.e("title"),ref:v,onClick:L},z),Yt(w2,{},{default:()=>{var H;return cr(Yt("ul",{role:"menu",class:[o.b(),o.m("inline")],style:M.value},[(H=t.default)==null?void 0:H.call(t)]),[[nn,x.value]])}})]);return Yt("li",{class:[s.b(),s.is("active",S.value),s.is("opened",x.value),s.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:B,onMouseleave:()=>I(),onFocus:B},[U])}}});const iZe=it({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ve(Array),default:()=>Fn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Cn,default:()=>Z6e},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),dS=e=>Array.isArray(e)&&e.every(t=>nr(t)),oZe={close:(e,t)=>nr(e)&&dS(t),open:(e,t)=>nr(e)&&dS(t),select:(e,t,r,n)=>nr(e)&&dS(t)&&Sr(r)&&(n===void 0||n instanceof Promise)};var sZe=J({name:"ElMenu",props:iZe,emits:oZe,setup(e,{emit:t,slots:r,expose:n}){const a=Er(),i=a.appContext.config.globalProperties.$router,o=W(),s=Ze("menu"),l=Ze("sub-menu"),u=W(-1),c=W(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=W(e.defaultActive),d=W({}),h=W({}),v=$(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),p=()=>{const P=f.value&&d.value[f.value];if(!P||e.mode==="horizontal"||e.collapse)return;P.indexPath.forEach(N=>{const L=h.value[N];L&&m(N,L.indexPath)})},m=(P,R)=>{c.value.includes(P)||(e.uniqueOpened&&(c.value=c.value.filter(N=>R.includes(N))),c.value.push(P),t("open",P,R))},g=P=>{const R=c.value.indexOf(P);R!==-1&&c.value.splice(R,1)},b=(P,R)=>{g(P),t("close",P,R)},y=({index:P,indexPath:R})=>{c.value.includes(P)?b(P,R):m(P,R)},w=P=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:R,indexPath:N}=P;if(!(Ua(R)||Ua(N)))if(e.router&&i){const L=P.route||R,B=i.push(L).then(I=>(I||(f.value=R),I));t("select",R,N,{index:R,indexPath:N,route:L},B)}else f.value=R,t("select",R,N,{index:R,indexPath:N})},_=P=>{const R=d.value,N=R[P]||f.value&&R[f.value]||R[e.defaultActive];N?f.value=N.index:f.value=P},x=P=>{const R=getComputedStyle(P),N=Number.parseInt(R.marginLeft,10),L=Number.parseInt(R.marginRight,10);return P.offsetWidth+N+L||0},S=()=>{var P,R;if(!o.value)return-1;const N=Array.from((R=(P=o.value)==null?void 0:P.childNodes)!=null?R:[]).filter(Y=>Y.nodeName!=="#comment"&&(Y.nodeName!=="#text"||Y.nodeValue)),L=64,B=getComputedStyle(o.value),I=Number.parseInt(B.paddingLeft,10),D=Number.parseInt(B.paddingRight,10),z=o.value.clientWidth-I-D;let U=0,H=0;return N.forEach((Y,ie)=>{U+=x(Y),U<=z-L&&(H=ie+1)}),H===N.length?-1:H},C=P=>h.value[P].indexPath,T=(P,R=33.34)=>{let N;return()=>{N&&clearTimeout(N),N=setTimeout(()=>{P()},R)}};let M=!0;const k=()=>{if(u.value===S())return;const P=()=>{u.value=-1,Ut(()=>{u.value=S()})};M?P():T(P)(),M=!1};He(()=>e.defaultActive,P=>{d.value[P]||(f.value=""),_(P)}),He(()=>e.collapse,P=>{P&&(c.value=[])}),He(d.value,p);let A;gi(()=>{e.mode==="horizontal"&&e.ellipsis?A=Bn(o,k).stop:A==null||A()});const O=W(!1);{const P=B=>{h.value[B.index]=B},R=B=>{delete h.value[B.index]};$r("rootMenu",cn({props:e,openedMenus:c,items:d,subMenus:h,activeIndex:f,isMenuPopup:v,addMenuItem:B=>{d.value[B.index]=B},removeMenuItem:B=>{delete d.value[B.index]},addSubMenu:P,removeSubMenu:R,openMenu:m,closeMenu:b,handleMenuItemClick:w,handleSubMenuClick:y})),$r(`subMenu:${a.uid}`,{addSubMenu:P,removeSubMenu:R,mouseInChild:O,level:0})}return vr(()=>{e.mode==="horizontal"&&new Jqe(a.vnode.el,s.namespace.value)}),n({open:R=>{const{indexPath:N}=h.value[R];N.forEach(L=>m(L,N))},close:g,handleResize:k}),()=>{var P,R;let N=(R=(P=r.default)==null?void 0:P.call(r))!=null?R:[];const L=[];if(e.mode==="horizontal"&&o.value){const z=Ec(N),U=u.value===-1?z:z.slice(0,u.value),H=u.value===-1?[]:z.slice(u.value);H!=null&&H.length&&e.ellipsis&&(N=U,L.push(Yt(SO,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>Yt($t,{class:l.e("icon-more")},{default:()=>Yt(e.ellipsisIcon)}),default:()=>H})))}const B=lX(e,0),I=e.closeOnClickOutside?[[wu,()=>{c.value.length&&(O.value||(c.value.forEach(z=>t("close",z,C(z))),c.value=[]))}]]:[],D=cr(Yt("ul",{key:String(e.collapse),role:"menubar",ref:o,style:B.value,class:{[s.b()]:!0,[s.m(e.mode)]:!0,[s.m("collapse")]:e.collapse}},[...N,...L]),I);return e.collapseTransition&&e.mode==="vertical"?Yt(rZe,()=>D):D}}});const lZe=it({index:{type:ve([String,null]),default:null},route:{type:ve([String,Object])},disabled:Boolean}),uZe={click:e=>nr(e.index)&&Array.isArray(e.indexPath)},hS="ElMenuItem",cZe=J({name:hS,components:{ElTooltip:Ii},props:lZe,emits:uZe,setup(e,{emit:t}){const r=Er(),n=At("rootMenu"),a=Ze("menu"),i=Ze("menu-item");n||Ta(hS,"can not inject root menu");const{parentMenu:o,indexPath:s}=sX(r,kn(e,"index")),l=At(`subMenu:${o.value.uid}`);l||Ta(hS,"can not inject sub menu");const u=$(()=>e.index===n.activeIndex),c=cn({index:e.index,indexPath:s,active:u}),f=()=>{e.disabled||(n.handleMenuItemClick({index:e.index,indexPath:s.value,route:e.route}),t("click",c))};return vr(()=>{l.addSubMenu(c),n.addMenuItem(c)}),On(()=>{l.removeSubMenu(c),n.removeMenuItem(c)}),{parentMenu:o,rootMenu:n,active:u,nsMenu:a,nsMenuItem:i,handleClick:f}}});function fZe(e,t,r,n,a,i){const o=br("el-tooltip");return F(),K("li",{class:G([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(F(),Oe(o,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:he(()=>[Pe(e.$slots,"title")]),default:he(()=>[Z("div",{class:G(e.nsMenu.be("tooltip","trigger"))},[Pe(e.$slots,"default")],2)]),_:3},8,["effect"])):(F(),K(zt,{key:1},[Pe(e.$slots,"default"),Pe(e.$slots,"title")],64))],2)}var uX=ut(cZe,[["render",fZe],["__file","menu-item.vue"]]);const dZe={title:String},hZe="ElMenuItemGroup",vZe=J({name:hZe,props:dZe,setup(){return{ns:Ze("menu-item-group")}}});function pZe(e,t,r,n,a,i){return F(),K("li",{class:G(e.ns.b())},[Z("div",{class:G(e.ns.e("title"))},[e.$slots.title?Pe(e.$slots,"title",{key:1}):(F(),K(zt,{key:0},[qr(ct(e.title),1)],64))],2),Z("ul",null,[Pe(e.$slots,"default")])],2)}var cX=ut(vZe,[["render",pZe],["__file","menu-item-group.vue"]]);const gZe=_r(sZe,{MenuItem:uX,MenuItemGroup:cX,SubMenu:SO}),mZe=jn(uX),yZe=jn(cX),bZe=jn(SO),wZe=it({icon:{type:Cn,default:()=>E6e},title:String,content:{type:String,default:""}}),EZe={back:()=>!0},_Ze=["aria-label"],xZe=J({name:"ElPageHeader"}),SZe=J({...xZe,props:wZe,emits:EZe,setup(e,{emit:t}){const r=Ya(),{t:n}=Zr(),a=Ze("page-header"),i=$(()=>[a.b(),{[a.m("has-breadcrumb")]:!!r.breadcrumb,[a.m("has-extra")]:!!r.extra,[a.is("contentful")]:!!r.default}]);function o(){t("back")}return(s,l)=>(F(),K("div",{class:G(E(i))},[s.$slots.breadcrumb?(F(),K("div",{key:0,class:G(E(a).e("breadcrumb"))},[Pe(s.$slots,"breadcrumb")],2)):be("v-if",!0),Z("div",{class:G(E(a).e("header"))},[Z("div",{class:G(E(a).e("left"))},[Z("div",{class:G(E(a).e("back")),role:"button",tabindex:"0",onClick:o},[s.icon||s.$slots.icon?(F(),K("div",{key:0,"aria-label":s.title||E(n)("el.pageHeader.title"),class:G(E(a).e("icon"))},[Pe(s.$slots,"icon",{},()=>[s.icon?(F(),Oe(E($t),{key:0},{default:he(()=>[(F(),Oe(kr(s.icon)))]),_:1})):be("v-if",!0)])],10,_Ze)):be("v-if",!0),Z("div",{class:G(E(a).e("title"))},[Pe(s.$slots,"title",{},()=>[qr(ct(s.title||E(n)("el.pageHeader.title")),1)])],2)],2),ae(E(XK),{direction:"vertical"}),Z("div",{class:G(E(a).e("content"))},[Pe(s.$slots,"content",{},()=>[qr(ct(s.content),1)])],2)],2),s.$slots.extra?(F(),K("div",{key:0,class:G(E(a).e("extra"))},[Pe(s.$slots,"extra")],2)):be("v-if",!0)],2),s.$slots.default?(F(),K("div",{key:1,class:G(E(a).e("main"))},[Pe(s.$slots,"default")],2)):be("v-if",!0)],2))}});var CZe=ut(SZe,[["__file","page-header.vue"]]);const MZe=_r(CZe),fX=Symbol("elPaginationKey"),TZe=it({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Cn}}),kZe={click:e=>e instanceof MouseEvent},AZe=["disabled","aria-label","aria-disabled"],IZe={key:0},OZe=J({name:"ElPaginationPrev"}),LZe=J({...OZe,props:TZe,emits:kZe,setup(e){const t=e,{t:r}=Zr(),n=$(()=>t.disabled||t.currentPage<=1);return(a,i)=>(F(),K("button",{type:"button",class:"btn-prev",disabled:E(n),"aria-label":a.prevText||E(r)("el.pagination.prev"),"aria-disabled":E(n),onClick:i[0]||(i[0]=o=>a.$emit("click",o))},[a.prevText?(F(),K("span",IZe,ct(a.prevText),1)):(F(),Oe(E($t),{key:1},{default:he(()=>[(F(),Oe(kr(a.prevIcon)))]),_:1}))],8,AZe))}});var NZe=ut(LZe,[["__file","prev.vue"]]);const PZe=it({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Cn}}),DZe=["disabled","aria-label","aria-disabled"],RZe={key:0},$Ze=J({name:"ElPaginationNext"}),BZe=J({...$Ze,props:PZe,emits:["click"],setup(e){const t=e,{t:r}=Zr(),n=$(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(a,i)=>(F(),K("button",{type:"button",class:"btn-next",disabled:E(n),"aria-label":a.nextText||E(r)("el.pagination.next"),"aria-disabled":E(n),onClick:i[0]||(i[0]=o=>a.$emit("click",o))},[a.nextText?(F(),K("span",RZe,ct(a.nextText),1)):(F(),Oe(E($t),{key:1},{default:he(()=>[(F(),Oe(kr(a.nextIcon)))]),_:1}))],8,DZe))}});var FZe=ut(BZe,[["__file","next.vue"]]);const dX=Symbol("ElSelectGroup"),gm=Symbol("ElSelect");function zZe(e,t){const r=At(gm),n=At(dX,{disabled:!1}),a=$(()=>r.props.multiple?c(r.props.modelValue,e.value):c([r.props.modelValue],e.value)),i=$(()=>{if(r.props.multiple){const h=r.props.modelValue||[];return!a.value&&h.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),o=$(()=>e.label||(Sr(e.value)?"":e.value)),s=$(()=>e.value||e.label||""),l=$(()=>e.disabled||t.groupDisabled||i.value),u=Er(),c=(h=[],v)=>{if(Sr(e.value)){const p=r.props.valueKey;return h&&h.some(m=>yn(ea(m,p))===ea(v,p))}else return h&&h.includes(v)},f=()=>{!e.disabled&&!n.disabled&&(r.states.hoveringIndex=r.optionsArray.indexOf(u.proxy))},d=h=>{const v=new RegExp(OI(h),"i");t.visible=v.test(o.value)||e.created};return He(()=>o.value,()=>{!e.created&&!r.props.remote&&r.setSelected()}),He(()=>e.value,(h,v)=>{const{remote:p,valueKey:m}=r.props;if(ki(h,v)||(r.onOptionDestroy(v,u.proxy),r.onOptionCreate(u.proxy)),!e.created&&!p){if(m&&Sr(h)&&Sr(v)&&h[m]===v[m])return;r.setSelected()}}),He(()=>n.disabled,()=>{t.groupDisabled=n.disabled},{immediate:!0}),{select:r,currentLabel:o,currentValue:s,itemSelected:a,isDisabled:l,hoverItem:f,updateOption:d}}const GZe=J({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=Ze("select"),r=bi(),n=$(()=>[t.be("dropdown","item"),t.is("disabled",E(s)),t.is("selected",E(o)),t.is("hovering",E(d))]),a=cn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c}=zZe(e,a),{visible:f,hover:d}=ui(a),h=Er().proxy;l.onOptionCreate(h),On(()=>{const p=h.value,{selected:m}=l.states,b=(l.props.multiple?m:[m]).some(y=>y.value===h.value);Ut(()=>{l.states.cachedOptions.get(p)===h&&!b&&l.states.cachedOptions.delete(p)}),l.onOptionDestroy(p,h)});function v(){e.disabled!==!0&&a.groupDisabled!==!0&&l.handleOptionSelect(h)}return{ns:t,id:r,containerKls:n,currentLabel:i,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c,visible:f,hover:d,selectOptionClick:v,states:a}}}),jZe=["id","aria-disabled","aria-selected"];function VZe(e,t,r,n,a,i){return cr((F(),K("li",{id:e.id,class:G(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:t[0]||(t[0]=(...o)=>e.hoverItem&&e.hoverItem(...o)),onClick:t[1]||(t[1]=tr((...o)=>e.selectOptionClick&&e.selectOptionClick(...o),["stop"]))},[Pe(e.$slots,"default",{},()=>[Z("span",null,ct(e.currentLabel),1)])],42,jZe)),[[nn,e.visible]])}var CO=ut(GZe,[["render",VZe],["__file","option.vue"]]);const UZe=J({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=At(gm),t=Ze("select"),r=$(()=>e.props.popperClass),n=$(()=>e.props.multiple),a=$(()=>e.props.fitInputWidth),i=W("");function o(){var s;i.value=`${(s=e.selectRef)==null?void 0:s.offsetWidth}px`}return vr(()=>{o(),Bn(e.selectRef,o)}),{ns:t,minWidth:i,popperClass:r,isMultiple:n,isFitInputWidth:a}}});function WZe(e,t,r,n,a,i){return F(),K("div",{class:G([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Bt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(F(),K("div",{key:0,class:G(e.ns.be("dropdown","header"))},[Pe(e.$slots,"header")],2)):be("v-if",!0),Pe(e.$slots,"default"),e.$slots.footer?(F(),K("div",{key:1,class:G(e.ns.be("dropdown","footer"))},[Pe(e.$slots,"footer")],2)):be("v-if",!0)],6)}var HZe=ut(UZe,[["render",WZe],["__file","select-dropdown.vue"]]);function hX(e){const t=W(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:i=>{const o=i.target.value,s=o[o.length-1]||"";t.value=!zI(s)},handleCompositionEnd:i=>{t.value&&(t.value=!1,Jt(e)&&e(i))}}}const YZe=11,KZe=(e,t)=>{const{t:r}=Zr(),n=bi(),a=Ze("select"),i=Ze("input"),o=cn({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:e.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=W(null),l=W(null),u=W(null),c=W(null),f=W(null),d=W(null),h=W(null),v=W(null),p=W(null),m=W(null),g=W(null),b=W(null),{wrapperRef:y,isFocused:w,handleFocus:_,handleBlur:x}=v2(f,{afterFocus(){e.automaticDropdown&&!S.value&&(S.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(nt){var vt,Br;return((vt=u.value)==null?void 0:vt.isFocusInsideContent(nt))||((Br=c.value)==null?void 0:Br.isFocusInsideContent(nt))},afterBlur(){S.value=!1,o.menuVisibleOnFocus=!1}}),S=W(!1),C=W(),{form:T,formItem:M}=Oi(),{inputId:k}=Ys(e,{formItemContext:M}),{valueOnClear:A,isEmptyValue:O}=p2(e),P=$(()=>e.disabled||(T==null?void 0:T.disabled)),R=$(()=>e.multiple?_t(e.modelValue)&&e.modelValue.length>0:!O(e.modelValue)),N=$(()=>e.clearable&&!P.value&&o.inputHovering&&R.value),L=$(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),B=$(()=>a.is("reverse",L.value&&S.value)),I=$(()=>(M==null?void 0:M.validateState)||""),D=$(()=>FI[I.value]),z=$(()=>e.remote?300:0),U=$(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&!o.inputValue&&o.options.size===0?!1:e.filterable&&o.inputValue&&o.options.size>0&&H.value===0?e.noMatchText||r("el.select.noMatch"):o.options.size===0?e.noDataText||r("el.select.noData"):null),H=$(()=>Y.value.filter(nt=>nt.visible).length),Y=$(()=>{const nt=Array.from(o.options.values()),vt=[];return o.optionValues.forEach(Br=>{const sn=nt.findIndex(Aa=>Aa.value===Br);sn>-1&&vt.push(nt[sn])}),vt.length>=nt.length?vt:nt}),ie=$(()=>Array.from(o.cachedOptions.values())),X=$(()=>{const nt=Y.value.filter(vt=>!vt.created).some(vt=>vt.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==""&&!nt}),re=()=>{e.filterable&&Jt(e.filterMethod)||e.filterable&&e.remote&&Jt(e.remoteMethod)||Y.value.forEach(nt=>{var vt;(vt=nt.updateOption)==null||vt.call(nt,o.inputValue)})},oe=ba(),Ne=$(()=>["small"].includes(oe.value)?"small":"default"),me=$({get(){return S.value&&U.value!==!1},set(nt){S.value=nt}}),xe=$(()=>_t(e.modelValue)?e.modelValue.length===0&&!o.inputValue:e.filterable?!o.inputValue:!0),ze=$(()=>{var nt;const vt=(nt=e.placeholder)!=null?nt:r("el.select.placeholder");return e.multiple||!R.value?vt:o.selectedLabel});He(()=>e.modelValue,(nt,vt)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue="",te("")),Ae(),!ki(nt,vt)&&e.validateEvent&&(M==null||M.validate("change").catch(Br=>void 0))},{flush:"post",deep:!0}),He(()=>S.value,nt=>{nt?te(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),t("visible-change",nt)}),He(()=>o.options.entries(),()=>{var nt;if(!Ur)return;const vt=((nt=s.value)==null?void 0:nt.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!ca(e.modelValue)||!Array.from(vt).includes(document.activeElement))&&Ae(),e.defaultFirstOption&&(e.filterable||e.remote)&&H.value&&le()},{flush:"post"}),He(()=>o.hoveringIndex,nt=>{Qt(nt)&&nt>-1?C.value=Y.value[nt]||{}:C.value={},Y.value.forEach(vt=>{vt.hover=C.value===vt})}),gi(()=>{o.isBeforeHide||re()});const te=nt=>{o.previousQuery!==nt&&(o.previousQuery=nt,e.filterable&&Jt(e.filterMethod)?e.filterMethod(nt):e.filterable&&e.remote&&Jt(e.remoteMethod)&&e.remoteMethod(nt),e.defaultFirstOption&&(e.filterable||e.remote)&&H.value?Ut(le):Ut(Ie))},le=()=>{const nt=Y.value.filter(sn=>sn.visible&&!sn.disabled&&!sn.states.groupDisabled),vt=nt.find(sn=>sn.created),Br=nt[0];o.hoveringIndex=qe(Y.value,vt||Br)},Ae=()=>{if(e.multiple)o.selectedLabel="";else{const vt=Ve(e.modelValue);o.selectedLabel=vt.currentLabel,o.selected=vt;return}const nt=[];_t(e.modelValue)&&e.modelValue.forEach(vt=>{nt.push(Ve(vt))}),o.selected=nt},Ve=nt=>{let vt;const Br=y1(nt).toLowerCase()==="object",sn=y1(nt).toLowerCase()==="null",Aa=y1(nt).toLowerCase()==="undefined";for(let Ia=o.cachedOptions.size-1;Ia>=0;Ia--){const na=ie.value[Ia];if(Br?ea(na.value,e.valueKey)===ea(nt,e.valueKey):na.value===nt){vt={value:nt,currentLabel:na.currentLabel,isDisabled:na.isDisabled};break}}if(vt)return vt;const Ra=Br?nt.label:!sn&&!Aa?nt:"";return{value:nt,currentLabel:Ra}},Ie=()=>{e.multiple?o.hoveringIndex=Y.value.findIndex(nt=>o.selected.some(vt=>Ea(vt)===Ea(nt))):o.hoveringIndex=Y.value.findIndex(nt=>Ea(nt)===Ea(o.selected))},De=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},Ge=()=>{o.calculatorWidth=d.value.getBoundingClientRect().width},Qe=()=>{o.collapseItemWidth=g.value.getBoundingClientRect().width},ke=()=>{var nt,vt;(vt=(nt=u.value)==null?void 0:nt.updatePopper)==null||vt.call(nt)},q=()=>{var nt,vt;(vt=(nt=c.value)==null?void 0:nt.updatePopper)==null||vt.call(nt)},j=()=>{o.inputValue.length>0&&!S.value&&(S.value=!0),te(o.inputValue)},Ce=nt=>{if(o.inputValue=nt.target.value,e.remote)fe();else return j()},fe=uo(()=>{j()},z.value),ge=nt=>{ki(e.modelValue,nt)||t(Nn,nt)},Ue=nt=>SH(nt,vt=>!o.disabledOptions.has(vt)),tt=nt=>{if(e.multiple&&nt.code!==Kt.delete&&nt.target.value.length<=0){const vt=e.modelValue.slice(),Br=Ue(vt);if(Br<0)return;vt.splice(Br,1),t(Mr,vt),ge(vt)}},ot=(nt,vt)=>{const Br=o.selected.indexOf(vt);if(Br>-1&&!P.value){const sn=e.modelValue.slice();sn.splice(Br,1),t(Mr,sn),ge(sn),t("remove-tag",vt.value)}nt.stopPropagation(),Wr()},Ye=nt=>{nt.stopPropagation();const vt=e.multiple?[]:A.value;if(e.multiple)for(const Br of o.selected)Br.isDisabled&&vt.push(Br.value);t(Mr,vt),ge(vt),o.hoveringIndex=-1,S.value=!1,t("clear"),Wr()},we=nt=>{if(e.multiple){const vt=(e.modelValue||[]).slice(),Br=qe(vt,nt.value);Br>-1?vt.splice(Br,1):(e.multipleLimit<=0||vt.length<e.multipleLimit)&&vt.push(nt.value),t(Mr,vt),ge(vt),nt.created&&te(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else t(Mr,nt.value),ge(nt.value),S.value=!1;Wr(),!S.value&&Ut(()=>{Be(nt)})},qe=(nt=[],vt)=>{if(!Sr(vt))return nt.indexOf(vt);const Br=e.valueKey;let sn=-1;return nt.some((Aa,Ra)=>yn(ea(Aa,Br))===ea(vt,Br)?(sn=Ra,!0):!1),sn},Be=nt=>{var vt,Br,sn,Aa,Ra;const Za=_t(nt)?nt[0]:nt;let Ia=null;if(Za!=null&&Za.value){const na=Y.value.filter(Hi=>Hi.value===Za.value);na.length>0&&(Ia=na[0].$el)}if(u.value&&Ia){const na=(Aa=(sn=(Br=(vt=u.value)==null?void 0:vt.popperRef)==null?void 0:Br.contentRef)==null?void 0:sn.querySelector)==null?void 0:Aa.call(sn,`.${a.be("dropdown","wrap")}`);na&&AH(na,Ia)}(Ra=b.value)==null||Ra.handleScroll()},pe=nt=>{o.options.set(nt.value,nt),o.cachedOptions.set(nt.value,nt),nt.disabled&&o.disabledOptions.set(nt.value,nt)},Re=(nt,vt)=>{o.options.get(nt)===vt&&o.options.delete(nt)},{handleCompositionStart:ft,handleCompositionUpdate:Ee,handleCompositionEnd:wt}=hX(nt=>Ce(nt)),ar=$(()=>{var nt,vt;return(vt=(nt=u.value)==null?void 0:nt.popperRef)==null?void 0:vt.contentRef}),lr=()=>{o.isBeforeHide=!1,Ut(()=>Be(o.selected))},Wr=()=>{var nt;(nt=f.value)==null||nt.focus()},In=()=>{An()},ir=nt=>{Ye(nt)},An=nt=>{if(S.value=!1,w.value){const vt=new FocusEvent("focus",nt);Ut(()=>x(vt))}},Ro=()=>{o.inputValue.length>0?o.inputValue="":S.value=!1},fo=()=>{P.value||(o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:S.value=!S.value)},ra=()=>{S.value?Y.value[o.hoveringIndex]&&we(Y.value[o.hoveringIndex]):fo()},Ea=nt=>Sr(nt.value)?ea(nt.value,e.valueKey):nt.value,Wi=$(()=>Y.value.filter(nt=>nt.visible).every(nt=>nt.disabled)),$o=$(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),gs=$(()=>e.multiple?e.collapseTags?o.selected.slice(e.maxCollapseTags):[]:[]),Li=nt=>{if(!S.value){S.value=!0;return}if(!(o.options.size===0||H.value===0)&&!Wi.value){nt==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):nt==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const vt=Y.value[o.hoveringIndex];(vt.disabled===!0||vt.states.groupDisabled===!0||!vt.visible)&&Li(nt),Ut(()=>Be(C.value))}},ci=()=>{if(!l.value)return 0;const nt=window.getComputedStyle(l.value);return Number.parseFloat(nt.gap||"6px")},Vn=$(()=>{const nt=ci();return{maxWidth:`${g.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-nt:o.selectionWidth}px`}}),fi=$(()=>({maxWidth:`${o.selectionWidth}px`})),Ar=$(()=>({width:`${Math.max(o.calculatorWidth,YZe)}px`}));return e.multiple&&!_t(e.modelValue)&&t(Mr,[]),!e.multiple&&_t(e.modelValue)&&t(Mr,""),Bn(l,De),Bn(d,Ge),Bn(p,ke),Bn(y,ke),Bn(m,q),Bn(g,Qe),vr(()=>{Ae()}),{inputId:k,contentId:n,nsSelect:a,nsInput:i,states:o,isFocused:w,expanded:S,optionsArray:Y,hoverOption:C,selectSize:oe,filteredOptionsCount:H,resetCalculatorWidth:Ge,updateTooltip:ke,updateTagTooltip:q,debouncedOnInputChange:fe,onInput:Ce,deletePrevTag:tt,deleteTag:ot,deleteSelected:Ye,handleOptionSelect:we,scrollToOption:Be,hasModelValue:R,shouldShowPlaceholder:xe,currentPlaceholder:ze,showClose:N,iconComponent:L,iconReverse:B,validateState:I,validateIcon:D,showNewOption:X,updateOptions:re,collapseTagSize:Ne,setSelected:Ae,selectDisabled:P,emptyText:U,handleCompositionStart:ft,handleCompositionUpdate:Ee,handleCompositionEnd:wt,onOptionCreate:pe,onOptionDestroy:Re,handleMenuEnter:lr,handleFocus:_,focus:Wr,blur:In,handleBlur:x,handleClearClick:ir,handleClickOutside:An,handleEsc:Ro,toggleMenu:fo,selectOption:ra,getValueKey:Ea,navigateOptions:Li,dropdownMenuVisible:me,showTagList:$o,collapseTagList:gs,tagStyle:Vn,collapseTagStyle:fi,inputStyle:Ar,popperRef:ar,inputRef:f,tooltipRef:u,tagTooltipRef:c,calculatorRef:d,prefixRef:h,suffixRef:v,selectRef:s,wrapperRef:y,selectionRef:l,scrollbarRef:b,menuRef:p,tagMenuRef:m,collapseItemRef:g}};var XZe=J({name:"ElOptions",setup(e,{slots:t}){const r=At(gm);let n=[];return()=>{var a,i;const o=(a=t.default)==null?void 0:a.call(t),s=[];function l(u){_t(u)&&u.forEach(c=>{var f,d,h,v;const p=(f=(c==null?void 0:c.type)||{})==null?void 0:f.name;p==="ElOptionGroup"?l(!nr(c.children)&&!_t(c.children)&&Jt((d=c.children)==null?void 0:d.default)?(h=c.children)==null?void 0:h.default():c.children):p==="ElOption"?s.push((v=c.props)==null?void 0:v.value):_t(c.children)&&l(c.children)})}return o.length&&l((i=o[0])==null?void 0:i.children),ki(s,n)||(n=s,r&&(r.states.optionValues=s)),o}}});const qZe=it({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Da,effect:{type:ve(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ve(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ni.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Cn,default:Kc},fitInputWidth:Boolean,suffixIcon:{type:Cn,default:Lu},tagType:{...b2.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:ve(String),values:Ad,default:"bottom-start"},fallbackPlacements:{type:ve(Array),default:["bottom-start","top-start","right","left"]},ariaLabel:{type:String,default:void 0},...jv}),l6="ElSelect",ZZe=J({name:l6,componentName:l6,components:{ElInput:Mi,ElSelectMenu:HZe,ElOption:CO,ElOptions:XZe,ElTag:f0,ElScrollbar:Pu,ElTooltip:Ii,ElIcon:$t},directives:{ClickOutside:wu},props:qZe,emits:[Mr,Nn,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const r=KZe(e,t);return $r(gm,cn({props:e,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected})),{...r}}}),QZe=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],JZe=["textContent"];function eQe(e,t,r,n,a,i){const o=br("el-tag"),s=br("el-tooltip"),l=br("el-icon"),u=br("el-option"),c=br("el-options"),f=br("el-scrollbar"),d=br("el-select-menu"),h=Kw("click-outside");return cr((F(),K("div",{ref:"selectRef",class:G([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[16]||(t[16]=v=>e.states.inputHovering=!0),onMouseleave:t[17]||(t[17]=v=>e.states.inputHovering=!1),onClick:t[18]||(t[18]=tr((...v)=>e.toggleMenu&&e.toggleMenu(...v),["prevent","stop"]))},[ae(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[15]||(t[15]=v=>e.states.isBeforeHide=!1)},{default:he(()=>{var v;return[Z("div",{ref:"wrapperRef",class:G([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(F(),K("div",{key:0,ref:"prefixRef",class:G(e.nsSelect.e("prefix"))},[Pe(e.$slots,"prefix")],2)):be("v-if",!0),Z("div",{ref:"selectionRef",class:G([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Pe(e.$slots,"tag",{key:0},()=>[(F(!0),K(zt,null,zr(e.showTagList,p=>(F(),K("div",{key:e.getValueKey(p),class:G(e.nsSelect.e("selected-item"))},[ae(o,{closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",style:Bt(e.tagStyle),onClose:m=>e.deleteTag(m,p)},{default:he(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},ct(p.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(F(),Oe(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:he(()=>[Z("div",{ref:"collapseItemRef",class:G(e.nsSelect.e("selected-item"))},[ae(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",style:Bt(e.collapseTagStyle)},{default:he(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))}," + "+ct(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:he(()=>[Z("div",{ref:"tagMenuRef",class:G(e.nsSelect.e("selection"))},[(F(!0),K(zt,null,zr(e.collapseTagList,p=>(F(),K("div",{key:e.getValueKey(p),class:G(e.nsSelect.e("selected-item"))},[ae(o,{class:"in-tooltip",closable:!e.selectDisabled&&!p.isDisabled,size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",onClose:m=>e.deleteTag(m,p)},{default:he(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},ct(p.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):be("v-if",!0)]):be("v-if",!0),e.selectDisabled?be("v-if",!0):(F(),K("div",{key:1,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[cr(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=p=>e.states.inputValue=p),type:"text",class:G([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Bt(e.inputStyle),role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((v=e.hoverOption)==null?void 0:v.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:t[1]||(t[1]=(...p)=>e.handleFocus&&e.handleFocus(...p)),onBlur:t[2]||(t[2]=(...p)=>e.handleBlur&&e.handleBlur(...p)),onKeydown:[t[3]||(t[3]=Sn(tr(p=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[4]||(t[4]=Sn(tr(p=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),t[5]||(t[5]=Sn(tr((...p)=>e.handleEsc&&e.handleEsc(...p),["stop","prevent"]),["esc"])),t[6]||(t[6]=Sn(tr((...p)=>e.selectOption&&e.selectOption(...p),["stop","prevent"]),["enter"])),t[7]||(t[7]=Sn(tr((...p)=>e.deletePrevTag&&e.deletePrevTag(...p),["stop"]),["delete"]))],onCompositionstart:t[8]||(t[8]=(...p)=>e.handleCompositionStart&&e.handleCompositionStart(...p)),onCompositionupdate:t[9]||(t[9]=(...p)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...p)),onCompositionend:t[10]||(t[10]=(...p)=>e.handleCompositionEnd&&e.handleCompositionEnd(...p)),onInput:t[11]||(t[11]=(...p)=>e.onInput&&e.onInput(...p)),onClick:t[12]||(t[12]=tr((...p)=>e.toggleMenu&&e.toggleMenu(...p),["stop"]))},null,46,QZe),[[qT,e.states.inputValue]]),e.filterable?(F(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:G(e.nsSelect.e("input-calculator")),textContent:ct(e.states.inputValue)},null,10,JZe)):be("v-if",!0)],2)),e.shouldShowPlaceholder?(F(),K("div",{key:2,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[Z("span",null,ct(e.currentPlaceholder),1)],2)):be("v-if",!0)],2),Z("div",{ref:"suffixRef",class:G(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(F(),Oe(l,{key:0,class:G([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:he(()=>[(F(),Oe(kr(e.iconComponent)))]),_:1},8,["class"])):be("v-if",!0),e.showClose&&e.clearIcon?(F(),Oe(l,{key:1,class:G([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:he(()=>[(F(),Oe(kr(e.clearIcon)))]),_:1},8,["class","onClick"])):be("v-if",!0),e.validateState&&e.validateIcon?(F(),Oe(l,{key:2,class:G([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:he(()=>[(F(),Oe(kr(e.validateIcon)))]),_:1},8,["class"])):be("v-if",!0)],2)],2)]}),content:he(()=>[ae(d,{ref:"menuRef"},{default:he(()=>[e.$slots.header?(F(),K("div",{key:0,class:G(e.nsSelect.be("dropdown","header")),onClick:t[13]||(t[13]=tr(()=>{},["stop"]))},[Pe(e.$slots,"header")],2)):be("v-if",!0),cr(ae(f,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:G([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:he(()=>[e.showNewOption?(F(),Oe(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):be("v-if",!0),ae(c,null,{default:he(()=>[Pe(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[nn,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(F(),K("div",{key:1,class:G(e.nsSelect.be("dropdown","loading"))},[Pe(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(F(),K("div",{key:2,class:G(e.nsSelect.be("dropdown","empty"))},[Pe(e.$slots,"empty",{},()=>[Z("span",null,ct(e.emptyText),1)])],2)):be("v-if",!0),e.$slots.footer?(F(),K("div",{key:3,class:G(e.nsSelect.be("dropdown","footer")),onClick:t[14]||(t[14]=tr(()=>{},["stop"]))},[Pe(e.$slots,"footer")],2)):be("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[h,e.handleClickOutside,e.popperRef]])}var tQe=ut(ZZe,[["render",eQe],["__file","select.vue"]]);const rQe=J({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=Ze("select"),r=W(null),n=Er(),a=W([]);$r(dX,cn({...ui(e)}));const i=$(()=>a.value.some(l=>l.visible===!0)),o=l=>{const u=[];return _t(l.children)&&l.children.forEach(c=>{var f,d;c.type&&c.type.name==="ElOption"&&c.component&&c.component.proxy?u.push(c.component.proxy):(f=c.children)!=null&&f.length?u.push(...o(c)):(d=c.component)!=null&&d.subTree&&u.push(...o(c.component.subTree))}),u},s=()=>{a.value=o(n.subTree)};return vr(()=>{s()}),FW(r,s,{attributes:!0,subtree:!0,childList:!0}),{groupRef:r,visible:i,ns:t}}});function nQe(e,t,r,n,a,i){return cr((F(),K("ul",{ref:"groupRef",class:G(e.ns.be("group","wrap"))},[Z("li",{class:G(e.ns.be("group","title"))},ct(e.label),3),Z("li",null,[Z("ul",{class:G(e.ns.b("group"))},[Pe(e.$slots,"default")],2)])],2)),[[nn,e.visible]])}var vX=ut(rQe,[["render",nQe],["__file","option-group.vue"]]);const md=_r(tQe,{Option:CO,OptionGroup:vX}),Lw=jn(CO),aQe=jn(vX),MO=()=>At(fX,{}),iQe=it({pageSize:{type:Number,required:!0},pageSizes:{type:ve(Array),default:()=>Fn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Bl}}),oQe=J({name:"ElPaginationSizes"}),sQe=J({...oQe,props:iQe,emits:["page-size-change"],setup(e,{emit:t}){const r=e,{t:n}=Zr(),a=Ze("pagination"),i=MO(),o=W(r.pageSize);He(()=>r.pageSizes,(u,c)=>{if(!ki(u,c)&&Array.isArray(u)){const f=u.includes(r.pageSize)?r.pageSize:r.pageSizes[0];t("page-size-change",f)}}),He(()=>r.pageSize,u=>{o.value=u});const s=$(()=>r.pageSizes);function l(u){var c;u!==o.value&&(o.value=u,(c=i.handleSizeChange)==null||c.call(i,Number(u)))}return(u,c)=>(F(),K("span",{class:G(E(a).e("sizes"))},[ae(E(md),{"model-value":o.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,onChange:l},{default:he(()=>[(F(!0),K(zt,null,zr(E(s),f=>(F(),Oe(E(Lw),{key:f,value:f,label:f+E(n)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var lQe=ut(sQe,[["__file","sizes.vue"]]);const uQe=it({size:{type:String,values:Bl}}),cQe=["disabled"],fQe=J({name:"ElPaginationJumper"}),dQe=J({...fQe,props:uQe,setup(e){const{t}=Zr(),r=Ze("pagination"),{pageCount:n,disabled:a,currentPage:i,changeEvent:o}=MO(),s=W(),l=$(()=>{var f;return(f=s.value)!=null?f:i==null?void 0:i.value});function u(f){s.value=f?+f:""}function c(f){f=Math.trunc(+f),o==null||o(f),s.value=void 0}return(f,d)=>(F(),K("span",{class:G(E(r).e("jump")),disabled:E(a)},[Z("span",{class:G([E(r).e("goto")])},ct(E(t)("el.pagination.goto")),3),ae(E(Mi),{size:f.size,class:G([E(r).e("editor"),E(r).is("in-pagination")]),min:1,max:E(n),disabled:E(a),"model-value":E(l),"validate-event":!1,label:E(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","label"]),Z("span",{class:G([E(r).e("classifier")])},ct(E(t)("el.pagination.pageClassifier")),3)],10,cQe))}});var hQe=ut(dQe,[["__file","jumper.vue"]]);const vQe=it({total:{type:Number,default:1e3}}),pQe=["disabled"],gQe=J({name:"ElPaginationTotal"}),mQe=J({...gQe,props:vQe,setup(e){const{t}=Zr(),r=Ze("pagination"),{disabled:n}=MO();return(a,i)=>(F(),K("span",{class:G(E(r).e("total")),disabled:E(n)},ct(E(t)("el.pagination.total",{total:a.total})),11,pQe))}});var yQe=ut(mQe,[["__file","total.vue"]]);const bQe=it({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),wQe=["onKeyup"],EQe=["aria-current","aria-label","tabindex"],_Qe=["tabindex","aria-label"],xQe=["aria-current","aria-label","tabindex"],SQe=["tabindex","aria-label"],CQe=["aria-current","aria-label","tabindex"],MQe=J({name:"ElPaginationPager"}),TQe=J({...MQe,props:bQe,emits:["change"],setup(e,{emit:t}){const r=e,n=Ze("pager"),a=Ze("icon"),{t:i}=Zr(),o=W(!1),s=W(!1),l=W(!1),u=W(!1),c=W(!1),f=W(!1),d=$(()=>{const w=r.pagerCount,_=(w-1)/2,x=Number(r.currentPage),S=Number(r.pageCount);let C=!1,T=!1;S>w&&(x>w-_&&(C=!0),x<S-_&&(T=!0));const M=[];if(C&&!T){const k=S-(w-2);for(let A=k;A<S;A++)M.push(A)}else if(!C&&T)for(let k=2;k<w;k++)M.push(k);else if(C&&T){const k=Math.floor(w/2)-1;for(let A=x-k;A<=x+k;A++)M.push(A)}else for(let k=2;k<S;k++)M.push(k);return M}),h=$(()=>["more","btn-quickprev",a.b(),n.is("disabled",r.disabled)]),v=$(()=>["more","btn-quicknext",a.b(),n.is("disabled",r.disabled)]),p=$(()=>r.disabled?-1:0);gi(()=>{const w=(r.pagerCount-1)/2;o.value=!1,s.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-w&&(o.value=!0),r.currentPage<r.pageCount-w&&(s.value=!0))});function m(w=!1){r.disabled||(w?l.value=!0:u.value=!0)}function g(w=!1){w?c.value=!0:f.value=!0}function b(w){const _=w.target;if(_.tagName.toLowerCase()==="li"&&Array.from(_.classList).includes("number")){const x=Number(_.textContent);x!==r.currentPage&&t("change",x)}else _.tagName.toLowerCase()==="li"&&Array.from(_.classList).includes("more")&&y(w)}function y(w){const _=w.target;if(_.tagName.toLowerCase()==="ul"||r.disabled)return;let x=Number(_.textContent);const S=r.pageCount,C=r.currentPage,T=r.pagerCount-2;_.className.includes("more")&&(_.className.includes("quickprev")?x=C-T:_.className.includes("quicknext")&&(x=C+T)),Number.isNaN(+x)||(x<1&&(x=1),x>S&&(x=S)),x!==C&&t("change",x)}return(w,_)=>(F(),K("ul",{class:G(E(n).b()),onClick:y,onKeyup:Sn(b,["enter"])},[w.pageCount>0?(F(),K("li",{key:0,class:G([[E(n).is("active",w.currentPage===1),E(n).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===1,"aria-label":E(i)("el.pagination.currentPage",{pager:1}),tabindex:E(p)}," 1 ",10,EQe)):be("v-if",!0),o.value?(F(),K("li",{key:1,class:G(E(h)),tabindex:E(p),"aria-label":E(i)("el.pagination.prevPages",{pager:w.pagerCount-2}),onMouseenter:_[0]||(_[0]=x=>m(!0)),onMouseleave:_[1]||(_[1]=x=>l.value=!1),onFocus:_[2]||(_[2]=x=>g(!0)),onBlur:_[3]||(_[3]=x=>c.value=!1)},[(l.value||c.value)&&!w.disabled?(F(),Oe(E(pv),{key:0})):(F(),Oe(E(q5),{key:1}))],42,_Qe)):be("v-if",!0),(F(!0),K(zt,null,zr(E(d),x=>(F(),K("li",{key:x,class:G([[E(n).is("active",w.currentPage===x),E(n).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===x,"aria-label":E(i)("el.pagination.currentPage",{pager:x}),tabindex:E(p)},ct(x),11,xQe))),128)),s.value?(F(),K("li",{key:2,class:G(E(v)),tabindex:E(p),"aria-label":E(i)("el.pagination.nextPages",{pager:w.pagerCount-2}),onMouseenter:_[4]||(_[4]=x=>m()),onMouseleave:_[5]||(_[5]=x=>u.value=!1),onFocus:_[6]||(_[6]=x=>g()),onBlur:_[7]||(_[7]=x=>f.value=!1)},[(u.value||f.value)&&!w.disabled?(F(),Oe(E(gv),{key:0})):(F(),Oe(E(q5),{key:1}))],42,SQe)):be("v-if",!0),w.pageCount>1?(F(),K("li",{key:3,class:G([[E(n).is("active",w.currentPage===w.pageCount),E(n).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===w.pageCount,"aria-label":E(i)("el.pagination.currentPage",{pager:w.pageCount}),tabindex:E(p)},ct(w.pageCount),11,CQe)):be("v-if",!0)],42,wQe))}});var kQe=ut(TQe,[["__file","pager.vue"]]);const Di=e=>typeof e!="number",AQe=it({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>Qt(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ve(Array),default:()=>Fn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Cn,default:()=>Dc},nextText:{type:String,default:""},nextIcon:{type:Cn,default:()=>Fi},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),IQe={"update:current-page":e=>Qt(e),"update:page-size":e=>Qt(e),"size-change":e=>Qt(e),change:(e,t)=>Qt(e)&&Qt(t),"current-change":e=>Qt(e),"prev-click":e=>Qt(e),"next-click":e=>Qt(e)},u6="ElPagination";var OQe=J({name:u6,props:AQe,emits:IQe,setup(e,{emit:t,slots:r}){const{t:n}=Zr(),a=Ze("pagination"),i=Er().vnode.props||{},o="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,s="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,l=$(()=>{if(Di(e.total)&&Di(e.pageCount)||!Di(e.currentPage)&&!o)return!1;if(e.layout.includes("sizes")){if(Di(e.pageCount)){if(!Di(e.total)&&!Di(e.pageSize)&&!s)return!1}else if(!s)return!1}return!0}),u=W(Di(e.defaultPageSize)?10:e.defaultPageSize),c=W(Di(e.defaultCurrentPage)?1:e.defaultCurrentPage),f=$({get(){return Di(e.pageSize)?u.value:e.pageSize},set(y){Di(e.pageSize)&&(u.value=y),s&&(t("update:page-size",y),t("size-change",y))}}),d=$(()=>{let y=0;return Di(e.pageCount)?Di(e.total)||(y=Math.max(1,Math.ceil(e.total/f.value))):y=e.pageCount,y}),h=$({get(){return Di(e.currentPage)?c.value:e.currentPage},set(y){let w=y;y<1?w=1:y>d.value&&(w=d.value),Di(e.currentPage)&&(c.value=w),o&&(t("update:current-page",w),t("current-change",w))}});He(d,y=>{h.value>y&&(h.value=y)}),He([h,f],y=>{t("change",...y)},{flush:"post"});function v(y){h.value=y}function p(y){f.value=y;const w=d.value;h.value>w&&(h.value=w)}function m(){e.disabled||(h.value-=1,t("prev-click",h.value))}function g(){e.disabled||(h.value+=1,t("next-click",h.value))}function b(y,w){y&&(y.props||(y.props={}),y.props.class=[y.props.class,w].join(" "))}return $r(fX,{pageCount:d,disabled:$(()=>e.disabled),currentPage:h,changeEvent:v,handleSizeChange:p}),()=>{var y,w;if(!l.value)return n("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&d.value<=1)return null;const _=[],x=[],S=Yt("div",{class:a.e("rightwrapper")},x),C={prev:Yt(NZe,{disabled:e.disabled,currentPage:h.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:m}),jumper:Yt(hQe,{size:e.small?"small":"default"}),pager:Yt(kQe,{currentPage:h.value,pageCount:d.value,pagerCount:e.pagerCount,onChange:v,disabled:e.disabled}),next:Yt(FZe,{disabled:e.disabled,currentPage:h.value,pageCount:d.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:g}),sizes:Yt(lQe,{pageSize:f.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:e.small?"small":"default"}),slot:(w=(y=r==null?void 0:r.default)==null?void 0:y.call(r))!=null?w:null,total:Yt(yQe,{total:Di(e.total)?0:e.total})},T=e.layout.split(",").map(k=>k.trim());let M=!1;return T.forEach(k=>{if(k==="->"){M=!0;return}M?x.push(C[k]):_.push(C[k])}),b(_[0],a.is("first")),b(_[_.length-1],a.is("last")),M&&x.length>0&&(b(x[0],a.is("first")),b(x[x.length-1],a.is("last")),_.push(S)),Yt("div",{class:[a.b(),a.is("background",e.background),{[a.m("small")]:e.small}]},_)}}});const LQe=_r(OQe),NQe=it({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:DM,default:"primary"},cancelButtonType:{type:String,values:DM,default:"text"},icon:{type:Cn,default:()=>rFe},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:ni.teleported,persistent:ni.persistent,width:{type:[String,Number],default:150}}),PQe={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},DQe=J({name:"ElPopconfirm"}),RQe=J({...DQe,props:NQe,emits:PQe,setup(e,{emit:t}){const r=e,{t:n}=Zr(),a=Ze("popconfirm"),i=W(),o=()=>{var d,h;(h=(d=i.value)==null?void 0:d.onClose)==null||h.call(d)},s=$(()=>({width:Xn(r.width)})),l=d=>{t("confirm",d),o()},u=d=>{t("cancel",d),o()},c=$(()=>r.confirmButtonText||n("el.popconfirm.confirmButtonText")),f=$(()=>r.cancelButtonText||n("el.popconfirm.cancelButtonText"));return(d,h)=>(F(),Oe(E(Ii),Dr({ref_key:"tooltipRef",ref:i,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${E(a).namespace.value}-popover`,"popper-style":E(s),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:he(()=>[Z("div",{class:G(E(a).b())},[Z("div",{class:G(E(a).e("main"))},[!d.hideIcon&&d.icon?(F(),Oe(E($t),{key:0,class:G(E(a).e("icon")),style:Bt({color:d.iconColor})},{default:he(()=>[(F(),Oe(kr(d.icon)))]),_:1},8,["class","style"])):be("v-if",!0),qr(" "+ct(d.title),1)],2),Z("div",{class:G(E(a).e("action"))},[ae(E(Wa),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:u},{default:he(()=>[qr(ct(E(f)),1)]),_:1},8,["type","text"]),ae(E(Wa),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:l},{default:he(()=>[qr(ct(E(c)),1)]),_:1},8,["type","text"])],2)],2)]),default:he(()=>[d.$slots.reference?Pe(d.$slots,"reference",{key:0}):be("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var $Qe=ut(RQe,[["__file","popconfirm.vue"]]);const BQe=_r($Qe),FQe=it({trigger:c0.trigger,placement:lb.placement,disabled:c0.disabled,visible:ni.visible,transition:ni.transition,popperOptions:lb.popperOptions,tabindex:lb.tabindex,content:ni.content,popperStyle:ni.popperStyle,popperClass:ni.popperClass,enterable:{...ni.enterable,default:!0},effect:{...ni.effect,default:"light"},teleported:ni.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),zQe={"update:visible":e=>fa(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},GQe="onUpdate:visible",jQe=J({name:"ElPopover"}),VQe=J({...jQe,props:FQe,emits:zQe,setup(e,{expose:t,emit:r}){const n=e,a=$(()=>n[GQe]),i=Ze("popover"),o=W(),s=$(()=>{var m;return(m=E(o))==null?void 0:m.popperRef}),l=$(()=>[{width:Xn(n.width)},n.popperStyle]),u=$(()=>[i.b(),n.popperClass,{[i.m("plain")]:!!n.content}]),c=$(()=>n.transition===`${i.namespace.value}-fade-in-linear`),f=()=>{var m;(m=o.value)==null||m.hide()},d=()=>{r("before-enter")},h=()=>{r("before-leave")},v=()=>{r("after-enter")},p=()=>{r("update:visible",!1),r("after-leave")};return t({popperRef:s,hide:f}),(m,g)=>(F(),Oe(E(Ii),Dr({ref_key:"tooltipRef",ref:o},m.$attrs,{trigger:m.trigger,placement:m.placement,disabled:m.disabled,visible:m.visible,transition:m.transition,"popper-options":m.popperOptions,tabindex:m.tabindex,content:m.content,offset:m.offset,"show-after":m.showAfter,"hide-after":m.hideAfter,"auto-close":m.autoClose,"show-arrow":m.showArrow,"aria-label":m.title,effect:m.effect,enterable:m.enterable,"popper-class":E(u),"popper-style":E(l),teleported:m.teleported,persistent:m.persistent,"gpu-acceleration":E(c),"onUpdate:visible":E(a),onBeforeShow:d,onBeforeHide:h,onShow:v,onHide:p}),{content:he(()=>[m.title?(F(),K("div",{key:0,class:G(E(i).e("title")),role:"title"},ct(m.title),3)):be("v-if",!0),Pe(m.$slots,"default",{},()=>[qr(ct(m.content),1)])]),default:he(()=>[m.$slots.reference?Pe(m.$slots,"reference",{key:0}):be("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var UQe=ut(VQe,[["__file","popover.vue"]]);const c6=(e,t)=>{const r=t.arg||t.value,n=r==null?void 0:r.popperRef;n&&(n.triggerRef=e)};var WQe={mounted(e,t){c6(e,t)},updated(e,t){c6(e,t)}};const HQe="popover",pX=MFe(WQe,HQe),YQe=_r(UQe,{directive:pX}),KQe=it({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ve(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ve([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ve(Function),default:e=>`${e}%`}}),XQe=["aria-valuenow"],qQe={viewBox:"0 0 100 100"},ZQe=["d","stroke","stroke-linecap","stroke-width"],QQe=["d","stroke","opacity","stroke-linecap","stroke-width"],JQe={key:0},eJe=J({name:"ElProgress"}),tJe=J({...eJe,props:KQe,setup(e){const t=e,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=Ze("progress"),a=$(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:b(t.percentage)})),i=$(()=>(t.strokeWidth/t.width*100).toFixed(1)),o=$(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),s=$(()=>{const y=o.value,w=t.type==="dashboard";return`
          M 50 50
          m 0 ${w?"":"-"}${y}
          a ${y} ${y} 0 1 1 0 ${w?"-":""}${y*2}
          a ${y} ${y} 0 1 1 0 ${w?"":"-"}${y*2}
          `}),l=$(()=>2*Math.PI*o.value),u=$(()=>t.type==="dashboard"?.75:1),c=$(()=>`${-1*l.value*(1-u.value)/2}px`),f=$(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),d=$(()=>({strokeDasharray:`${l.value*u.value*(t.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=$(()=>{let y;return t.color?y=b(t.percentage):y=r[t.status]||r.default,y}),v=$(()=>t.status==="warning"?l2:t.type==="line"?t.status==="success"?PI:Kc:t.status==="success"?sm:$s),p=$(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),m=$(()=>t.format(t.percentage));function g(y){const w=100/y.length;return y.map((x,S)=>nr(x)?{color:x,percentage:(S+1)*w}:x).sort((x,S)=>x.percentage-S.percentage)}const b=y=>{var w;const{color:_}=t;if(Jt(_))return _(y);if(nr(_))return _;{const x=g(_);for(const S of x)if(S.percentage>y)return S.color;return(w=x[x.length-1])==null?void 0:w.color}};return(y,w)=>(F(),K("div",{class:G([E(n).b(),E(n).m(y.type),E(n).is(y.status),{[E(n).m("without-text")]:!y.showText,[E(n).m("text-inside")]:y.textInside}]),role:"progressbar","aria-valuenow":y.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[y.type==="line"?(F(),K("div",{key:0,class:G(E(n).b("bar"))},[Z("div",{class:G(E(n).be("bar","outer")),style:Bt({height:`${y.strokeWidth}px`})},[Z("div",{class:G([E(n).be("bar","inner"),{[E(n).bem("bar","inner","indeterminate")]:y.indeterminate},{[E(n).bem("bar","inner","striped")]:y.striped},{[E(n).bem("bar","inner","striped-flow")]:y.stripedFlow}]),style:Bt(E(a))},[(y.showText||y.$slots.default)&&y.textInside?(F(),K("div",{key:0,class:G(E(n).be("bar","innerText"))},[Pe(y.$slots,"default",{percentage:y.percentage},()=>[Z("span",null,ct(E(m)),1)])],2)):be("v-if",!0)],6)],6)],2)):(F(),K("div",{key:1,class:G(E(n).b("circle")),style:Bt({height:`${y.width}px`,width:`${y.width}px`})},[(F(),K("svg",qQe,[Z("path",{class:G(E(n).be("circle","track")),d:E(s),stroke:`var(${E(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":y.strokeLinecap,"stroke-width":E(i),fill:"none",style:Bt(E(f))},null,14,ZQe),Z("path",{class:G(E(n).be("circle","path")),d:E(s),stroke:E(h),fill:"none",opacity:y.percentage?1:0,"stroke-linecap":y.strokeLinecap,"stroke-width":E(i),style:Bt(E(d))},null,14,QQe)]))],6)),(y.showText||y.$slots.default)&&!y.textInside?(F(),K("div",{key:2,class:G(E(n).e("text")),style:Bt({fontSize:`${E(p)}px`})},[Pe(y.$slots,"default",{percentage:y.percentage},()=>[y.status?(F(),Oe(E($t),{key:1},{default:he(()=>[(F(),Oe(kr(E(v))))]),_:1})):(F(),K("span",JQe,ct(E(m)),1))])],6)):be("v-if",!0)],10,XQe))}});var rJe=ut(tJe,[["__file","progress.vue"]]);const gX=_r(rJe),nJe=it({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ve([Array,Object]),default:()=>Fn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ve([Array,Object]),default:()=>[n1,n1,n1]},voidIcon:{type:Cn,default:()=>mFe},disabledVoidIcon:{type:Cn,default:()=>n1},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:ve(Array),default:()=>Fn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Da,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),aJe={[Nn]:e=>Qt(e),[Mr]:e=>Qt(e)},iJe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],oJe=["onMousemove","onClick"],sJe=J({name:"ElRate"}),lJe=J({...sJe,props:nJe,emits:aJe,setup(e,{expose:t,emit:r}){const n=e;function a(N,L){const B=z=>Sr(z),I=Object.keys(L).map(z=>+z).filter(z=>{const U=L[z];return(B(U)?U.excluded:!1)?N<z:N<=z}).sort((z,U)=>z-U),D=L[I[0]];return B(D)&&D.value||D}const i=At(Id,void 0),o=At(Il,void 0),s=ba(),l=Ze("rate"),{inputId:u,isLabeledByFormItem:c}=Ys(n,{formItemContext:o}),f=W(n.modelValue),d=W(-1),h=W(!0),v=$(()=>[l.b(),l.m(s.value)]),p=$(()=>n.disabled||(i==null?void 0:i.disabled)),m=$(()=>l.cssVarBlock({"void-color":n.voidColor,"disabled-void-color":n.disabledVoidColor,"fill-color":w.value})),g=$(()=>{let N="";return n.showScore?N=n.scoreTemplate.replace(/\{\s*value\s*\}/,p.value?`${n.modelValue}`:`${f.value}`):n.showText&&(N=n.texts[Math.ceil(f.value)-1]),N}),b=$(()=>n.modelValue*100-Math.floor(n.modelValue)*100),y=$(()=>_t(n.colors)?{[n.lowThreshold]:n.colors[0],[n.highThreshold]:{value:n.colors[1],excluded:!0},[n.max]:n.colors[2]}:n.colors),w=$(()=>{const N=a(f.value,y.value);return Sr(N)?"":N}),_=$(()=>{let N="";return p.value?N=`${b.value}%`:n.allowHalf&&(N="50%"),{color:w.value,width:N}}),x=$(()=>{let N=_t(n.icons)?[...n.icons]:{...n.icons};return N=Ih(N),_t(N)?{[n.lowThreshold]:N[0],[n.highThreshold]:{value:N[1],excluded:!0},[n.max]:N[2]}:N}),S=$(()=>a(n.modelValue,x.value)),C=$(()=>p.value?nr(n.disabledVoidIcon)?n.disabledVoidIcon:Ih(n.disabledVoidIcon):nr(n.voidIcon)?n.voidIcon:Ih(n.voidIcon)),T=$(()=>a(f.value,x.value));function M(N){const L=p.value&&b.value>0&&N-1<n.modelValue&&N>n.modelValue,B=n.allowHalf&&h.value&&N-.5<=f.value&&N>f.value;return L||B}function k(N){n.clearable&&N===n.modelValue&&(N=0),r(Mr,N),n.modelValue!==N&&r("change",N)}function A(N){p.value||(n.allowHalf&&h.value?k(f.value):k(N))}function O(N){if(p.value)return;let L=f.value;const B=N.code;return B===Kt.up||B===Kt.right?(n.allowHalf?L+=.5:L+=1,N.stopPropagation(),N.preventDefault()):(B===Kt.left||B===Kt.down)&&(n.allowHalf?L-=.5:L-=1,N.stopPropagation(),N.preventDefault()),L=L<0?0:L,L=L>n.max?n.max:L,r(Mr,L),r("change",L),L}function P(N,L){if(!p.value){if(n.allowHalf&&L){let B=L.target;ns(B,l.e("item"))&&(B=B.querySelector(`.${l.e("icon")}`)),(B.clientWidth===0||ns(B,l.e("decimal")))&&(B=B.parentNode),h.value=L.offsetX*2<=B.clientWidth,f.value=h.value?N-.5:N}else f.value=N;d.value=N}}function R(){p.value||(n.allowHalf&&(h.value=n.modelValue!==Math.floor(n.modelValue)),f.value=n.modelValue,d.value=-1)}return He(()=>n.modelValue,N=>{f.value=N,h.value=n.modelValue!==Math.floor(n.modelValue)}),n.modelValue||r(Mr,0),t({setCurrentValue:P,resetCurrentValue:R}),(N,L)=>{var B;return F(),K("div",{id:E(u),class:G([E(v),E(l).is("disabled",E(p))]),role:"slider","aria-label":E(c)?void 0:N.label||"rating","aria-labelledby":E(c)?(B=E(o))==null?void 0:B.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":E(g)||void 0,"aria-valuemin":"0","aria-valuemax":N.max,tabindex:"0",style:Bt(E(m)),onKeydown:O},[(F(!0),K(zt,null,zr(N.max,(I,D)=>(F(),K("span",{key:D,class:G(E(l).e("item")),onMousemove:z=>P(I,z),onMouseleave:R,onClick:z=>A(I)},[ae(E($t),{class:G([E(l).e("icon"),{hover:d.value===I},E(l).is("active",I<=f.value)])},{default:he(()=>[M(I)?be("v-if",!0):(F(),K(zt,{key:0},[cr((F(),Oe(kr(E(T)),null,null,512)),[[nn,I<=f.value]]),cr((F(),Oe(kr(E(C)),null,null,512)),[[nn,!(I<=f.value)]])],64)),M(I)?(F(),K(zt,{key:1},[(F(),Oe(kr(E(C)),{class:G([E(l).em("decimal","box")])},null,8,["class"])),ae(E($t),{style:Bt(E(_)),class:G([E(l).e("icon"),E(l).e("decimal")])},{default:he(()=>[(F(),Oe(kr(E(S))))]),_:1},8,["style","class"])],64)):be("v-if",!0)]),_:2},1032,["class"])],42,oJe))),128)),N.showText||N.showScore?(F(),K("span",{key:0,class:G(E(l).e("text")),style:Bt({color:N.textColor})},ct(E(g)),7)):be("v-if",!0)],46,iJe)}}});var uJe=ut(lJe,[["__file","rate.vue"]]);const cJe=_r(uJe),Ch={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},f6={[Ch.success]:A6e,[Ch.warning]:l2,[Ch.error]:DI,[Ch.info]:RI},fJe=it({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),dJe=J({name:"ElResult"}),hJe=J({...dJe,props:fJe,setup(e){const t=e,r=Ze("result"),n=$(()=>{const a=t.icon,i=a&&Ch[a]?Ch[a]:"icon-info",o=f6[i]||f6["icon-info"];return{class:i,component:o}});return(a,i)=>(F(),K("div",{class:G(E(r).b())},[Z("div",{class:G(E(r).e("icon"))},[Pe(a.$slots,"icon",{},()=>[E(n).component?(F(),Oe(kr(E(n).component),{key:0,class:G(E(n).class)},null,8,["class"])):be("v-if",!0)])],2),a.title||a.$slots.title?(F(),K("div",{key:0,class:G(E(r).e("title"))},[Pe(a.$slots,"title",{},()=>[Z("p",null,ct(a.title),1)])],2)):be("v-if",!0),a.subTitle||a.$slots["sub-title"]?(F(),K("div",{key:1,class:G(E(r).e("subtitle"))},[Pe(a.$slots,"sub-title",{},()=>[Z("p",null,ct(a.subTitle),1)])],2)):be("v-if",!0),a.$slots.extra?(F(),K("div",{key:2,class:G(E(r).e("extra"))},[Pe(a.$slots,"extra")],2)):be("v-if",!0)],2))}});var vJe=ut(hJe,[["__file","result.vue"]]);const pJe=_r(vJe);var d6=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function gJe(e,t){return!!(e===t||d6(e)&&d6(t))}function mJe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!gJe(e[r],t[r]))return!1;return!0}function yJe(e,t){t=mJe;var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}const mX=()=>{const t=Er().proxy.$props;return $(()=>{const r=(n,a,i)=>({});return t.perfMode?a2(r):yJe(r)})},rT=50,Nw="itemRendered",Pw="scroll",Mh="forward",Dw="backward",es="auto",_2="smart",h0="start",bl="center",v0="end",Sv="horizontal",TO="vertical",bJe="ltr",jh="rtl",p0="negative",kO="positive-ascending",AO="positive-descending",wJe={[Sv]:"left",[TO]:"top"},EJe=20,_Je={[Sv]:"deltaX",[TO]:"deltaY"},xJe=({atEndEdge:e,atStartEdge:t,layout:r},n)=>{let a,i=0;const o=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:o,onWheel:l=>{vd(a);const u=l[_Je[r.value]];o(i)&&o(i+u)||(i+=u,GW()||l.preventDefault(),a=Pc(()=>{n(i),i=0}))}}},nT=Ws({type:ve([Number,Function]),required:!0}),aT=Ws({type:Number}),iT=Ws({type:Number,default:2}),SJe=Ws({type:String,values:["ltr","rtl"],default:"ltr"}),oT=Ws({type:Number,default:0}),Rw=Ws({type:Number,required:!0}),yX=Ws({type:String,values:["horizontal","vertical"],default:TO}),bX=it({className:{type:String,default:""},containerElement:{type:ve([String,Object]),default:"div"},data:{type:ve(Array),default:()=>Fn([])},direction:SJe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ve([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),wX=it({cache:iT,estimatedItemSize:aT,layout:yX,initScrollOffset:oT,total:Rw,itemSize:nT,...bX}),sT={type:Number,default:6},EX={type:Number,default:0},_X={type:Number,default:2},Jf=it({columnCache:iT,columnWidth:nT,estimatedColumnWidth:aT,estimatedRowHeight:aT,initScrollLeft:oT,initScrollTop:oT,itemKey:{type:ve(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:iT,rowHeight:nT,totalColumn:Rw,totalRow:Rw,hScrollbarSize:sT,vScrollbarSize:sT,scrollbarStartGap:EX,scrollbarEndGap:_X,role:String,...bX}),xX=it({alwaysOn:Boolean,class:String,layout:yX,total:Rw,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:sT,startGap:EX,endGap:_X,visible:Boolean}),Bf=(e,t)=>e<t?Mh:Dw,g0=e=>e===bJe||e===jh||e===Sv,h6=e=>e===jh;let lh=null;function $w(e=!1){if(lh===null||e){const t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";const n=document.createElement("div"),a=n.style;return a.width="100px",a.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?lh=AO:(t.scrollLeft=1,t.scrollLeft===0?lh=p0:lh=kO),document.body.removeChild(t),lh}return lh}function CJe({move:e,size:t,bar:r},n){const a={},i=`translate${r.axis}(${e}px)`;return a[r.size]=t,a.transform=i,a.msTransform=i,a.webkitTransform=i,n==="horizontal"?a.height="100%":a.width="100%",a}const lT=J({name:"ElVirtualScrollBar",props:xX,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const r=$(()=>e.startGap+e.endGap),n=Ze("virtual-scrollbar"),a=Ze("scrollbar"),i=W(),o=W();let s=null,l=null;const u=cn({isDragging:!1,traveled:0}),c=$(()=>_Y[e.layout]),f=$(()=>e.clientSize-E(r)),d=$(()=>({position:"absolute",width:`${Sv===e.layout?f.value:e.scrollbarSize}px`,height:`${Sv===e.layout?e.scrollbarSize:f.value}px`,[wJe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=$(()=>{const x=e.ratio,S=e.clientSize;if(x>=100)return Number.POSITIVE_INFINITY;if(x>=50)return x*S/100;const C=S/3;return Math.floor(Math.min(Math.max(x*S,EJe),C))}),v=$(()=>{if(!Number.isFinite(h.value))return{display:"none"};const x=`${h.value}px`;return CJe({bar:c.value,size:x,move:u.traveled},e.layout)}),p=$(()=>Math.floor(e.clientSize-h.value-E(r))),m=()=>{window.addEventListener("mousemove",w),window.addEventListener("mouseup",y);const x=E(o);x&&(l=document.onselectstart,document.onselectstart=()=>!1,x.addEventListener("touchmove",w),x.addEventListener("touchend",y))},g=()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",y),document.onselectstart=l,l=null;const x=E(o);x&&(x.removeEventListener("touchmove",w),x.removeEventListener("touchend",y))},b=x=>{x.stopImmediatePropagation(),!(x.ctrlKey||[1,2].includes(x.button))&&(u.isDragging=!0,u[c.value.axis]=x.currentTarget[c.value.offset]-(x[c.value.client]-x.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),m())},y=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),g()},w=x=>{const{isDragging:S}=u;if(!S||!o.value||!i.value)return;const C=u[c.value.axis];if(!C)return;vd(s);const T=(i.value.getBoundingClientRect()[c.value.direction]-x[c.value.client])*-1,M=o.value[c.value.offset]-C,k=T-M;s=Pc(()=>{u.traveled=Math.max(e.startGap,Math.min(k,p.value)),t("scroll",k,p.value)})},_=x=>{const S=Math.abs(x.target.getBoundingClientRect()[c.value.direction]-x[c.value.client]),C=o.value[c.value.offset]/2,T=S-C;u.traveled=Math.max(0,Math.min(T,p.value)),t("scroll",T,p.value)};return He(()=>e.scrollFrom,x=>{u.isDragging||(u.traveled=Math.ceil(x*p.value))}),On(()=>{g()}),()=>Yt("div",{role:"presentation",ref:i,class:[n.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:d.value,onMousedown:tr(_,["stop","prevent"]),onTouchstartPrevent:b},Yt("div",{ref:o,class:a.e("thumb"),style:v.value,onMousedown:b},[]))}}),SX=({name:e,getOffset:t,getItemSize:r,getItemOffset:n,getEstimatedTotalSize:a,getStartIndexForOffset:i,getStopIndexForStartIndex:o,initCache:s,clearCache:l,validateProps:u})=>J({name:e??"ElVirtualList",props:wX,emits:[Nw,Pw],setup(c,{emit:f,expose:d}){u(c);const h=Er(),v=Ze("vl"),p=W(s(c,h)),m=mX(),g=W(),b=W(),y=W(),w=W({isScrolling:!1,scrollDir:"forward",scrollOffset:Qt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),_=$(()=>{const{total:H,cache:Y}=c,{isScrolling:ie,scrollDir:X,scrollOffset:re}=E(w);if(H===0)return[0,0,0,0];const oe=i(c,re,E(p)),Ne=o(c,oe,re,E(p)),me=!ie||X===Dw?Math.max(1,Y):1,xe=!ie||X===Mh?Math.max(1,Y):1;return[Math.max(0,oe-me),Math.max(0,Math.min(H-1,Ne+xe)),oe,Ne]}),x=$(()=>a(c,E(p))),S=$(()=>g0(c.layout)),C=$(()=>[{position:"relative",[`overflow-${S.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:Qt(c.height)?`${c.height}px`:c.height,width:Qt(c.width)?`${c.width}px`:c.width},c.style]),T=$(()=>{const H=E(x),Y=E(S);return{height:Y?"100%":`${H}px`,pointerEvents:E(w).isScrolling?"none":void 0,width:Y?`${H}px`:"100%"}}),M=$(()=>S.value?c.width:c.height),{onWheel:k}=xJe({atStartEdge:$(()=>w.value.scrollOffset<=0),atEndEdge:$(()=>w.value.scrollOffset>=x.value),layout:$(()=>c.layout)},H=>{var Y,ie;(ie=(Y=y.value).onMouseUp)==null||ie.call(Y),L(Math.min(w.value.scrollOffset+H,x.value-M.value))}),A=()=>{const{total:H}=c;if(H>0){const[re,oe,Ne,me]=E(_);f(Nw,re,oe,Ne,me)}const{scrollDir:Y,scrollOffset:ie,updateRequested:X}=E(w);f(Pw,Y,ie,X)},O=H=>{const{clientHeight:Y,scrollHeight:ie,scrollTop:X}=H.currentTarget,re=E(w);if(re.scrollOffset===X)return;const oe=Math.max(0,Math.min(X,ie-Y));w.value={...re,isScrolling:!0,scrollDir:Bf(re.scrollOffset,oe),scrollOffset:oe,updateRequested:!1},Ut(D)},P=H=>{const{clientWidth:Y,scrollLeft:ie,scrollWidth:X}=H.currentTarget,re=E(w);if(re.scrollOffset===ie)return;const{direction:oe}=c;let Ne=ie;if(oe===jh)switch($w()){case p0:{Ne=-ie;break}case AO:{Ne=X-Y-ie;break}}Ne=Math.max(0,Math.min(Ne,X-Y)),w.value={...re,isScrolling:!0,scrollDir:Bf(re.scrollOffset,Ne),scrollOffset:Ne,updateRequested:!1},Ut(D)},R=H=>{E(S)?P(H):O(H),A()},N=(H,Y)=>{const ie=(x.value-M.value)/Y*H;L(Math.min(x.value-M.value,ie))},L=H=>{H=Math.max(H,0),H!==E(w).scrollOffset&&(w.value={...E(w),scrollOffset:H,scrollDir:Bf(E(w).scrollOffset,H),updateRequested:!0},Ut(D))},B=(H,Y=es)=>{const{scrollOffset:ie}=E(w);H=Math.max(0,Math.min(H,c.total-1)),L(t(c,H,Y,ie,E(p)))},I=H=>{const{direction:Y,itemSize:ie,layout:X}=c,re=m.value(l&&ie,l&&X,l&&Y);let oe;if(Xr(re,String(H)))oe=re[H];else{const Ne=n(c,H,E(p)),me=r(c,H,E(p)),xe=E(S),ze=Y===jh,te=xe?Ne:0;re[H]=oe={position:"absolute",left:ze?void 0:`${te}px`,right:ze?`${te}px`:void 0,top:xe?0:`${Ne}px`,height:xe?"100%":`${me}px`,width:xe?`${me}px`:"100%"}}return oe},D=()=>{w.value.isScrolling=!1,Ut(()=>{m.value(-1,null,null)})},z=()=>{const H=g.value;H&&(H.scrollTop=0)};vr(()=>{if(!Ur)return;const{initScrollOffset:H}=c,Y=E(g);Qt(H)&&Y&&(E(S)?Y.scrollLeft=H:Y.scrollTop=H),A()}),_u(()=>{const{direction:H,layout:Y}=c,{scrollOffset:ie,updateRequested:X}=E(w),re=E(g);if(X&&re)if(Y===Sv)if(H===jh)switch($w()){case p0:{re.scrollLeft=-ie;break}case kO:{re.scrollLeft=ie;break}default:{const{clientWidth:oe,scrollWidth:Ne}=re;re.scrollLeft=Ne-oe-ie;break}}else re.scrollLeft=ie;else re.scrollTop=ie});const U={ns:v,clientSize:M,estimatedTotalSize:x,windowStyle:C,windowRef:g,innerRef:b,innerStyle:T,itemsToRender:_,scrollbarRef:y,states:w,getItemStyle:I,onScroll:R,onScrollbarScroll:N,onWheel:k,scrollTo:L,scrollToItem:B,resetScrollTop:z};return d({windowRef:g,innerRef:b,getItemStyleCache:m,scrollTo:L,scrollToItem:B,resetScrollTop:z,states:w}),U},render(c){var f;const{$slots:d,className:h,clientSize:v,containerElement:p,data:m,getItemStyle:g,innerElement:b,itemsToRender:y,innerStyle:w,layout:_,total:x,onScroll:S,onScrollbarScroll:C,onWheel:T,states:M,useIsScrolling:k,windowStyle:A,ns:O}=c,[P,R]=y,N=kr(p),L=kr(b),B=[];if(x>0)for(let U=P;U<=R;U++)B.push((f=d.default)==null?void 0:f.call(d,{data:m,key:U,index:U,isScrolling:k?M.isScrolling:void 0,style:g(U)}));const I=[Yt(L,{style:w,ref:"innerRef"},nr(L)?B:{default:()=>B})],D=Yt(lT,{ref:"scrollbarRef",clientSize:v,layout:_,onScroll:C,ratio:v*100/this.estimatedTotalSize,scrollFrom:M.scrollOffset/(this.estimatedTotalSize-v),total:x}),z=Yt(N,{class:[O.e("window"),h],style:A,onScroll:S,onWheel:T,ref:"windowRef",key:0},nr(N)?[I]:{default:()=>[I]});return Yt("div",{key:0,class:[O.e("wrapper"),M.scrollbarAlwaysOn?"always-on":""]},[z,D])}}),CX=SX({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:r,layout:n,width:a},i,o,s)=>{const l=g0(n)?a:e,u=Math.max(0,t*r-l),c=Math.min(u,i*r),f=Math.max(0,(i+1)*r-l);switch(o===_2&&(s>=f-l&&s<=c+l?o=es:o=bl),o){case h0:return c;case v0:return f;case bl:{const d=Math.round(f+(c-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d}case es:default:return s>=f&&s<=c?s:s<f?f:c}},getStartIndexForOffset:({total:e,itemSize:t},r)=>Math.max(0,Math.min(e-1,Math.floor(r/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:r,layout:n,width:a},i,o)=>{const s=i*r,l=g0(n)?a:e,u=Math.ceil((l+o-s)/r);return Math.max(0,Math.min(t-1,i+u-1))},initCache(){},clearCache:!0,validateProps(){}}),Th=(e,t,r)=>{const{itemSize:n}=e,{items:a,lastVisitedIndex:i}=r;if(t>i){let o=0;if(i>=0){const s=a[i];o=s.offset+s.size}for(let s=i+1;s<=t;s++){const l=n(s);a[s]={offset:o,size:l},o+=l}r.lastVisitedIndex=t}return a[t]},MJe=(e,t,r)=>{const{items:n,lastVisitedIndex:a}=t;return(a>0?n[a].offset:0)>=r?MX(e,t,0,a,r):TJe(e,t,Math.max(0,a),r)},MX=(e,t,r,n,a)=>{for(;r<=n;){const i=r+Math.floor((n-r)/2),o=Th(e,i,t).offset;if(o===a)return i;o<a?r=i+1:o>a&&(n=i-1)}return Math.max(0,r-1)},TJe=(e,t,r,n)=>{const{total:a}=e;let i=1;for(;r<a&&Th(e,r,t).offset<n;)r+=i,i*=2;return MX(e,t,Math.floor(r/2),Math.min(r,a-1),n)},v6=({total:e},{items:t,estimatedItemSize:r,lastVisitedIndex:n})=>{let a=0;if(n>=e&&(n=e-1),n>=0){const s=t[n];a=s.offset+s.size}const o=(e-n-1)*r;return a+o},kJe=SX({name:"ElDynamicSizeList",getItemOffset:(e,t,r)=>Th(e,t,r).offset,getItemSize:(e,t,{items:r})=>r[t].size,getEstimatedTotalSize:v6,getOffset:(e,t,r,n,a)=>{const{height:i,layout:o,width:s}=e,l=g0(o)?s:i,u=Th(e,t,a),c=v6(e,a),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch(r===_2&&(n>=d-l&&n<=f+l?r=es:r=bl),r){case h0:return f;case v0:return d;case bl:return Math.round(d+(f-d)/2);case es:default:return n>=d&&n<=f?n:n<d?d:f}},getStartIndexForOffset:(e,t,r)=>MJe(e,r,t),getStopIndexForStartIndex:(e,t,r,n)=>{const{height:a,total:i,layout:o,width:s}=e,l=g0(o)?s:a,u=Th(e,t,n),c=r+l;let f=u.offset+u.size,d=t;for(;d<i-1&&f<c;)d++,f+=Th(e,d,n).size;return d},initCache({estimatedItemSize:e=rT},t){const r={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return r.clearCacheAfterIndex=(n,a=!0)=>{var i,o;r.lastVisitedIndex=Math.min(r.lastVisitedIndex,n-1),(i=t.exposed)==null||i.getItemStyleCache(-1),a&&((o=t.proxy)==null||o.$forceUpdate())},r},clearCache:!1,validateProps:({itemSize:e})=>{}}),AJe=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:r,atYStartEdge:n},a)=>{let i=null,o=0,s=0;const l=(c,f)=>{const d=c<=0&&t.value||c>=0&&e.value,h=f<=0&&n.value||f>=0&&r.value;return d&&h};return{hasReachedEdge:l,onWheel:c=>{vd(i);let f=c.deltaX,d=c.deltaY;Math.abs(f)>Math.abs(d)?d=0:f=0,c.shiftKey&&d!==0&&(f=d,d=0),!(l(o,s)&&l(o+f,s+d))&&(o+=f,s+=d,c.preventDefault(),i=Pc(()=>{a(o,s),o=0,s=0}))}}},TX=({name:e,clearCache:t,getColumnPosition:r,getColumnStartIndexForOffset:n,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:i,getEstimatedTotalWidth:o,getColumnOffset:s,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:f,initCache:d,injectToInstance:h,validateProps:v})=>J({name:e??"ElVirtualList",props:Jf,emits:[Nw,Pw],setup(p,{emit:m,expose:g,slots:b}){const y=Ze("vl");v(p);const w=Er(),_=W(d(p,w));h==null||h(w,_);const x=W(),S=W(),C=W(),T=W(null),M=W({isScrolling:!1,scrollLeft:Qt(p.initScrollLeft)?p.initScrollLeft:0,scrollTop:Qt(p.initScrollTop)?p.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Mh,yAxisScrollDir:Mh}),k=mX(),A=$(()=>Number.parseInt(`${p.height}`,10)),O=$(()=>Number.parseInt(`${p.width}`,10)),P=$(()=>{const{totalColumn:Ie,totalRow:De,columnCache:Ge}=p,{isScrolling:Qe,xAxisScrollDir:ke,scrollLeft:q}=E(M);if(Ie===0||De===0)return[0,0,0,0];const j=n(p,q,E(_)),Ce=a(p,j,q,E(_)),fe=!Qe||ke===Dw?Math.max(1,Ge):1,ge=!Qe||ke===Mh?Math.max(1,Ge):1;return[Math.max(0,j-fe),Math.max(0,Math.min(Ie-1,Ce+ge)),j,Ce]}),R=$(()=>{const{totalColumn:Ie,totalRow:De,rowCache:Ge}=p,{isScrolling:Qe,yAxisScrollDir:ke,scrollTop:q}=E(M);if(Ie===0||De===0)return[0,0,0,0];const j=c(p,q,E(_)),Ce=f(p,j,q,E(_)),fe=!Qe||ke===Dw?Math.max(1,Ge):1,ge=!Qe||ke===Mh?Math.max(1,Ge):1;return[Math.max(0,j-fe),Math.max(0,Math.min(De-1,Ce+ge)),j,Ce]}),N=$(()=>i(p,E(_))),L=$(()=>o(p,E(_))),B=$(()=>{var Ie;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:p.direction,height:Qt(p.height)?`${p.height}px`:p.height,width:Qt(p.width)?`${p.width}px`:p.width},(Ie=p.style)!=null?Ie:{}]}),I=$(()=>{const Ie=`${E(L)}px`;return{height:`${E(N)}px`,pointerEvents:E(M).isScrolling?"none":void 0,width:Ie}}),D=()=>{const{totalColumn:Ie,totalRow:De}=p;if(Ie>0&&De>0){const[Ce,fe,ge,Ue]=E(P),[tt,ot,Ye,we]=E(R);m(Nw,{columnCacheStart:Ce,columnCacheEnd:fe,rowCacheStart:tt,rowCacheEnd:ot,columnVisibleStart:ge,columnVisibleEnd:Ue,rowVisibleStart:Ye,rowVisibleEnd:we})}const{scrollLeft:Ge,scrollTop:Qe,updateRequested:ke,xAxisScrollDir:q,yAxisScrollDir:j}=E(M);m(Pw,{xAxisScrollDir:q,scrollLeft:Ge,yAxisScrollDir:j,scrollTop:Qe,updateRequested:ke})},z=Ie=>{const{clientHeight:De,clientWidth:Ge,scrollHeight:Qe,scrollLeft:ke,scrollTop:q,scrollWidth:j}=Ie.currentTarget,Ce=E(M);if(Ce.scrollTop===q&&Ce.scrollLeft===ke)return;let fe=ke;if(h6(p.direction))switch($w()){case p0:fe=-ke;break;case AO:fe=j-Ge-ke;break}M.value={...Ce,isScrolling:!0,scrollLeft:fe,scrollTop:Math.max(0,Math.min(q,Qe-De)),updateRequested:!0,xAxisScrollDir:Bf(Ce.scrollLeft,fe),yAxisScrollDir:Bf(Ce.scrollTop,q)},Ut(()=>oe()),Ne(),D()},U=(Ie,De)=>{const Ge=E(A),Qe=(N.value-Ge)/De*Ie;ie({scrollTop:Math.min(N.value-Ge,Qe)})},H=(Ie,De)=>{const Ge=E(O),Qe=(L.value-Ge)/De*Ie;ie({scrollLeft:Math.min(L.value-Ge,Qe)})},{onWheel:Y}=AJe({atXStartEdge:$(()=>M.value.scrollLeft<=0),atXEndEdge:$(()=>M.value.scrollLeft>=L.value-E(O)),atYStartEdge:$(()=>M.value.scrollTop<=0),atYEndEdge:$(()=>M.value.scrollTop>=N.value-E(A))},(Ie,De)=>{var Ge,Qe,ke,q;(Qe=(Ge=S.value)==null?void 0:Ge.onMouseUp)==null||Qe.call(Ge),(q=(ke=C.value)==null?void 0:ke.onMouseUp)==null||q.call(ke);const j=E(O),Ce=E(A);ie({scrollLeft:Math.min(M.value.scrollLeft+Ie,L.value-j),scrollTop:Math.min(M.value.scrollTop+De,N.value-Ce)})}),ie=({scrollLeft:Ie=M.value.scrollLeft,scrollTop:De=M.value.scrollTop})=>{Ie=Math.max(Ie,0),De=Math.max(De,0);const Ge=E(M);De===Ge.scrollTop&&Ie===Ge.scrollLeft||(M.value={...Ge,xAxisScrollDir:Bf(Ge.scrollLeft,Ie),yAxisScrollDir:Bf(Ge.scrollTop,De),scrollLeft:Ie,scrollTop:De,updateRequested:!0},Ut(()=>oe()),Ne(),D())},X=(Ie=0,De=0,Ge=es)=>{const Qe=E(M);De=Math.max(0,Math.min(De,p.totalColumn-1)),Ie=Math.max(0,Math.min(Ie,p.totalRow-1));const ke=kH(y.namespace.value),q=E(_),j=i(p,q),Ce=o(p,q);ie({scrollLeft:s(p,De,Ge,Qe.scrollLeft,q,Ce>p.width?ke:0),scrollTop:l(p,Ie,Ge,Qe.scrollTop,q,j>p.height?ke:0)})},re=(Ie,De)=>{const{columnWidth:Ge,direction:Qe,rowHeight:ke}=p,q=k.value(t&&Ge,t&&ke,t&&Qe),j=`${Ie},${De}`;if(Xr(q,j))return q[j];{const[,Ce]=r(p,De,E(_)),fe=E(_),ge=h6(Qe),[Ue,tt]=u(p,Ie,fe),[ot]=r(p,De,fe);return q[j]={position:"absolute",left:ge?void 0:`${Ce}px`,right:ge?`${Ce}px`:void 0,top:`${tt}px`,height:`${Ue}px`,width:`${ot}px`},q[j]}},oe=()=>{M.value.isScrolling=!1,Ut(()=>{k.value(-1,null,null)})};vr(()=>{if(!Ur)return;const{initScrollLeft:Ie,initScrollTop:De}=p,Ge=E(x);Ge&&(Qt(Ie)&&(Ge.scrollLeft=Ie),Qt(De)&&(Ge.scrollTop=De)),D()});const Ne=()=>{const{direction:Ie}=p,{scrollLeft:De,scrollTop:Ge,updateRequested:Qe}=E(M),ke=E(x);if(Qe&&ke){if(Ie===jh)switch($w()){case p0:{ke.scrollLeft=-De;break}case kO:{ke.scrollLeft=De;break}default:{const{clientWidth:q,scrollWidth:j}=ke;ke.scrollLeft=j-q-De;break}}else ke.scrollLeft=Math.max(0,De);ke.scrollTop=Math.max(0,Ge)}},{resetAfterColumnIndex:me,resetAfterRowIndex:xe,resetAfter:ze}=w.proxy;g({windowRef:x,innerRef:T,getItemStyleCache:k,scrollTo:ie,scrollToItem:X,states:M,resetAfterColumnIndex:me,resetAfterRowIndex:xe,resetAfter:ze});const te=()=>{const{scrollbarAlwaysOn:Ie,scrollbarStartGap:De,scrollbarEndGap:Ge,totalColumn:Qe,totalRow:ke}=p,q=E(O),j=E(A),Ce=E(L),fe=E(N),{scrollLeft:ge,scrollTop:Ue}=E(M),tt=Yt(lT,{ref:S,alwaysOn:Ie,startGap:De,endGap:Ge,class:y.e("horizontal"),clientSize:q,layout:"horizontal",onScroll:H,ratio:q*100/Ce,scrollFrom:ge/(Ce-q),total:ke,visible:!0}),ot=Yt(lT,{ref:C,alwaysOn:Ie,startGap:De,endGap:Ge,class:y.e("vertical"),clientSize:j,layout:"vertical",onScroll:U,ratio:j*100/fe,scrollFrom:Ue/(fe-j),total:Qe,visible:!0});return{horizontalScrollbar:tt,verticalScrollbar:ot}},le=()=>{var Ie;const[De,Ge]=E(P),[Qe,ke]=E(R),{data:q,totalColumn:j,totalRow:Ce,useIsScrolling:fe,itemKey:ge}=p,Ue=[];if(Ce>0&&j>0)for(let tt=Qe;tt<=ke;tt++)for(let ot=De;ot<=Ge;ot++)Ue.push((Ie=b.default)==null?void 0:Ie.call(b,{columnIndex:ot,data:q,key:ge({columnIndex:ot,data:q,rowIndex:tt}),isScrolling:fe?E(M).isScrolling:void 0,style:re(tt,ot),rowIndex:tt}));return Ue},Ae=()=>{const Ie=kr(p.innerElement),De=le();return[Yt(Ie,{style:E(I),ref:T},nr(Ie)?De:{default:()=>De})]};return()=>{const Ie=kr(p.containerElement),{horizontalScrollbar:De,verticalScrollbar:Ge}=te(),Qe=Ae();return Yt("div",{key:0,class:y.e("wrapper"),role:p.role},[Yt(Ie,{class:p.className,style:E(B),onScroll:z,onWheel:Y,ref:x},nr(Ie)?Qe:{default:()=>Qe}),De,Ge])}}}),IJe=TX({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:r},n,a,i,o,s)=>{r=Number(r);const l=Math.max(0,e*t-r),u=Math.min(l,n*t),c=Math.max(0,n*t-r+s+t);switch(a==="smart"&&(i>=c-r&&i<=u+r?a=es:a=bl),a){case h0:return u;case v0:return c;case bl:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(r/2)?0:f>l+Math.floor(r/2)?l:f}case es:default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:r},n,a,i,o,s)=>{t=Number(t);const l=Math.max(0,r*e-t),u=Math.min(l,n*e),c=Math.max(0,n*e-t+s+e);switch(a===_2&&(i>=c-t&&i<=u+t?a=es:a=bl),a){case h0:return u;case v0:return c;case bl:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(t/2)?0:f>l+Math.floor(t/2)?l:f}case es:default:return i>=c&&i<=u?i:c>u||i<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},r)=>Math.max(0,Math.min(t-1,Math.floor(r/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:r},n,a)=>{const i=n*e,o=Math.ceil((r+a-i)/e);return Math.max(0,Math.min(t-1,n+o-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},r)=>Math.max(0,Math.min(t-1,Math.floor(r/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:r},n,a)=>{const i=n*e,o=Math.ceil((r+a-i)/e);return Math.max(0,Math.min(t-1,n+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:Bw,min:kX,floor:AX}=Math,OJe={column:"columnWidth",row:"rowHeight"},uT={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},eu=(e,t,r,n)=>{const[a,i,o]=[r[n],e[OJe[n]],r[uT[n]]];if(t>o){let s=0;if(o>=0){const l=a[o];s=l.offset+l.size}for(let l=o+1;l<=t;l++){const u=i(l);a[l]={offset:s,size:u},s+=u}r[uT[n]]=t}return a[t]},IX=(e,t,r,n,a,i)=>{for(;r<=n;){const o=r+AX((n-r)/2),s=eu(e,o,t,i).offset;if(s===a)return o;s<a?r=o+1:n=o-1}return Bw(0,r-1)},LJe=(e,t,r,n,a)=>{const i=a==="column"?e.totalColumn:e.totalRow;let o=1;for(;r<i&&eu(e,r,t,a).offset<n;)r+=o,o*=2;return IX(e,t,AX(r/2),kX(r,i-1),n,a)},p6=(e,t,r,n)=>{const[a,i]=[t[n],t[uT[n]]];return(i>0?a[i].offset:0)>=r?IX(e,t,0,i,r,n):LJe(e,t,Bw(0,i),r,n)},OX=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:r,row:n})=>{let a=0;if(r>=e&&(r=e-1),r>=0){const s=n[r];a=s.offset+s.size}const o=(e-r-1)*t;return a+o},LX=({totalColumn:e},{column:t,estimatedColumnWidth:r,lastVisitedColumnIndex:n})=>{let a=0;if(n>e&&(n=e-1),n>=0){const s=t[n];a=s.offset+s.size}const o=(e-n-1)*r;return a+o},NJe={column:LX,row:OX},g6=(e,t,r,n,a,i,o)=>{const[s,l]=[i==="row"?e.height:e.width,NJe[i]],u=eu(e,t,a,i),c=l(e,a),f=Bw(0,kX(c-s,u.offset)),d=Bw(0,u.offset-s+o+u.size);switch(r===_2&&(n>=d-s&&n<=f+s?r=es:r=bl),r){case h0:return f;case v0:return d;case bl:return Math.round(d+(f-d)/2);case es:default:return n>=d&&n<=f?n:d>f||n<d?d:f}},PJe=TX({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,r)=>{const n=eu(e,t,r,"column");return[n.size,n.offset]},getRowPosition:(e,t,r)=>{const n=eu(e,t,r,"row");return[n.size,n.offset]},getColumnOffset:(e,t,r,n,a,i)=>g6(e,t,r,n,a,"column",i),getRowOffset:(e,t,r,n,a,i)=>g6(e,t,r,n,a,"row",i),getColumnStartIndexForOffset:(e,t,r)=>p6(e,r,t,"column"),getColumnStopIndexForStartIndex:(e,t,r,n)=>{const a=eu(e,t,n,"column"),i=r+e.width;let o=a.offset+a.size,s=t;for(;s<e.totalColumn-1&&o<i;)s++,o+=eu(e,t,n,"column").size;return s},getEstimatedTotalHeight:OX,getEstimatedTotalWidth:LX,getRowStartIndexForOffset:(e,t,r)=>p6(e,r,t,"row"),getRowStopIndexForStartIndex:(e,t,r,n)=>{const{totalRow:a,height:i}=e,o=eu(e,t,n,"row"),s=r+i;let l=o.size+o.offset,u=t;for(;u<a-1&&l<s;)u++,l+=eu(e,u,n,"row").size;return u},injectToInstance:(e,t)=>{const r=({columnIndex:i,rowIndex:o},s)=>{var l,u;s=ca(s)?!0:s,Qt(i)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,i-1)),Qt(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),(l=e.exposed)==null||l.getItemStyleCache.value(-1,null,null),s&&((u=e.proxy)==null||u.$forceUpdate())},n=(i,o)=>{r({columnIndex:i},o)},a=(i,o)=>{r({rowIndex:i},o)};Object.assign(e.proxy,{resetAfterColumnIndex:n,resetAfterRowIndex:a,resetAfter:r})},initCache:({estimatedColumnWidth:e=rT,estimatedRowHeight:t=rT})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),DJe=J({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Ze("select")}}});function RJe(e,t,r,n,a,i){return e.item.isTitle?(F(),K("div",{key:0,class:G(e.ns.be("group","title")),style:Bt([e.style,{lineHeight:`${e.height}px`}])},ct(e.item.label),7)):(F(),K("div",{key:1,class:G(e.ns.be("group","split")),style:Bt(e.style)},[Z("span",{class:G(e.ns.be("group","split-dash")),style:Bt({top:`${e.height/2}px`})},null,6)],6))}var $Je=ut(DJe,[["render",RJe],["__file","group-item.vue"]]);function BJe(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const NX={label:"label",value:"value",disabled:"disabled",options:"options"};function x2(e){const t=$(()=>({...NX,...e.props}));return{aliasProps:t,getLabel:o=>ea(o,t.value.label),getValue:o=>ea(o,t.value.value),getDisabled:o=>ea(o,t.value.disabled),getOptions:o=>ea(o,t.value.options)}}const FJe=it({allowCreate:Boolean,autocomplete:{type:ve(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Cn,default:Kc},effect:{type:ve(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ve([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ve(Array),required:!0},placeholder:{type:String},teleported:ni.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ve(Object),default:()=>({})},remote:Boolean,size:Da,props:{type:ve(Object),default:()=>NX},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:ve(String),values:Ad,default:"bottom-start"},fallbackPlacements:{type:ve(Array),default:["bottom-start","top-start","right","left"]},tagType:{...b2.type,default:"info"},ariaLabel:{type:String,default:void 0},...jv}),zJe=it({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ve(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),IO=Symbol("ElSelectV2Injection"),GJe=J({props:zJe,emits:["select","hover"],setup(e,{emit:t}){const r=At(IO),n=Ze("select"),{hoverItem:a,selectOptionClick:i}=BJe(e,{emit:t}),{getLabel:o}=x2(r.props);return{ns:n,hoverItem:a,selectOptionClick:i,getLabel:o}}}),jJe=["aria-selected"];function VJe(e,t,r,n,a,i){return F(),K("li",{"aria-selected":e.selected,style:Bt(e.style),class:G([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMouseenter:t[0]||(t[0]=(...o)=>e.hoverItem&&e.hoverItem(...o)),onClick:t[1]||(t[1]=tr((...o)=>e.selectOptionClick&&e.selectOptionClick(...o),["stop"]))},[Pe(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Z("span",null,ct(e.getLabel(e.item)),1)])],46,jJe)}var UJe=ut(GJe,[["render",VJe],["__file","option-item.vue"]]),WJe=J({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:r}){const n=At(IO),a=Ze("select"),{getLabel:i,getValue:o,getDisabled:s}=x2(n.props),l=W([]),u=W(),c=$(()=>e.data.length);He(()=>c.value,()=>{var k,A;(A=(k=n.tooltipRef.value).updatePopper)==null||A.call(k)});const f=$(()=>ca(n.props.estimatedOptionHeight)),d=$(()=>f.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:k=>l.value[k]}),h=(k=[],A)=>{const{props:{valueKey:O}}=n;return Sr(A)?k&&k.some(P=>yn(ea(P,O))===ea(A,O)):k.includes(A)},v=(k,A)=>{if(Sr(A)){const{valueKey:O}=n.props;return ea(k,O)===ea(A,O)}else return k===A},p=(k,A)=>n.props.multiple?h(k,o(A)):v(k,o(A)),m=(k,A)=>{const{disabled:O,multiple:P,multipleLimit:R}=n.props;return O||!A&&(P?R>0&&k.length>=R:!1)},g=k=>e.hoveringIndex===k;r({listRef:u,isSized:f,isItemDisabled:m,isItemHovering:g,isItemSelected:p,scrollToItem:k=>{const A=u.value;A&&A.scrollToItem(k)},resetScrollTop:()=>{const k=u.value;k&&k.resetScrollTop()}});const w=k=>{const{index:A,data:O,style:P}=k,R=E(f),{itemSize:N,estimatedSize:L}=E(d),{modelValue:B}=n.props,{onSelect:I,onHover:D}=n,z=O[A];if(z.type==="Group")return ae($Je,{item:z,style:P,height:R?N:L},null);const U=p(B,z),H=m(B,U),Y=g(A);return ae(UJe,Dr(k,{selected:U,disabled:s(z)||H,created:!!z.created,hovering:Y,item:z,onSelect:I,onHover:D}),{default:ie=>{var X;return((X=t.default)==null?void 0:X.call(t,ie))||ae("span",null,[i(z)])}})},{onKeyboardNavigate:_,onKeyboardSelect:x}=n,S=()=>{_("forward")},C=()=>{_("backward")},T=()=>{n.expanded=!1},M=k=>{const{code:A}=k,{tab:O,esc:P,down:R,up:N,enter:L}=Kt;switch(A!==O&&(k.preventDefault(),k.stopPropagation()),A){case O:case P:{T();break}case R:{S();break}case N:{C();break}case L:{x();break}}};return()=>{var k,A,O,P;const{data:R,width:N}=e,{height:L,multiple:B,scrollbarAlwaysOn:I}=n.props,D=E(f)?CX:kJe;return ae("div",{class:[a.b("dropdown"),a.is("multiple",B)],style:{width:`${N}px`}},[(k=t.header)==null?void 0:k.call(t),((A=t.loading)==null?void 0:A.call(t))||((O=t.empty)==null?void 0:O.call(t))||ae(D,Dr({ref:u},E(d),{className:a.be("dropdown","list"),scrollbarAlwaysOn:I,data:R,height:L,width:N,total:R.length,onKeydown:M}),{default:z=>ae(w,z,null)}),(P=t.footer)==null?void 0:P.call(t)])}}});function HJe(e,t){const{aliasProps:r,getLabel:n,getValue:a}=x2(e),i=W(0),o=W(null),s=$(()=>e.allowCreate&&e.filterable);function l(h){const v=p=>n(p)===h;return e.options&&e.options.some(v)||t.createdOptions.some(v)}function u(h){s.value&&(e.multiple&&h.created?i.value++:o.value=h)}function c(h){if(s.value)if(h&&h.length>0){if(l(h))return;const v={[r.value.value]:h,[r.value.label]:h,created:!0,[r.value.disabled]:!1};t.createdOptions.length>=i.value?t.createdOptions[i.value]=v:t.createdOptions.push(v)}else if(e.multiple)t.createdOptions.length=i.value;else{const v=o.value;t.createdOptions.length=0,v&&v.created&&t.createdOptions.push(v)}}function f(h){if(!s.value||!h||!h.created||h.created&&e.reserveKeyword&&t.inputValue===n(h))return;const v=t.createdOptions.findIndex(p=>a(p)===a(h));~v&&(t.createdOptions.splice(v,1),i.value--)}function d(){s.value&&(t.createdOptions.length=0,i.value=0)}return{createNewOption:c,removeNewOption:f,selectNewOption:u,clearAllNewOption:d}}const YJe=11,KJe=(e,t)=>{const{t:r}=Zr(),n=Ze("select"),a=Ze("input"),{form:i,formItem:o}=Oi(),{inputId:s}=Ys(e,{formItemContext:o}),{getLabel:l,getValue:u,getDisabled:c,getOptions:f}=x2(e),{valueOnClear:d,isEmptyValue:h}=p2(e),v=cn({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),p=W(-1),m=W(-1),g=W(null),b=W(null),y=W(null),w=W(null),_=W(null),x=W(null),S=W(null),C=W(null),T=W(null),M=W(null),k=W(null),{wrapperRef:A,isFocused:O,handleFocus:P,handleBlur:R}=v2(_,{afterFocus(){e.automaticDropdown&&!B.value&&(B.value=!0,v.menuVisibleOnFocus=!0)},beforeBlur(mt){var gr,Rr;return((gr=y.value)==null?void 0:gr.isFocusInsideContent(mt))||((Rr=w.value)==null?void 0:Rr.isFocusInsideContent(mt))},afterBlur(){B.value=!1,v.menuVisibleOnFocus=!1}}),N=W([]),L=W([]),B=W(!1),I=$(()=>e.disabled||(i==null?void 0:i.disabled)),D=$(()=>{const mt=L.value.length*e.itemHeight;return mt>e.height?e.height:mt}),z=$(()=>e.multiple?_t(e.modelValue)&&e.modelValue.length>0:!h(e.modelValue)),U=$(()=>e.clearable&&!I.value&&v.inputHovering&&z.value),H=$(()=>e.remote&&e.filterable?"":Lu),Y=$(()=>H.value&&n.is("reverse",B.value)),ie=$(()=>(o==null?void 0:o.validateState)||""),X=$(()=>FI[ie.value]),re=$(()=>e.remote?300:0),oe=$(()=>e.loading?e.loadingText||r("el.select.loading"):e.remote&&!v.inputValue&&N.value.length===0?!1:e.filterable&&v.inputValue&&N.value.length>0&&L.value.length===0?e.noMatchText||r("el.select.noMatch"):N.value.length===0?e.noDataText||r("el.select.noData"):null),Ne=mt=>{const gr=Rr=>{if(e.filterable&&Jt(e.filterMethod)||e.filterable&&e.remote&&Jt(e.remoteMethod))return!0;const tn=new RegExp(OI(mt),"i");return mt?tn.test(l(Rr)||""):!0};return e.loading?[]:[...v.createdOptions,...e.options].reduce((Rr,tn)=>{const Yi=f(tn);if(_t(Yi)){const ho=Yi.filter(gr);ho.length>0&&Rr.push({label:l(tn),isTitle:!0,type:"Group"},...ho,{type:"Group"})}else(e.remote||gr(tn))&&Rr.push(tn);return Rr},[])},me=()=>{N.value=Ne(""),L.value=Ne(v.inputValue)},xe=$(()=>{const mt=new Map;return N.value.forEach((gr,Rr)=>{mt.set(ir(u(gr)),{option:gr,index:Rr})}),mt}),ze=$(()=>{const mt=new Map;return L.value.forEach((gr,Rr)=>{mt.set(ir(u(gr)),{option:gr,index:Rr})}),mt}),te=$(()=>L.value.every(mt=>c(mt))),le=ba(),Ae=$(()=>le.value==="small"?"small":"default"),Ve=()=>{var mt;m.value=((mt=g.value)==null?void 0:mt.offsetWidth)||200},Ie=()=>{if(!b.value)return 0;const mt=window.getComputedStyle(b.value);return Number.parseFloat(mt.gap||"6px")},De=$(()=>{const mt=Ie();return{maxWidth:`${k.value&&e.maxCollapseTags===1?v.selectionWidth-v.collapseItemWidth-mt:v.selectionWidth}px`}}),Ge=$(()=>({maxWidth:`${v.selectionWidth}px`})),Qe=$(()=>({width:`${Math.max(v.calculatorWidth,YJe)}px`})),ke=$(()=>_t(e.modelValue)?e.modelValue.length===0&&!v.inputValue:e.filterable?!v.inputValue:!0),q=$(()=>{var mt;const gr=(mt=e.placeholder)!=null?mt:r("el.select.placeholder");return e.multiple||!z.value?gr:v.selectedLabel}),j=$(()=>{var mt,gr;return(gr=(mt=y.value)==null?void 0:mt.popperRef)==null?void 0:gr.contentRef}),Ce=$(()=>{if(e.multiple){const mt=e.modelValue.length;if(e.modelValue.length>0&&ze.value.has(e.modelValue[mt-1])){const{index:gr}=ze.value.get(e.modelValue[mt-1]);return gr}}else if(e.modelValue&&ze.value.has(e.modelValue)){const{index:mt}=ze.value.get(e.modelValue);return mt}return-1}),fe=$({get(){return B.value&&oe.value!==!1},set(mt){B.value=mt}}),ge=$(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(0,e.maxCollapseTags):v.cachedOptions:[]),Ue=$(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:tt,removeNewOption:ot,selectNewOption:Ye,clearAllNewOption:we}=HJe(e,v),{handleCompositionStart:qe,handleCompositionUpdate:Be,handleCompositionEnd:pe}=hX(mt=>Ra(mt)),Re=()=>{I.value||(v.menuVisibleOnFocus?v.menuVisibleOnFocus=!1:B.value=!B.value)},ft=()=>{v.inputValue.length>0&&!B.value&&(B.value=!0),tt(v.inputValue),wt(v.inputValue)},Ee=uo(ft,re.value),wt=mt=>{v.previousQuery!==mt&&(v.previousQuery=mt,e.filterable&&Jt(e.filterMethod)?e.filterMethod(mt):e.filterable&&e.remote&&Jt(e.remoteMethod)&&e.remoteMethod(mt),e.defaultFirstOption&&(e.filterable||e.remote)&&L.value.length?Ut(ar):Ut(Aa))},ar=()=>{const mt=L.value.filter(tn=>!tn.disabled&&tn.type!=="Group"),gr=mt.find(tn=>tn.created),Rr=mt[0];v.hoveringIndex=In(L.value,gr||Rr)},lr=mt=>{ki(e.modelValue,mt)||t(Nn,mt)},Wr=mt=>{t(Mr,mt),lr(mt),v.previousValue=e.multiple?String(mt):mt},In=(mt=[],gr)=>{if(!Sr(gr))return mt.indexOf(gr);const Rr=e.valueKey;let tn=-1;return mt.some((Yi,ho)=>ea(Yi,Rr)===ea(gr,Rr)?(tn=ho,!0):!1),tn},ir=mt=>Sr(mt)?ea(mt,e.valueKey):mt,An=()=>{Ve()},Ro=()=>{v.selectionWidth=b.value.getBoundingClientRect().width},fo=()=>{v.calculatorWidth=x.value.getBoundingClientRect().width},ra=()=>{v.collapseItemWidth=k.value.getBoundingClientRect().width},Ea=()=>{var mt,gr;(gr=(mt=y.value)==null?void 0:mt.updatePopper)==null||gr.call(mt)},Wi=()=>{var mt,gr;(gr=(mt=w.value)==null?void 0:mt.updatePopper)==null||gr.call(mt)},$o=(mt,gr)=>{if(e.multiple){let Rr=e.modelValue.slice();const tn=In(Rr,u(mt));tn>-1?(Rr=[...Rr.slice(0,tn),...Rr.slice(tn+1)],v.cachedOptions.splice(tn,1),ot(mt)):(e.multipleLimit<=0||Rr.length<e.multipleLimit)&&(Rr=[...Rr,u(mt)],v.cachedOptions.push(mt),Ye(mt)),Wr(Rr),mt.created&&wt(""),e.filterable&&!e.reserveKeyword&&(v.inputValue="")}else p.value=gr,v.selectedLabel=l(mt),Wr(u(mt)),B.value=!1,Ye(mt),mt.created||we();Li()},gs=(mt,gr)=>{let Rr=e.modelValue.slice();const tn=In(Rr,u(gr));tn>-1&&!I.value&&(Rr=[...e.modelValue.slice(0,tn),...e.modelValue.slice(tn+1)],v.cachedOptions.splice(tn,1),Wr(Rr),t("remove-tag",u(gr)),ot(gr)),mt.stopPropagation(),Li()},Li=()=>{var mt;(mt=_.value)==null||mt.focus()},ci=()=>{var mt;(mt=_.value)==null||mt.blur()},Vn=()=>{v.inputValue.length>0?v.inputValue="":B.value=!1},fi=mt=>SH(mt,gr=>!v.cachedOptions.some(Rr=>u(Rr)===gr&&c(Rr))),Ar=mt=>{if(e.multiple&&mt.code!==Kt.delete&&v.inputValue.length===0){mt.preventDefault();const gr=e.modelValue.slice(),Rr=fi(gr);if(Rr<0)return;gr.splice(Rr,1);const tn=v.cachedOptions[Rr];v.cachedOptions.splice(Rr,1),ot(tn),Wr(gr)}},nt=()=>{let mt;_t(e.modelValue)?mt=[]:mt=d.value,e.multiple?v.cachedOptions=[]:v.selectedLabel="",B.value=!1,Wr(mt),t("clear"),we(),Li()},vt=(mt,gr=void 0)=>{const Rr=L.value;if(!["forward","backward"].includes(mt)||I.value||Rr.length<=0||te.value)return;if(!B.value)return Re();gr===void 0&&(gr=v.hoveringIndex);let tn=-1;mt==="forward"?(tn=gr+1,tn>=Rr.length&&(tn=0)):mt==="backward"&&(tn=gr-1,(tn<0||tn>=Rr.length)&&(tn=Rr.length-1));const Yi=Rr[tn];if(c(Yi)||Yi.type==="Group")return vt(mt,tn);v.hoveringIndex=tn,na(tn)},Br=()=>{if(B.value)~v.hoveringIndex&&L.value[v.hoveringIndex]&&$o(L.value[v.hoveringIndex],v.hoveringIndex);else return Re()},sn=mt=>{v.hoveringIndex=mt},Aa=()=>{e.multiple?v.hoveringIndex=L.value.findIndex(mt=>e.modelValue.some(gr=>ir(gr)===ir(mt))):v.hoveringIndex=L.value.findIndex(mt=>ir(mt)===ir(e.modelValue))},Ra=mt=>{if(v.inputValue=mt.target.value,e.remote)Ee();else return ft()},Za=mt=>{if(B.value=!1,O.value){const gr=new FocusEvent("focus",mt);R(gr)}},Ia=()=>(v.isBeforeHide=!1,Ut(()=>{~Ce.value&&na(v.hoveringIndex)})),na=mt=>{T.value.scrollToItem(mt)},Hi=mt=>{const gr=ir(mt);if(xe.value.has(gr)){const{option:Rr}=xe.value.get(gr);return Rr}return{value:mt,label:mt}},Zc=()=>{if(e.multiple)if(e.modelValue.length>0){v.cachedOptions.length=0,v.previousValue=e.modelValue.toString();for(const mt of e.modelValue){const gr=Hi(mt);v.cachedOptions.push(gr)}}else v.cachedOptions=[],v.previousValue=void 0;else if(z.value){v.previousValue=e.modelValue;const mt=L.value,gr=mt.findIndex(Rr=>ir(u(Rr))===ir(e.modelValue));~gr?v.selectedLabel=l(mt[gr]):v.selectedLabel=ir(e.modelValue)}else v.selectedLabel="",v.previousValue=void 0;we(),Ve()};return He(B,mt=>{mt?wt(""):(v.inputValue="",v.previousQuery=null,v.isBeforeHide=!0,tt("")),t("visible-change",mt)}),He(()=>e.modelValue,(mt,gr)=>{var Rr;(!mt||e.multiple&&mt.toString()!==v.previousValue||!e.multiple&&ir(mt)!==ir(v.previousValue))&&Zc(),!ki(mt,gr)&&e.validateEvent&&((Rr=o==null?void 0:o.validate)==null||Rr.call(o,"change").catch(tn=>void 0))},{deep:!0}),He(()=>e.options,()=>{const mt=_.value;(!mt||mt&&document.activeElement!==mt)&&Zc()},{deep:!0,flush:"post"}),He(()=>L.value,()=>T.value&&Ut(T.value.resetScrollTop)),gi(()=>{v.isBeforeHide||me()}),gi(()=>{const{valueKey:mt,options:gr}=e,Rr=new Map;for(const tn of gr){const Yi=u(tn);let ho=Yi;if(Sr(ho)&&(ho=ea(Yi,mt)),Rr.get(ho))break;Rr.set(ho,!0)}}),vr(()=>{Zc()}),Bn(g,An),Bn(b,Ro),Bn(x,fo),Bn(T,Ea),Bn(A,Ea),Bn(M,Wi),Bn(k,ra),{inputId:s,collapseTagSize:Ae,currentPlaceholder:q,expanded:B,emptyText:oe,popupHeight:D,debounce:re,allOptions:N,filteredOptions:L,iconComponent:H,iconReverse:Y,tagStyle:De,collapseTagStyle:Ge,inputStyle:Qe,popperSize:m,dropdownMenuVisible:fe,hasModelValue:z,shouldShowPlaceholder:ke,selectDisabled:I,selectSize:le,showClearBtn:U,states:v,isFocused:O,nsSelect:n,nsInput:a,calculatorRef:x,inputRef:_,menuRef:T,tagMenuRef:M,tooltipRef:y,tagTooltipRef:w,selectRef:g,wrapperRef:A,selectionRef:b,prefixRef:S,suffixRef:C,collapseItemRef:k,popperRef:j,validateState:ie,validateIcon:X,showTagList:ge,collapseTagList:Ue,debouncedOnInputChange:Ee,deleteTag:gs,getLabel:l,getValue:u,getDisabled:c,getValueKey:ir,handleBlur:R,handleClear:nt,handleClickOutside:Za,handleDel:Ar,handleEsc:Vn,handleFocus:P,focus:Li,blur:ci,handleMenuEnter:Ia,handleResize:An,resetSelectionWidth:Ro,resetCalculatorWidth:fo,updateTooltip:Ea,updateTagTooltip:Wi,updateOptions:me,toggleMenu:Re,scrollTo:na,onInput:Ra,onKeyboardNavigate:vt,onKeyboardSelect:Br,onSelect:$o,onHover:sn,handleCompositionStart:qe,handleCompositionEnd:pe,handleCompositionUpdate:Be}},XJe=J({name:"ElSelectV2",components:{ElSelectMenu:WJe,ElTag:f0,ElTooltip:Ii,ElIcon:$t},directives:{ClickOutside:wu},props:FJe,emits:[Mr,Nn,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const r=$(()=>{const{modelValue:a,multiple:i}=e,o=i?[]:void 0;return _t(a)?i?a:o:i?o:a}),n=KJe(cn({...ui(e),modelValue:r}),t);return $r(IO,{props:cn({...ui(e),height:n.popupHeight,modelValue:r}),tooltipRef:n.tooltipRef,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),{...n,modelValue:r}}}),qJe=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],ZJe=["textContent"];function QJe(e,t,r,n,a,i){const o=br("el-tag"),s=br("el-tooltip"),l=br("el-icon"),u=br("el-select-menu"),c=Kw("click-outside");return cr((F(),K("div",{ref:"selectRef",class:G([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t[14]||(t[14]=f=>e.states.inputHovering=!0),onMouseleave:t[15]||(t[15]=f=>e.states.inputHovering=!1),onClick:t[16]||(t[16]=tr((...f)=>e.toggleMenu&&e.toggleMenu(...f),["prevent","stop"]))},[ae(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[13]||(t[13]=f=>e.states.isBeforeHide=!1)},{default:he(()=>[Z("div",{ref:"wrapperRef",class:G([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(F(),K("div",{key:0,ref:"prefixRef",class:G(e.nsSelect.e("prefix"))},[Pe(e.$slots,"prefix")],2)):be("v-if",!0),Z("div",{ref:"selectionRef",class:G([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?Pe(e.$slots,"tag",{key:0},()=>[(F(!0),K(zt,null,zr(e.showTagList,f=>(F(),K("div",{key:e.getValueKey(e.getValue(f)),class:G(e.nsSelect.e("selected-item"))},[ae(o,{closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",style:Bt(e.tagStyle),onClose:d=>e.deleteTag(d,f)},{default:he(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},ct(e.getLabel(f)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(F(),Oe(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:he(()=>[Z("div",{ref:"collapseItemRef",class:G(e.nsSelect.e("selected-item"))},[ae(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,style:Bt(e.collapseTagStyle),"disable-transitions":""},{default:he(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))}," + "+ct(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:he(()=>[Z("div",{ref:"tagMenuRef",class:G(e.nsSelect.e("selection"))},[(F(!0),K(zt,null,zr(e.collapseTagList,f=>(F(),K("div",{key:e.getValueKey(e.getValue(f)),class:G(e.nsSelect.e("selected-item"))},[ae(o,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,"disable-transitions":"",onClose:d=>e.deleteTag(d,f)},{default:he(()=>[Z("span",{class:G(e.nsSelect.e("tags-text"))},ct(e.getLabel(f)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):be("v-if",!0)]):be("v-if",!0),e.selectDisabled?be("v-if",!0):(F(),K("div",{key:1,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[cr(Z("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=f=>e.states.inputValue=f),style:Bt(e.inputStyle),autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:G([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onFocus:t[1]||(t[1]=(...f)=>e.handleFocus&&e.handleFocus(...f)),onBlur:t[2]||(t[2]=(...f)=>e.handleBlur&&e.handleBlur(...f)),onInput:t[3]||(t[3]=(...f)=>e.onInput&&e.onInput(...f)),onCompositionstart:t[4]||(t[4]=(...f)=>e.handleCompositionStart&&e.handleCompositionStart(...f)),onCompositionupdate:t[5]||(t[5]=(...f)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...f)),onCompositionend:t[6]||(t[6]=(...f)=>e.handleCompositionEnd&&e.handleCompositionEnd(...f)),onKeydown:[t[7]||(t[7]=Sn(tr(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=Sn(tr(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=Sn(tr((...f)=>e.onKeyboardSelect&&e.onKeyboardSelect(...f),["stop","prevent"]),["enter"])),t[10]||(t[10]=Sn(tr((...f)=>e.handleEsc&&e.handleEsc(...f),["stop","prevent"]),["esc"])),t[11]||(t[11]=Sn(tr((...f)=>e.handleDel&&e.handleDel(...f),["stop"]),["delete"]))],onClick:t[12]||(t[12]=tr((...f)=>e.toggleMenu&&e.toggleMenu(...f),["stop"]))},null,46,qJe),[[qT,e.states.inputValue]]),e.filterable?(F(),K("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:G(e.nsSelect.e("input-calculator")),textContent:ct(e.states.inputValue)},null,10,ZJe)):be("v-if",!0)],2)),e.shouldShowPlaceholder?(F(),K("div",{key:2,class:G([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[Z("span",null,ct(e.currentPlaceholder),1)],2)):be("v-if",!0)],2),Z("div",{ref:"suffixRef",class:G(e.nsSelect.e("suffix"))},[e.iconComponent?cr((F(),Oe(l,{key:0,class:G([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:he(()=>[(F(),Oe(kr(e.iconComponent)))]),_:1},8,["class"])),[[nn,!e.showClearBtn]]):be("v-if",!0),e.showClearBtn&&e.clearIcon?(F(),Oe(l,{key:1,class:G([e.nsSelect.e("caret"),e.nsInput.e("icon")]),onClick:tr(e.handleClear,["prevent","stop"])},{default:he(()=>[(F(),Oe(kr(e.clearIcon)))]),_:1},8,["class","onClick"])):be("v-if",!0),e.validateState&&e.validateIcon?(F(),Oe(l,{key:2,class:G([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:he(()=>[(F(),Oe(kr(e.validateIcon)))]),_:1},8,["class"])):be("v-if",!0)],2)],2)]),content:he(()=>[ae(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},vu({default:he(f=>[Pe(e.$slots,"default",nu(Wh(f)))]),_:2},[e.$slots.header?{name:"header",fn:he(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","header"))},[Pe(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:he(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","loading"))},[Pe(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:he(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","empty"))},[Pe(e.$slots,"empty",{},()=>[Z("span",null,ct(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:he(()=>[Z("div",{class:G(e.nsSelect.be("dropdown","footer"))},[Pe(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[c,e.handleClickOutside,e.popperRef]])}var ub=ut(XJe,[["render",QJe],["__file","select.vue"]]);ub.install=e=>{e.component(ub.name,ub)};const JJe=ub,eet=JJe,tet=it({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),ret=it({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),net=J({name:"ElSkeletonItem"}),aet=J({...net,props:ret,setup(e){const t=Ze("skeleton");return(r,n)=>(F(),K("div",{class:G([E(t).e("item"),E(t).e(r.variant)])},[r.variant==="image"?(F(),Oe(E(J6e),{key:0})):be("v-if",!0)],2))}});var Fw=ut(aet,[["__file","skeleton-item.vue"]]);const iet=J({name:"ElSkeleton"}),oet=J({...iet,props:tet,setup(e,{expose:t}){const r=e,n=Ze("skeleton"),a=H8e(kn(r,"loading"),r.throttle);return t({uiLoading:a}),(i,o)=>E(a)?(F(),K("div",Dr({key:0,class:[E(n).b(),E(n).is("animated",i.animated)]},i.$attrs),[(F(!0),K(zt,null,zr(i.count,s=>(F(),K(zt,{key:s},[i.loading?Pe(i.$slots,"template",{key:s},()=>[ae(Fw,{class:G(E(n).is("first")),variant:"p"},null,8,["class"]),(F(!0),K(zt,null,zr(i.rows,l=>(F(),Oe(Fw,{key:l,class:G([E(n).e("paragraph"),E(n).is("last",l===i.rows&&i.rows>1)]),variant:"p"},null,8,["class"]))),128))]):be("v-if",!0)],64))),128))],16)):Pe(i.$slots,"default",nu(Dr({key:1},i.$attrs)))}});var set=ut(oet,[["__file","skeleton.vue"]]);const uet=_r(set,{SkeletonItem:Fw}),cet=jn(Fw),PX=Symbol("sliderContextKey"),fet=it({modelValue:{type:ve([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Da,inputSize:Da,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ve(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ve(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ad,default:"top"},marks:{type:ve(Object)},validateEvent:{type:Boolean,default:!0}}),vS=e=>Qt(e)||_t(e)&&e.every(Qt),det={[Mr]:vS,[zi]:vS,[Nn]:vS},het=(e,t,r)=>{const n=W();return vr(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Ln(window,"resize",r),await Ut(),r()}),{sliderWrapper:n}},vet=e=>$(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((r,n)=>r-n).filter(r=>r<=e.max&&r>=e.min).map(r=>({point:r,position:(r-e.min)*100/(e.max-e.min),mark:e.marks[r]})):[]),pet=(e,t,r)=>{const{form:n,formItem:a}=Oi(),i=Pn(),o=W(),s=W(),l={firstButton:o,secondButton:s},u=$(()=>e.disabled||(n==null?void 0:n.disabled)||!1),c=$(()=>Math.min(t.firstValue,t.secondValue)),f=$(()=>Math.max(t.firstValue,t.secondValue)),d=$(()=>e.range?`${100*(f.value-c.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),h=$(()=>e.range?`${100*(c.value-e.min)/(e.max-e.min)}%`:"0%"),v=$(()=>e.vertical?{height:e.height}:{}),p=$(()=>e.vertical?{height:d.value,bottom:h.value}:{width:d.value,left:h.value}),m=()=>{i.value&&(t.sliderSize=i.value[`client${e.vertical?"Height":"Width"}`])},g=k=>{const A=e.min+k*(e.max-e.min)/100;if(!e.range)return o;let O;return Math.abs(c.value-A)<Math.abs(f.value-A)?O=t.firstValue<t.secondValue?"firstButton":"secondButton":O=t.firstValue>t.secondValue?"firstButton":"secondButton",l[O]},b=k=>{const A=g(k);return A.value.setPosition(k),A},y=k=>{t.firstValue=k,_(e.range?[c.value,f.value]:k)},w=k=>{t.secondValue=k,e.range&&_([c.value,f.value])},_=k=>{r(Mr,k),r(zi,k)},x=async()=>{await Ut(),r(Nn,e.range?[c.value,f.value]:e.modelValue)},S=k=>{var A,O,P,R,N,L;if(u.value||t.dragging)return;m();let B=0;if(e.vertical){const I=(P=(O=(A=k.touches)==null?void 0:A.item(0))==null?void 0:O.clientY)!=null?P:k.clientY;B=(i.value.getBoundingClientRect().bottom-I)/t.sliderSize*100}else{const I=(L=(N=(R=k.touches)==null?void 0:R.item(0))==null?void 0:N.clientX)!=null?L:k.clientX,D=i.value.getBoundingClientRect().left;B=(I-D)/t.sliderSize*100}if(!(B<0||B>100))return b(B)};return{elFormItem:a,slider:i,firstButton:o,secondButton:s,sliderDisabled:u,minValue:c,maxValue:f,runwayStyle:v,barStyle:p,resetSize:m,setPosition:b,emitChange:x,onSliderWrapperPrevent:k=>{var A,O;((A=l.firstButton.value)!=null&&A.dragging||(O=l.secondButton.value)!=null&&O.dragging)&&k.preventDefault()},onSliderClick:k=>{S(k)&&x()},onSliderDown:async k=>{const A=S(k);A&&(await Ut(),A.value.onButtonDown(k))},setFirstValue:y,setSecondValue:w}},{left:get,down:met,right:yet,up:bet,home:wet,end:Eet,pageUp:_et,pageDown:xet}=Kt,Cet=(e,t,r)=>{const n=W(),a=W(!1),i=$(()=>t.value instanceof Function),o=$(()=>i.value&&t.value(e.modelValue)||e.modelValue),s=uo(()=>{r.value&&(a.value=!0)},50),l=uo(()=>{r.value&&(a.value=!1)},50);return{tooltip:n,tooltipVisible:a,formatValue:o,displayTooltip:s,hideTooltip:l}},Met=(e,t,r)=>{const{disabled:n,min:a,max:i,step:o,showTooltip:s,precision:l,sliderSize:u,formatTooltip:c,emitChange:f,resetSize:d,updateDragging:h}=At(PX),{tooltip:v,tooltipVisible:p,formatValue:m,displayTooltip:g,hideTooltip:b}=Cet(e,c,s),y=W(),w=$(()=>`${(e.modelValue-a.value)/(i.value-a.value)*100}%`),_=$(()=>e.vertical?{bottom:w.value}:{left:w.value}),x=()=>{t.hovering=!0,g()},S=()=>{t.hovering=!1,t.dragging||b()},C=U=>{n.value||(U.preventDefault(),B(U),window.addEventListener("mousemove",I),window.addEventListener("touchmove",I),window.addEventListener("mouseup",D),window.addEventListener("touchend",D),window.addEventListener("contextmenu",D),y.value.focus())},T=U=>{n.value||(t.newPosition=Number.parseFloat(w.value)+U/(i.value-a.value)*100,z(t.newPosition),f())},M=()=>{T(-o.value)},k=()=>{T(o.value)},A=()=>{T(-o.value*4)},O=()=>{T(o.value*4)},P=()=>{n.value||(z(0),f())},R=()=>{n.value||(z(100),f())},N=U=>{let H=!0;[get,met].includes(U.key)?M():[yet,bet].includes(U.key)?k():U.key===wet?P():U.key===Eet?R():U.key===xet?A():U.key===_et?O():H=!1,H&&U.preventDefault()},L=U=>{let H,Y;return U.type.startsWith("touch")?(Y=U.touches[0].clientY,H=U.touches[0].clientX):(Y=U.clientY,H=U.clientX),{clientX:H,clientY:Y}},B=U=>{t.dragging=!0,t.isClick=!0;const{clientX:H,clientY:Y}=L(U);e.vertical?t.startY=Y:t.startX=H,t.startPosition=Number.parseFloat(w.value),t.newPosition=t.startPosition},I=U=>{if(t.dragging){t.isClick=!1,g(),d();let H;const{clientX:Y,clientY:ie}=L(U);e.vertical?(t.currentY=ie,H=(t.startY-t.currentY)/u.value*100):(t.currentX=Y,H=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+H,z(t.newPosition)}},D=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||b(),t.isClick||z(t.newPosition),f()},0),window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",I),window.removeEventListener("mouseup",D),window.removeEventListener("touchend",D),window.removeEventListener("contextmenu",D))},z=async U=>{if(U===null||Number.isNaN(+U))return;U<0?U=0:U>100&&(U=100);const H=100/((i.value-a.value)/o.value);let ie=Math.round(U/H)*H*(i.value-a.value)*.01+a.value;ie=Number.parseFloat(ie.toFixed(l.value)),ie!==e.modelValue&&r(Mr,ie),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Ut(),t.dragging&&g(),v.value.updatePopper()};return He(()=>t.dragging,U=>{h(U)}),{disabled:n,button:y,tooltip:v,tooltipVisible:p,showTooltip:s,wrapperStyle:_,formatValue:m,handleMouseEnter:x,handleMouseLeave:S,onButtonDown:C,onKeyDown:N,setPosition:z}},Tet=(e,t,r,n)=>({stops:$(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const o=(e.max-e.min)/e.step,s=100*e.step/(e.max-e.min),l=Array.from({length:o-1}).map((u,c)=>(c+1)*s);return e.range?l.filter(u=>u<100*(r.value-e.min)/(e.max-e.min)||u>100*(n.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:o=>e.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),ket=(e,t,r,n,a,i)=>{const o=u=>{a(Mr,u),a(zi,u)},s=()=>e.range?![r.value,n.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&Ta("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&Array.isArray(f)?f[1]<e.min?o([e.min,e.min]):f[0]>e.max?o([e.max,e.max]):f[0]<e.min?o([e.min,f[1]]):f[1]>e.max?o([f[0],e.max]):(t.firstValue=f[0],t.secondValue=f[1],s()&&(e.validateEvent&&((u=i==null?void 0:i.validate)==null||u.call(i,"change").catch(d=>void 0)),t.oldValue=f.slice())):!e.range&&typeof f=="number"&&!Number.isNaN(f)&&(f<e.min?o(e.min):f>e.max?o(e.max):(t.firstValue=f,s()&&(e.validateEvent&&((c=i==null?void 0:i.validate)==null||c.call(i,"change").catch(d=>void 0)),t.oldValue=f)))};l(),He(()=>t.dragging,u=>{u||l()}),He(()=>e.modelValue,(u,c)=>{t.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((f,d)=>f===c[d])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),He(()=>[e.min,e.max],()=>{l()})},Aet=it({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ad,default:"top"}}),Iet={[Mr]:e=>Qt(e)},Oet=["tabindex"],Let=J({name:"ElSliderButton"}),Net=J({...Let,props:Aet,emits:Iet,setup(e,{expose:t,emit:r}){const n=e,a=Ze("slider"),i=cn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{disabled:o,button:s,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:f,formatValue:d,handleMouseEnter:h,handleMouseLeave:v,onButtonDown:p,onKeyDown:m,setPosition:g}=Met(n,i,r),{hovering:b,dragging:y}=ui(i);return t({onButtonDown:p,onKeyDown:m,setPosition:g,hovering:b,dragging:y}),(w,_)=>(F(),K("div",{ref_key:"button",ref:s,class:G([E(a).e("button-wrapper"),{hover:E(b),dragging:E(y)}]),style:Bt(E(f)),tabindex:E(o)?-1:0,onMouseenter:_[0]||(_[0]=(...x)=>E(h)&&E(h)(...x)),onMouseleave:_[1]||(_[1]=(...x)=>E(v)&&E(v)(...x)),onMousedown:_[2]||(_[2]=(...x)=>E(p)&&E(p)(...x)),onTouchstart:_[3]||(_[3]=(...x)=>E(p)&&E(p)(...x)),onFocus:_[4]||(_[4]=(...x)=>E(h)&&E(h)(...x)),onBlur:_[5]||(_[5]=(...x)=>E(v)&&E(v)(...x)),onKeydown:_[6]||(_[6]=(...x)=>E(m)&&E(m)(...x))},[ae(E(Ii),{ref_key:"tooltip",ref:l,visible:E(c),placement:w.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":w.tooltipClass,disabled:!E(u),persistent:""},{content:he(()=>[Z("span",null,ct(E(d)),1)]),default:he(()=>[Z("div",{class:G([E(a).e("button"),{hover:E(b),dragging:E(y)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,Oet))}});var m6=ut(Net,[["__file","button.vue"]]);const Pet=it({mark:{type:ve([String,Object]),default:void 0}});var Det=J({name:"ElSliderMarker",props:Pet,setup(e){const t=Ze("slider"),r=$(()=>nr(e.mark)?e.mark:e.mark.label),n=$(()=>nr(e.mark)?void 0:e.mark.style);return()=>Yt("div",{class:t.e("marks-text"),style:n.value},r.value)}});const Ret=["id","role","aria-label","aria-labelledby"],$et={key:1},Bet=J({name:"ElSlider"}),Fet=J({...Bet,props:fet,emits:det,setup(e,{expose:t,emit:r}){const n=e,a=Ze("slider"),{t:i}=Zr(),o=cn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:l,firstButton:u,secondButton:c,sliderDisabled:f,minValue:d,maxValue:h,runwayStyle:v,barStyle:p,resetSize:m,emitChange:g,onSliderWrapperPrevent:b,onSliderClick:y,onSliderDown:w,setFirstValue:_,setSecondValue:x}=pet(n,o,r),{stops:S,getStopStyle:C}=Tet(n,o,d,h),{inputId:T,isLabeledByFormItem:M}=Ys(n,{formItemContext:s}),k=ba(),A=$(()=>n.inputSize||k.value),O=$(()=>n.label||i("el.slider.defaultLabel",{min:n.min,max:n.max})),P=$(()=>n.range?n.rangeStartLabel||i("el.slider.defaultRangeStartLabel"):O.value),R=$(()=>n.formatValueText?n.formatValueText(U.value):`${U.value}`),N=$(()=>n.rangeEndLabel||i("el.slider.defaultRangeEndLabel")),L=$(()=>n.formatValueText?n.formatValueText(H.value):`${H.value}`),B=$(()=>[a.b(),a.m(k.value),a.is("vertical",n.vertical),{[a.m("with-input")]:n.showInput}]),I=vet(n);ket(n,o,d,h,r,s);const D=$(()=>{const X=[n.min,n.max,n.step].map(re=>{const oe=`${re}`.split(".")[1];return oe?oe.length:0});return Math.max.apply(null,X)}),{sliderWrapper:z}=het(n,o,m),{firstValue:U,secondValue:H,sliderSize:Y}=ui(o),ie=X=>{o.dragging=X};return $r(PX,{...ui(n),sliderSize:Y,disabled:f,precision:D,emitChange:g,resetSize:m,updateDragging:ie}),t({onSliderClick:y}),(X,re)=>{var oe,Ne;return F(),K("div",{id:X.range?E(T):void 0,ref_key:"sliderWrapper",ref:z,class:G(E(B)),role:X.range?"group":void 0,"aria-label":X.range&&!E(M)?E(O):void 0,"aria-labelledby":X.range&&E(M)?(oe=E(s))==null?void 0:oe.labelId:void 0,onTouchstart:re[2]||(re[2]=(...me)=>E(b)&&E(b)(...me)),onTouchmove:re[3]||(re[3]=(...me)=>E(b)&&E(b)(...me))},[Z("div",{ref_key:"slider",ref:l,class:G([E(a).e("runway"),{"show-input":X.showInput&&!X.range},E(a).is("disabled",E(f))]),style:Bt(E(v)),onMousedown:re[0]||(re[0]=(...me)=>E(w)&&E(w)(...me)),onTouchstart:re[1]||(re[1]=(...me)=>E(w)&&E(w)(...me))},[Z("div",{class:G(E(a).e("bar")),style:Bt(E(p))},null,6),ae(m6,{id:X.range?void 0:E(T),ref_key:"firstButton",ref:u,"model-value":E(U),vertical:X.vertical,"tooltip-class":X.tooltipClass,placement:X.placement,role:"slider","aria-label":X.range||!E(M)?E(P):void 0,"aria-labelledby":!X.range&&E(M)?(Ne=E(s))==null?void 0:Ne.labelId:void 0,"aria-valuemin":X.min,"aria-valuemax":X.range?E(H):X.max,"aria-valuenow":E(U),"aria-valuetext":E(R),"aria-orientation":X.vertical?"vertical":"horizontal","aria-disabled":E(f),"onUpdate:modelValue":E(_)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),X.range?(F(),Oe(m6,{key:0,ref_key:"secondButton",ref:c,"model-value":E(H),vertical:X.vertical,"tooltip-class":X.tooltipClass,placement:X.placement,role:"slider","aria-label":E(N),"aria-valuemin":E(U),"aria-valuemax":X.max,"aria-valuenow":E(H),"aria-valuetext":E(L),"aria-orientation":X.vertical?"vertical":"horizontal","aria-disabled":E(f),"onUpdate:modelValue":E(x)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):be("v-if",!0),X.showStops?(F(),K("div",$et,[(F(!0),K(zt,null,zr(E(S),(me,xe)=>(F(),K("div",{key:xe,class:G(E(a).e("stop")),style:Bt(E(C)(me))},null,6))),128))])):be("v-if",!0),E(I).length>0?(F(),K(zt,{key:2},[Z("div",null,[(F(!0),K(zt,null,zr(E(I),(me,xe)=>(F(),K("div",{key:xe,style:Bt(E(C)(me.position)),class:G([E(a).e("stop"),E(a).e("marks-stop")])},null,6))),128))]),Z("div",{class:G(E(a).e("marks"))},[(F(!0),K(zt,null,zr(E(I),(me,xe)=>(F(),Oe(E(Det),{key:xe,mark:me.mark,style:Bt(E(C)(me.position))},null,8,["mark","style"]))),128))],2)],64)):be("v-if",!0)],38),X.showInput&&!X.range?(F(),Oe(E(oX),{key:0,ref:"input","model-value":E(U),class:G(E(a).e("input")),step:X.step,disabled:E(f),controls:X.showInputControls,min:X.min,max:X.max,debounce:X.debounce,size:E(A),"onUpdate:modelValue":E(_),onChange:E(g)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):be("v-if",!0)],42,Ret)}}});var zet=ut(Fet,[["__file","slider.vue"]]);const Get=_r(zet),jet=it({prefixCls:{type:String}}),y6=J({name:"ElSpaceItem",props:jet,setup(e,{slots:t}){const r=Ze("space"),n=$(()=>`${e.prefixCls||r.b()}__item`);return()=>Yt("div",{class:n.value},Pe(t,"default"))}}),b6={small:8,default:12,large:16};function Vet(e){const t=Ze("space"),r=$(()=>[t.b(),t.m(e.direction),e.class]),n=W(0),a=W(0),i=$(()=>{const s=e.wrap||e.fill?{flexWrap:"wrap"}:{},l={alignItems:e.alignment},u={rowGap:`${a.value}px`,columnGap:`${n.value}px`};return[s,l,u,e.style]}),o=$(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return gi(()=>{const{size:s="small",wrap:l,direction:u,fill:c}=e;if(_t(s)){const[f=0,d=0]=s;n.value=f,a.value=d}else{let f;Qt(s)?f=s:f=b6[s||"small"]||b6.small,(l||c)&&u==="horizontal"?n.value=a.value=f:u==="horizontal"?(n.value=f,a.value=0):(a.value=f,n.value=0)}}),{classes:r,containerStyle:i,itemStyle:o}}const Uet=it({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ve([String,Object,Array]),default:""},style:{type:ve([String,Array,Object]),default:""},alignment:{type:ve(String),default:"center"},prefixCls:{type:String},spacer:{type:ve([Object,String,Number,Array]),default:null,validator:e=>Rn(e)||Qt(e)||nr(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Bl,validator:e=>Qt(e)||_t(e)&&e.length===2&&e.every(Qt)}}),Wet=J({name:"ElSpace",props:Uet,setup(e,{slots:t}){const{classes:r,containerStyle:n,itemStyle:a}=Vet(e);function i(o,s="",l=[]){const{prefixCls:u}=e;return o.forEach((c,f)=>{CM(c)?_t(c.children)&&c.children.forEach((d,h)=>{CM(d)&&_t(d.children)?i(d.children,`${s+h}-`,l):l.push(ae(y6,{style:a.value,prefixCls:u,key:`nested-${s+h}`},{default:()=>[d]},qo.PROPS|qo.STYLE,["style","prefixCls"]))}):AFe(c)&&l.push(ae(y6,{style:a.value,prefixCls:u,key:`LoopKey${s+f}`},{default:()=>[c]},qo.PROPS|qo.STYLE,["style","prefixCls"]))}),l}return()=>{var o;const{spacer:s,direction:l}=e,u=Pe(t,"default",{key:0},()=>[]);if(((o=u.children)!=null?o:[]).length===0)return null;if(_t(u.children)){let c=i(u.children);if(s){const f=c.length-1;c=c.reduce((d,h,v)=>{const p=[...d,h];return v!==f&&p.push(ae("span",{style:[a.value,l==="vertical"?"width: 100%":null],key:v},[Rn(s)?s:qr(s,qo.TEXT)],qo.STYLE)),p},[])}return ae("div",{class:r.value,style:n.value},c,qo.STYLE|qo.CLASS)}return u.children}}}),Het=_r(Wet),Yet=it({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:ve([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:ve([String,Object,Array])}}),Ket=J({name:"ElStatistic"}),Xet=J({...Ket,props:Yet,setup(e,{expose:t}){const r=e,n=Ze("statistic"),a=$(()=>{const{value:i,formatter:o,precision:s,decimalSeparator:l,groupSeparator:u}=r;if(Jt(o))return o(i);if(!Qt(i))return i;let[c,f=""]=String(i).split(".");return f=f.padEnd(s,"0").slice(0,s>0?s:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,f].join(f?l:"")});return t({displayValue:a}),(i,o)=>(F(),K("div",{class:G(E(n).b())},[i.$slots.title||i.title?(F(),K("div",{key:0,class:G(E(n).e("head"))},[Pe(i.$slots,"title",{},()=>[qr(ct(i.title),1)])],2)):be("v-if",!0),Z("div",{class:G(E(n).e("content"))},[i.$slots.prefix||i.prefix?(F(),K("div",{key:0,class:G(E(n).e("prefix"))},[Pe(i.$slots,"prefix",{},()=>[Z("span",null,ct(i.prefix),1)])],2)):be("v-if",!0),Z("span",{class:G(E(n).e("number")),style:Bt(i.valueStyle)},ct(E(a)),7),i.$slots.suffix||i.suffix?(F(),K("div",{key:1,class:G(E(n).e("suffix"))},[Pe(i.$slots,"suffix",{},()=>[Z("span",null,ct(i.suffix),1)])],2)):be("v-if",!0)],2)],2))}});var qet=ut(Xet,[["__file","statistic.vue"]]);const DX=_r(qet),Zet=it({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:ve([Number,Object]),default:0},valueStyle:{type:ve([String,Object,Array])}}),Qet={finish:()=>!0,[Nn]:e=>Qt(e)},Jet=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],w6=e=>Qt(e)?new Date(e).getTime():e.valueOf(),E6=(e,t)=>{let r=e;const n=/\[([^\]]*)]/g;return Jet.reduce((i,[o,s])=>{const l=new RegExp(`${o}+(?![^\\[\\]]*\\])`,"g");if(l.test(i)){const u=Math.floor(r/s);return r-=u*s,i.replace(l,c=>String(u).padStart(c.length,"0"))}return i},t).replace(n,"$1")},ett=J({name:"ElCountdown"}),ttt=J({...ett,props:Zet,emits:Qet,setup(e,{expose:t,emit:r}){const n=e;let a;const i=W(w6(n.value)-Date.now()),o=$(()=>E6(i.value,n.format)),s=c=>E6(c,n.format),l=()=>{a&&(vd(a),a=void 0)},u=()=>{const c=w6(n.value),f=()=>{let d=c-Date.now();r("change",d),d<=0?(d=0,l(),r("finish")):a=Pc(f),i.value=d};a=Pc(f)};return He(()=>[n.value,n.format],()=>{l(),u()},{immediate:!0}),On(()=>{l()}),t({displayValue:o}),(c,f)=>(F(),Oe(E(DX),{value:i.value,title:c.title,prefix:c.prefix,suffix:c.suffix,"value-style":c.valueStyle,formatter:s},vu({_:2},[zr(c.$slots,(d,h)=>({name:h,fn:he(()=>[Pe(c.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var rtt=ut(ttt,[["__file","countdown.vue"]]);const ntt=_r(rtt),att=it({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),itt={[Nn]:(e,t)=>[e,t].every(Qt)},ott=J({name:"ElSteps"}),stt=J({...ott,props:att,emits:itt,setup(e,{emit:t}){const r=e,n=Ze("steps"),{children:a,addChild:i,removeChild:o}=oO(Er(),"ElStep");return He(a,()=>{a.value.forEach((s,l)=>{s.setIndex(l)})}),$r("ElSteps",{props:r,steps:a,addStep:i,removeStep:o}),He(()=>r.active,(s,l)=>{t(Nn,s,l)}),(s,l)=>(F(),K("div",{class:G([E(n).b(),E(n).m(s.simple?"simple":s.direction)])},[Pe(s.$slots,"default")],2))}});var ltt=ut(stt,[["__file","steps.vue"]]);const utt=it({title:{type:String,default:""},icon:{type:Cn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),ctt=J({name:"ElStep"}),ftt=J({...ctt,props:utt,setup(e){const t=e,r=Ze("step"),n=W(-1),a=W({}),i=W(""),o=At("ElSteps"),s=Er();vr(()=>{He([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([x])=>{w(x)},{immediate:!0})}),On(()=>{o.removeStep(_.uid)});const l=$(()=>t.status||i.value),u=$(()=>{const x=o.steps.value[n.value-1];return x?x.currentStatus:"wait"}),c=$(()=>o.props.alignCenter),f=$(()=>o.props.direction==="vertical"),d=$(()=>o.props.simple),h=$(()=>o.steps.value.length),v=$(()=>{var x;return((x=o.steps.value[h.value-1])==null?void 0:x.uid)===(s==null?void 0:s.uid)}),p=$(()=>d.value?"":o.props.space),m=$(()=>[r.b(),r.is(d.value?"simple":o.props.direction),r.is("flex",v.value&&!p.value&&!c.value),r.is("center",c.value&&!f.value&&!d.value)]),g=$(()=>{const x={flexBasis:Qt(p.value)?`${p.value}px`:p.value?p.value:`${100/(h.value-(c.value?0:1))}%`};return f.value||v.value&&(x.maxWidth=`${100/h.value}%`),x}),b=x=>{n.value=x},y=x=>{const S=x==="wait",C={transitionDelay:`${S?"-":""}${150*n.value}ms`},T=x===o.props.processStatus||S?0:100;C.borderWidth=T&&!d.value?"1px":0,C[o.props.direction==="vertical"?"height":"width"]=`${T}%`,a.value=C},w=x=>{x>n.value?i.value=o.props.finishStatus:x===n.value&&u.value!=="error"?i.value=o.props.processStatus:i.value="wait";const S=o.steps.value[n.value-1];S&&S.calcProgress(i.value)},_=cn({uid:s.uid,currentStatus:l,setIndex:b,calcProgress:y});return o.addStep(_),(x,S)=>(F(),K("div",{style:Bt(E(g)),class:G(E(m))},[be(" icon & line "),Z("div",{class:G([E(r).e("head"),E(r).is(E(l))])},[E(d)?be("v-if",!0):(F(),K("div",{key:0,class:G(E(r).e("line"))},[Z("i",{class:G(E(r).e("line-inner")),style:Bt(a.value)},null,6)],2)),Z("div",{class:G([E(r).e("icon"),E(r).is(x.icon||x.$slots.icon?"icon":"text")])},[Pe(x.$slots,"icon",{},()=>[x.icon?(F(),Oe(E($t),{key:0,class:G(E(r).e("icon-inner"))},{default:he(()=>[(F(),Oe(kr(x.icon)))]),_:1},8,["class"])):E(l)==="success"?(F(),Oe(E($t),{key:1,class:G([E(r).e("icon-inner"),E(r).is("status")])},{default:he(()=>[ae(E(sm))]),_:1},8,["class"])):E(l)==="error"?(F(),Oe(E($t),{key:2,class:G([E(r).e("icon-inner"),E(r).is("status")])},{default:he(()=>[ae(E($s))]),_:1},8,["class"])):E(d)?be("v-if",!0):(F(),K("div",{key:3,class:G(E(r).e("icon-inner"))},ct(n.value+1),3))])],2)],2),be(" title & description "),Z("div",{class:G(E(r).e("main"))},[Z("div",{class:G([E(r).e("title"),E(r).is(E(l))])},[Pe(x.$slots,"title",{},()=>[qr(ct(x.title),1)])],2),E(d)?(F(),K("div",{key:0,class:G(E(r).e("arrow"))},null,2)):(F(),K("div",{key:1,class:G([E(r).e("description"),E(r).is(E(l))])},[Pe(x.$slots,"description",{},()=>[qr(ct(x.description),1)])],2))],2)],6))}});var RX=ut(ftt,[["__file","item.vue"]]);const dtt=_r(ltt,{Step:RX}),htt=jn(RX),vtt=it({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:$H},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:Cn},activeActionIcon:{type:Cn},activeIcon:{type:Cn},inactiveIcon:{type:Cn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ve(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0}}),ptt={[Mr]:e=>fa(e)||nr(e)||Qt(e),[Nn]:e=>fa(e)||nr(e)||Qt(e),[zi]:e=>fa(e)||nr(e)||Qt(e)},gtt=["onClick"],mtt=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],ytt=["aria-hidden"],btt=["aria-hidden"],wtt=["aria-hidden"],$X="ElSwitch",Ett=J({name:$X}),_tt=J({...Ett,props:vtt,emits:ptt,setup(e,{expose:t,emit:r}){const n=e,{formItem:a}=Oi(),i=ba(),o=Ze("switch"),{inputId:s}=Ys(n,{formItemContext:a}),l=Ui($(()=>n.loading)),u=W(n.modelValue!==!1),c=W(),f=W(),d=$(()=>[o.b(),o.m(i.value),o.is("disabled",l.value),o.is("checked",g.value)]),h=$(()=>[o.e("label"),o.em("label","left"),o.is("active",!g.value)]),v=$(()=>[o.e("label"),o.em("label","right"),o.is("active",g.value)]),p=$(()=>({width:Xn(n.width)}));He(()=>n.modelValue,()=>{u.value=!0});const m=$(()=>u.value?n.modelValue:!1),g=$(()=>m.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(m.value)||(r(Mr,n.inactiveValue),r(Nn,n.inactiveValue),r(zi,n.inactiveValue)),He(g,_=>{var x;c.value.checked=_,n.validateEvent&&((x=a==null?void 0:a.validate)==null||x.call(a,"change").catch(S=>void 0))});const b=()=>{const _=g.value?n.inactiveValue:n.activeValue;r(Mr,_),r(Nn,_),r(zi,_),Ut(()=>{c.value.checked=g.value})},y=()=>{if(l.value)return;const{beforeChange:_}=n;if(!_){b();return}const x=_();[Sg(x),fa(x)].includes(!0)||Ta($X,"beforeChange must return type `Promise<boolean>` or `boolean`"),Sg(x)?x.then(C=>{C&&b()}).catch(C=>{}):x&&b()},w=()=>{var _,x;(x=(_=c.value)==null?void 0:_.focus)==null||x.call(_)};return vr(()=>{c.value.checked=g.value}),t({focus:w,checked:g}),(_,x)=>(F(),K("div",{class:G(E(d)),onClick:tr(y,["prevent"])},[Z("input",{id:E(s),ref_key:"input",ref:c,class:G(E(o).e("input")),type:"checkbox",role:"switch","aria-checked":E(g),"aria-disabled":E(l),"aria-label":_.label,name:_.name,"true-value":_.activeValue,"false-value":_.inactiveValue,disabled:E(l),tabindex:_.tabindex,onChange:b,onKeydown:Sn(y,["enter"])},null,42,mtt),!_.inlinePrompt&&(_.inactiveIcon||_.inactiveText)?(F(),K("span",{key:0,class:G(E(h))},[_.inactiveIcon?(F(),Oe(E($t),{key:0},{default:he(()=>[(F(),Oe(kr(_.inactiveIcon)))]),_:1})):be("v-if",!0),!_.inactiveIcon&&_.inactiveText?(F(),K("span",{key:1,"aria-hidden":E(g)},ct(_.inactiveText),9,ytt)):be("v-if",!0)],2)):be("v-if",!0),Z("span",{ref_key:"core",ref:f,class:G(E(o).e("core")),style:Bt(E(p))},[_.inlinePrompt?(F(),K("div",{key:0,class:G(E(o).e("inner"))},[_.activeIcon||_.inactiveIcon?(F(),Oe(E($t),{key:0,class:G(E(o).is("icon"))},{default:he(()=>[(F(),Oe(kr(E(g)?_.activeIcon:_.inactiveIcon)))]),_:1},8,["class"])):_.activeText||_.inactiveText?(F(),K("span",{key:1,class:G(E(o).is("text")),"aria-hidden":!E(g)},ct(E(g)?_.activeText:_.inactiveText),11,btt)):be("v-if",!0)],2)):be("v-if",!0),Z("div",{class:G(E(o).e("action"))},[_.loading?(F(),Oe(E($t),{key:0,class:G(E(o).is("loading"))},{default:he(()=>[ae(E(Xc))]),_:1},8,["class"])):E(g)?Pe(_.$slots,"active-action",{key:1},()=>[_.activeActionIcon?(F(),Oe(E($t),{key:0},{default:he(()=>[(F(),Oe(kr(_.activeActionIcon)))]),_:1})):be("v-if",!0)]):E(g)?be("v-if",!0):Pe(_.$slots,"inactive-action",{key:2},()=>[_.inactiveActionIcon?(F(),Oe(E($t),{key:0},{default:he(()=>[(F(),Oe(kr(_.inactiveActionIcon)))]),_:1})):be("v-if",!0)])],2)],6),!_.inlinePrompt&&(_.activeIcon||_.activeText)?(F(),K("span",{key:1,class:G(E(v))},[_.activeIcon?(F(),Oe(E($t),{key:0},{default:he(()=>[(F(),Oe(kr(_.activeIcon)))]),_:1})):be("v-if",!0),!_.activeIcon&&_.activeText?(F(),K("span",{key:1,"aria-hidden":!E(g)},ct(_.activeText),9,wtt)):be("v-if",!0)],2)):be("v-if",!0)],10,gtt))}});var xtt=ut(_tt,[["__file","switch.vue"]]);const Stt=_r(xtt),pS=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},Ctt=function(e,t,r,n,a){if(!t&&!n&&(!a||Array.isArray(a)&&!a.length))return e;typeof r=="string"?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const i=n?null:function(s,l){return a?(Array.isArray(a)||(a=[a]),a.map(u=>typeof u=="string"?ea(s,u):u(s,l,e))):(t!=="$key"&&Sr(s)&&"$value"in s&&(s=s.$value),[Sr(s)?ea(s,t):s])},o=function(s,l){if(n)return n(s.value,l.value);for(let u=0,c=s.key.length;u<c;u++){if(s.key[u]<l.key[u])return-1;if(s.key[u]>l.key[u])return 1}return 0};return e.map((s,l)=>({value:s,index:l,key:i?i(s,l):null})).sort((s,l)=>{let u=o(s,l);return u||(u=s.index-l.index),u*+r}).map(s=>s.value)},BX=function(e,t){let r=null;return e.columns.forEach(n=>{n.id===t&&(r=n)}),r},Mtt=function(e,t){let r=null;for(let n=0;n<e.columns.length;n++){const a=e.columns[n];if(a.columnKey===t){r=a;break}}return r||Ta("ElTable",`No column matching with column-key: ${t}`),r},_6=function(e,t,r){const n=(t.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return n?BX(e,n[0]):null},pi=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(!t.includes("."))return`${e[t]}`;const r=t.split(".");let n=e;for(const a of r)n=n[a];return`${n}`}else if(typeof t=="function")return t.call(null,e)},Ff=function(e,t){const r={};return(e||[]).forEach((n,a)=>{r[pi(n,t)]={row:n,index:a}}),r};function Ttt(e,t){const r={};let n;for(n in e)r[n]=e[n];for(n in t)if(Xr(t,n)){const a=t[n];typeof a<"u"&&(r[n]=a)}return r}function OO(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function FX(e){return e===""||e!==void 0&&(e=OO(e),Number.isNaN(e)&&(e=80)),e}function ktt(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function Att(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function _g(e,t,r){let n=!1;const a=e.indexOf(t),i=a!==-1,o=s=>{s==="add"?e.push(t):e.splice(a,1),n=!0,_t(t.children)&&t.children.forEach(l=>{_g(e,l,r??!i)})};return fa(r)?r&&!i?o("add"):!r&&i&&o("remove"):o(i?"remove":"add"),n}function Itt(e,t,r="children",n="hasChildren"){const a=o=>!(Array.isArray(o)&&o.length);function i(o,s,l){t(o,s,l),s.forEach(u=>{if(u[n]){t(u,null,l+1);return}const c=u[r];a(c)||i(u,c,l+1)})}e.forEach(o=>{if(o[n]){t(o,null,0);return}const s=o[r];a(s)||i(o,s,0)})}let Wo=null;function Ott(e,t,r,n){if((Wo==null?void 0:Wo.trigger)===r)return;Wo==null||Wo();const a=n==null?void 0:n.refs.tableWrapper,i=a==null?void 0:a.dataset.prefix,o={strategy:"fixed",...e.popperOptions},s=ae(Ii,{content:t,virtualTriggering:!0,virtualRef:r,appendTo:a,placement:"top",transition:"none",offset:0,hideAfter:0,...e,popperOptions:o,onHide:()=>{Wo==null||Wo()}});s.appContext={...n.appContext,...n};const l=document.createElement("div");Sc(s,l),s.component.exposed.onOpen();const u=a==null?void 0:a.querySelector(`.${i}-scrollbar__wrap`);Wo=()=>{Sc(null,l),u==null||u.removeEventListener("scroll",Wo),Wo=null},Wo.trigger=r,u==null||u.addEventListener("scroll",Wo)}function zX(e){return e.children?XBe(e.children,zX):[e]}function x6(e,t){return e+t.colSpan}const GX=(e,t,r,n)=>{let a=0,i=e;const o=r.states.columns.value;if(n){const l=zX(n[e]);a=o.slice(0,o.indexOf(l[0])).reduce(x6,0),i=a+l.reduce(x6,0)-1}else a=e;let s;switch(t){case"left":i<r.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":a>=o.length-r.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<r.states.fixedLeafColumnsLength.value?s="left":a>=o.length-r.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:a,after:i}:{}},LO=(e,t,r,n,a,i=0)=>{const o=[],{direction:s,start:l,after:u}=GX(t,r,n,a);if(s){const c=s==="left";o.push(`${e}-fixed-column--${s}`),c&&u+i===n.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!c&&l-i===n.states.columns.value.length-n.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function S6(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const NO=(e,t,r,n)=>{const{direction:a,start:i=0,after:o=0}=GX(e,t,r,n);if(!a)return;const s={},l=a==="left",u=r.states.columns.value;return l?s.left=u.slice(0,i).reduce(S6,0):s.right=u.slice(o+1).reverse().reduce(S6,0),s},Cv=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function Ltt(e){const t=Er(),r=W(!1),n=W([]);return{updateExpandRows:()=>{const l=e.data.value||[],u=e.rowKey.value;if(r.value)n.value=l.slice();else if(u){const c=Ff(n.value,u);n.value=l.reduce((f,d)=>{const h=pi(d,u);return c[h]&&f.push(d),f},[])}else n.value=[]},toggleRowExpansion:(l,u)=>{_g(n.value,l,u)&&t.emit("expand-change",l,n.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const u=e.data.value||[],c=e.rowKey.value,f=Ff(u,c);n.value=l.reduce((d,h)=>{const v=f[h];return v&&d.push(v.row),d},[])},isRowExpanded:l=>{const u=e.rowKey.value;return u?!!Ff(n.value,u)[pi(l,u)]:n.value.includes(l)},states:{expandRows:n,defaultExpandAll:r}}}function Ntt(e){const t=Er(),r=W(null),n=W(null),a=u=>{t.store.assertRowKey(),r.value=u,o(u)},i=()=>{r.value=null},o=u=>{const{data:c,rowKey:f}=e;let d=null;f.value&&(d=(E(c)||[]).find(h=>pi(h,f.value)===u)),n.value=d,t.emit("current-change",n.value,null)};return{setCurrentRowKey:a,restoreCurrentRowKey:i,setCurrentRowByKey:o,updateCurrentRow:u=>{const c=n.value;if(u&&u!==c){n.value=u,t.emit("current-change",n.value,c);return}!u&&c&&(n.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],f=n.value;if(!c.includes(f)&&f){if(u){const d=pi(f,u);o(d)}else n.value=null;n.value===null&&t.emit("current-change",null,f)}else r.value&&(o(r.value),i())},states:{_currentRowKey:r,currentRow:n}}}function Ptt(e){const t=W([]),r=W({}),n=W(16),a=W(!1),i=W({}),o=W("hasChildren"),s=W("children"),l=Er(),u=$(()=>{if(!e.rowKey.value)return{};const g=e.data.value||[];return f(g)}),c=$(()=>{const g=e.rowKey.value,b=Object.keys(i.value),y={};return b.length&&b.forEach(w=>{if(i.value[w].length){const _={children:[]};i.value[w].forEach(x=>{const S=pi(x,g);_.children.push(S),x[o.value]&&!y[S]&&(y[S]={children:[]})}),y[w]=_}}),y}),f=g=>{const b=e.rowKey.value,y={};return Itt(g,(w,_,x)=>{const S=pi(w,b);Array.isArray(_)?y[S]={children:_.map(C=>pi(C,b)),level:x}:a.value&&(y[S]={children:[],lazy:!0,level:x})},s.value,o.value),y},d=(g=!1,b=(y=>(y=l.store)==null?void 0:y.states.defaultExpandAll.value)())=>{var y;const w=u.value,_=c.value,x=Object.keys(w),S={};if(x.length){const C=E(r),T=[],M=(A,O)=>{if(g)return t.value?b||t.value.includes(O):!!(b||A!=null&&A.expanded);{const P=b||t.value&&t.value.includes(O);return!!(A!=null&&A.expanded||P)}};x.forEach(A=>{const O=C[A],P={...w[A]};if(P.expanded=M(O,A),P.lazy){const{loaded:R=!1,loading:N=!1}=O||{};P.loaded=!!R,P.loading=!!N,T.push(A)}S[A]=P});const k=Object.keys(_);a.value&&k.length&&T.length&&k.forEach(A=>{const O=C[A],P=_[A].children;if(T.includes(A)){if(S[A].children.length!==0)throw new Error("[ElTable]children must be an empty array.");S[A].children=P}else{const{loaded:R=!1,loading:N=!1}=O||{};S[A]={lazy:!0,loaded:!!R,loading:!!N,expanded:M(O,A),children:P,level:""}}})}r.value=S,(y=l.store)==null||y.updateTableScrollY()};He(()=>t.value,()=>{d(!0)}),He(()=>u.value,()=>{d()}),He(()=>c.value,()=>{d()});const h=g=>{t.value=g,d()},v=(g,b)=>{l.store.assertRowKey();const y=e.rowKey.value,w=pi(g,y),_=w&&r.value[w];if(w&&_&&"expanded"in _){const x=_.expanded;b=typeof b>"u"?!_.expanded:b,r.value[w].expanded=b,x!==b&&l.emit("expand-change",g,b),l.store.updateTableScrollY()}},p=g=>{l.store.assertRowKey();const b=e.rowKey.value,y=pi(g,b),w=r.value[y];a.value&&w&&"loaded"in w&&!w.loaded?m(g,y,w):v(g,void 0)},m=(g,b,y)=>{const{load:w}=l.props;w&&!r.value[b].loaded&&(r.value[b].loading=!0,w(g,y,_=>{if(!Array.isArray(_))throw new TypeError("[ElTable] data must be an array");r.value[b].loading=!1,r.value[b].loaded=!0,r.value[b].expanded=!0,_.length&&(i.value[b]=_),l.emit("expand-change",g,!0)}))};return{loadData:m,loadOrToggle:p,toggleTreeExpansion:v,updateTreeExpandKeys:h,updateTreeData:d,normalize:f,states:{expandRowKeys:t,treeData:r,indent:n,lazy:a,lazyTreeNodeMap:i,lazyColumnIdentifier:o,childrenColumnName:s}}}const Dtt=(e,t)=>{const r=t.sortingColumn;return!r||typeof r.sortable=="string"?e:Ctt(e,t.sortProp,t.sortOrder,r.sortMethod,r.sortBy)},cb=e=>{const t=[];return e.forEach(r=>{r.children&&r.children.length>0?t.push.apply(t,cb(r.children)):t.push(r)}),t};function Rtt(){var e;const t=Er(),{size:r}=ui((e=t.proxy)==null?void 0:e.$props),n=W(null),a=W([]),i=W([]),o=W(!1),s=W([]),l=W([]),u=W([]),c=W([]),f=W([]),d=W([]),h=W([]),v=W([]),p=[],m=W(0),g=W(0),b=W(0),y=W(!1),w=W([]),_=W(!1),x=W(!1),S=W(null),C=W({}),T=W(null),M=W(null),k=W(null),A=W(null),O=W(null);He(a,()=>t.state&&L(!1),{deep:!0});const P=()=>{if(!n.value)throw new Error("[ElTable] prop row-key is required")},R=Ye=>{var we;(we=Ye.children)==null||we.forEach(qe=>{qe.fixed=Ye.fixed,R(qe)})},N=()=>{s.value.forEach(pe=>{R(pe)}),c.value=s.value.filter(pe=>pe.fixed===!0||pe.fixed==="left"),f.value=s.value.filter(pe=>pe.fixed==="right"),c.value.length>0&&s.value[0]&&s.value[0].type==="selection"&&!s.value[0].fixed&&(s.value[0].fixed=!0,c.value.unshift(s.value[0]));const Ye=s.value.filter(pe=>!pe.fixed);l.value=[].concat(c.value).concat(Ye).concat(f.value);const we=cb(Ye),qe=cb(c.value),Be=cb(f.value);m.value=we.length,g.value=qe.length,b.value=Be.length,u.value=[].concat(qe).concat(we).concat(Be),o.value=c.value.length>0||f.value.length>0},L=(Ye,we=!1)=>{Ye&&N(),we?t.state.doLayout():t.state.debouncedUpdateLayout()},B=Ye=>w.value.includes(Ye),I=()=>{y.value=!1,w.value.length&&(w.value=[],t.emit("selection-change",[]))},D=()=>{let Ye;if(n.value){Ye=[];const we=Ff(w.value,n.value),qe=Ff(a.value,n.value);for(const Be in we)Xr(we,Be)&&!qe[Be]&&Ye.push(we[Be].row)}else Ye=w.value.filter(we=>!a.value.includes(we));if(Ye.length){const we=w.value.filter(qe=>!Ye.includes(qe));w.value=we,t.emit("selection-change",we.slice())}},z=()=>(w.value||[]).slice(),U=(Ye,we=void 0,qe=!0)=>{if(_g(w.value,Ye,we)){const pe=(w.value||[]).slice();qe&&t.emit("select",pe,Ye),t.emit("selection-change",pe)}},H=()=>{var Ye,we;const qe=x.value?!y.value:!(y.value||w.value.length);y.value=qe;let Be=!1,pe=0;const Re=(we=(Ye=t==null?void 0:t.store)==null?void 0:Ye.states)==null?void 0:we.rowKey.value;a.value.forEach((ft,Ee)=>{const wt=Ee+pe;S.value?S.value.call(null,ft,wt)&&_g(w.value,ft,qe)&&(Be=!0):_g(w.value,ft,qe)&&(Be=!0),pe+=X(pi(ft,Re))}),Be&&t.emit("selection-change",w.value?w.value.slice():[]),t.emit("select-all",w.value)},Y=()=>{const Ye=Ff(w.value,n.value);a.value.forEach(we=>{const qe=pi(we,n.value),Be=Ye[qe];Be&&(w.value[Be.index]=we)})},ie=()=>{var Ye,we,qe;if(((Ye=a.value)==null?void 0:Ye.length)===0){y.value=!1;return}let Be;n.value&&(Be=Ff(w.value,n.value));const pe=function(wt){return Be?!!Be[pi(wt,n.value)]:w.value.includes(wt)};let Re=!0,ft=0,Ee=0;for(let wt=0,ar=(a.value||[]).length;wt<ar;wt++){const lr=(qe=(we=t==null?void 0:t.store)==null?void 0:we.states)==null?void 0:qe.rowKey.value,Wr=wt+Ee,In=a.value[wt],ir=S.value&&S.value.call(null,In,Wr);if(pe(In))ft++;else if(!S.value||ir){Re=!1;break}Ee+=X(pi(In,lr))}ft===0&&(Re=!1),y.value=Re},X=Ye=>{var we;if(!t||!t.store)return 0;const{treeData:qe}=t.store.states;let Be=0;const pe=(we=qe.value[Ye])==null?void 0:we.children;return pe&&(Be+=pe.length,pe.forEach(Re=>{Be+=X(Re)})),Be},re=(Ye,we)=>{Array.isArray(Ye)||(Ye=[Ye]);const qe={};return Ye.forEach(Be=>{C.value[Be.id]=we,qe[Be.columnKey||Be.id]=we}),qe},oe=(Ye,we,qe)=>{M.value&&M.value!==Ye&&(M.value.order=null),M.value=Ye,k.value=we,A.value=qe},Ne=()=>{let Ye=E(i);Object.keys(C.value).forEach(we=>{const qe=C.value[we];if(!qe||qe.length===0)return;const Be=BX({columns:u.value},we);Be&&Be.filterMethod&&(Ye=Ye.filter(pe=>qe.some(Re=>Be.filterMethod.call(null,Re,pe,Be))))}),T.value=Ye},me=()=>{a.value=Dtt(T.value,{sortingColumn:M.value,sortProp:k.value,sortOrder:A.value})},xe=(Ye=void 0)=>{Ye&&Ye.filter||Ne(),me()},ze=Ye=>{const{tableHeaderRef:we}=t.refs;if(!we)return;const qe=Object.assign({},we.filterPanels),Be=Object.keys(qe);if(Be.length)if(typeof Ye=="string"&&(Ye=[Ye]),Array.isArray(Ye)){const pe=Ye.map(Re=>Mtt({columns:u.value},Re));Be.forEach(Re=>{const ft=pe.find(Ee=>Ee.id===Re);ft&&(ft.filteredValue=[])}),t.store.commit("filterChange",{column:pe,values:[],silent:!0,multi:!0})}else Be.forEach(pe=>{const Re=u.value.find(ft=>ft.id===pe);Re&&(Re.filteredValue=[])}),C.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},te=()=>{M.value&&(oe(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:le,toggleRowExpansion:Ae,updateExpandRows:Ve,states:Ie,isRowExpanded:De}=Ltt({data:a,rowKey:n}),{updateTreeExpandKeys:Ge,toggleTreeExpansion:Qe,updateTreeData:ke,loadOrToggle:q,states:j}=Ptt({data:a,rowKey:n}),{updateCurrentRowData:Ce,updateCurrentRow:fe,setCurrentRowKey:ge,states:Ue}=Ntt({data:a,rowKey:n});return{assertRowKey:P,updateColumns:N,scheduleLayout:L,isSelected:B,clearSelection:I,cleanSelection:D,getSelectionRows:z,toggleRowSelection:U,_toggleAllSelection:H,toggleAllSelection:null,updateSelectionByRowKey:Y,updateAllSelected:ie,updateFilters:re,updateCurrentRow:fe,updateSort:oe,execFilter:Ne,execSort:me,execQuery:xe,clearFilter:ze,clearSort:te,toggleRowExpansion:Ae,setExpandRowKeysAdapter:Ye=>{le(Ye),Ge(Ye)},setCurrentRowKey:ge,toggleRowExpansionAdapter:(Ye,we)=>{u.value.some(({type:Be})=>Be==="expand")?Ae(Ye,we):Qe(Ye,we)},isRowExpanded:De,updateExpandRows:Ve,updateCurrentRowData:Ce,loadOrToggle:q,updateTreeData:ke,states:{tableSize:r,rowKey:n,data:a,_data:i,isComplex:o,_columns:s,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:f,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:v,updateOrderFns:p,leafColumnsLength:m,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:b,isAllSelected:y,selection:w,reserveSelection:_,selectOnIndeterminate:x,selectable:S,filters:C,filteredData:T,sortingColumn:M,sortProp:k,sortOrder:A,hoverRow:O,...Ie,...j,...Ue}}}function cT(e,t){return e.map(r=>{var n;return r.id===t.id?t:((n=r.children)!=null&&n.length&&(r.children=cT(r.children,t)),r)})}function fT(e){e.forEach(t=>{var r,n;t.no=(r=t.getColumnIndex)==null?void 0:r.call(t),(n=t.children)!=null&&n.length&&fT(t.children)}),e.sort((t,r)=>t.no-r.no)}function $tt(){const e=Er(),t=Rtt();return{ns:Ze("table"),...t,mutations:{setData(o,s){const l=E(o._data)!==s;o.data.value=s,o._data.value=s,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),E(o.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):l?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(o,s,l,u){const c=E(o._columns);let f=[];l?(l&&!l.children&&(l.children=[]),l.children.push(s),f=cT(c,l)):(c.push(s),f=c),fT(f),o._columns.value=f,o.updateOrderFns.push(u),s.type==="selection"&&(o.selectable.value=s.selectable,o.reserveSelection.value=s.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(o,s){var l;((l=s.getColumnIndex)==null?void 0:l.call(s))!==s.no&&(fT(o._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(o,s,l,u){const c=E(o._columns)||[];if(l)l.children.splice(l.children.findIndex(d=>d.id===s.id),1),Ut(()=>{var d;((d=l.children)==null?void 0:d.length)===0&&delete l.children}),o._columns.value=cT(c,l);else{const d=c.indexOf(s);d>-1&&(c.splice(d,1),o._columns.value=c)}const f=o.updateOrderFns.indexOf(u);f>-1&&o.updateOrderFns.splice(f,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(o,s){const{prop:l,order:u,init:c}=s;if(l){const f=E(o.columns).find(d=>d.property===l);f&&(f.order=u,e.store.updateSort(f,l,u),e.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(o,s){const{sortingColumn:l,sortProp:u,sortOrder:c}=o,f=E(l),d=E(u),h=E(c);h===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const v={filter:!0};e.store.execQuery(v),(!s||!(s.silent||s.init))&&e.emit("sort-change",{column:f,prop:d,order:h}),e.store.updateTableScrollY()},filterChange(o,s){const{column:l,values:u,silent:c}=s,f=e.store.updateFilters(l,u);e.store.execQuery(),c||e.emit("filter-change",f),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(o,s){e.store.toggleRowSelection(s),e.store.updateAllSelected()},setHoverRow(o,s){o.hoverRow.value=s},setCurrentRow(o,s){e.store.updateCurrentRow(s)}},commit:function(o,...s){const l=e.store.mutations;if(l[o])l[o].apply(e,[e.store.states].concat(s));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){Ut(()=>e.layout.updateScrollY.apply(e.layout))}}}const xg={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function Btt(e,t){if(!e)throw new Error("Table is required.");const r=$tt();return r.toggleAllSelection=uo(r._toggleAllSelection,10),Object.keys(xg).forEach(n=>{jX(VX(t,n),n,r)}),Ftt(r,t),r}function Ftt(e,t){Object.keys(xg).forEach(r=>{He(()=>VX(t,r),n=>{jX(n,r,e)})})}function jX(e,t,r){let n=e,a=xg[t];typeof xg[t]=="object"&&(a=a.key,n=n||xg[t].default),r.states[a].value=n}function VX(e,t){if(t.includes(".")){const r=t.split(".");let n=e;return r.forEach(a=>{n=n[a]}),n}else return e[t]}class ztt{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=W(null),this.scrollX=W(!1),this.scrollY=W(!1),this.bodyWidth=W(null),this.fixedWidth=W(null),this.rightFixedWidth=W(null),this.gutterWidth=0;for(const r in t)Xr(t,r)&&(Dn(this[r])?this[r].value=t[r]:this[r]=t[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(r!=null&&r.wrapRef)){let n=!0;const a=this.scrollY.value;return n=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=n,a!==n}return!1}setHeight(t,r="height"){if(!Ur)return;const n=this.table.vnode.el;if(t=ktt(t),this.height.value=Number(t),!n&&(t||t===0))return Ut(()=>this.setHeight(t,r));typeof t=="number"?(n.style[r]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(n.style[r]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(n=>{n.isColumnGroup?t.push.apply(t,n.columns):t.push(n)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let r=t;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!Ur)return;const t=this.fit,r=this.table.vnode.el.clientWidth;let n=0;const a=this.getFlattenColumns(),i=a.filter(l=>typeof l.width!="number");if(a.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),i.length>0&&t){if(a.forEach(l=>{n+=Number(l.width||l.minWidth||80)}),n<=r){this.scrollX.value=!1;const l=r-n;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+l;else{const u=i.reduce((d,h)=>d+Number(h.minWidth||80),0),c=l/u;let f=0;i.forEach((d,h)=>{if(h===0)return;const v=Math.floor(Number(d.minWidth||80)*c);f+=v,d.realWidth=Number(d.minWidth||80)+v}),i[0].realWidth=Number(i[0].minWidth||80)+l-f}}else this.scrollX.value=!0,i.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(n,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else a.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),n+=l.realWidth}),this.scrollX.value=n>r,this.bodyWidth.value=n;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const s=this.store.states.rightFixedColumns.value;if(s.length>0){let l=0;s.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const r=this.observers.indexOf(t);r!==-1&&this.observers.splice(r,1)}notifyObservers(t){this.observers.forEach(n=>{var a,i;switch(t){case"columns":(a=n.state)==null||a.onColumnsChange(this);break;case"scrollable":(i=n.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:Gtt}=hs,jtt=J({name:"ElTableFilterPanel",components:{ElCheckbox:hs,ElCheckboxGroup:Gtt,ElScrollbar:Pu,ElTooltip:Ii,ElIcon:$t,ArrowDown:Lu,ArrowUp:NI},directives:{ClickOutside:wu},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=Er(),{t:r}=Zr(),n=Ze("table-filter"),a=t==null?void 0:t.parent;a.filterPanels.value[e.column.id]||(a.filterPanels.value[e.column.id]=t);const i=W(!1),o=W(null),s=$(()=>e.column&&e.column.filters),l=$(()=>e.column.filterClassName?`${n.b()} ${e.column.filterClassName}`:n.b()),u=$({get:()=>{var _;return(((_=e.column)==null?void 0:_.filteredValue)||[])[0]},set:_=>{c.value&&(typeof _<"u"&&_!==null?c.value.splice(0,1,_):c.value.splice(0,1))}}),c=$({get(){return e.column?e.column.filteredValue||[]:[]},set(_){e.column&&e.upDataColumn("filteredValue",_)}}),f=$(()=>e.column?e.column.filterMultiple:!0),d=_=>_.value===u.value,h=()=>{i.value=!1},v=_=>{_.stopPropagation(),i.value=!i.value},p=()=>{i.value=!1},m=()=>{y(c.value),h()},g=()=>{c.value=[],y(c.value),h()},b=_=>{u.value=_,y(typeof _<"u"&&_!==null?c.value:[]),h()},y=_=>{e.store.commit("filterChange",{column:e.column,values:_}),e.store.updateAllSelected()};He(i,_=>{e.column&&e.upDataColumn("filterOpened",_)},{immediate:!0});const w=$(()=>{var _,x;return(x=(_=o.value)==null?void 0:_.popperRef)==null?void 0:x.contentRef});return{tooltipVisible:i,multiple:f,filterClassName:l,filteredValue:c,filterValue:u,filters:s,handleConfirm:m,handleReset:g,handleSelect:b,isActive:d,t:r,ns:n,showFilterPanel:v,hideFilterPanel:p,popperPaneRef:w,tooltip:o}}}),Vtt={key:0},Utt=["disabled"],Wtt=["label","onClick"];function Htt(e,t,r,n,a,i){const o=br("el-checkbox"),s=br("el-checkbox-group"),l=br("el-scrollbar"),u=br("arrow-up"),c=br("arrow-down"),f=br("el-icon"),d=br("el-tooltip"),h=Kw("click-outside");return F(),Oe(d,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:""},{content:he(()=>[e.multiple?(F(),K("div",Vtt,[Z("div",{class:G(e.ns.e("content"))},[ae(l,{"wrap-class":e.ns.e("wrap")},{default:he(()=>[ae(s,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=v=>e.filteredValue=v),class:G(e.ns.e("checkbox-group"))},{default:he(()=>[(F(!0),K(zt,null,zr(e.filters,v=>(F(),Oe(o,{key:v.value,value:v.value},{default:he(()=>[qr(ct(v.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),Z("div",{class:G(e.ns.e("bottom"))},[Z("button",{class:G({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...v)=>e.handleConfirm&&e.handleConfirm(...v))},ct(e.t("el.table.confirmFilter")),11,Utt),Z("button",{type:"button",onClick:t[2]||(t[2]=(...v)=>e.handleReset&&e.handleReset(...v))},ct(e.t("el.table.resetFilter")),1)],2)])):(F(),K("ul",{key:1,class:G(e.ns.e("list"))},[Z("li",{class:G([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:t[3]||(t[3]=v=>e.handleSelect(null))},ct(e.t("el.table.clearFilter")),3),(F(!0),K(zt,null,zr(e.filters,v=>(F(),K("li",{key:v.value,class:G([e.ns.e("list-item"),e.ns.is("active",e.isActive(v))]),label:v.value,onClick:p=>e.handleSelect(v.value)},ct(v.text),11,Wtt))),128))],2))]),default:he(()=>[cr((F(),K("span",{class:G([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...v)=>e.showFilterPanel&&e.showFilterPanel(...v))},[ae(f,null,{default:he(()=>[e.column.filterOpened?(F(),Oe(u,{key:0})):(F(),Oe(c,{key:1}))]),_:1})],2)),[[h,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var Ytt=ut(jtt,[["render",Htt],["__file","filter-panel.vue"]]);function UX(e){const t=Er();Zw(()=>{r.value.addObserver(t)}),vr(()=>{n(r.value),a(r.value)}),_u(()=>{n(r.value),a(r.value)}),jc(()=>{r.value.removeObserver(t)});const r=$(()=>{const i=e.layout;if(!i)throw new Error("Can not find table layout.");return i}),n=i=>{var o;const s=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const l=i.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,f=s.length;c<f;c++){const d=s[c],h=d.getAttribute("name"),v=u[h];v&&d.setAttribute("width",v.realWidth||v.width)}},a=i=>{var o,s;const l=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,f=l.length;c<f;c++)l[c].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const u=((s=e.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let c=0,f=u.length;c<f;c++){const d=u[c];d.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",d.style.display=i.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:n,onScrollableChange:a}}const Fl=Symbol("ElTable");function Ktt(e,t){const r=Er(),n=At(Fl),a=p=>{p.stopPropagation()},i=(p,m)=>{!m.filters&&m.sortable?v(p,m,!1):m.filterable&&!m.sortable&&a(p),n==null||n.emit("header-click",m,p)},o=(p,m)=>{n==null||n.emit("header-contextmenu",m,p)},s=W(null),l=W(!1),u=W({}),c=(p,m)=>{if(Ur&&!(m.children&&m.children.length>0)&&s.value&&e.border){l.value=!0;const g=n;t("set-drag-visible",!0);const y=(g==null?void 0:g.vnode.el).getBoundingClientRect().left,w=r.vnode.el.querySelector(`th.${m.id}`),_=w.getBoundingClientRect(),x=_.left-y+30;Jo(w,"noclick"),u.value={startMouseLeft:p.clientX,startLeft:_.right-y,startColumnLeft:_.left-y,tableLeft:y};const S=g==null?void 0:g.refs.resizeProxy;S.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const C=M=>{const k=M.clientX-u.value.startMouseLeft,A=u.value.startLeft+k;S.style.left=`${Math.max(x,A)}px`},T=()=>{if(l.value){const{startColumnLeft:M,startLeft:k}=u.value,O=Number.parseInt(S.style.left,10)-M;m.width=m.realWidth=O,g==null||g.emit("header-dragend",m.width,k-M,m,p),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,s.value=null,u.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Ai(w,"noclick")},0)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",T)}},f=(p,m)=>{if(m.children&&m.children.length>0)return;const g=p.target;if(!us(g))return;const b=g==null?void 0:g.closest("th");if(!(!m||!m.resizable)&&!l.value&&e.border){const y=b.getBoundingClientRect(),w=document.body.style;y.width>12&&y.right-p.pageX<8?(w.cursor="col-resize",ns(b,"is-sortable")&&(b.style.cursor="col-resize"),s.value=m):l.value||(w.cursor="",ns(b,"is-sortable")&&(b.style.cursor="pointer"),s.value=null)}},d=()=>{Ur&&(document.body.style.cursor="")},h=({order:p,sortOrders:m})=>{if(p==="")return m[0];const g=m.indexOf(p||null);return m[g>m.length-2?0:g+1]},v=(p,m,g)=>{var b;p.stopPropagation();const y=m.order===g?null:g||h(m),w=(b=p.target)==null?void 0:b.closest("th");if(w&&ns(w,"noclick")){Ai(w,"noclick");return}if(!m.sortable)return;const _=e.store.states;let x=_.sortProp.value,S;const C=_.sortingColumn.value;(C!==m||C===m&&C.order===null)&&(C&&(C.order=null),_.sortingColumn.value=m,x=m.property),y?S=m.order=y:S=m.order=null,_.sortProp.value=x,_.sortOrder.value=S,n==null||n.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:o,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:v,handleFilterClick:a}}function Xtt(e){const t=At(Fl),r=Ze("table");return{getHeaderRowStyle:s=>{const l=t==null?void 0:t.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:s}):l},getHeaderRowClass:s=>{const l=[],u=t==null?void 0:t.props.headerRowClassName;return typeof u=="string"?l.push(u):typeof u=="function"&&l.push(u.call(null,{rowIndex:s})),l.join(" ")},getHeaderCellStyle:(s,l,u,c)=>{var f;let d=(f=t==null?void 0:t.props.headerCellStyle)!=null?f:{};typeof d=="function"&&(d=d.call(null,{rowIndex:s,columnIndex:l,row:u,column:c}));const h=NO(l,c.fixed,e.store,u);return Cv(h,"left"),Cv(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(s,l,u,c)=>{const f=LO(r.b(),l,c.fixed,e.store,u),d=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...f];c.children||d.push("is-leaf"),c.sortable&&d.push("is-sortable");const h=t==null?void 0:t.props.headerCellClassName;return typeof h=="string"?d.push(h):typeof h=="function"&&d.push(h.call(null,{rowIndex:s,columnIndex:l,row:u,column:c})),d.push(r.e("cell")),d.filter(v=>!!v).join(" ")}}}const WX=e=>{const t=[];return e.forEach(r=>{r.children?(t.push(r),t.push.apply(t,WX(r.children))):t.push(r)}),t},qtt=e=>{let t=1;const r=(i,o)=>{if(o&&(i.level=o.level+1,t<i.level&&(t=i.level)),i.children){let s=0;i.children.forEach(l=>{r(l,i),s+=l.colSpan}),i.colSpan=s}else i.colSpan=1};e.forEach(i=>{i.level=1,r(i,void 0)});const n=[];for(let i=0;i<t;i++)n.push([]);return WX(e).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(o=>o.isSubColumn=!0)):i.rowSpan=t-i.level+1,n[i.level-1].push(i)}),n};function Ztt(e){const t=At(Fl),r=$(()=>qtt(e.store.states.originColumns.value));return{isGroup:$(()=>{const i=r.value.length>1;return i&&t&&(t.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:r}}var Qtt=J({name:"ElTableHeader",components:{ElCheckbox:hs},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const r=Er(),n=At(Fl),a=Ze("table"),i=W({}),{onColumnsChange:o,onScrollableChange:s}=UX(n);vr(async()=>{await Ut(),await Ut();const{prop:x,order:S}=e.defaultSort;n==null||n.store.commit("sort",{prop:x,order:S,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:h,handleFilterClick:v}=Ktt(e,t),{getHeaderRowStyle:p,getHeaderRowClass:m,getHeaderCellStyle:g,getHeaderCellClass:b}=Xtt(e),{isGroup:y,toggleAllSelection:w,columnRows:_}=Ztt(e);return r.state={onColumnsChange:o,onScrollableChange:s},r.filterPanels=i,{ns:a,filterPanels:i,onColumnsChange:o,onScrollableChange:s,columnRows:_,getHeaderRowClass:m,getHeaderRowStyle:p,getHeaderCellClass:b,getHeaderCellStyle:g,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:h,handleFilterClick:v,isGroup:y,toggleAllSelection:w}},render(){const{ns:e,isGroup:t,columnRows:r,getHeaderCellStyle:n,getHeaderCellClass:a,getHeaderRowClass:i,getHeaderRowStyle:o,handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:f,handleMouseOut:d,store:h,$parent:v}=this;let p=1;return Yt("thead",{class:{[e.is("group")]:t}},r.map((m,g)=>Yt("tr",{class:i(g),key:g,style:o(g)},m.map((b,y)=>(b.rowSpan>p&&(p=b.rowSpan),Yt("th",{class:a(g,y,m,b),colspan:b.colSpan,key:`${b.id}-thead`,rowspan:b.rowSpan,style:n(g,y,m,b),onClick:w=>s(w,b),onContextmenu:w=>l(w,b),onMousedown:w=>u(w,b),onMousemove:w=>c(w,b),onMouseout:d},[Yt("div",{class:["cell",b.filteredValue&&b.filteredValue.length>0?"highlight":""]},[b.renderHeader?b.renderHeader({column:b,$index:y,store:h,_self:v}):b.label,b.sortable&&Yt("span",{onClick:w=>f(w,b),class:"caret-wrapper"},[Yt("i",{onClick:w=>f(w,b,"ascending"),class:"sort-caret ascending"}),Yt("i",{onClick:w=>f(w,b,"descending"),class:"sort-caret descending"})]),b.filterable&&Yt(Ytt,{store:h,placement:b.filterPlacement||"bottom-start",column:b,upDataColumn:(w,_)=>{b[w]=_}})])]))))))}});function Jtt(e){const t=At(Fl),r=W(""),n=W(Yt("div")),a=(v,p,m)=>{var g;const b=t,y=pS(v);let w;const _=(g=b==null?void 0:b.vnode.el)==null?void 0:g.dataset.prefix;y&&(w=_6({columns:e.store.states.columns.value},y,_),w&&(b==null||b.emit(`cell-${m}`,p,w,y,v))),b==null||b.emit(`row-${m}`,p,w,v)},i=(v,p)=>{a(v,p,"dblclick")},o=(v,p)=>{e.store.commit("setCurrentRow",p),a(v,p,"click")},s=(v,p)=>{a(v,p,"contextmenu")},l=uo(v=>{e.store.commit("setHoverRow",v)},30),u=uo(()=>{e.store.commit("setHoverRow",null)},30),c=v=>{const p=window.getComputedStyle(v,null),m=Number.parseInt(p.paddingLeft,10)||0,g=Number.parseInt(p.paddingRight,10)||0,b=Number.parseInt(p.paddingTop,10)||0,y=Number.parseInt(p.paddingBottom,10)||0;return{left:m,right:g,top:b,bottom:y}},f=(v,p,m)=>{let g=p.target.parentNode;for(;v>1&&(g=g==null?void 0:g.nextSibling,!(!g||g.nodeName!=="TR"));)m(g,"hover-row hover-fixed-row"),v--};return{handleDoubleClick:i,handleClick:o,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(v,p,m)=>{var g;const b=t,y=pS(v),w=(g=b==null?void 0:b.vnode.el)==null?void 0:g.dataset.prefix;if(y){const I=_6({columns:e.store.states.columns.value},y,w);y.rowSpan>1&&f(y.rowSpan,v,Jo);const D=b.hoverState={cell:y,column:I,row:p};b==null||b.emit("cell-mouse-enter",D.row,D.column,D.cell,v)}if(!m)return;const _=v.target.querySelector(".cell");if(!(ns(_,`${w}-tooltip`)&&_.childNodes.length))return;const x=document.createRange();x.setStart(_,0),x.setEnd(_,_.childNodes.length);let S=x.getBoundingClientRect().width,C=x.getBoundingClientRect().height;const T=S-Math.floor(S),{width:M,height:k}=_.getBoundingClientRect();T<.001&&(S=Math.floor(S)),C-Math.floor(C)<.001&&(C=Math.floor(C));const{top:O,left:P,right:R,bottom:N}=c(_),L=P+R,B=O+N;(S+L>M||C+B>k||_.scrollWidth>M)&&Ott(m,y.innerText||y.textContent,y,b)},handleCellMouseLeave:v=>{const p=pS(v);if(!p)return;p.rowSpan>1&&f(p.rowSpan,v,Ai);const m=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",m==null?void 0:m.row,m==null?void 0:m.column,m==null?void 0:m.cell,v)},tooltipContent:r,tooltipTrigger:n}}function ert(e){const t=At(Fl),r=Ze("table");return{getRowStyle:(u,c)=>{const f=t==null?void 0:t.props.rowStyle;return typeof f=="function"?f.call(null,{row:u,rowIndex:c}):f||null},getRowClass:(u,c)=>{const f=[r.e("row")];t!=null&&t.props.highlightCurrentRow&&u===e.store.states.currentRow.value&&f.push("current-row"),e.stripe&&c%2===1&&f.push(r.em("row","striped"));const d=t==null?void 0:t.props.rowClassName;return typeof d=="string"?f.push(d):typeof d=="function"&&f.push(d.call(null,{row:u,rowIndex:c})),f},getCellStyle:(u,c,f,d)=>{const h=t==null?void 0:t.props.cellStyle;let v=h??{};typeof h=="function"&&(v=h.call(null,{rowIndex:u,columnIndex:c,row:f,column:d}));const p=NO(c,e==null?void 0:e.fixed,e.store);return Cv(p,"left"),Cv(p,"right"),Object.assign({},v,p)},getCellClass:(u,c,f,d,h)=>{const v=LO(r.b(),c,e==null?void 0:e.fixed,e.store,void 0,h),p=[d.id,d.align,d.className,...v],m=t==null?void 0:t.props.cellClassName;return typeof m=="string"?p.push(m):typeof m=="function"&&p.push(m.call(null,{rowIndex:u,columnIndex:c,row:f,column:d})),p.push(r.e("cell")),p.filter(g=>!!g).join(" ")},getSpan:(u,c,f,d)=>{let h=1,v=1;const p=t==null?void 0:t.props.spanMethod;if(typeof p=="function"){const m=p({row:u,column:c,rowIndex:f,columnIndex:d});Array.isArray(m)?(h=m[0],v=m[1]):typeof m=="object"&&(h=m.rowspan,v=m.colspan)}return{rowspan:h,colspan:v}},getColspanRealWidth:(u,c,f)=>{if(c<1)return u[f].realWidth;const d=u.map(({realWidth:h,width:v})=>h||v).slice(f,f+c);return Number(d.reduce((h,v)=>Number(h)+Number(v),-1))}}}function trt(e){const t=At(Fl),r=Ze("table"),{handleDoubleClick:n,handleClick:a,handleContextMenu:i,handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:f}=Jtt(e),{getRowStyle:d,getRowClass:h,getCellStyle:v,getCellClass:p,getSpan:m,getColspanRealWidth:g}=ert(e),b=$(()=>e.store.states.columns.value.findIndex(({type:S})=>S==="default")),y=(S,C)=>{const T=t.props.rowKey;return T?pi(S,T):C},w=(S,C,T,M=!1)=>{const{tooltipEffect:k,tooltipOptions:A,store:O}=e,{indent:P,columns:R}=O.states,N=h(S,C);let L=!0;return T&&(N.push(r.em("row",`level-${T.level}`)),L=T.display),Yt("tr",{style:[L?null:{display:"none"},d(S,C)],class:N,key:y(S,C),onDblclick:I=>n(I,S),onClick:I=>a(I,S),onContextmenu:I=>i(I,S),onMouseenter:()=>o(C),onMouseleave:s},R.value.map((I,D)=>{const{rowspan:z,colspan:U}=m(S,I,C,D);if(!z||!U)return null;const H=Object.assign({},I);H.realWidth=g(R.value,U,D);const Y={store:e.store,_self:e.context||t,column:H,row:S,$index:C,cellIndex:D,expanded:M};D===b.value&&T&&(Y.treeNode={indent:T.level*P.value,level:T.level},typeof T.expanded=="boolean"&&(Y.treeNode.expanded=T.expanded,"loading"in T&&(Y.treeNode.loading=T.loading),"noLazyChildren"in T&&(Y.treeNode.noLazyChildren=T.noLazyChildren)));const ie=`${y(S,C)},${D}`,X=H.columnKey||H.rawColumnKey||"",re=_(D,I,Y),oe=I.showOverflowTooltip&&JBe({effect:k},A,I.showOverflowTooltip);return Yt("td",{style:v(C,D,S,I),class:p(C,D,S,I,U-1),key:`${X}${ie}`,rowspan:z,colspan:U,onMouseenter:Ne=>l(Ne,S,oe),onMouseleave:u},[re])}))},_=(S,C,T)=>C.renderCell(T);return{wrappedRowRender:(S,C)=>{const T=e.store,{isRowExpanded:M,assertRowKey:k}=T,{treeData:A,lazyTreeNodeMap:O,childrenColumnName:P,rowKey:R}=T.states,N=T.states.columns.value;if(N.some(({type:B})=>B==="expand")){const B=M(S),I=w(S,C,void 0,B),D=t.renderExpanded;return B?D?[[I,Yt("tr",{key:`expanded-row__${I.key}`},[Yt("td",{colspan:N.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[D({row:S,$index:C,store:T,expanded:B})])])]]:(console.error("[Element Error]renderExpanded is required."),I):[[I]]}else if(Object.keys(A.value).length){k();const B=pi(S,R.value);let I=A.value[B],D=null;I&&(D={expanded:I.expanded,level:I.level,display:!0},typeof I.lazy=="boolean"&&(typeof I.loaded=="boolean"&&I.loaded&&(D.noLazyChildren=!(I.children&&I.children.length)),D.loading=I.loading));const z=[w(S,C,D)];if(I){let U=0;const H=(ie,X)=>{ie&&ie.length&&X&&ie.forEach(re=>{const oe={display:X.display&&X.expanded,level:X.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Ne=pi(re,R.value);if(Ne==null)throw new Error("For nested data item, row-key is required.");if(I={...A.value[Ne]},I&&(oe.expanded=I.expanded,I.level=I.level||oe.level,I.display=!!(I.expanded&&oe.display),typeof I.lazy=="boolean"&&(typeof I.loaded=="boolean"&&I.loaded&&(oe.noLazyChildren=!(I.children&&I.children.length)),oe.loading=I.loading)),U++,z.push(w(re,C+U,oe)),I){const me=O.value[Ne]||re[P.value];H(me,I)}})};I.display=!0;const Y=O.value[B]||S[P.value];H(Y,I)}return z}else return w(S,C,void 0)},tooltipContent:c,tooltipTrigger:f}}const rrt={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var nrt=J({name:"ElTableBody",props:rrt,setup(e){const t=Er(),r=At(Fl),n=Ze("table"),{wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}=trt(e),{onColumnsChange:s,onScrollableChange:l}=UX(r),u=[];return He(e.store.states.hoverRow,(c,f)=>{var d;const h=t==null?void 0:t.vnode.el,v=Array.from((h==null?void 0:h.children)||[]).filter(g=>g==null?void 0:g.classList.contains(`${n.e("row")}`));let p=c;const m=(d=v[p])==null?void 0:d.childNodes;if(m!=null&&m.length){let g=0;Array.from(m).reduce((y,w,_)=>{var x,S;return((x=m[_])==null?void 0:x.colSpan)>1&&(g=(S=m[_])==null?void 0:S.colSpan),w.nodeName!=="TD"&&g===0&&y.push(_),g>0&&g--,y},[]).forEach(y=>{var w;for(p=c;p>0;){const _=(w=v[p-1])==null?void 0:w.childNodes;if(_[y]&&_[y].nodeName==="TD"&&_[y].rowSpan>1){Jo(_[y],"hover-cell"),u.push(_[y]);break}p--}})}else u.forEach(g=>Ai(g,"hover-cell")),u.length=0;!e.store.states.isComplex.value||!Ur||Pc(()=>{const g=v[f],b=v[c];g&&!g.classList.contains("hover-fixed-row")&&Ai(g,"hover-row"),b&&Jo(b,"hover-row")})}),jc(()=>{var c;(c=Wo)==null||c()}),{ns:n,onColumnsChange:s,onScrollableChange:l,wrappedRowRender:a,tooltipContent:i,tooltipTrigger:o}},render(){const{wrappedRowRender:e,store:t}=this,r=t.states.data.value||[];return Yt("tbody",{tabIndex:-1},[r.reduce((n,a)=>n.concat(e(a,n.length)),[])])}});function art(){const e=At(Fl),t=e==null?void 0:e.store,r=$(()=>t.states.fixedLeafColumnsLength.value),n=$(()=>t.states.rightFixedColumns.value.length),a=$(()=>t.states.columns.value.length),i=$(()=>t.states.fixedColumns.value.length),o=$(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:n,columnsCount:a,leftFixedCount:i,rightFixedCount:o,columns:t.states.columns}}function irt(e){const{columns:t}=art(),r=Ze("table");return{getCellClasses:(i,o)=>{const s=i[o],l=[r.e("cell"),s.id,s.align,s.labelClassName,...LO(r.b(),o,s.fixed,e.store)];return s.className&&l.push(s.className),s.children||l.push(r.is("leaf")),l},getCellStyles:(i,o)=>{const s=NO(o,i.fixed,e.store);return Cv(s,"left"),Cv(s,"right"),s},columns:t}}var ort=J({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:r,columns:n}=irt(e);return{ns:Ze("table"),getCellClasses:t,getCellStyles:r,columns:n}},render(){const{columns:e,getCellStyles:t,getCellClasses:r,summaryMethod:n,sumText:a}=this,i=this.store.states.data.value;let o=[];return n?o=n({columns:e,data:i}):e.forEach((s,l)=>{if(l===0){o[l]=a;return}const u=i.map(h=>Number(h[s.property])),c=[];let f=!0;u.forEach(h=>{if(!Number.isNaN(+h)){f=!1;const v=`${h}`.split(".")[1];c.push(v?v.length:0)}});const d=Math.max.apply(null,c);f?o[l]="":o[l]=u.reduce((h,v)=>{const p=Number(v);return Number.isNaN(+p)?h:Number.parseFloat((h+v).toFixed(Math.min(d,20)))},0)}),Yt(Yt("tfoot",[Yt("tr",{},[...e.map((s,l)=>Yt("td",{key:l,colspan:s.colSpan,rowspan:s.rowSpan,class:r(e,l),style:t(s,l)},[Yt("div",{class:["cell",s.labelClassName]},[o[l]])]))])]))}});function srt(e){return{setCurrentRow:c=>{e.commit("setCurrentRow",c)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(c,f)=>{e.toggleRowSelection(c,f,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:c=>{e.clearFilter(c)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(c,f)=>{e.toggleRowExpansionAdapter(c,f)},clearSort:()=>{e.clearSort()},sort:(c,f)=>{e.commit("sort",{prop:c,order:f})}}}function lrt(e,t,r,n){const a=W(!1),i=W(null),o=W(!1),s=I=>{o.value=I},l=W({width:null,height:null,headerHeight:null}),u=W(!1),c={display:"inline-block",verticalAlign:"middle"},f=W(),d=W(0),h=W(0),v=W(0),p=W(0),m=W(0);gi(()=>{t.setHeight(e.height)}),gi(()=>{t.setMaxHeight(e.maxHeight)}),He(()=>[e.currentRowKey,r.states.rowKey],([I,D])=>{!E(D)||!E(I)||r.setCurrentRowKey(`${I}`)},{immediate:!0}),He(()=>e.data,I=>{n.store.commit("setData",I)},{immediate:!0,deep:!0}),gi(()=>{e.expandRowKeys&&r.setExpandRowKeysAdapter(e.expandRowKeys)});const g=()=>{n.store.commit("setHoverRow",null),n.hoverState&&(n.hoverState=null)},b=(I,D)=>{const{pixelX:z,pixelY:U}=D;Math.abs(z)>=Math.abs(U)&&(n.refs.bodyWrapper.scrollLeft+=D.pixelX/5)},y=$(()=>e.height||e.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),w=$(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),_=()=>{y.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(T)};vr(async()=>{await Ut(),r.updateColumns(),M(),requestAnimationFrame(_);const I=n.vnode.el,D=n.refs.headerWrapper;e.flexible&&I&&I.parentElement&&(I.parentElement.style.minWidth="0"),l.value={width:f.value=I.offsetWidth,height:I.offsetHeight,headerHeight:e.showHeader&&D?D.offsetHeight:null},r.states.columns.value.forEach(z=>{z.filteredValue&&z.filteredValue.length&&n.store.commit("filterChange",{column:z,values:z.filteredValue,silent:!0})}),n.$ready=!0});const x=(I,D)=>{if(!I)return;const z=Array.from(I.classList).filter(U=>!U.startsWith("is-scrolling-"));z.push(t.scrollX.value?D:"is-scrolling-none"),I.className=z.join(" ")},S=I=>{const{tableWrapper:D}=n.refs;x(D,I)},C=I=>{const{tableWrapper:D}=n.refs;return!!(D&&D.classList.contains(I))},T=function(){if(!n.refs.scrollBarRef)return;if(!t.scrollX.value){const X="is-scrolling-none";C(X)||S(X);return}const I=n.refs.scrollBarRef.wrapRef;if(!I)return;const{scrollLeft:D,offsetWidth:z,scrollWidth:U}=I,{headerWrapper:H,footerWrapper:Y}=n.refs;H&&(H.scrollLeft=D),Y&&(Y.scrollLeft=D);const ie=U-z-1;D>=ie?S("is-scrolling-right"):S(D===0?"is-scrolling-left":"is-scrolling-middle")},M=()=>{n.refs.scrollBarRef&&(n.refs.scrollBarRef.wrapRef&&Ln(n.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),e.fit?Bn(n.vnode.el,k):Ln(window,"resize",k),Bn(n.refs.bodyWrapper,()=>{var I,D;k(),(D=(I=n.refs)==null?void 0:I.scrollBarRef)==null||D.update()}))},k=()=>{var I,D,z,U;const H=n.vnode.el;if(!n.$ready||!H)return;let Y=!1;const{width:ie,height:X,headerHeight:re}=l.value,oe=f.value=H.offsetWidth;ie!==oe&&(Y=!0);const Ne=H.offsetHeight;(e.height||y.value)&&X!==Ne&&(Y=!0);const me=e.tableLayout==="fixed"?n.refs.headerWrapper:(I=n.refs.tableHeaderRef)==null?void 0:I.$el;e.showHeader&&(me==null?void 0:me.offsetHeight)!==re&&(Y=!0),d.value=((D=n.refs.tableWrapper)==null?void 0:D.scrollHeight)||0,v.value=(me==null?void 0:me.scrollHeight)||0,p.value=((z=n.refs.footerWrapper)==null?void 0:z.offsetHeight)||0,m.value=((U=n.refs.appendWrapper)==null?void 0:U.offsetHeight)||0,h.value=d.value-v.value-p.value-m.value,Y&&(l.value={width:oe,height:Ne,headerHeight:e.showHeader&&(me==null?void 0:me.offsetHeight)||0},_())},A=ba(),O=$(()=>{const{bodyWidth:I,scrollY:D,gutterWidth:z}=t;return I.value?`${I.value-(D.value?z:0)}px`:""}),P=$(()=>e.maxHeight?"fixed":e.tableLayout),R=$(()=>{if(e.data&&e.data.length)return null;let I="100%";e.height&&h.value&&(I=`${h.value}px`);const D=f.value;return{width:D?`${D}px`:"",height:I}}),N=$(()=>e.height?{height:Number.isNaN(Number(e.height))?e.height:`${e.height}px`}:e.maxHeight?{maxHeight:Number.isNaN(Number(e.maxHeight))?e.maxHeight:`${e.maxHeight}px`}:{}),L=$(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${v.value+p.value}px)`}:{maxHeight:`${e.maxHeight-v.value-p.value}px`}:{});return{isHidden:a,renderExpanded:i,setDragVisible:s,isGroup:u,handleMouseLeave:g,handleHeaderFooterMousewheel:b,tableSize:A,emptyBlockStyle:R,handleFixedMousewheel:(I,D)=>{const z=n.refs.bodyWrapper;if(Math.abs(D.spinY)>0){const U=z.scrollTop;D.pixelY<0&&U!==0&&I.preventDefault(),D.pixelY>0&&z.scrollHeight-z.clientHeight>U&&I.preventDefault(),z.scrollTop+=Math.ceil(D.pixelY/5)}else z.scrollLeft+=Math.ceil(D.pixelX/5)},resizeProxyVisible:o,bodyWidth:O,resizeState:l,doLayout:_,tableBodyStyles:w,tableLayout:P,scrollbarViewStyle:c,tableInnerStyle:N,scrollbarStyle:L}}function urt(e){const t=W(),r=()=>{const a=e.vnode.el.querySelector(".hidden-columns"),i={childList:!0,subtree:!0},o=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{o.forEach(s=>s())}),t.value.observe(a,i)};vr(()=>{r()}),jc(()=>{var n;(n=t.value)==null||n.disconnect()})}var crt={data:{type:Array,default:()=>[]},size:Da,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function HX(e){const t=e.tableLayout==="auto";let r=e.columns||[];t&&r.every(a=>a.width===void 0)&&(r=[]);const n=a=>{const i={key:`${e.tableLayout}_${a.id}`,style:{},name:void 0};return t?i.style={width:`${a.width}px`}:i.name=a.id,i};return Yt("colgroup",{},r.map(a=>Yt("col",n(a))))}HX.props=["columns","tableLayout"];const frt=()=>{const e=W(),t=(i,o)=>{const s=e.value;s&&s.scrollTo(i,o)},r=(i,o)=>{const s=e.value;s&&Qt(o)&&["Top","Left"].includes(i)&&s[`setScroll${i}`](o)};return{scrollBarRef:e,scrollTo:t,setScrollTop:i=>r("Top",i),setScrollLeft:i=>r("Left",i)}};let drt=1;const hrt=J({name:"ElTable",directives:{Mousewheel:Z9e},components:{TableHeader:Qtt,TableBody:nrt,TableFooter:ort,ElScrollbar:Pu,hColgroup:HX},props:crt,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t}=Zr(),r=Ze("table"),n=Er();$r(Fl,n);const a=Btt(n,e);n.store=a;const i=new ztt({store:n.store,table:n,fit:e.fit,showHeader:e.showHeader});n.layout=i;const o=$(()=>(a.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:v,sort:p}=srt(a),{isHidden:m,renderExpanded:g,setDragVisible:b,isGroup:y,handleMouseLeave:w,handleHeaderFooterMousewheel:_,tableSize:x,emptyBlockStyle:S,handleFixedMousewheel:C,resizeProxyVisible:T,bodyWidth:M,resizeState:k,doLayout:A,tableBodyStyles:O,tableLayout:P,scrollbarViewStyle:R,tableInnerStyle:N,scrollbarStyle:L}=lrt(e,i,a,n),{scrollBarRef:B,scrollTo:I,setScrollLeft:D,setScrollTop:z}=frt(),U=uo(A,50),H=`${r.namespace.value}-table_${drt++}`;n.tableId=H,n.state={isGroup:y,resizeState:k,doLayout:A,debouncedUpdateLayout:U};const Y=$(()=>e.sumText||t("el.table.sumText")),ie=$(()=>e.emptyText||t("el.table.emptyText"));return urt(n),{ns:r,layout:i,store:a,handleHeaderFooterMousewheel:_,handleMouseLeave:w,tableId:H,tableSize:x,isHidden:m,isEmpty:o,renderExpanded:g,resizeProxyVisible:T,resizeState:k,isGroup:y,bodyWidth:M,tableBodyStyles:O,emptyBlockStyle:S,debouncedUpdateLayout:U,handleFixedMousewheel:C,setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:v,doLayout:A,sort:p,t,setDragVisible:b,context:n,computedSumText:Y,computedEmptyText:ie,tableLayout:P,scrollbarViewStyle:R,tableInnerStyle:N,scrollbarStyle:L,scrollBarRef:B,scrollTo:I,setScrollLeft:D,setScrollTop:z}}}),vrt=["data-prefix"],prt={ref:"hiddenColumns",class:"hidden-columns"};function grt(e,t,r,n,a,i){const o=br("hColgroup"),s=br("table-header"),l=br("table-body"),u=br("table-footer"),c=br("el-scrollbar"),f=Kw("mousewheel");return F(),K("div",{ref:"tableWrapper",class:G([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:Bt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=(...d)=>e.handleMouseLeave&&e.handleMouseLeave(...d))},[Z("div",{class:G(e.ns.e("inner-wrapper")),style:Bt(e.tableInnerStyle)},[Z("div",prt,[Pe(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?cr((F(),K("div",{key:0,ref:"headerWrapper",class:G(e.ns.e("header-wrapper"))},[Z("table",{ref:"tableHeader",class:G(e.ns.e("header")),style:Bt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ae(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ae(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[f,e.handleHeaderFooterMousewheel]]):be("v-if",!0),Z("div",{ref:"bodyWrapper",class:G(e.ns.e("body-wrapper"))},[ae(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn},{default:he(()=>[Z("table",{ref:"tableBody",class:G(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Bt({width:e.bodyWidth,tableLayout:e.tableLayout})},[ae(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(F(),Oe(s,{key:0,ref:"tableHeaderRef",class:G(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):be("v-if",!0),ae(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(F(),Oe(u,{key:1,class:G(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):be("v-if",!0)],6),e.isEmpty?(F(),K("div",{key:0,ref:"emptyBlock",style:Bt(e.emptyBlockStyle),class:G(e.ns.e("empty-block"))},[Z("span",{class:G(e.ns.e("empty-text"))},[Pe(e.$slots,"empty",{},()=>[qr(ct(e.computedEmptyText),1)])],2)],6)):be("v-if",!0),e.$slots.append?(F(),K("div",{key:1,ref:"appendWrapper",class:G(e.ns.e("append-wrapper"))},[Pe(e.$slots,"append")],2)):be("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),e.showSummary&&e.tableLayout==="fixed"?cr((F(),K("div",{key:1,ref:"footerWrapper",class:G(e.ns.e("footer-wrapper"))},[Z("table",{class:G(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Bt(e.tableBodyStyles)},[ae(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),ae(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[nn,!e.isEmpty],[f,e.handleHeaderFooterMousewheel]]):be("v-if",!0),e.border||e.isGroup?(F(),K("div",{key:2,class:G(e.ns.e("border-left-patch"))},null,2)):be("v-if",!0)],6),cr(Z("div",{ref:"resizeProxy",class:G(e.ns.e("column-resize-proxy"))},null,2),[[nn,e.resizeProxyVisible]])],46,vrt)}var mrt=ut(hrt,[["render",grt],["__file","table.vue"]]);const yrt={selection:"table-column--selection",expand:"table__expand-column"},brt={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},wrt=e=>yrt[e]||"",Ert={selection:{renderHeader({store:e,column:t}){function r(){return e.states.data.value&&e.states.data.value.length===0}return Yt(hs,{disabled:r(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:r,$index:n}){return Yt(hs,{disabled:t.selectable?!t.selectable.call(null,e,n):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",e)},onClick:a=>a.stopPropagation(),modelValue:r.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let r=t+1;const n=e.index;return typeof n=="number"?r=t+n:typeof n=="function"&&(r=n(t)),Yt("div",{},[r])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:r}){const{ns:n}=t,a=[n.e("expand-icon")];return r&&a.push(n.em("expand-icon","expanded")),Yt("div",{class:a,onClick:function(o){o.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[Yt($t,null,{default:()=>[Yt(Fi)]})]})},sortable:!1,resizable:!1}};function _rt({row:e,column:t,$index:r}){var n;const a=t.property,i=a&&q1(e,a).value;return t&&t.formatter?t.formatter(e,t,i,r):((n=i==null?void 0:i.toString)==null?void 0:n.call(i))||""}function xrt({row:e,treeNode:t,store:r},n=!1){const{ns:a}=r;if(!t)return n?[Yt("span",{class:a.e("placeholder")})]:null;const i=[],o=function(s){s.stopPropagation(),!t.loading&&r.loadOrToggle(e)};if(t.indent&&i.push(Yt("span",{class:a.e("indent"),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const s=[a.e("expand-icon"),t.expanded?a.em("expand-icon","expanded"):""];let l=Fi;t.loading&&(l=Xc),i.push(Yt("div",{class:s,onClick:o},{default:()=>[Yt($t,{class:{[a.is("loading")]:t.loading}},{default:()=>[Yt(l)]})]}))}else i.push(Yt("span",{class:a.e("placeholder")}));return i}function C6(e,t){return e.reduce((r,n)=>(r[n]=n,r),t)}function Srt(e,t){const r=Er();return{registerComplexWatchers:()=>{const i=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},s=C6(i,o);Object.keys(s).forEach(l=>{const u=o[l];Xr(t,u)&&He(()=>t[u],c=>{let f=c;u==="width"&&l==="realWidth"&&(f=OO(c)),u==="minWidth"&&l==="realMinWidth"&&(f=FX(c)),r.columnConfig.value[u]=f,r.columnConfig.value[l]=f;const d=u==="fixed";e.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},s=C6(i,o);Object.keys(s).forEach(l=>{const u=o[l];Xr(t,u)&&He(()=>t[u],c=>{r.columnConfig.value[l]=c})})}}}function Crt(e,t,r){const n=Er(),a=W(""),i=W(!1),o=W(),s=W(),l=Ze("table");gi(()=>{o.value=e.align?`is-${e.align}`:null,o.value}),gi(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:o.value,s.value});const u=$(()=>{let w=n.vnode.vParent||n.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),c=$(()=>{const{store:w}=n.parent;if(!w)return!1;const{treeData:_}=w.states,x=_.value;return x&&Object.keys(x).length>0}),f=W(OO(e.width)),d=W(FX(e.minWidth)),h=w=>(f.value&&(w.width=f.value),d.value&&(w.minWidth=d.value),!f.value&&d.value&&(w.width=void 0),w.minWidth||(w.minWidth=80),w.realWidth=Number(w.width===void 0?w.minWidth:w.width),w),v=w=>{const _=w.type,x=Ert[_]||{};Object.keys(x).forEach(C=>{const T=x[C];C!=="className"&&T!==void 0&&(w[C]=T)});const S=wrt(_);if(S){const C=`${E(l.namespace)}-${S}`;w.className=w.className?`${w.className} ${C}`:C}return w},p=w=>{Array.isArray(w)?w.forEach(x=>_(x)):_(w);function _(x){var S;((S=x==null?void 0:x.type)==null?void 0:S.name)==="ElTableColumn"&&(x.vParent=n)}};return{columnId:a,realAlign:o,isSubColumn:i,realHeaderAlign:s,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:v,setColumnRenders:w=>{e.renderHeader||w.type!=="selection"&&(w.renderHeader=x=>(n.columnConfig.value.label,Pe(t,"header",x,()=>[w.label])));let _=w.renderCell;return w.type==="expand"?(w.renderCell=x=>Yt("div",{class:"cell"},[_(x)]),r.value.renderExpanded=x=>t.default?t.default(x):t.default):(_=_||_rt,w.renderCell=x=>{let S=null;if(t.default){const O=t.default(x);S=O.some(P=>P.type!==Bi)?O:_(x)}else S=_(x);const{columns:C}=r.value.store.states,T=C.value.findIndex(O=>O.type==="default"),M=c.value&&x.cellIndex===T,k=xrt(x,M),A={class:"cell",style:{}};return w.showOverflowTooltip&&(A.class=`${A.class} ${E(l.namespace)}-tooltip`,A.style={width:`${(x.column.realWidth||Number(x.column.width))-1}px`}),p(S),Yt("div",A,[k,S])}),w},getPropsData:(...w)=>w.reduce((_,x)=>(Array.isArray(x)&&x.forEach(S=>{_[S]=e[S]}),_),{}),getColumnElIndex:(w,_)=>Array.prototype.indexOf.call(w,_),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",n.columnConfig.value)}}}var Mrt={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let Trt=1;var YX=J({name:"ElTableColumn",components:{ElCheckbox:hs},props:Mrt,setup(e,{slots:t}){const r=Er(),n=W({}),a=$(()=>{let y=r.parent;for(;y&&!y.tableId;)y=y.parent;return y}),{registerNormalWatchers:i,registerComplexWatchers:o}=Srt(a,e),{columnId:s,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:f,setColumnForcedProps:d,setColumnRenders:h,getPropsData:v,getColumnElIndex:p,realAlign:m,updateColumnOrder:g}=Crt(e,t,a),b=c.value;s.value=`${b.tableId||b.columnId}_column_${Trt++}`,Zw(()=>{l.value=a.value!==b;const y=e.type||"default",w=e.sortable===""?!0:e.sortable,_=ca(e.showOverflowTooltip)?b.props.showOverflowTooltip:e.showOverflowTooltip,x={...brt[y],id:s.value,type:y,property:e.prop||e.property,align:m,headerAlign:u,showOverflowTooltip:_,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:e.index,rawColumnKey:r.vnode.key};let k=v(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);k=Ttt(x,k),k=Att(h,f,d)(k),n.value=k,i(),o()}),vr(()=>{var y;const w=c.value,_=l.value?w.vnode.el.children:(y=w.refs.hiddenColumns)==null?void 0:y.children,x=()=>p(_||[],r.vnode.el);n.value.getColumnIndex=x,x()>-1&&a.value.store.commit("insertColumn",n.value,l.value?w.columnConfig.value:null,g)}),On(()=>{n.value.getColumnIndex()>-1&&a.value.store.commit("removeColumn",n.value,l.value?b.columnConfig.value:null,g)}),r.columnId=s.value,r.columnConfig=n},render(){var e,t,r;try{const n=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),a=[];if(Array.isArray(n))for(const o of n)((r=o.type)==null?void 0:r.name)==="ElTableColumn"||o.shapeFlag&2?a.push(o):o.type===zt&&Array.isArray(o.children)&&o.children.forEach(s=>{(s==null?void 0:s.patchFlag)!==1024&&!nr(s==null?void 0:s.children)&&a.push(s)});return Yt("div",a)}catch{return Yt("div",[])}}});const krt=_r(mrt,{TableColumn:YX}),Art=jn(YX);var m0=(e=>(e.ASC="asc",e.DESC="desc",e))(m0||{}),y0=(e=>(e.CENTER="center",e.RIGHT="right",e))(y0||{}),KX=(e=>(e.LEFT="left",e.RIGHT="right",e))(KX||{});const dT={asc:"desc",desc:"asc"},b0=Symbol("placeholder"),Irt=(e,t,r)=>{var n;const a={flexGrow:0,flexShrink:0,...r?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};r||(a.flexShrink=1);const i={...(n=e.style)!=null?n:{},...a,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function Ort(e,t,r){const n=$(()=>E(t).filter(p=>!p.hidden)),a=$(()=>E(n).filter(p=>p.fixed==="left"||p.fixed===!0)),i=$(()=>E(n).filter(p=>p.fixed==="right")),o=$(()=>E(n).filter(p=>!p.fixed)),s=$(()=>{const p=[];return E(a).forEach(m=>{p.push({...m,placeholderSign:b0})}),E(o).forEach(m=>{p.push(m)}),E(i).forEach(m=>{p.push({...m,placeholderSign:b0})}),p}),l=$(()=>E(a).length||E(i).length),u=$(()=>E(t).reduce((m,g)=>(m[g.key]=Irt(g,E(r),e.fixed),m),{})),c=$(()=>E(n).reduce((p,m)=>p+m.width,0)),f=p=>E(t).find(m=>m.key===p),d=p=>E(u)[p],h=(p,m)=>{p.width=m};function v(p){var m;const{key:g}=p.currentTarget.dataset;if(!g)return;const{sortState:b,sortBy:y}=e;let w=m0.ASC;Sr(b)?w=dT[b[g]]:w=dT[y.order],(m=e.onColumnSort)==null||m.call(e,{column:f(g),key:g,order:w})}return{columns:t,columnsStyles:u,columnsTotalWidth:c,fixedColumnsOnLeft:a,fixedColumnsOnRight:i,hasFixedColumns:l,mainColumns:s,normalColumns:o,visibleColumns:n,getColumn:f,getColumnStyle:d,updateColumnWidth:h,onColumnSorted:v}}const Lrt=(e,{mainTableRef:t,leftTableRef:r,rightTableRef:n,onMaybeEndReached:a})=>{const i=W({scrollLeft:0,scrollTop:0});function o(h){var v,p,m;const{scrollTop:g}=h;(v=t.value)==null||v.scrollTo(h),(p=r.value)==null||p.scrollToTop(g),(m=n.value)==null||m.scrollToTop(g)}function s(h){i.value=h,o(h)}function l(h){i.value.scrollTop=h,o(E(i))}function u(h){var v,p;i.value.scrollLeft=h,(p=(v=t.value)==null?void 0:v.scrollTo)==null||p.call(v,E(i))}function c(h){var v;s(h),(v=e.onScroll)==null||v.call(e,h)}function f({scrollTop:h}){const{scrollTop:v}=E(i);h!==v&&l(h)}function d(h,v="auto"){var p;(p=t.value)==null||p.scrollToRow(h,v)}return He(()=>E(i).scrollTop,(h,v)=>{h>v&&a()}),{scrollPos:i,scrollTo:s,scrollToLeft:u,scrollToTop:l,scrollToRow:d,onScroll:c,onVerticalScroll:f}},Nrt=(e,{mainTableRef:t,leftTableRef:r,rightTableRef:n,tableInstance:a,ns:i,isScrolling:o})=>{const s=Er(),{emit:l}=s,u=Pn(!1),c=W(e.defaultExpandedRowKeys||[]),f=W(-1),d=Pn(null),h=W({}),v=W({}),p=Pn({}),m=Pn({}),g=Pn({}),b=$(()=>Qt(e.estimatedRowHeight));function y(M){var k;(k=e.onRowsRendered)==null||k.call(e,M),M.rowCacheEnd>E(f)&&(f.value=M.rowCacheEnd)}function w({hovered:M,rowKey:k}){if(o.value)return;a.vnode.el.querySelectorAll(`[rowkey=${k}]`).forEach(P=>{M?P.classList.add(i.is("hovered")):P.classList.remove(i.is("hovered"))})}function _({expanded:M,rowData:k,rowIndex:A,rowKey:O}){var P,R;const N=[...E(c)],L=N.indexOf(O);M?L===-1&&N.push(O):L>-1&&N.splice(L,1),c.value=N,l("update:expandedRowKeys",N),(P=e.onRowExpand)==null||P.call(e,{expanded:M,rowData:k,rowIndex:A,rowKey:O}),(R=e.onExpandedRowsChange)==null||R.call(e,N)}const x=uo(()=>{var M,k,A,O;u.value=!0,h.value={...E(h),...E(v)},S(E(d),!1),v.value={},d.value=null,(M=t.value)==null||M.forceUpdate(),(k=r.value)==null||k.forceUpdate(),(A=n.value)==null||A.forceUpdate(),(O=s.proxy)==null||O.$forceUpdate(),u.value=!1},0);function S(M,k=!1){E(b)&&[t,r,n].forEach(A=>{const O=E(A);O&&O.resetAfterRowIndex(M,k)})}function C(M,k,A){const O=E(d);(O===null||O>A)&&(d.value=A),v.value[M]=k}function T({rowKey:M,height:k,rowIndex:A},O){O?O===KX.RIGHT?g.value[M]=k:p.value[M]=k:m.value[M]=k;const P=Math.max(...[p,g,m].map(R=>R.value[M]||0));E(h)[M]!==P&&(C(M,P,A),x())}return{expandedRowKeys:c,lastRenderedRowIndex:f,isDynamic:b,isResetting:u,rowHeights:h,resetAfterIndex:S,onRowExpanded:_,onRowHovered:w,onRowsRendered:y,onRowHeightChange:T}},Prt=(e,{expandedRowKeys:t,lastRenderedRowIndex:r,resetAfterIndex:n})=>{const a=W({}),i=$(()=>{const s={},{data:l,rowKey:u}=e,c=E(t);if(!c||!c.length)return l;const f=[],d=new Set;c.forEach(v=>d.add(v));let h=l.slice();for(h.forEach(v=>s[v[u]]=0);h.length>0;){const v=h.shift();f.push(v),d.has(v[u])&&Array.isArray(v.children)&&v.children.length>0&&(h=[...v.children,...h],v.children.forEach(p=>s[p[u]]=s[v[u]]+1))}return a.value=s,f}),o=$(()=>{const{data:s,expandColumnKey:l}=e;return l?E(i):s});return He(o,(s,l)=>{s!==l&&(r.value=-1,n(0,!0))}),{data:o,depthMap:a}},Drt=(e,t)=>e+t,fb=e=>_t(e)?e.reduce(Drt,0):e,yd=(e,t,r={})=>Jt(e)?e(t):e??r,gc=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Xn(e[t])}),e),XX=e=>Rn(e)?t=>Yt(e,t):e,Rrt=(e,{columnsTotalWidth:t,data:r,fixedColumnsOnLeft:n,fixedColumnsOnRight:a})=>{const i=$(()=>{const{fixed:y,width:w,vScrollbarSize:_}=e,x=w-_;return y?Math.max(Math.round(E(t)),x):x}),o=$(()=>E(i)+e.vScrollbarSize),s=$(()=>{const{height:y=0,maxHeight:w=0,footerHeight:_,hScrollbarSize:x}=e;if(w>0){const S=E(v),C=E(l),M=E(h)+S+C+x;return Math.min(M,w-_)}return y-_}),l=$(()=>{const{rowHeight:y,estimatedRowHeight:w}=e,_=E(r);return Qt(w)?_.length*w:_.length*y}),u=$(()=>{const{maxHeight:y}=e,w=E(s);if(Qt(y)&&y>0)return w;const _=E(l)+E(h)+E(v);return Math.min(w,_)}),c=y=>y.width,f=$(()=>fb(E(n).map(c))),d=$(()=>fb(E(a).map(c))),h=$(()=>fb(e.headerHeight)),v=$(()=>{var y;return(((y=e.fixedData)==null?void 0:y.length)||0)*e.rowHeight}),p=$(()=>E(s)-E(h)-E(v)),m=$(()=>{const{style:y={},height:w,width:_}=e;return gc({...y,height:w,width:_})}),g=$(()=>gc({height:e.footerHeight})),b=$(()=>({top:Xn(E(h)),bottom:Xn(e.footerHeight),width:Xn(e.width)}));return{bodyWidth:i,fixedTableHeight:u,mainTableHeight:s,leftTableWidth:f,rightTableWidth:d,headerWidth:o,rowsHeight:l,windowHeight:p,footerHeight:g,emptyStyle:b,rootStyle:m,headerHeight:h}},$rt=e=>{const t=W(),r=W(0),n=W(0);let a;return vr(()=>{a=Bn(t,([i])=>{const{width:o,height:s}=i.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:f}=getComputedStyle(i.target),d=Number.parseInt(l)||0,h=Number.parseInt(u)||0,v=Number.parseInt(c)||0,p=Number.parseInt(f)||0;r.value=o-d-h,n.value=s-v-p}).stop}),On(()=>{a==null||a()}),He([r,n],([i,o])=>{var s;(s=e.onResize)==null||s.call(e,{width:i,height:o})}),{sizer:t,width:r,height:n}};function Brt(e){const t=W(),r=W(),n=W(),{columns:a,columnsStyles:i,columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:f}=Ort(e,kn(e,"columns"),kn(e,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:v,scrollToRow:p,onScroll:m,onVerticalScroll:g,scrollPos:b}=Lrt(e,{mainTableRef:t,leftTableRef:r,rightTableRef:n,onMaybeEndReached:te}),y=Ze("table-v2"),w=Er(),_=Pn(!1),{expandedRowKeys:x,lastRenderedRowIndex:S,isDynamic:C,isResetting:T,rowHeights:M,resetAfterIndex:k,onRowExpanded:A,onRowHeightChange:O,onRowHovered:P,onRowsRendered:R}=Nrt(e,{mainTableRef:t,leftTableRef:r,rightTableRef:n,tableInstance:w,ns:y,isScrolling:_}),{data:N,depthMap:L}=Prt(e,{expandedRowKeys:x,lastRenderedRowIndex:S,resetAfterIndex:k}),{bodyWidth:B,fixedTableHeight:I,mainTableHeight:D,leftTableWidth:z,rightTableWidth:U,headerWidth:H,rowsHeight:Y,windowHeight:ie,footerHeight:X,emptyStyle:re,rootStyle:oe,headerHeight:Ne}=Rrt(e,{columnsTotalWidth:o,data:N,fixedColumnsOnLeft:s,fixedColumnsOnRight:l}),me=W(),xe=$(()=>{const le=E(N).length===0;return _t(e.fixedData)?e.fixedData.length===0&&le:le});function ze(le){const{estimatedRowHeight:Ae,rowHeight:Ve,rowKey:Ie}=e;return Ae?E(M)[E(N)[le][Ie]]||Ae:Ve}function te(){const{onEndReached:le}=e;if(!le)return;const{scrollTop:Ae}=E(b),Ve=E(Y),Ie=E(ie),De=Ve-(Ae+Ie)+e.hScrollbarSize;E(S)>=0&&Ve===Ae+E(D)-E(Ne)&&le(De)}return He(()=>e.expandedRowKeys,le=>x.value=le,{deep:!0}),{columns:a,containerRef:me,mainTableRef:t,leftTableRef:r,rightTableRef:n,isDynamic:C,isResetting:T,isScrolling:_,hasFixedColumns:u,columnsStyles:i,columnsTotalWidth:o,data:N,expandedRowKeys:x,depthMap:L,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:B,emptyStyle:re,rootStyle:oe,headerWidth:H,footerHeight:X,mainTableHeight:D,fixedTableHeight:I,leftTableWidth:z,rightTableWidth:U,showEmpty:xe,getRowHeight:ze,onColumnSorted:f,onRowHovered:P,onRowExpanded:A,onRowsRendered:R,onRowHeightChange:O,scrollTo:d,scrollToLeft:h,scrollToTop:v,scrollToRow:p,onScroll:m,onVerticalScroll:g}}const PO=Symbol("tableV2"),qX=String,mm={type:ve(Array),required:!0},DO={type:ve(Array)},ZX={...DO,required:!0},Frt=String,M6={type:ve(Array),default:()=>Fn([])},kf={type:Number,required:!0},QX={type:ve([String,Number,Symbol]),default:"id"},T6={type:ve(Object)},zf=it({class:String,columns:mm,columnsStyles:{type:ve(Object),required:!0},depth:Number,expandColumnKey:Frt,estimatedRowHeight:{...Jf.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ve(Function)},onRowHover:{type:ve(Function)},onRowHeightChange:{type:ve(Function)},rowData:{type:ve(Object),required:!0},rowEventHandlers:{type:ve(Object)},rowIndex:{type:Number,required:!0},rowKey:QX,style:{type:ve(Object)}}),gS={type:Number,required:!0},RO=it({class:String,columns:mm,fixedHeaderData:{type:ve(Array)},headerData:{type:ve(Array),required:!0},headerHeight:{type:ve([Number,Array]),default:50},rowWidth:gS,rowHeight:{type:Number,default:50},height:gS,width:gS}),db=it({columns:mm,data:ZX,fixedData:DO,estimatedRowHeight:zf.estimatedRowHeight,width:kf,height:kf,headerWidth:kf,headerHeight:RO.headerHeight,bodyWidth:kf,rowHeight:kf,cache:wX.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Jf.scrollbarAlwaysOn,scrollbarStartGap:Jf.scrollbarStartGap,scrollbarEndGap:Jf.scrollbarEndGap,class:qX,style:T6,containerStyle:T6,getRowHeight:{type:ve(Function),required:!0},rowKey:zf.rowKey,onRowsRendered:{type:ve(Function)},onScroll:{type:ve(Function)}}),zrt=it({cache:db.cache,estimatedRowHeight:zf.estimatedRowHeight,rowKey:QX,headerClass:{type:ve([String,Function])},headerProps:{type:ve([Object,Function])},headerCellProps:{type:ve([Object,Function])},headerHeight:RO.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ve([String,Function])},rowProps:{type:ve([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ve([Object,Function])},columns:mm,data:ZX,dataGetter:{type:ve(Function)},fixedData:DO,expandColumnKey:zf.expandColumnKey,expandedRowKeys:M6,defaultExpandedRowKeys:M6,class:qX,fixed:Boolean,style:{type:ve(Object)},width:kf,height:kf,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Jf.hScrollbarSize,vScrollbarSize:Jf.vScrollbarSize,scrollbarAlwaysOn:xX.alwaysOn,sortBy:{type:ve(Object),default:()=>({})},sortState:{type:ve(Object),default:void 0},onColumnSort:{type:ve(Function)},onExpandedRowsChange:{type:ve(Function)},onEndReached:{type:ve(Function)},onRowExpand:zf.onRowExpand,onScroll:db.onScroll,onRowsRendered:db.onRowsRendered,rowEventHandlers:zf.rowEventHandlers}),$O=(e,{slots:t})=>{var r;const{cellData:n,style:a}=e,i=((r=n==null?void 0:n.toString)==null?void 0:r.call(n))||"",o=Pe(t,"default",e,()=>[i]);return ae("div",{class:e.class,title:i,style:a},[o])};$O.displayName="ElTableV2Cell";$O.inheritAttrs=!1;const BO=(e,{slots:t})=>Pe(t,"default",e,()=>{var r,n;return[ae("div",{class:e.class,title:(r=e.column)==null?void 0:r.title},[(n=e.column)==null?void 0:n.title])]});BO.displayName="ElTableV2HeaderCell";BO.inheritAttrs=!1;const Grt=it({class:String,columns:mm,columnsStyles:{type:ve(Object),required:!0},headerIndex:Number,style:{type:ve(Object)}}),jrt=J({name:"ElTableV2HeaderRow",props:Grt,setup(e,{slots:t}){return()=>{const{columns:r,columnsStyles:n,headerIndex:a,style:i}=e;let o=r.map((s,l)=>t.cell({columns:r,column:s,columnIndex:l,headerIndex:a,style:n[s.key]}));return t.header&&(o=t.header({cells:o.map(s=>_t(s)&&s.length===1?s[0]:s),columns:r,headerIndex:a})),ae("div",{class:e.class,style:i,role:"row"},[o])}}}),Vrt="ElTableV2Header",Urt=J({name:Vrt,props:RO,setup(e,{slots:t,expose:r}){const n=Ze("table-v2"),a=W(),i=$(()=>gc({width:e.width,height:e.height})),o=$(()=>gc({width:e.rowWidth,height:e.height})),s=$(()=>dd(E(e.headerHeight))),l=f=>{const d=E(a);Ut(()=>{d!=null&&d.scroll&&d.scroll({left:f})})},u=()=>{const f=n.e("fixed-header-row"),{columns:d,fixedHeaderData:h,rowHeight:v}=e;return h==null?void 0:h.map((p,m)=>{var g;const b=gc({height:v,width:"100%"});return(g=t.fixed)==null?void 0:g.call(t,{class:f,columns:d,rowData:p,rowIndex:-(m+1),style:b})})},c=()=>{const f=n.e("dynamic-header-row"),{columns:d}=e;return E(s).map((h,v)=>{var p;const m=gc({width:"100%",height:h});return(p=t.dynamic)==null?void 0:p.call(t,{class:f,columns:d,headerIndex:v,style:m})})};return r({scrollToLeft:l}),()=>{if(!(e.height<=0))return ae("div",{ref:a,class:e.class,style:E(i),role:"rowgroup"},[ae("div",{style:E(o),class:n.e("header")},[c(),u()])])}}}),Wrt=e=>{const{isScrolling:t}=At(PO),r=W(!1),n=W(),a=$(()=>Qt(e.estimatedRowHeight)&&e.rowIndex>=0),i=(l=!1)=>{const u=E(n);if(!u)return;const{columns:c,onRowHeightChange:f,rowKey:d,rowIndex:h,style:v}=e,{height:p}=u.getBoundingClientRect();r.value=!0,Ut(()=>{if(l||p!==Number.parseInt(v.height)){const m=c[0],g=(m==null?void 0:m.placeholderSign)===b0;f==null||f({rowKey:d,height:p,rowIndex:h},m&&!g&&m.fixed)}})},o=$(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:f}=e,d=e.rowEventHandlers||{},h={};return Object.entries(d).forEach(([v,p])=>{Jt(p)&&(h[v]=m=>{p({event:m,rowData:l,rowIndex:u,rowKey:c})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:v,hovered:p})=>{const m=h[v];h[v]=g=>{f({event:g,hovered:p,rowData:l,rowIndex:u,rowKey:c}),m==null||m(g)}}),h}),s=l=>{const{onRowExpand:u,rowData:c,rowIndex:f,rowKey:d}=e;u==null||u({expanded:l,rowData:c,rowIndex:f,rowKey:d})};return vr(()=>{E(a)&&i(!0)}),{isScrolling:t,measurable:a,measured:r,rowRef:n,eventHandlers:o,onExpand:s}},Hrt="ElTableV2TableRow",Yrt=J({name:Hrt,props:zf,setup(e,{expose:t,slots:r,attrs:n}){const{eventHandlers:a,isScrolling:i,measurable:o,measured:s,rowRef:l,onExpand:u}=Wrt(e);return t({onExpand:u}),()=>{const{columns:c,columnsStyles:f,expandColumnKey:d,depth:h,rowData:v,rowIndex:p,style:m}=e;let g=c.map((b,y)=>{const w=_t(v.children)&&v.children.length>0&&b.key===d;return r.cell({column:b,columns:c,columnIndex:y,depth:h,style:f[b.key],rowData:v,rowIndex:p,isScrolling:E(i),expandIconProps:w?{rowData:v,rowIndex:p,onExpand:u}:void 0})});if(r.row&&(g=r.row({cells:g.map(b=>_t(b)&&b.length===1?b[0]:b),style:m,columns:c,depth:h,rowData:v,rowIndex:p,isScrolling:E(i)})),E(o)){const{height:b,...y}=m||{},w=E(s);return ae("div",Dr({ref:l,class:e.class,style:w?m:y,role:"row"},n,E(a)),[g])}return ae("div",Dr(n,{ref:l,class:e.class,style:m,role:"row"},E(a)),[g])}}}),Krt=e=>{const{sortOrder:t}=e;return ae($t,{size:14,class:e.class},{default:()=>[t===m0.ASC?ae(vFe,null,null):ae(dFe,null,null)]})},Xrt=e=>{const{expanded:t,expandable:r,onExpand:n,style:a,size:i}=e,o={onClick:r?()=>n(!t):void 0,class:e.class};return ae($t,Dr(o,{size:i,style:a}),{default:()=>[ae(Fi,null,null)]})},qrt="ElTableV2Grid",Zrt=e=>{const t=W(),r=W(),n=$(()=>{const{data:p,rowHeight:m,estimatedRowHeight:g}=e;if(!g)return p.length*m}),a=$(()=>{const{fixedData:p,rowHeight:m}=e;return((p==null?void 0:p.length)||0)*m}),i=$(()=>fb(e.headerHeight)),o=$(()=>{const{height:p}=e;return Math.max(0,p-E(i)-E(a))}),s=$(()=>E(i)+E(a)>0),l=({data:p,rowIndex:m})=>p[m][e.rowKey];function u({rowCacheStart:p,rowCacheEnd:m,rowVisibleStart:g,rowVisibleEnd:b}){var y;(y=e.onRowsRendered)==null||y.call(e,{rowCacheStart:p,rowCacheEnd:m,rowVisibleStart:g,rowVisibleEnd:b})}function c(p,m){var g;(g=r.value)==null||g.resetAfterRowIndex(p,m)}function f(p,m){const g=E(t),b=E(r);!g||!b||(Sr(p)?(g.scrollToLeft(p.scrollLeft),b.scrollTo(p)):(g.scrollToLeft(p),b.scrollTo({scrollLeft:p,scrollTop:m})))}function d(p){var m;(m=E(r))==null||m.scrollTo({scrollTop:p})}function h(p,m){var g;(g=E(r))==null||g.scrollToItem(p,1,m)}function v(){var p,m;(p=E(r))==null||p.$forceUpdate(),(m=E(t))==null||m.$forceUpdate()}return{bodyRef:r,forceUpdate:v,fixedRowHeight:a,gridHeight:o,hasHeader:s,headerHeight:i,headerRef:t,totalHeight:n,itemKey:l,onItemRendered:u,resetAfterRowIndex:c,scrollTo:f,scrollToTop:d,scrollToRow:h}},FO=J({name:qrt,props:db,setup(e,{slots:t,expose:r}){const{ns:n}=At(PO),{bodyRef:a,fixedRowHeight:i,gridHeight:o,hasHeader:s,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:f,itemKey:d,onItemRendered:h,resetAfterRowIndex:v,scrollTo:p,scrollToTop:m,scrollToRow:g}=Zrt(e);r({forceUpdate:f,totalHeight:c,scrollTo:p,scrollToTop:m,scrollToRow:g,resetAfterRowIndex:v});const b=()=>e.bodyWidth;return()=>{const{cache:y,columns:w,data:_,fixedData:x,useIsScrolling:S,scrollbarAlwaysOn:C,scrollbarEndGap:T,scrollbarStartGap:M,style:k,rowHeight:A,bodyWidth:O,estimatedRowHeight:P,headerWidth:R,height:N,width:L,getRowHeight:B,onScroll:I}=e,D=Qt(P),z=D?PJe:IJe,U=E(u);return ae("div",{role:"table",class:[n.e("table"),e.class],style:k},[ae(z,{ref:a,data:_,useIsScrolling:S,itemKey:d,columnCache:0,columnWidth:D?b:O,totalColumn:1,totalRow:_.length,rowCache:y,rowHeight:D?B:A,width:L,height:E(o),class:n.e("body"),role:"rowgroup",scrollbarStartGap:M,scrollbarEndGap:T,scrollbarAlwaysOn:C,onScroll:I,onItemRendered:h,perfMode:!1},{default:H=>{var Y;const ie=_[H.rowIndex];return(Y=t.row)==null?void 0:Y.call(t,{...H,columns:w,rowData:ie})}}),E(s)&&ae(Urt,{ref:l,class:n.e("header-wrapper"),columns:w,headerData:_,headerHeight:e.headerHeight,fixedHeaderData:x,rowWidth:R,rowHeight:A,width:L,height:Math.min(U+E(i),N)},{dynamic:t.header,fixed:t.row})])}}});function Qrt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Rn(e)}const Jrt=(e,{slots:t})=>{const{mainTableRef:r,...n}=e;return ae(FO,Dr({ref:r},n),Qrt(t)?t:{default:()=>[t]})};function ent(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Rn(e)}const tnt=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:r,...n}=e;return ae(FO,Dr({ref:r},n),ent(t)?t:{default:()=>[t]})};function rnt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Rn(e)}const nnt=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:r,...n}=e;return ae(FO,Dr({ref:r},n),rnt(t)?t:{default:()=>[t]})};function ant(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Rn(e)}const int=(e,{slots:t})=>{const{columns:r,columnsStyles:n,depthMap:a,expandColumnKey:i,expandedRowKeys:o,estimatedRowHeight:s,hasFixedColumns:l,rowData:u,rowIndex:c,style:f,isScrolling:d,rowProps:h,rowClass:v,rowKey:p,rowEventHandlers:m,ns:g,onRowHovered:b,onRowExpanded:y}=e,w=yd(v,{columns:r,rowData:u,rowIndex:c},""),_=yd(h,{columns:r,rowData:u,rowIndex:c}),x=u[p],S=a[x]||0,C=!!i,T=c<0,M=[g.e("row"),w,{[g.e(`row-depth-${S}`)]:C&&c>=0,[g.is("expanded")]:C&&o.includes(x),[g.is("fixed")]:!S&&T,[g.is("customized")]:!!t.row}],k=l?b:void 0,A={..._,columns:r,columnsStyles:n,class:M,depth:S,expandColumnKey:i,estimatedRowHeight:T?void 0:s,isScrolling:d,rowIndex:c,rowData:u,rowKey:x,rowEventHandlers:m,style:f};return ae(Yrt,Dr(A,{onRowExpand:y,onMouseenter:R=>{k==null||k({hovered:!0,rowKey:x,event:R,rowData:u,rowIndex:c})},onMouseleave:R=>{k==null||k({hovered:!1,rowKey:x,event:R,rowData:u,rowIndex:c})},rowkey:x}),ant(t)?t:{default:()=>[t]})},hT=({columns:e,column:t,columnIndex:r,depth:n,expandIconProps:a,isScrolling:i,rowData:o,rowIndex:s,style:l,expandedRowKeys:u,ns:c,cellProps:f,expandColumnKey:d,indentSize:h,iconSize:v,rowKey:p},{slots:m})=>{const g=gc(l);if(t.placeholderSign===b0)return ae("div",{class:c.em("row-cell","placeholder"),style:g},null);const{cellRenderer:b,dataKey:y,dataGetter:w}=t,_=Jt(w)?w({columns:e,column:t,columnIndex:r,rowData:o,rowIndex:s}):ea(o,y??""),x=yd(f,{cellData:_,columns:e,column:t,columnIndex:r,rowIndex:s,rowData:o}),S={class:c.e("cell-text"),columns:e,column:t,columnIndex:r,cellData:_,isScrolling:i,rowData:o,rowIndex:s},C=XX(b),T=C?C(S):Pe(m,"default",S,()=>[ae($O,S,null)]),M=[c.e("row-cell"),t.class,t.align===y0.CENTER&&c.is("align-center"),t.align===y0.RIGHT&&c.is("align-right")],k=s>=0&&d&&t.key===d,A=s>=0&&u.includes(o[p]);let O;const P=`margin-inline-start: ${n*h}px;`;return k&&(Sr(a)?O=ae(Xrt,Dr(a,{class:[c.e("expand-icon"),c.is("expanded",A)],size:v,expanded:A,style:P,expandable:!0}),null):O=ae("div",{style:[P,`width: ${v}px; height: ${v}px;`].join(" ")},null)),ae("div",Dr({class:M,style:g},x,{role:"cell"}),[O,T])};hT.inheritAttrs=!1;function ont(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Rn(e)}const snt=({columns:e,columnsStyles:t,headerIndex:r,style:n,headerClass:a,headerProps:i,ns:o},{slots:s})=>{const l={columns:e,headerIndex:r},u=[o.e("header-row"),yd(a,l,""),{[o.is("customized")]:!!s.header}],c={...yd(i,l),columnsStyles:t,class:u,columns:e,headerIndex:r,style:n};return ae(jrt,c,ont(s)?s:{default:()=>[s]})},k6=(e,{slots:t})=>{const{column:r,ns:n,style:a,onColumnSorted:i}=e,o=gc(a);if(r.placeholderSign===b0)return ae("div",{class:n.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:s,headerClass:l,sortable:u}=r,c={...e,class:n.e("header-cell-text")},f=XX(s),d=f?f(c):Pe(t,"default",c,()=>[ae(BO,c,null)]),{sortBy:h,sortState:v,headerCellProps:p}=e;let m,g;if(v){const w=v[r.key];m=!!dT[w],g=m?w:m0.ASC}else m=r.key===h.key,g=m?h.order:m0.ASC;const b=[n.e("header-cell"),yd(l,e,""),r.align===y0.CENTER&&n.is("align-center"),r.align===y0.RIGHT&&n.is("align-right"),u&&n.is("sortable")],y={...yd(p,e),onClick:r.sortable?i:void 0,class:b,style:o,"data-key":r.key};return ae("div",Dr(y,{role:"columnheader"}),[d,u&&ae(Krt,{class:[n.e("sort-icon"),m&&n.is("sorting")],sortOrder:g},null)])},JX=(e,{slots:t})=>{var r;return ae("div",{class:e.class,style:e.style},[(r=t.default)==null?void 0:r.call(t)])};JX.displayName="ElTableV2Footer";const eq=(e,{slots:t})=>{const r=Pe(t,"default",{},()=>[ae(aX,null,null)]);return ae("div",{class:e.class,style:e.style},[r])};eq.displayName="ElTableV2Empty";const tq=(e,{slots:t})=>{var r;return ae("div",{class:e.class,style:e.style},[(r=t.default)==null?void 0:r.call(t)])};tq.displayName="ElTableV2Overlay";function Op(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Rn(e)}const lnt="ElTableV2",unt=J({name:lnt,props:zrt,setup(e,{slots:t,expose:r}){const n=Ze("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:i,fixedColumnsOnRight:o,mainColumns:s,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:f,data:d,depthMap:h,expandedRowKeys:v,hasFixedColumns:p,mainTableRef:m,leftTableRef:g,rightTableRef:b,isDynamic:y,isResetting:w,isScrolling:_,bodyWidth:x,emptyStyle:S,rootStyle:C,headerWidth:T,footerHeight:M,showEmpty:k,scrollTo:A,scrollToLeft:O,scrollToTop:P,scrollToRow:R,getRowHeight:N,onColumnSorted:L,onRowHeightChange:B,onRowHovered:I,onRowExpanded:D,onRowsRendered:z,onScroll:U,onVerticalScroll:H}=Brt(e);return r({scrollTo:A,scrollToLeft:O,scrollToTop:P,scrollToRow:R}),$r(PO,{ns:n,isResetting:w,isScrolling:_}),()=>{const{cache:Y,cellProps:ie,estimatedRowHeight:X,expandColumnKey:re,fixedData:oe,headerHeight:Ne,headerClass:me,headerProps:xe,headerCellProps:ze,sortBy:te,sortState:le,rowHeight:Ae,rowClass:Ve,rowEventHandlers:Ie,rowKey:De,rowProps:Ge,scrollbarAlwaysOn:Qe,indentSize:ke,iconSize:q,useIsScrolling:j,vScrollbarSize:Ce,width:fe}=e,ge=E(d),Ue={cache:Y,class:n.e("main"),columns:E(s),data:ge,fixedData:oe,estimatedRowHeight:X,bodyWidth:E(x)+Ce,headerHeight:Ne,headerWidth:E(T),height:E(l),mainTableRef:m,rowKey:De,rowHeight:Ae,scrollbarAlwaysOn:Qe,scrollbarStartGap:2,scrollbarEndGap:Ce,useIsScrolling:j,width:fe,getRowHeight:N,onRowsRendered:z,onScroll:U},tt=E(c),ot=E(u),Ye={cache:Y,class:n.e("left"),columns:E(i),data:ge,estimatedRowHeight:X,leftTableRef:g,rowHeight:Ae,bodyWidth:tt,headerWidth:tt,headerHeight:Ne,height:ot,rowKey:De,scrollbarAlwaysOn:Qe,scrollbarStartGap:2,scrollbarEndGap:Ce,useIsScrolling:j,width:tt,getRowHeight:N,onScroll:H},qe=E(f)+Ce,Be={cache:Y,class:n.e("right"),columns:E(o),data:ge,estimatedRowHeight:X,rightTableRef:b,rowHeight:Ae,bodyWidth:qe,headerWidth:qe,headerHeight:Ne,height:ot,rowKey:De,scrollbarAlwaysOn:Qe,scrollbarStartGap:2,scrollbarEndGap:Ce,width:qe,style:`--${E(n.namespace)}-table-scrollbar-size: ${Ce}px`,useIsScrolling:j,getRowHeight:N,onScroll:H},pe=E(a),Re={ns:n,depthMap:E(h),columnsStyles:pe,expandColumnKey:re,expandedRowKeys:E(v),estimatedRowHeight:X,hasFixedColumns:E(p),rowProps:Ge,rowClass:Ve,rowKey:De,rowEventHandlers:Ie,onRowHovered:I,onRowExpanded:D,onRowHeightChange:B},ft={cellProps:ie,expandColumnKey:re,indentSize:ke,iconSize:q,rowKey:De,expandedRowKeys:E(v),ns:n},Ee={ns:n,headerClass:me,headerProps:xe,columnsStyles:pe},wt={ns:n,sortBy:te,sortState:le,headerCellProps:ze,onColumnSorted:L},ar={row:In=>ae(int,Dr(In,Re),{row:t.row,cell:ir=>{let An;return t.cell?ae(hT,Dr(ir,ft,{style:pe[ir.column.key]}),Op(An=t.cell(ir))?An:{default:()=>[An]}):ae(hT,Dr(ir,ft,{style:pe[ir.column.key]}),null)}}),header:In=>ae(snt,Dr(In,Ee),{header:t.header,cell:ir=>{let An;return t["header-cell"]?ae(k6,Dr(ir,wt,{style:pe[ir.column.key]}),Op(An=t["header-cell"](ir))?An:{default:()=>[An]}):ae(k6,Dr(ir,wt,{style:pe[ir.column.key]}),null)}})},lr=[e.class,n.b(),n.e("root"),{[n.is("dynamic")]:E(y)}],Wr={class:n.e("footer"),style:E(M)};return ae("div",{class:lr,style:E(C)},[ae(Jrt,Ue,Op(ar)?ar:{default:()=>[ar]}),ae(tnt,Ye,Op(ar)?ar:{default:()=>[ar]}),ae(nnt,Be,Op(ar)?ar:{default:()=>[ar]}),t.footer&&ae(JX,Wr,{default:t.footer}),E(k)&&ae(eq,{class:n.e("empty"),style:E(S)},{default:t.empty}),t.overlay&&ae(tq,{class:n.e("overlay")},{default:t.overlay})])}}}),cnt=it({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ve(Function)}}),fnt=J({name:"ElAutoResizer",props:cnt,setup(e,{slots:t}){const r=Ze("auto-resizer"),{height:n,width:a,sizer:i}=$rt(e),o={width:"100%",height:"100%"};return()=>{var s;return ae("div",{ref:i,class:r.b(),style:o},[(s=t.default)==null?void 0:s.call(t,{height:n.value,width:a.value})])}}}),dnt=_r(unt),hnt=_r(fnt),S2=Symbol("tabsRootContextKey"),vnt=it({tabs:{type:ve(Array),default:()=>Fn([])}}),rq="ElTabBar",pnt=J({name:rq}),gnt=J({...pnt,props:vnt,setup(e,{expose:t}){const r=e,n=Er(),a=At(S2);a||Ta(rq,"<el-tabs><el-tab-bar /></el-tabs>");const i=Ze("tabs"),o=W(),s=W(),l=()=>{let c=0,f=0;const d=["top","bottom"].includes(a.props.tabPosition)?"width":"height",h=d==="width"?"x":"y",v=h==="x"?"left":"top";return r.tabs.every(p=>{var m,g;const b=(g=(m=n.parent)==null?void 0:m.refs)==null?void 0:g[`tab-${p.uid}`];if(!b)return!1;if(!p.active)return!0;c=b[`offset${fl(v)}`],f=b[`client${fl(d)}`];const y=window.getComputedStyle(b);return d==="width"&&(r.tabs.length>1&&(f-=Number.parseFloat(y.paddingLeft)+Number.parseFloat(y.paddingRight)),c+=Number.parseFloat(y.paddingLeft)),!1}),{[d]:`${f}px`,transform:`translate${fl(h)}(${c}px)`}},u=()=>s.value=l();return He(()=>r.tabs,async()=>{await Ut(),u()},{immediate:!0}),Bn(o,()=>u()),t({ref:o,update:u}),(c,f)=>(F(),K("div",{ref_key:"barRef",ref:o,class:G([E(i).e("active-bar"),E(i).is(E(a).props.tabPosition)]),style:Bt(s.value)},null,6))}});var mnt=ut(gnt,[["__file","tab-bar.vue"]]);const ynt=it({panes:{type:ve(Array),default:()=>Fn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),bnt={tabClick:(e,t,r)=>r instanceof Event,tabRemove:(e,t)=>t instanceof Event},A6="ElTabNav",wnt=J({name:A6,props:ynt,emits:bnt,setup(e,{expose:t,emit:r}){const n=Er(),a=At(S2);a||Ta(A6,"<el-tabs><tab-nav /></el-tabs>");const i=Ze("tabs"),o=C3e(),s=$3e(),l=W(),u=W(),c=W(),f=W(),d=W(!1),h=W(0),v=W(!1),p=W(!0),m=$(()=>["top","bottom"].includes(a.props.tabPosition)?"width":"height"),g=$(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${h.value}px)`})),b=()=>{if(!l.value)return;const T=l.value[`offset${fl(m.value)}`],M=h.value;if(!M)return;const k=M>T?M-T:0;h.value=k},y=()=>{if(!l.value||!u.value)return;const T=u.value[`offset${fl(m.value)}`],M=l.value[`offset${fl(m.value)}`],k=h.value;if(T-k<=M)return;const A=T-k>M*2?k+M:T-M;h.value=A},w=async()=>{const T=u.value;if(!d.value||!c.value||!l.value||!T)return;await Ut();const M=c.value.querySelector(".is-active");if(!M)return;const k=l.value,A=["top","bottom"].includes(a.props.tabPosition),O=M.getBoundingClientRect(),P=k.getBoundingClientRect(),R=A?T.offsetWidth-P.width:T.offsetHeight-P.height,N=h.value;let L=N;A?(O.left<P.left&&(L=N-(P.left-O.left)),O.right>P.right&&(L=N+O.right-P.right)):(O.top<P.top&&(L=N-(P.top-O.top)),O.bottom>P.bottom&&(L=N+(O.bottom-P.bottom))),L=Math.max(L,0),h.value=Math.min(L,R)},_=()=>{var T;if(!u.value||!l.value)return;e.stretch&&((T=f.value)==null||T.update());const M=u.value[`offset${fl(m.value)}`],k=l.value[`offset${fl(m.value)}`],A=h.value;k<M?(d.value=d.value||{},d.value.prev=A,d.value.next=A+k<M,M-A<k&&(h.value=M-k)):(d.value=!1,A>0&&(h.value=0))},x=T=>{const M=T.code,{up:k,down:A,left:O,right:P}=Kt;if(![k,A,O,P].includes(M))return;const R=Array.from(T.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),N=R.indexOf(T.target);let L;M===O||M===k?N===0?L=R.length-1:L=N-1:N<R.length-1?L=N+1:L=0,R[L].focus({preventScroll:!0}),R[L].click(),S()},S=()=>{p.value&&(v.value=!0)},C=()=>v.value=!1;return He(o,T=>{T==="hidden"?p.value=!1:T==="visible"&&setTimeout(()=>p.value=!0,50)}),He(s,T=>{T?setTimeout(()=>p.value=!0,50):p.value=!1}),Bn(c,_),vr(()=>setTimeout(()=>w(),0)),_u(()=>_()),t({scrollToActiveTab:w,removeFocus:C}),He(()=>e.panes,()=>n.update(),{flush:"post",deep:!0}),()=>{const T=d.value?[ae("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:b},[ae($t,null,{default:()=>[ae(Dc,null,null)]})]),ae("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:y},[ae($t,null,{default:()=>[ae(Fi,null,null)]})])]:null,M=e.panes.map((k,A)=>{var O,P,R,N;const L=k.uid,B=k.props.disabled,I=(P=(O=k.props.name)!=null?O:k.index)!=null?P:`${A}`,D=!B&&(k.isClosable||e.editable);k.index=`${A}`;const z=D?ae($t,{class:"is-icon-close",onClick:Y=>r("tabRemove",k,Y)},{default:()=>[ae($s,null,null)]}):null,U=((N=(R=k.slots).label)==null?void 0:N.call(R))||k.props.label,H=!B&&k.active?0:-1;return ae("div",{ref:`tab-${L}`,class:[i.e("item"),i.is(a.props.tabPosition),i.is("active",k.active),i.is("disabled",B),i.is("closable",D),i.is("focus",v.value)],id:`tab-${I}`,key:`tab-${L}`,"aria-controls":`pane-${I}`,role:"tab","aria-selected":k.active,tabindex:H,onFocus:()=>S(),onBlur:()=>C(),onClick:Y=>{C(),r("tabClick",k,I,Y)},onKeydown:Y=>{D&&(Y.code===Kt.delete||Y.code===Kt.backspace)&&r("tabRemove",k,Y)}},[U,z])});return ae("div",{ref:c,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(a.props.tabPosition)]},[T,ae("div",{class:i.e("nav-scroll"),ref:l},[ae("div",{class:[i.e("nav"),i.is(a.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(a.props.tabPosition))],ref:u,style:g.value,role:"tablist",onKeydown:x},[e.type?null:ae(mnt,{ref:f,tabs:[...e.panes]},null),M])])])}}}),Ent=it({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ve(Function),default:()=>!0},stretch:Boolean}),mS=e=>nr(e)||Qt(e),_nt={[Mr]:e=>mS(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>mS(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>mS(e),tabAdd:()=>!0},xnt=J({name:"ElTabs",props:Ent,emits:_nt,setup(e,{emit:t,slots:r,expose:n}){var a;const i=Ze("tabs"),{children:o,addChild:s,removeChild:l}=oO(Er(),"ElTabPane"),u=W(),c=W((a=e.modelValue)!=null?a:"0"),f=async(p,m=!1)=>{var g,b,y;if(!(c.value===p||ca(p)))try{await((g=e.beforeLeave)==null?void 0:g.call(e,p,c.value))!==!1&&(c.value=p,m&&(t(Mr,p),t("tabChange",p)),(y=(b=u.value)==null?void 0:b.removeFocus)==null||y.call(b))}catch{}},d=(p,m,g)=>{p.props.disabled||(f(m,!0),t("tabClick",p,g))},h=(p,m)=>{p.props.disabled||ca(p.props.name)||(m.stopPropagation(),t("edit",p.props.name,"remove"),t("tabRemove",p.props.name))},v=()=>{t("edit",void 0,"add"),t("tabAdd")};return He(()=>e.modelValue,p=>f(p)),He(c,async()=>{var p;await Ut(),(p=u.value)==null||p.scrollToActiveTab()}),$r(S2,{props:e,currentName:c,registerPane:s,unregisterPane:l}),n({currentName:c}),()=>{const p=r["add-icon"],m=e.editable||e.addable?ae("span",{class:i.e("new-tab"),tabindex:"0",onClick:v,onKeydown:y=>{y.code===Kt.enter&&v()}},[p?Pe(r,"add-icon"):ae($t,{class:i.is("icon-plus")},{default:()=>[ae(LH,null,null)]})]):null,g=ae("div",{class:[i.e("header"),i.is(e.tabPosition)]},[m,ae(wnt,{ref:u,currentName:c.value,editable:e.editable,type:e.type,panes:o.value,stretch:e.stretch,onTabClick:d,onTabRemove:h},null)]),b=ae("div",{class:i.e("content")},[Pe(r,"default")]);return ae("div",{class:[i.b(),i.m(e.tabPosition),{[i.m("card")]:e.type==="card",[i.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[g,b]:[b,g]])}}}),Snt=it({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Cnt=["id","aria-hidden","aria-labelledby"],nq="ElTabPane",Mnt=J({name:nq}),Tnt=J({...Mnt,props:Snt,setup(e){const t=e,r=Er(),n=Ya(),a=At(S2);a||Ta(nq,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=Ze("tab-pane"),o=W(),s=$(()=>t.closable||a.props.closable),l=i5(()=>{var h;return a.currentName.value===((h=t.name)!=null?h:o.value)}),u=W(l.value),c=$(()=>{var h;return(h=t.name)!=null?h:o.value}),f=i5(()=>!t.lazy||u.value||l.value);He(l,h=>{h&&(u.value=!0)});const d=cn({uid:r.uid,slots:n,props:t,paneName:c,active:l,index:o,isClosable:s});return vr(()=>{a.registerPane(d)}),jc(()=>{a.unregisterPane(d.uid)}),(h,v)=>E(f)?cr((F(),K("div",{key:0,id:`pane-${E(c)}`,class:G(E(i).b()),role:"tabpanel","aria-hidden":!E(l),"aria-labelledby":`tab-${E(c)}`},[Pe(h.$slots,"default")],10,Cnt)),[[nn,E(l)]]):be("v-if",!0)}});var aq=ut(Tnt,[["__file","tab-pane.vue"]]);const knt=_r(xnt,{TabPane:aq}),Ant=jn(aq),Int=it({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Bl,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Ont=J({name:"ElText"}),Lnt=J({...Ont,props:Int,setup(e){const t=e,r=ba(),n=Ze("text"),a=$(()=>[n.b(),n.m(t.type),n.m(r.value),n.is("truncated",t.truncated),n.is("line-clamp",!ca(t.lineClamp))]);return(i,o)=>(F(),Oe(kr(i.tag),{class:G(E(a)),style:Bt({"-webkit-line-clamp":i.lineClamp})},{default:he(()=>[Pe(i.$slots,"default")]),_:3},8,["class","style"]))}});var Nnt=ut(Lnt,[["__file","text.vue"]]);const Pnt=_r(Nnt),Dnt=it({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Da,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:ve([String,Object]),default:()=>OH},clearIcon:{type:ve([String,Object]),default:()=>Kc},...jv}),ru=e=>{const t=(e||"").split(":");if(t.length>=2){let r=Number.parseInt(t[0],10);const n=Number.parseInt(t[1],10),a=e.toUpperCase();return a.includes("AM")&&r===12?r=0:a.includes("PM")&&r!==12&&(r+=12),{hours:r,minutes:n}}return null},yS=(e,t)=>{const r=ru(e);if(!r)return-1;const n=ru(t);if(!n)return-1;const a=r.minutes+r.hours*60,i=n.minutes+n.hours*60;return a===i?0:a>i?1:-1},I6=e=>`${e}`.padStart(2,"0"),bh=e=>`${I6(e.hours)}:${I6(e.minutes)}`,Rnt=(e,t)=>{const r=ru(e);if(!r)return"";const n=ru(t);if(!n)return"";const a={hours:r.hours,minutes:r.minutes};return a.minutes+=n.minutes,a.hours+=n.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,bh(a)},$nt=J({name:"ElTimeSelect"}),Bnt=J({...$nt,props:Dnt,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const r=e;xr.extend(hO);const{Option:n}=md,a=Ze("input"),i=W(),o=Ui(),{lang:s}=Zr(),l=$(()=>r.modelValue),u=$(()=>{const g=ru(r.start);return g?bh(g):null}),c=$(()=>{const g=ru(r.end);return g?bh(g):null}),f=$(()=>{const g=ru(r.step);return g?bh(g):null}),d=$(()=>{const g=ru(r.minTime||"");return g?bh(g):null}),h=$(()=>{const g=ru(r.maxTime||"");return g?bh(g):null}),v=$(()=>{const g=[];if(r.start&&r.end&&r.step){let b=u.value,y;for(;b&&c.value&&yS(b,c.value)<=0;)y=xr(b,"HH:mm").locale(s.value).format(r.format),g.push({value:y,disabled:yS(b,d.value||"-1:-1")<=0||yS(b,h.value||"100:100")>=0}),b=Rnt(b,f.value)}return g});return t({blur:()=>{var g,b;(b=(g=i.value)==null?void 0:g.blur)==null||b.call(g)},focus:()=>{var g,b;(b=(g=i.value)==null?void 0:g.focus)==null||b.call(g)}}),(g,b)=>(F(),Oe(E(md),{ref_key:"select",ref:i,"model-value":E(l),disabled:E(o),clearable:g.clearable,"clear-icon":g.clearIcon,size:g.size,effect:g.effect,placeholder:g.placeholder,"default-first-option":"",filterable:g.editable,"empty-values":g.emptyValues,"value-on-clear":g.valueOnClear,"onUpdate:modelValue":b[0]||(b[0]=y=>g.$emit("update:modelValue",y)),onChange:b[1]||(b[1]=y=>g.$emit("change",y)),onBlur:b[2]||(b[2]=y=>g.$emit("blur",y)),onFocus:b[3]||(b[3]=y=>g.$emit("focus",y))},{prefix:he(()=>[g.prefixIcon?(F(),Oe(E($t),{key:0,class:G(E(a).e("prefix-icon"))},{default:he(()=>[(F(),Oe(kr(g.prefixIcon)))]),_:1},8,["class"])):be("v-if",!0)]),default:he(()=>[(F(!0),K(zt,null,zr(E(v),y=>(F(),Oe(E(n),{key:y.value,label:y.value,value:y.value,disabled:y.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var hb=ut(Bnt,[["__file","time-select.vue"]]);hb.install=e=>{e.component(hb.name,hb)};const Fnt=hb,znt=Fnt,Gnt=J({name:"ElTimeline",setup(e,{slots:t}){const r=Ze("timeline");return $r("timeline",t),()=>Yt("ul",{class:[r.b()]},[Pe(t,"default")])}}),jnt=it({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Cn},hollow:{type:Boolean,default:!1}}),Vnt=J({name:"ElTimelineItem"}),Unt=J({...Vnt,props:jnt,setup(e){const t=e,r=Ze("timeline-item"),n=$(()=>[r.e("node"),r.em("node",t.size||""),r.em("node",t.type||""),r.is("hollow",t.hollow)]);return(a,i)=>(F(),K("li",{class:G([E(r).b(),{[E(r).e("center")]:a.center}])},[Z("div",{class:G(E(r).e("tail"))},null,2),a.$slots.dot?be("v-if",!0):(F(),K("div",{key:0,class:G(E(n)),style:Bt({backgroundColor:a.color})},[a.icon?(F(),Oe(E($t),{key:0,class:G(E(r).e("icon"))},{default:he(()=>[(F(),Oe(kr(a.icon)))]),_:1},8,["class"])):be("v-if",!0)],6)),a.$slots.dot?(F(),K("div",{key:1,class:G(E(r).e("dot"))},[Pe(a.$slots,"dot")],2)):be("v-if",!0),Z("div",{class:G(E(r).e("wrapper"))},[!a.hideTimestamp&&a.placement==="top"?(F(),K("div",{key:0,class:G([E(r).e("timestamp"),E(r).is("top")])},ct(a.timestamp),3)):be("v-if",!0),Z("div",{class:G(E(r).e("content"))},[Pe(a.$slots,"default")],2),!a.hideTimestamp&&a.placement==="bottom"?(F(),K("div",{key:1,class:G([E(r).e("timestamp"),E(r).is("bottom")])},ct(a.timestamp),3)):be("v-if",!0)],2)],2))}});var iq=ut(Unt,[["__file","timeline-item.vue"]]);const Wnt=_r(Gnt,{TimelineItem:iq}),Hnt=jn(iq),oq=it({nowrap:Boolean});var sq=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(sq||{});const Ynt=Object.values(sq),zO=it({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:ve(Object),default:null}}),Knt=it({side:{type:ve(String),values:Ynt,required:!0}}),Xnt=["absolute","fixed"],qnt=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],GO=it({ariaLabel:String,arrowPadding:{type:ve(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:ve(String),values:qnt,default:"bottom"},reference:{type:ve(Object),default:null},offset:{type:Number,default:8},strategy:{type:ve(String),values:Xnt,default:"absolute"},showArrow:{type:Boolean,default:!1}}),jO=it({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:ve(Function)},"onUpdate:open":{type:ve(Function)}}),uh={type:ve(Function)},VO=it({onBlur:uh,onClick:uh,onFocus:uh,onMouseDown:uh,onMouseEnter:uh,onMouseLeave:uh}),Znt=it({...jO,...zO,...VO,...GO,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:ve(Object),default:null},teleported:Boolean,to:{type:ve(String),default:"body"}}),C2=Symbol("tooltipV2"),lq=Symbol("tooltipV2Content"),bS="tooltip_v2.open",Qnt=J({name:"ElTooltipV2Root"}),Jnt=J({...Qnt,props:jO,setup(e,{expose:t}){const r=e,n=W(r.defaultOpen),a=W(null),i=$({get:()=>hd(r.open)?n.value:r.open,set:m=>{var g;n.value=m,(g=r["onUpdate:open"])==null||g.call(r,m)}}),o=$(()=>Qt(r.delayDuration)&&r.delayDuration>0),{start:s,stop:l}=cd(()=>{i.value=!0},$(()=>r.delayDuration),{immediate:!1}),u=Ze("tooltip-v2"),c=bi(),f=()=>{l(),i.value=!0},d=()=>{E(o)?s():f()},h=f,v=()=>{l(),i.value=!1};return He(i,m=>{var g;m&&(document.dispatchEvent(new CustomEvent(bS)),h()),(g=r.onOpenChange)==null||g.call(r,m)}),vr(()=>{document.addEventListener(bS,v)}),On(()=>{l(),document.removeEventListener(bS,v)}),$r(C2,{contentId:c,triggerRef:a,ns:u,onClose:v,onDelayOpen:d,onOpen:h}),t({onOpen:h,onClose:v}),(m,g)=>Pe(m.$slots,"default",{open:E(i)})}});var eat=ut(Jnt,[["__file","root.vue"]]);const tat=J({name:"ElTooltipV2Arrow"}),rat=J({...tat,props:{...zO,...Knt},setup(e){const t=e,{ns:r}=At(C2),{arrowRef:n}=At(lq),a=$(()=>{const{style:i,width:o,height:s}=t,l=r.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${o}px`,[`--${l}-tooltip-v2-arrow-height`]:`${s}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${o/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:o/2-1,...i||{}}});return(i,o)=>(F(),K("span",{ref_key:"arrowRef",ref:n,style:Bt(E(a)),class:G(E(r).e("arrow"))},null,6))}});var O6=ut(rat,[["__file","arrow.vue"]]);const nat=it({style:{type:ve([String,Object,Array]),default:()=>({})}}),aat=J({name:"ElVisuallyHidden"}),iat=J({...aat,props:nat,setup(e){const t=e,r=$(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(n,a)=>(F(),K("span",Dr(n.$attrs,{style:E(r)}),[Pe(n.$slots,"default")],16))}});var oat=ut(iat,[["__file","visual-hidden.vue"]]);const sat=["data-side"],lat=J({name:"ElTooltipV2Content"}),uat=J({...lat,props:{...GO,...oq},setup(e){const t=e,{triggerRef:r,contentId:n}=At(C2),a=W(t.placement),i=W(t.strategy),o=W(null),{referenceRef:s,contentRef:l,middlewareData:u,x:c,y:f,update:d}=Dze({placement:a,strategy:i,middleware:$(()=>{const y=[oY(t.offset)];return t.showArrow&&y.push(Rze({arrowRef:o})),y})}),h=Gv().nextZIndex(),v=Ze("tooltip-v2"),p=$(()=>a.value.split("-")[0]),m=$(()=>({position:E(i),top:`${E(f)||0}px`,left:`${E(c)||0}px`,zIndex:h})),g=$(()=>{if(!t.showArrow)return{};const{arrow:y}=E(u);return{[`--${v.namespace.value}-tooltip-v2-arrow-x`]:`${y==null?void 0:y.x}px`||"",[`--${v.namespace.value}-tooltip-v2-arrow-y`]:`${y==null?void 0:y.y}px`||""}}),b=$(()=>[v.e("content"),v.is("dark",t.effect==="dark"),v.is(E(i)),t.contentClass]);return He(o,()=>d()),He(()=>t.placement,y=>a.value=y),vr(()=>{He(()=>t.reference||r.value,y=>{s.value=y||void 0},{immediate:!0})}),$r(lq,{arrowRef:o}),(y,w)=>(F(),K("div",{ref_key:"contentRef",ref:l,style:Bt(E(m)),"data-tooltip-v2-root":""},[y.nowrap?be("v-if",!0):(F(),K("div",{key:0,"data-side":E(p),class:G(E(b))},[Pe(y.$slots,"default",{contentStyle:E(m),contentClass:E(b)}),ae(E(oat),{id:E(n),role:"tooltip"},{default:he(()=>[y.ariaLabel?(F(),K(zt,{key:0},[qr(ct(y.ariaLabel),1)],64)):Pe(y.$slots,"default",{key:1})]),_:3},8,["id"]),Pe(y.$slots,"arrow",{style:Bt(E(g)),side:E(p)})],10,sat))],4))}});var L6=ut(uat,[["__file","content.vue"]]);const cat=it({setRef:{type:ve(Function),required:!0},onlyChild:Boolean});var fat=J({props:cat,setup(e,{slots:t}){const r=W(),n=u2(r,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[i]=((a=t.default)==null?void 0:a.call(t))||[],o=e.onlyChild?OFe(i.children):i.children;return ae(zt,{ref:n},[o])}}});const dat=J({name:"ElTooltipV2Trigger"}),hat=J({...dat,props:{...oq,...VO},setup(e){const t=e,{onClose:r,onOpen:n,onDelayOpen:a,triggerRef:i,contentId:o}=At(C2);let s=!1;const l=b=>{i.value=b},u=()=>{s=!1},c=Yn(t.onMouseEnter,a),f=Yn(t.onMouseLeave,r),d=Yn(t.onMouseDown,()=>{r(),s=!0,document.addEventListener("mouseup",u,{once:!0})}),h=Yn(t.onFocus,()=>{s||n()}),v=Yn(t.onBlur,r),p=Yn(t.onClick,b=>{b.detail===0&&r()}),m={blur:v,click:p,focus:h,mousedown:d,mouseenter:c,mouseleave:f},g=(b,y,w)=>{b&&Object.entries(y).forEach(([_,x])=>{b[w](_,x)})};return He(i,(b,y)=>{g(b,m,"addEventListener"),g(y,m,"removeEventListener"),b&&b.setAttribute("aria-describedby",o.value)}),On(()=>{g(i.value,m,"removeEventListener"),document.removeEventListener("mouseup",u)}),(b,y)=>b.nowrap?(F(),Oe(E(fat),{key:0,"set-ref":l,"only-child":""},{default:he(()=>[Pe(b.$slots,"default")]),_:3})):(F(),K("button",Dr({key:1,ref_key:"triggerRef",ref:i},b.$attrs),[Pe(b.$slots,"default")],16))}});var vat=ut(hat,[["__file","trigger.vue"]]);const pat=J({name:"ElTooltipV2"}),gat=J({...pat,props:Znt,setup(e){const r=ui(e),n=cn(su(r,Object.keys(zO))),a=cn(su(r,Object.keys(GO))),i=cn(su(r,Object.keys(jO))),o=cn(su(r,Object.keys(VO)));return(s,l)=>(F(),Oe(eat,nu(Wh(i)),{default:he(({open:u})=>[ae(vat,Dr(o,{nowrap:""}),{default:he(()=>[Pe(s.$slots,"trigger")]),_:3},16),(F(),Oe(Av,{to:s.to,disabled:!s.teleported},[s.fullTransition?(F(),Oe(Ma,nu(Dr({key:0},s.transitionProps)),{default:he(()=>[s.alwaysOn||u?(F(),Oe(L6,nu(Dr({key:0},a)),{arrow:he(({style:c,side:f})=>[s.showArrow?(F(),Oe(O6,Dr({key:0},n,{style:c,side:f}),null,16,["style","side"])):be("v-if",!0)]),default:he(()=>[Pe(s.$slots,"default")]),_:3},16)):be("v-if",!0)]),_:2},1040)):(F(),K(zt,{key:1},[s.alwaysOn||u?(F(),Oe(L6,nu(Dr({key:0},a)),{arrow:he(({style:c,side:f})=>[s.showArrow?(F(),Oe(O6,Dr({key:0},n,{style:c,side:f}),null,16,["style","side"])):be("v-if",!0)]),default:he(()=>[Pe(s.$slots,"default")]),_:3},16)):be("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var mat=ut(gat,[["__file","tooltip.vue"]]);const yat=_r(mat),uq="left-check-change",cq="right-check-change",wh=it({data:{type:ve(Array),default:()=>[]},titles:{type:ve(Array),default:()=>[]},buttonTexts:{type:ve(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ve(Function)},leftDefaultChecked:{type:ve(Array),default:()=>[]},rightDefaultChecked:{type:ve(Array),default:()=>[]},renderContent:{type:ve(Function)},modelValue:{type:ve(Array),default:()=>[]},format:{type:ve(Object),default:()=>({})},filterable:Boolean,props:{type:ve(Object),default:()=>Fn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),vT=(e,t)=>[e,t].every(_t)||_t(e)&&Ua(t),bat={[Nn]:(e,t,r)=>[e,r].every(_t)&&["left","right"].includes(t),[Mr]:e=>_t(e),[uq]:vT,[cq]:vT},pT="checked-change",wat=it({data:wh.data,optionRender:{type:ve(Function)},placeholder:String,title:String,filterable:Boolean,format:wh.format,filterMethod:wh.filterMethod,defaultChecked:wh.leftDefaultChecked,props:wh.props}),Eat={[pT]:vT},ym=e=>{const t={label:"label",key:"key",disabled:"disabled"};return $(()=>({...t,...e.props}))},_at=(e,t,r)=>{const n=ym(e),a=$(()=>e.data.filter(c=>Jt(e.filterMethod)?e.filterMethod(t.query,c):String(c[n.value.label]||c[n.value.key]).toLowerCase().includes(t.query.toLowerCase()))),i=$(()=>a.value.filter(c=>!c[n.value.disabled])),o=$(()=>{const c=t.checked.length,f=e.data.length,{noChecked:d,hasChecked:h}=e.format;return d&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,f.toString()):d.replace(/\${total}/g,f.toString()):`${c}/${f}`}),s=$(()=>{const c=t.checked.length;return c>0&&c<i.value.length}),l=()=>{const c=i.value.map(f=>f[n.value.key]);t.allChecked=c.length>0&&c.every(f=>t.checked.includes(f))},u=c=>{t.checked=c?i.value.map(f=>f[n.value.key]):[]};return He(()=>t.checked,(c,f)=>{if(l(),t.checkChangeByUser){const d=c.concat(f).filter(h=>!c.includes(h)||!f.includes(h));r(pT,c,d)}else r(pT,c),t.checkChangeByUser=!0}),He(i,()=>{l()}),He(()=>e.data,()=>{const c=[],f=a.value.map(d=>d[n.value.key]);t.checked.forEach(d=>{f.includes(d)&&c.push(d)}),t.checkChangeByUser=!1,t.checked=c}),He(()=>e.defaultChecked,(c,f)=>{if(f&&c.length===f.length&&c.every(v=>f.includes(v)))return;const d=[],h=i.value.map(v=>v[n.value.key]);c.forEach(v=>{h.includes(v)&&d.push(v)}),t.checkChangeByUser=!1,t.checked=d},{immediate:!0}),{filteredData:a,checkableData:i,checkedSummary:o,isIndeterminate:s,updateAllChecked:l,handleAllCheckedChange:u}},xat=(e,t)=>({onSourceCheckedChange:(a,i)=>{e.leftChecked=a,i&&t(uq,a,i)},onTargetCheckedChange:(a,i)=>{e.rightChecked=a,i&&t(cq,a,i)}}),Sat=e=>{const t=ym(e),r=$(()=>e.data.reduce((i,o)=>(i[o[t.value.key]]=o)&&i,{})),n=$(()=>e.data.filter(i=>!e.modelValue.includes(i[t.value.key]))),a=$(()=>e.targetOrder==="original"?e.data.filter(i=>e.modelValue.includes(i[t.value.key])):e.modelValue.reduce((i,o)=>{const s=r.value[o];return s&&i.push(s),i},[]));return{sourceData:n,targetData:a}},Cat=(e,t,r)=>{const n=ym(e),a=(s,l,u)=>{r(Mr,s),r(Nn,s,l,u)};return{addToLeft:()=>{const s=e.modelValue.slice();t.rightChecked.forEach(l=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)}),a(s,"left",t.rightChecked)},addToRight:()=>{let s=e.modelValue.slice();const l=e.data.filter(u=>{const c=u[n.value.key];return t.leftChecked.includes(c)&&!e.modelValue.includes(c)}).map(u=>u[n.value.key]);s=e.targetOrder==="unshift"?l.concat(s):s.concat(l),e.targetOrder==="original"&&(s=e.data.filter(u=>s.includes(u[n.value.key])).map(u=>u[n.value.key])),a(s,"right",t.leftChecked)}}},Mat=J({name:"ElTransferPanel"}),Tat=J({...Mat,props:wat,emits:Eat,setup(e,{expose:t,emit:r}){const n=e,a=Ya(),i=({option:y})=>y,{t:o}=Zr(),s=Ze("transfer"),l=cn({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=ym(n),{filteredData:c,checkedSummary:f,isIndeterminate:d,handleAllCheckedChange:h}=_at(n,l,r),v=$(()=>!Qo(l.query)&&Qo(c.value)),p=$(()=>!Qo(a.default()[0].children)),{checked:m,allChecked:g,query:b}=ui(l);return t({query:b}),(y,w)=>(F(),K("div",{class:G(E(s).b("panel"))},[Z("p",{class:G(E(s).be("panel","header"))},[ae(E(hs),{modelValue:E(g),"onUpdate:modelValue":w[0]||(w[0]=_=>Dn(g)?g.value=_:null),indeterminate:E(d),"validate-event":!1,onChange:E(h)},{default:he(()=>[qr(ct(y.title)+" ",1),Z("span",null,ct(E(f)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),Z("div",{class:G([E(s).be("panel","body"),E(s).is("with-footer",E(p))])},[y.filterable?(F(),Oe(E(Mi),{key:0,modelValue:E(b),"onUpdate:modelValue":w[1]||(w[1]=_=>Dn(b)?b.value=_:null),class:G(E(s).be("panel","filter")),size:"default",placeholder:y.placeholder,"prefix-icon":E(cFe),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):be("v-if",!0),cr(ae(E(pK),{modelValue:E(m),"onUpdate:modelValue":w[2]||(w[2]=_=>Dn(m)?m.value=_:null),"validate-event":!1,class:G([E(s).is("filterable",y.filterable),E(s).be("panel","list")])},{default:he(()=>[(F(!0),K(zt,null,zr(E(c),_=>(F(),Oe(E(hs),{key:_[E(u).key],class:G(E(s).be("panel","item")),value:_[E(u).key],disabled:_[E(u).disabled],"validate-event":!1},{default:he(()=>{var x;return[ae(i,{option:(x=y.optionRender)==null?void 0:x.call(y,_)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[nn,!E(v)&&!E(Qo)(y.data)]]),cr(Z("p",{class:G(E(s).be("panel","empty"))},ct(E(v)?E(o)("el.transfer.noMatch"):E(o)("el.transfer.noData")),3),[[nn,E(v)||E(Qo)(y.data)]])],2),E(p)?(F(),K("p",{key:0,class:G(E(s).be("panel","footer"))},[Pe(y.$slots,"default")],2)):be("v-if",!0)],2))}});var N6=ut(Tat,[["__file","transfer-panel.vue"]]);const kat={key:0},Aat={key:0},Iat=J({name:"ElTransfer"}),Oat=J({...Iat,props:wh,emits:bat,setup(e,{expose:t,emit:r}){const n=e,a=Ya(),{t:i}=Zr(),o=Ze("transfer"),{formItem:s}=Oi(),l=cn({leftChecked:[],rightChecked:[]}),u=ym(n),{sourceData:c,targetData:f}=Sat(n),{onSourceCheckedChange:d,onTargetCheckedChange:h}=xat(l,r),{addToLeft:v,addToRight:p}=Cat(n,l,r),m=W(),g=W(),b=C=>{switch(C){case"left":m.value.query="";break;case"right":g.value.query="";break}},y=$(()=>n.buttonTexts.length===2),w=$(()=>n.titles[0]||i("el.transfer.titles.0")),_=$(()=>n.titles[1]||i("el.transfer.titles.1")),x=$(()=>n.filterPlaceholder||i("el.transfer.filterPlaceholder"));He(()=>n.modelValue,()=>{var C;n.validateEvent&&((C=s==null?void 0:s.validate)==null||C.call(s,"change").catch(T=>void 0))});const S=$(()=>C=>n.renderContent?n.renderContent(Yt,C):a.default?a.default({option:C}):Yt("span",C[u.value.label]||C[u.value.key]));return t({clearQuery:b,leftPanel:m,rightPanel:g}),(C,T)=>(F(),K("div",{class:G(E(o).b())},[ae(N6,{ref_key:"leftPanel",ref:m,data:E(c),"option-render":E(S),placeholder:E(x),title:E(w),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,"default-checked":C.leftDefaultChecked,props:n.props,onCheckedChange:E(d)},{default:he(()=>[Pe(C.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Z("div",{class:G(E(o).e("buttons"))},[ae(E(Wa),{type:"primary",class:G([E(o).e("button"),E(o).is("with-texts",E(y))]),disabled:E(Qo)(l.rightChecked),onClick:E(v)},{default:he(()=>[ae(E($t),null,{default:he(()=>[ae(E(Dc))]),_:1}),E(ca)(C.buttonTexts[0])?be("v-if",!0):(F(),K("span",kat,ct(C.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ae(E(Wa),{type:"primary",class:G([E(o).e("button"),E(o).is("with-texts",E(y))]),disabled:E(Qo)(l.leftChecked),onClick:E(p)},{default:he(()=>[E(ca)(C.buttonTexts[1])?be("v-if",!0):(F(),K("span",Aat,ct(C.buttonTexts[1]),1)),ae(E($t),null,{default:he(()=>[ae(E(Fi))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ae(N6,{ref_key:"rightPanel",ref:g,data:E(f),"option-render":E(S),placeholder:E(x),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,title:E(_),"default-checked":C.rightDefaultChecked,props:n.props,onCheckedChange:E(h)},{default:he(()=>[Pe(C.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Lat=ut(Oat,[["__file","transfer.vue"]]);const Nat=_r(Lat),Vh="$treeNodeId",P6=function(e,t){!t||t[Vh]||Object.defineProperty(t,Vh,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},UO=function(e,t){return e?t[e]:t[Vh]},gT=(e,t,r)=>{const n=e.value.currentNode;r();const a=e.value.currentNode;n!==a&&t("current-change",a?a.data:null,a)},mT=e=>{let t=!0,r=!0,n=!0;for(let a=0,i=e.length;a<i;a++){const o=e[a];(o.checked!==!0||o.indeterminate)&&(t=!1,o.disabled||(n=!1)),(o.checked!==!1||o.indeterminate)&&(r=!1)}return{all:t,none:r,allWithoutDisable:n,half:!t&&!r}},Hp=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:r,half:n}=mT(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):r&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;!a||a.level===0||e.store.checkStrictly||Hp(a)},g1=function(e,t){const r=e.store.props,n=e.data||{},a=r[t];if(typeof a=="function")return a(n,e);if(typeof a=="string")return n[a];if(typeof a>"u"){const i=n[t];return i===void 0?"":i}};let Pat=0,yT=class vb{constructor(t){this.id=Pat++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const r in t)Xr(t,r)&&(this[r]=t[r]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const r=t.props;if(r&&typeof r.isLeaf<"u"){const i=g1(this,"isLeaf");typeof i=="boolean"&&(this.isLeafByUser=i)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||P6(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,a=t.key;a&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),a&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||P6(this,t),this.data=t,this.childNodes=[];let r;this.level===0&&Array.isArray(this.data)?r=this.data:r=g1(this,"children")||[];for(let n=0,a=r.length;n<a;n++)this.insertChild({data:r[n]})}get label(){return g1(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return g1(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const r=t.childNodes.indexOf(this);if(r>-1)return t.childNodes[r+1]}return null}get previousSibling(){const t=this.parent;if(t){const r=t.childNodes.indexOf(this);if(r>-1)return r>0?t.childNodes[r-1]:null}return null}contains(t,r=!0){return(this.childNodes||[]).some(n=>n===t||r&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,r,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof vb)){if(!n){const a=this.getChildren(!0);a.includes(t.data)||(typeof r>"u"||r<0?a.push(t.data):a.splice(r,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=cn(new vb(t)),t instanceof vb&&t.initialize()}t.level=this.level+1,typeof r>"u"||r<0?this.childNodes.push(t):this.childNodes.splice(r,0,t),this.updateLeafState()}insertBefore(t,r){let n;r&&(n=this.childNodes.indexOf(r)),this.insertChild(t,n)}insertAfter(t,r){let n;r&&(n=this.childNodes.indexOf(r),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const r=this.getChildren()||[],n=r.indexOf(t.data);n>-1&&r.splice(n,1);const a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()}removeChildByData(t){let r=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){r=this.childNodes[n];break}r&&this.removeChild(r)}expand(t,r){const n=()=>{if(r){let a=this.parent;for(;a.level>0;)a.expanded=!0,a=a.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(a=>{a.canFocus=!0})};this.shouldLoadData()?this.loadData(a=>{Array.isArray(a)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Hp(this),n())}):n()}doCreateChildren(t,r={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},r),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,r,n,a){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:s}=mT(this.childNodes);!this.isLeaf&&!o&&s&&(this.checked=!1,t=!1);const l=()=>{if(r){const u=this.childNodes;for(let d=0,h=u.length;d<h;d++){const v=u[d];a=a||t!==!1;const p=v.disabled?v.checked:a;v.setChecked(p,r,!0,a)}const{half:c,all:f}=mT(u);f||(this.checked=f,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Hp(this)},{checked:t!==!1});return}else l()}const i=this.parent;!i||i.level===0||n||Hp(i)}getChildren(t=!1){if(this.level===0)return this.data;const r=this.data;if(!r)return null;const n=this.store.props;let a="children";return n&&(a=n.children||"children"),r[a]===void 0&&(r[a]=null),t&&!r[a]&&(r[a]=[]),r[a]}updateChildren(){const t=this.getChildren()||[],r=this.childNodes.map(i=>i.data),n={},a=[];t.forEach((i,o)=>{const s=i[Vh];!!s&&r.findIndex(u=>u[Vh]===s)>=0?n[s]={index:o,data:i}:a.push({index:o,data:i})}),this.store.lazy||r.forEach(i=>{n[i[Vh]]||this.removeChildByData(i)}),a.forEach(({index:i,data:o})=>{this.insertChild({data:o},i)}),this.updateLeafState()}loadData(t,r={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(r).length)){this.loading=!0;const n=i=>{this.childNodes=[],this.doCreateChildren(i,r),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,i)},a=()=>{this.loading=!1};this.store.load(this,n,a)}else t&&t.call(this)}eachNode(t){const r=[this];for(;r.length;){const n=r.shift();r.unshift(...n.childNodes),t(n)}}reInitChecked(){this.store.checkStrictly||Hp(this)}};class Dat{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const r in t)Xr(t,r)&&(this[r]=t[r]);this.nodesMap={}}initialize(){if(this.root=new yT({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,r=>{this.root.doCreateChildren(r),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const r=this.filterNodeMethod,n=this.lazy,a=function(i){const o=i.root?i.root.childNodes:i.childNodes;if(o.forEach(s=>{s.visible=r.call(s,t,s.data,s),a(s)}),!i.visible&&o.length){let s=!0;s=!o.some(l=>l.visible),i.root?i.root.visible=s===!1:i.visible=s===!1}t&&i.visible&&!i.isLeaf&&(!n||i.loaded)&&i.expand()};a(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof yT)return t;const r=Sr(t)?UO(this.key,t):t;return this.nodesMap[r]||null}insertBefore(t,r){const n=this.getNode(r);n.parent.insertBefore({data:t},n)}insertAfter(t,r){const n=this.getNode(r);n.parent.insertAfter({data:t},n)}remove(t){const r=this.getNode(t);r&&r.parent&&(r===this.currentNode&&(this.currentNode=null),r.parent.removeChild(r))}append(t,r){const n=hd(r)?this.root:this.getNode(r);n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],r=this.nodesMap;t.forEach(n=>{const a=r[n];a&&a.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const r=this.key;!t||!t.data||(r?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,r=!1){const n=[],a=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(s=>{(s.checked||r&&s.indeterminate)&&(!t||t&&s.isLeaf)&&n.push(s.data),a(s)})};return a(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(r=>(r||{})[this.key])}getHalfCheckedNodes(){const t=[],r=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(i=>{i.indeterminate&&t.push(i.data),r(i)})};return r(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],r=this.nodesMap;for(const n in r)Xr(r,n)&&t.push(r[n]);return t}updateChildren(t,r){const n=this.nodesMap[t];if(!n)return;const a=n.childNodes;for(let i=a.length-1;i>=0;i--){const o=a[i];this.remove(o.data)}for(let i=0,o=r.length;i<o;i++){const s=r[i];this.append(s,n.data)}}_setCheckedKeys(t,r=!1,n){const a=this._getAllNodes().sort((l,u)=>l.level-u.level),i=Object.create(null),o=Object.keys(n);a.forEach(l=>l.setChecked(!1,!1));const s=l=>{l.childNodes.forEach(u=>{var c;i[u.data[t]]=!0,(c=u.childNodes)!=null&&c.length&&s(u)})};for(let l=0,u=a.length;l<u;l++){const c=a[l],f=c.data[t].toString();if(!o.includes(f)){c.checked&&!i[f]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&s(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),r){c.setChecked(!1,!1);const h=function(v){v.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),h(m)})};h(c)}}}setCheckedNodes(t,r=!1){const n=this.key,a={};t.forEach(i=>{a[(i||{})[n]]=!0}),this._setCheckedKeys(n,r,a)}setCheckedKeys(t,r=!1){this.defaultCheckedKeys=t;const n=this.key,a={};t.forEach(i=>{a[i]=!0}),this._setCheckedKeys(n,r,a)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(r=>{const n=this.getNode(r);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,r,n){const a=this.getNode(t);a&&a.setChecked(!!r,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const r=this.currentNode;r&&(r.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,r=!0){const n=t[this.key],a=this.nodesMap[n];this.setCurrentNode(a),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,r=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Rat=J({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=Ze("tree"),r=At("NodeInstance"),n=At("RootTree");return()=>{const a=e.node,{data:i,store:o}=a;return e.renderContent?e.renderContent(Yt,{_self:r,node:a,data:i,store:o}):Pe(n.ctx.slots,"default",{node:a,data:i},()=>[Yt("span",{class:t.be("node","label")},[a.label])])}}});var $at=ut(Rat,[["__file","tree-node-content.vue"]]);function fq(e){const t=At("TreeNodeMap",null),r={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(r),$r("TreeNodeMap",r),{broadcastExpanded:n=>{if(e.accordion)for(const a of r.children)a.treeNodeExpand(n)}}}const dq=Symbol("dragEvents");function Bat({props:e,ctx:t,el$:r,dropIndicator$:n,store:a}){const i=Ze("tree"),o=W({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return $r(dq,{treeNodeDragStart:({event:c,treeNode:f})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=f,t.emit("node-drag-start",f.node,c)},treeNodeDragOver:({event:c,treeNode:f})=>{const d=f,h=o.value.dropNode;h&&h.node.id!==d.node.id&&Ai(h.$el,i.is("drop-inner"));const v=o.value.draggingNode;if(!v||!d)return;let p=!0,m=!0,g=!0,b=!0;typeof e.allowDrop=="function"&&(p=e.allowDrop(v.node,d.node,"prev"),b=m=e.allowDrop(v.node,d.node,"inner"),g=e.allowDrop(v.node,d.node,"next")),c.dataTransfer.dropEffect=m||p||g?"move":"none",(p||m||g)&&(h==null?void 0:h.node.id)!==d.node.id&&(h&&t.emit("node-drag-leave",v.node,h.node,c),t.emit("node-drag-enter",v.node,d.node,c)),p||m||g?o.value.dropNode=d:o.value.dropNode=null,d.node.nextSibling===v.node&&(g=!1),d.node.previousSibling===v.node&&(p=!1),d.node.contains(v.node,!1)&&(m=!1),(v.node===d.node||v.node.contains(d.node))&&(p=!1,m=!1,g=!1);const y=d.$el.querySelector(`.${i.be("node","content")}`).getBoundingClientRect(),w=r.value.getBoundingClientRect();let _;const x=p?m?.25:g?.45:1:-1,S=g?m?.75:p?.55:0:1;let C=-9999;const T=c.clientY-y.top;T<y.height*x?_="before":T>y.height*S?_="after":m?_="inner":_="none";const M=d.$el.querySelector(`.${i.be("node","expand-icon")}`).getBoundingClientRect(),k=n.value;_==="before"?C=M.top-w.top:_==="after"&&(C=M.bottom-w.top),k.style.top=`${C}px`,k.style.left=`${M.right-w.left}px`,_==="inner"?Jo(d.$el,i.is("drop-inner")):Ai(d.$el,i.is("drop-inner")),o.value.showDropIndicator=_==="before"||_==="after",o.value.allowDrop=o.value.showDropIndicator||b,o.value.dropType=_,t.emit("node-drag-over",v.node,d.node,c)},treeNodeDragEnd:c=>{const{draggingNode:f,dropType:d,dropNode:h}=o.value;if(c.preventDefault(),c.dataTransfer.dropEffect="move",f&&h){const v={data:f.node.data};d!=="none"&&f.node.remove(),d==="before"?h.node.parent.insertBefore(v,h.node):d==="after"?h.node.parent.insertAfter(v,h.node):d==="inner"&&h.node.insertChild(v),d!=="none"&&(a.value.registerNode(v),a.value.key&&f.node.eachNode(p=>{var m;(m=a.value.nodesMap[p.data[a.value.key]])==null||m.setChecked(p.checked,!a.value.checkStrictly)})),Ai(h.$el,i.is("drop-inner")),t.emit("node-drag-end",f.node,h.node,d,c),d!=="none"&&t.emit("node-drop",f.node,h.node,d,c)}f&&!h&&t.emit("node-drag-end",f.node,null,d,c),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const Fat=J({name:"ElTreeNode",components:{ElCollapseTransition:w2,ElCheckbox:hs,NodeContent:$at,ElIcon:$t,Loading:Xc},props:{node:{type:yT,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const r=Ze("tree"),{broadcastExpanded:n}=fq(e),a=At("RootTree"),i=W(!1),o=W(!1),s=W(null),l=W(null),u=W(null),c=At(dq),f=Er();$r("NodeInstance",f),e.node.expanded&&(i.value=!0,o.value=!0);const d=a.props.props.children||"children";He(()=>{const T=e.node.data[d];return T&&[...T]},()=>{e.node.updateChildren()}),He(()=>e.node.indeterminate,T=>{p(e.node.checked,T)}),He(()=>e.node.checked,T=>{p(T,e.node.indeterminate)}),He(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),He(()=>e.node.expanded,T=>{Ut(()=>i.value=T),T&&(o.value=!0)});const h=T=>UO(a.props.nodeKey,T.data),v=T=>{const M=e.props.class;if(!M)return{};let k;if(Jt(M)){const{data:A}=T;k=M(A,T)}else k=M;return nr(k)?{[k]:!0}:k},p=(T,M)=>{(s.value!==T||l.value!==M)&&a.ctx.emit("check-change",e.node.data,T,M),s.value=T,l.value=M},m=T=>{gT(a.store,a.ctx.emit,()=>a.store.value.setCurrentNode(e.node)),a.currentNode.value=e.node,a.props.expandOnClickNode&&b(),a.props.checkOnClickNode&&!e.node.disabled&&y(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,f,T)},g=T=>{a.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),a.ctx.emit("node-contextmenu",T,e.node.data,e.node,f)},b=()=>{e.node.isLeaf||(i.value?(a.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,f)))},y=(T,M)=>{e.node.setChecked(M.target.checked,!a.props.checkStrictly),Ut(()=>{const k=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:k.getCheckedNodes(),checkedKeys:k.getCheckedKeys(),halfCheckedNodes:k.getHalfCheckedNodes(),halfCheckedKeys:k.getHalfCheckedKeys()})})};return{ns:r,node$:u,tree:a,expanded:i,childNodeRendered:o,oldChecked:s,oldIndeterminate:l,getNodeKey:h,getNodeClass:v,handleSelectChange:p,handleClick:m,handleContextMenu:g,handleExpandIconClick:b,handleCheckChange:y,handleChildNodeExpand:(T,M,k)=>{n(M),a.ctx.emit("node-expand",T,M,k)},handleDragStart:T=>{a.props.draggable&&c.treeNodeDragStart({event:T,treeNode:e})},handleDragOver:T=>{T.preventDefault(),a.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:e.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{a.props.draggable&&c.treeNodeDragEnd(T)},CaretRight:IH}}}),zat=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Gat=["aria-expanded"];function jat(e,t,r,n,a,i){const o=br("el-icon"),s=br("el-checkbox"),l=br("loading"),u=br("node-content"),c=br("el-tree-node"),f=br("el-collapse-transition");return cr((F(),K("div",{ref:"node$",class:G([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=tr((...d)=>e.handleClick&&e.handleClick(...d),["stop"])),onContextmenu:t[2]||(t[2]=(...d)=>e.handleContextMenu&&e.handleContextMenu(...d)),onDragstart:t[3]||(t[3]=tr((...d)=>e.handleDragStart&&e.handleDragStart(...d),["stop"])),onDragover:t[4]||(t[4]=tr((...d)=>e.handleDragOver&&e.handleDragOver(...d),["stop"])),onDragend:t[5]||(t[5]=tr((...d)=>e.handleDragEnd&&e.handleDragEnd(...d),["stop"])),onDrop:t[6]||(t[6]=tr((...d)=>e.handleDrop&&e.handleDrop(...d),["stop"]))},[Z("div",{class:G(e.ns.be("node","content")),style:Bt({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(F(),Oe(o,{key:0,class:G([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:tr(e.handleExpandIconClick,["stop"])},{default:he(()=>[(F(),Oe(kr(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):be("v-if",!0),e.showCheckbox?(F(),Oe(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=tr(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):be("v-if",!0),e.node.loading?(F(),Oe(o,{key:2,class:G([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:he(()=>[ae(l)]),_:1},8,["class"])):be("v-if",!0),ae(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),ae(f,null,{default:he(()=>[!e.renderAfterExpand||e.childNodeRendered?cr((F(),K("div",{key:0,class:G(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(F(!0),K(zt,null,zr(e.node.childNodes,d=>(F(),Oe(c,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Gat)),[[nn,e.expanded]]):be("v-if",!0)]),_:1})],42,zat)),[[nn,e.node.visible]])}var Vat=ut(Fat,[["render",jat],["__file","tree-node.vue"]]);function Uat({el$:e},t){const r=Ze("tree"),n=Pn([]),a=Pn([]);vr(()=>{o()}),_u(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),He(a,s=>{s.forEach(l=>{l.setAttribute("tabindex","-1")})}),Ln(e,"keydown",s=>{const l=s.target;if(!l.className.includes(r.b("node")))return;const u=s.code;n.value=Array.from(e.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`));const c=n.value.indexOf(l);let f;if([Kt.up,Kt.down].includes(u)){if(s.preventDefault(),u===Kt.up){f=c===-1?0:c!==0?c-1:n.value.length-1;const h=f;for(;!t.value.getNode(n.value[f].dataset.key).canFocus;){if(f--,f===h){f=-1;break}f<0&&(f=n.value.length-1)}}else{f=c===-1?0:c<n.value.length-1?c+1:0;const h=f;for(;!t.value.getNode(n.value[f].dataset.key).canFocus;){if(f++,f===h){f=-1;break}f>=n.value.length&&(f=0)}}f!==-1&&n.value[f].focus()}[Kt.left,Kt.right].includes(u)&&(s.preventDefault(),l.click());const d=l.querySelector('[type="checkbox"]');[Kt.enter,Kt.space].includes(u)&&d&&(s.preventDefault(),d.click())});const o=()=>{var s;n.value=Array.from(e.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const l=e.value.querySelectorAll(`.${r.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(s=n.value[0])==null||s.setAttribute("tabindex","0")}}const Wat=J({name:"ElTree",components:{ElTreeNode:Vat},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Cn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:r}=Zr(),n=Ze("tree"),a=W(new Dat({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const i=W(a.value.root),o=W(null),s=W(null),l=W(null),{broadcastExpanded:u}=fq(e),{dragState:c}=Bat({props:e,ctx:t,el$:s,dropIndicator$:l,store:a});Uat({el$:s},a);const f=$(()=>{const{childNodes:L}=i.value;return!L||L.length===0||L.every(({visible:B})=>!B)});He(()=>e.currentNodeKey,L=>{a.value.setCurrentNodeKey(L)}),He(()=>e.defaultCheckedKeys,L=>{a.value.setDefaultCheckedKey(L)}),He(()=>e.defaultExpandedKeys,L=>{a.value.setDefaultExpandedKeys(L)}),He(()=>e.data,L=>{a.value.setData(L)},{deep:!0}),He(()=>e.checkStrictly,L=>{a.value.checkStrictly=L});const d=L=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(L)},h=L=>UO(e.nodeKey,L.data),v=L=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const B=a.value.getNode(L);if(!B)return[];const I=[B.data];let D=B.parent;for(;D&&D!==i.value;)I.push(D.data),D=D.parent;return I.reverse()},p=(L,B)=>a.value.getCheckedNodes(L,B),m=L=>a.value.getCheckedKeys(L),g=()=>{const L=a.value.getCurrentNode();return L?L.data:null},b=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const L=g();return L?L[e.nodeKey]:null},y=(L,B)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(L,B)},w=(L,B)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(L,B)},_=(L,B,I)=>{a.value.setChecked(L,B,I)},x=()=>a.value.getHalfCheckedNodes(),S=()=>a.value.getHalfCheckedKeys(),C=(L,B=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");gT(a,t.emit,()=>a.value.setUserCurrentNode(L,B))},T=(L,B=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");gT(a,t.emit,()=>a.value.setCurrentNodeKey(L,B))},M=L=>a.value.getNode(L),k=L=>{a.value.remove(L)},A=(L,B)=>{a.value.append(L,B)},O=(L,B)=>{a.value.insertBefore(L,B)},P=(L,B)=>{a.value.insertAfter(L,B)},R=(L,B,I)=>{u(B),t.emit("node-expand",L,B,I)},N=(L,B)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(L,B)};return $r("RootTree",{ctx:t,props:e,store:a,root:i,currentNode:o,instance:Er()}),$r(Il,void 0),{ns:n,store:a,root:i,currentNode:o,dragState:c,el$:s,dropIndicator$:l,isEmpty:f,filter:d,getNodeKey:h,getNodePath:v,getCheckedNodes:p,getCheckedKeys:m,getCurrentNode:g,getCurrentKey:b,setCheckedNodes:y,setCheckedKeys:w,setChecked:_,getHalfCheckedNodes:x,getHalfCheckedKeys:S,setCurrentNode:C,setCurrentKey:T,t:r,getNode:M,remove:k,append:A,insertBefore:O,insertAfter:P,handleNodeExpand:R,updateKeyChildren:N}}});function Hat(e,t,r,n,a,i){const o=br("el-tree-node");return F(),K("div",{ref:"el$",class:G([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(F(!0),K(zt,null,zr(e.root.childNodes,s=>(F(),Oe(o,{key:e.getNodeKey(s),node:s,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(F(),K("div",{key:0,class:G(e.ns.e("empty-block"))},[Pe(e.$slots,"empty",{},()=>{var s;return[Z("span",{class:G(e.ns.e("empty-text"))},ct((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)]})],2)):be("v-if",!0),cr(Z("div",{ref:"dropIndicator$",class:G(e.ns.e("drop-indicator"))},null,2),[[nn,e.dragState.showDropIndicator]])],2)}var pb=ut(Wat,[["render",Hat],["__file","tree.vue"]]);pb.install=e=>{e.component(pb.name,pb)};const zw=pb,Yat=zw,Kat=(e,{attrs:t,emit:r},{select:n,tree:a,key:i})=>{const o=Ze("tree-select");return He(()=>e.data,()=>{e.filterable&&Ut(()=>{var l,u;(u=a.value)==null||u.filter((l=n.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...su(ui(e),Object.keys(md.props)),...t,"onUpdate:modelValue":l=>r(Mr,l),valueKey:i,popperClass:$(()=>{const l=[o.e("popper")];return e.popperClass&&l.push(e.popperClass),l.join(" ")}),filterMethod:(l="")=>{var u;e.filterMethod?e.filterMethod(l):e.remoteMethod?e.remoteMethod(l):(u=a.value)==null||u.filter(l)}}},Xat=J({extends:Lw,setup(e,t){const r=Lw.setup(e,t);delete r.selectOptionClick;const n=Er().proxy;return Ut(()=>{r.select.states.cachedOptions.get(n.value)||r.select.onOptionCreate(n)}),r},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function bT(e){return e||e===0}function WO(e){return Array.isArray(e)&&e.length}function Lp(e){return Array.isArray(e)?e:bT(e)?[e]:[]}function gb(e,t,r,n,a){for(let i=0;i<e.length;i++){const o=e[i];if(t(o,i,e,a))return n?n(o,i,e,a):o;{const s=r(o);if(WO(s)){const l=gb(s,t,r,n,o);if(l)return l}}}}function wT(e,t,r,n){for(let a=0;a<e.length;a++){const i=e[a];t(i,a,e,n);const o=r(i);WO(o)&&wT(o,t,r,i)}}const qat=(e,{attrs:t,slots:r,emit:n},{select:a,tree:i,key:o})=>{He(()=>e.modelValue,()=>{e.showCheckbox&&Ut(()=>{const f=i.value;f&&!ki(f.getCheckedKeys(),Lp(e.modelValue))&&f.setCheckedKeys(Lp(e.modelValue))})},{immediate:!0,deep:!0});const s=$(()=>({value:o.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),l=(f,d)=>{var h;const v=s.value[f];return Jt(v)?v(d,(h=i.value)==null?void 0:h.getNode(l("value",d))):d[v]},u=Lp(e.modelValue).map(f=>gb(e.data||[],d=>l("value",d)===f,d=>l("children",d),(d,h,v,p)=>p&&l("value",p))).filter(f=>bT(f)),c=$(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const f=[];return wT(e.data.concat(e.cacheData),d=>{const h=l("value",d);f.push({value:h,currentLabel:l("label",d),isDisabled:l("disabled",d)})},d=>l("children",d)),f});return{...su(ui(e),Object.keys(zw.props)),...t,nodeKey:o,expandOnClickNode:$(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:$(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u),renderContent:(f,{node:d,data:h,store:v})=>f(Xat,{value:l("value",h),label:l("label",h),disabled:l("disabled",h)},e.renderContent?()=>e.renderContent(f,{node:d,data:h,store:v}):r.default?()=>r.default({node:d,data:h,store:v}):void 0),filterNodeMethod:(f,d,h)=>e.filterNodeMethod?e.filterNodeMethod(f,d,h):f?new RegExp(OI(f),"i").test(l("label",d)||""):!0,onNodeClick:(f,d,h)=>{var v,p,m,g;if((v=t.onNodeClick)==null||v.call(t,f,d,h),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||d.isLeaf)){if(!l("disabled",f)){const b=(p=a.value)==null?void 0:p.states.options.get(l("value",f));(m=a.value)==null||m.handleOptionSelect(b)}}else e.expandOnClickNode&&h.proxy.handleExpandIconClick();(g=a.value)==null||g.focus()}},onCheck:(f,d)=>{var h;if(!e.showCheckbox)return;const v=l("value",f),p={};wT([i.value.store.root],y=>p[y.key]=y,y=>y.childNodes);const m=d.checkedKeys,g=e.multiple?Lp(e.modelValue).filter(y=>!(y in p)&&!m.includes(y)):[],b=g.concat(m);if(e.checkStrictly)n(Mr,e.multiple?b:b.includes(v)?v:void 0);else if(e.multiple)n(Mr,g.concat(i.value.getCheckedKeys(!0)));else{const y=gb([f],x=>!WO(l("children",x))&&!l("disabled",x),x=>l("children",x)),w=y?l("value",y):void 0,_=bT(e.modelValue)&&!!gb([f],x=>l("value",x)===e.modelValue,x=>l("children",x));n(Mr,w===e.modelValue||_?void 0:w)}Ut(()=>{var y;const w=Lp(e.modelValue);i.value.setCheckedKeys(w),(y=t.onCheck)==null||y.call(t,f,{checkedKeys:i.value.getCheckedKeys(),checkedNodes:i.value.getCheckedNodes(),halfCheckedKeys:i.value.getHalfCheckedKeys(),halfCheckedNodes:i.value.getHalfCheckedNodes()})}),(h=a.value)==null||h.focus()},cacheOptions:c}};var Zat=J({props:{data:{type:Array,default:()=>[]}},setup(e){const t=At(gm);return He(()=>e.data,()=>{var r;e.data.forEach(a=>{t.states.cachedOptions.has(a.value)||t.states.cachedOptions.set(a.value,a)});const n=((r=t.selectRef)==null?void 0:r.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Qat=J({name:"ElTreeSelect",inheritAttrs:!1,props:{...md.props,...zw.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:r,expose:n}=t,a=W(),i=W(),o=$(()=>e.nodeKey||e.valueKey||"value"),s=Kat(e,t,{select:a,tree:i,key:o}),{cacheOptions:l,...u}=qat(e,t,{select:a,tree:i,key:o}),c=cn({});return n(c),vr(()=>{Object.assign(c,{...su(i.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...su(a.value,["focus","blur"])})}),()=>Yt(md,cn({...s,ref:f=>a.value=f}),{...r,default:()=>[Yt(Zat,{data:l.value}),Yt(zw,cn({...u,ref:f=>i.value=f}))]})}});var mb=ut(Qat,[["__file","tree-select.vue"]]);mb.install=e=>{e.component(mb.name,mb)};const Jat=mb,eit=Jat,HO=Symbol(),tit={key:-1,level:-1,data:{}};var Yp=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(Yp||{}),ET=(e=>(e.ADD="add",e.DELETE="delete",e))(ET||{});const hq={type:Number,default:26},rit=it({data:{type:ve(Array),default:()=>Fn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ve(Object),default:()=>Fn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:ve(Array),default:()=>Fn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:ve(Array),default:()=>Fn([])},indent:{type:Number,default:16},itemSize:hq,icon:{type:Cn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:ve([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:ve(Function)},perfMode:{type:Boolean,default:!0}}),nit=it({node:{type:ve(Object),default:()=>Fn(tit)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:hq}),ait=it({node:{type:ve(Object),required:!0}}),vq="node-click",pq="node-expand",gq="node-collapse",mq="current-change",yq="check",bq="check-change",wq="node-contextmenu",iit={[vq]:(e,t,r)=>e&&t&&r,[pq]:(e,t)=>e&&t,[gq]:(e,t)=>e&&t,[mq]:(e,t)=>e&&t,[yq]:(e,t)=>e&&t,[bq]:(e,t)=>e&&typeof t=="boolean",[wq]:(e,t,r)=>e&&t&&r},oit={click:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function sit(e,t){const r=W(new Set),n=W(new Set),{emit:a}=Er();He([()=>t.value,()=>e.defaultCheckedKeys],()=>Ut(()=>{b(e.defaultCheckedKeys)}),{immediate:!0});const i=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:y,maxLevel:w}=t.value,_=r.value,x=new Set;for(let S=w-1;S>=1;--S){const C=y.get(S);C&&C.forEach(T=>{const M=T.children;if(M){let k=!0,A=!1;for(const O of M){const P=O.key;if(_.has(P))A=!0;else if(x.has(P)){k=!1,A=!0;break}else k=!1}k?_.add(T.key):A?(x.add(T.key),_.delete(T.key)):(_.delete(T.key),x.delete(T.key))}})}n.value=x},o=y=>r.value.has(y.key),s=y=>n.value.has(y.key),l=(y,w,_=!0)=>{const x=r.value,S=(C,T)=>{x[T?ET.ADD:ET.DELETE](C.key);const M=C.children;!e.checkStrictly&&M&&M.forEach(k=>{k.disabled||S(k,T)})};S(y,w),i(),_&&u(y,w)},u=(y,w)=>{const{checkedNodes:_,checkedKeys:x}=v(),{halfCheckedNodes:S,halfCheckedKeys:C}=p();a(yq,y.data,{checkedKeys:x,checkedNodes:_,halfCheckedKeys:C,halfCheckedNodes:S}),a(bq,y.data,w)};function c(y=!1){return v(y).checkedKeys}function f(y=!1){return v(y).checkedNodes}function d(){return p().halfCheckedKeys}function h(){return p().halfCheckedNodes}function v(y=!1){const w=[],_=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:x}=t.value;r.value.forEach(S=>{const C=x.get(S);C&&(!y||y&&C.isLeaf)&&(_.push(S),w.push(C.data))})}return{checkedKeys:_,checkedNodes:w}}function p(){const y=[],w=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:_}=t.value;n.value.forEach(x=>{const S=_.get(x);S&&(w.push(x),y.push(S.data))})}return{halfCheckedNodes:y,halfCheckedKeys:w}}function m(y){r.value.clear(),n.value.clear(),Ut(()=>{b(y)})}function g(y,w){if(t!=null&&t.value&&e.showCheckbox){const _=t.value.treeNodeMap.get(y);_&&l(_,w,!1)}}function b(y){if(t!=null&&t.value){const{treeNodeMap:w}=t.value;if(e.showCheckbox&&w&&y)for(const _ of y){const x=w.get(_);x&&!o(x)&&l(x,!0,!1)}}}return{updateCheckedKeys:i,toggleCheckbox:l,isChecked:o,isIndeterminate:s,getCheckedKeys:c,getCheckedNodes:f,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:g,setCheckedKeys:m}}function lit(e,t){const r=W(new Set([])),n=W(new Set([])),a=$(()=>Jt(e.filterMethod));function i(s){var l;if(!a.value)return;const u=new Set,c=n.value,f=r.value,d=[],h=((l=t.value)==null?void 0:l.treeNodes)||[],v=e.filterMethod;f.clear();function p(m){m.forEach(g=>{d.push(g),v!=null&&v(s,g.data)?d.forEach(y=>{u.add(y.key)}):g.isLeaf&&f.add(g.key);const b=g.children;if(b&&p(b),!g.isLeaf){if(!u.has(g.key))f.add(g.key);else if(b){let y=!0;for(const w of b)if(!f.has(w.key)){y=!1;break}y?c.add(g.key):c.delete(g.key)}}d.pop()})}return p(h),u}function o(s){return n.value.has(s.key)}return{hiddenExpandIconKeySet:n,hiddenNodeKeySet:r,doFilter:i,isForceHiddenExpandIcon:o}}function uit(e,t){const r=W(new Set(e.defaultExpandedKeys)),n=W(),a=Pn();He(()=>e.currentNodeKey,oe=>{n.value=oe},{immediate:!0}),He(()=>e.data,oe=>{X(oe)},{immediate:!0});const{isIndeterminate:i,isChecked:o,toggleCheckbox:s,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:f,setChecked:d,setCheckedKeys:h}=sit(e,a),{doFilter:v,hiddenNodeKeySet:p,isForceHiddenExpandIcon:m}=lit(e,a),g=$(()=>{var oe;return((oe=e.props)==null?void 0:oe.value)||Yp.KEY}),b=$(()=>{var oe;return((oe=e.props)==null?void 0:oe.children)||Yp.CHILDREN}),y=$(()=>{var oe;return((oe=e.props)==null?void 0:oe.disabled)||Yp.DISABLED}),w=$(()=>{var oe;return((oe=e.props)==null?void 0:oe.label)||Yp.LABEL}),_=$(()=>{const oe=r.value,Ne=p.value,me=[],xe=a.value&&a.value.treeNodes||[];function ze(){const te=[];for(let le=xe.length-1;le>=0;--le)te.push(xe[le]);for(;te.length;){const le=te.pop();if(le&&(Ne.has(le.key)||me.push(le),oe.has(le.key))){const Ae=le.children;if(Ae){const Ve=Ae.length;for(let Ie=Ve-1;Ie>=0;--Ie)te.push(Ae[Ie])}}}}return ze(),me}),x=$(()=>_.value.length>0);function S(oe){const Ne=new Map,me=new Map;let xe=1;function ze(le,Ae=1,Ve=void 0){var Ie;const De=[];for(const Ge of le){const Qe=M(Ge),ke={level:Ae,key:Qe,data:Ge};ke.label=A(Ge),ke.parent=Ve;const q=T(Ge);ke.disabled=k(Ge),ke.isLeaf=!q||q.length===0,q&&q.length&&(ke.children=ze(q,Ae+1,ke)),De.push(ke),Ne.set(Qe,ke),me.has(Ae)||me.set(Ae,[]),(Ie=me.get(Ae))==null||Ie.push(ke)}return Ae>xe&&(xe=Ae),De}const te=ze(oe);return{treeNodeMap:Ne,levelTreeNodeMap:me,maxLevel:xe,treeNodes:te}}function C(oe){const Ne=v(oe);Ne&&(r.value=Ne)}function T(oe){return oe[b.value]}function M(oe){return oe?oe[g.value]:""}function k(oe){return oe[y.value]}function A(oe){return oe[w.value]}function O(oe){r.value.has(oe.key)?I(oe):B(oe)}function P(oe){r.value=new Set(oe)}function R(oe,Ne){t(vq,oe.data,oe,Ne),N(oe),e.expandOnClickNode&&O(oe),e.showCheckbox&&e.checkOnClickNode&&!oe.disabled&&s(oe,!o(oe),!0)}function N(oe){U(oe)||(n.value=oe.key,t(mq,oe.data,oe))}function L(oe,Ne){s(oe,Ne)}function B(oe){const Ne=r.value;if(a.value&&e.accordion){const{treeNodeMap:me}=a.value;Ne.forEach(xe=>{const ze=me.get(xe);oe&&oe.level===(ze==null?void 0:ze.level)&&Ne.delete(xe)})}Ne.add(oe.key),t(pq,oe.data,oe)}function I(oe){r.value.delete(oe.key),t(gq,oe.data,oe)}function D(oe){return r.value.has(oe.key)}function z(oe){return!!oe.disabled}function U(oe){const Ne=n.value;return Ne!==void 0&&Ne===oe.key}function H(){var oe,Ne;if(n.value)return(Ne=(oe=a.value)==null?void 0:oe.treeNodeMap.get(n.value))==null?void 0:Ne.data}function Y(){return n.value}function ie(oe){n.value=oe}function X(oe){Ut(()=>a.value=S(oe))}function re(oe){var Ne;const me=Sr(oe)?M(oe):oe;return(Ne=a.value)==null?void 0:Ne.treeNodeMap.get(me)}return{tree:a,flattenTree:_,isNotEmpty:x,getKey:M,getChildren:T,toggleExpand:O,toggleCheckbox:s,isExpanded:D,isChecked:o,isIndeterminate:i,isDisabled:z,isCurrent:U,isForceHiddenExpandIcon:m,handleNodeClick:R,handleNodeCheck:L,getCurrentNode:H,getCurrentKey:Y,setCurrentKey:ie,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:f,setChecked:d,setCheckedKeys:h,filter:C,setData:X,getNode:re,expandNode:B,collapseNode:I,setExpandedKeys:P}}var cit=J({name:"ElTreeNodeContent",props:ait,setup(e){const t=At(HO),r=Ze("tree");return()=>{const n=e.node,{data:a}=n;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:n,data:a}):Yt("span",{class:r.be("node","label")},[n==null?void 0:n.label])}}});const fit=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],dit=J({name:"ElTreeNode"}),hit=J({...dit,props:nit,emits:oit,setup(e,{emit:t}){const r=e,n=At(HO),a=Ze("tree"),i=$(()=>{var f;return(f=n==null?void 0:n.props.indent)!=null?f:16}),o=$(()=>{var f;return(f=n==null?void 0:n.props.icon)!=null?f:IH}),s=f=>{t("click",r.node,f)},l=()=>{t("toggle",r.node)},u=f=>{t("check",r.node,f)},c=f=>{var d,h,v,p;(v=(h=(d=n==null?void 0:n.instance)==null?void 0:d.vnode)==null?void 0:h.props)!=null&&v.onNodeContextmenu&&(f.stopPropagation(),f.preventDefault()),n==null||n.ctx.emit(wq,f,(p=r.node)==null?void 0:p.data,r.node)};return(f,d)=>{var h,v,p;return F(),K("div",{ref:"node$",class:G([E(a).b("node"),E(a).is("expanded",f.expanded),E(a).is("current",f.current),E(a).is("focusable",!f.disabled),E(a).is("checked",!f.disabled&&f.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":f.expanded,"aria-disabled":f.disabled,"aria-checked":f.checked,"data-key":(h=f.node)==null?void 0:h.key,onClick:tr(s,["stop"]),onContextmenu:c},[Z("div",{class:G(E(a).be("node","content")),style:Bt({paddingLeft:`${(f.node.level-1)*E(i)}px`,height:f.itemSize+"px"})},[E(o)?(F(),Oe(E($t),{key:0,class:G([E(a).is("leaf",!!((v=f.node)!=null&&v.isLeaf)),E(a).is("hidden",f.hiddenExpandIcon),{expanded:!((p=f.node)!=null&&p.isLeaf)&&f.expanded},E(a).be("node","expand-icon")]),onClick:tr(l,["stop"])},{default:he(()=>[(F(),Oe(kr(E(o))))]),_:1},8,["class","onClick"])):be("v-if",!0),f.showCheckbox?(F(),Oe(E(hs),{key:1,"model-value":f.checked,indeterminate:f.indeterminate,disabled:f.disabled,onChange:u,onClick:d[0]||(d[0]=tr(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):be("v-if",!0),ae(E(cit),{node:f.node},null,8,["node"])],6)],42,fit)}}});var vit=ut(hit,[["__file","tree-node.vue"]]);const pit=J({name:"ElTreeV2"}),git=J({...pit,props:rit,emits:iit,setup(e,{expose:t,emit:r}){const n=e,a=Ya(),i=$(()=>n.itemSize);$r(HO,{ctx:{emit:r,slots:a},props:n,instance:Er()}),$r(Il,void 0);const{t:o}=Zr(),s=Ze("tree"),{flattenTree:l,isNotEmpty:u,toggleExpand:c,isExpanded:f,isIndeterminate:d,isChecked:h,isDisabled:v,isCurrent:p,isForceHiddenExpandIcon:m,handleNodeClick:g,handleNodeCheck:b,toggleCheckbox:y,getCurrentNode:w,getCurrentKey:_,setCurrentKey:x,getCheckedKeys:S,getCheckedNodes:C,getHalfCheckedKeys:T,getHalfCheckedNodes:M,setChecked:k,setCheckedKeys:A,filter:O,setData:P,getNode:R,expandNode:N,collapseNode:L,setExpandedKeys:B}=uit(n,r);return t({toggleCheckbox:y,getCurrentNode:w,getCurrentKey:_,setCurrentKey:x,getCheckedKeys:S,getCheckedNodes:C,getHalfCheckedKeys:T,getHalfCheckedNodes:M,setChecked:k,setCheckedKeys:A,filter:O,setData:P,getNode:R,expandNode:N,collapseNode:L,setExpandedKeys:B}),(I,D)=>{var z;return F(),K("div",{class:G([E(s).b(),{[E(s).m("highlight-current")]:I.highlightCurrent}]),role:"tree"},[E(u)?(F(),Oe(E(CX),{key:0,"class-name":E(s).b("virtual-list"),data:E(l),total:E(l).length,height:I.height,"item-size":E(i),"perf-mode":I.perfMode},{default:he(({data:U,index:H,style:Y})=>[(F(),Oe(vit,{key:U[H].key,style:Bt(Y),node:U[H],expanded:E(f)(U[H]),"show-checkbox":I.showCheckbox,checked:E(h)(U[H]),indeterminate:E(d)(U[H]),"item-size":E(i),disabled:E(v)(U[H]),current:E(p)(U[H]),"hidden-expand-icon":E(m)(U[H]),onClick:E(g),onToggle:E(c),onCheck:E(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(F(),K("div",{key:1,class:G(E(s).e("empty-block"))},[Z("span",{class:G(E(s).e("empty-text"))},ct((z=I.emptyText)!=null?z:E(o)("el.tree.emptyText")),3)],2))],2)}}});var mit=ut(git,[["__file","tree.vue"]]);const yit=_r(mit),Eq=Symbol("uploadContextKey"),bit="ElUpload";class wit extends Error{constructor(t,r,n,a){super(t),this.name="UploadAjaxError",this.status=r,this.method=n,this.url=a}}function D6(e,t,r){let n;return r.response?n=`${r.response.error||r.response}`:r.responseText?n=`${r.responseText}`:n=`fail to ${t.method} ${e} ${r.status}`,new wit(n,r.status,t.method,e)}function Eit(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const _it=e=>{typeof XMLHttpRequest>"u"&&Ta(bit,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,r=e.action;t.upload&&t.upload.addEventListener("progress",i=>{const o=i;o.percent=i.total>0?i.loaded/i.total*100:0,e.onProgress(o)});const n=new FormData;if(e.data)for(const[i,o]of Object.entries(e.data))_t(o)&&o.length?n.append(i,...o):n.append(i,o);n.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(D6(r,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(D6(r,e,t));e.onSuccess(Eit(t))}),t.open(e.method,r,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const a=e.headers||{};if(a instanceof Headers)a.forEach((i,o)=>t.setRequestHeader(o,i));else for(const[i,o]of Object.entries(a))Ua(o)||t.setRequestHeader(i,String(o));return t.send(n),t},_q=["text","picture","picture-card"];let xit=1;const _T=()=>Date.now()+xit++,xq=it({action:{type:String,default:"#"},headers:{type:ve(Object)},method:{type:String,default:"post"},data:{type:ve([Object,Function,Promise]),default:()=>Fn({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:ve(Array),default:()=>Fn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:_q,default:"text"},httpRequest:{type:ve(Function),default:_it},disabled:Boolean,limit:Number}),Sit=it({...xq,beforeUpload:{type:ve(Function),default:mn},beforeRemove:{type:ve(Function)},onRemove:{type:ve(Function),default:mn},onChange:{type:ve(Function),default:mn},onPreview:{type:ve(Function),default:mn},onSuccess:{type:ve(Function),default:mn},onProgress:{type:ve(Function),default:mn},onError:{type:ve(Function),default:mn},onExceed:{type:ve(Function),default:mn},crossorigin:{type:ve(String)}}),Cit=it({files:{type:ve(Array),default:()=>Fn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ve(Function),default:mn},listType:{type:String,values:_q,default:"text"},crossorigin:{type:ve(String)}}),Mit={remove:e=>!!e},Tit=["onKeydown"],kit=["src","crossorigin"],Ait=["onClick"],Iit=["title"],Oit=["onClick"],Lit=["onClick"],Nit=J({name:"ElUploadList"}),Pit=J({...Nit,props:Cit,emits:Mit,setup(e,{emit:t}){const r=e,{t:n}=Zr(),a=Ze("upload"),i=Ze("icon"),o=Ze("list"),s=Ui(),l=W(!1),u=$(()=>[a.b("list"),a.bm("list",r.listType),a.is("disabled",r.disabled)]),c=f=>{t("remove",f)};return(f,d)=>(F(),Oe(r8,{tag:"ul",class:G(E(u)),name:E(o).b()},{default:he(()=>[(F(!0),K(zt,null,zr(f.files,h=>(F(),K("li",{key:h.uid||h.name,class:G([E(a).be("list","item"),E(a).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:Sn(v=>!E(s)&&c(h),["delete"]),onFocus:d[0]||(d[0]=v=>l.value=!0),onBlur:d[1]||(d[1]=v=>l.value=!1),onClick:d[2]||(d[2]=v=>l.value=!1)},[Pe(f.$slots,"default",{file:h},()=>[f.listType==="picture"||h.status!=="uploading"&&f.listType==="picture-card"?(F(),K("img",{key:0,class:G(E(a).be("list","item-thumbnail")),src:h.url,crossorigin:f.crossorigin,alt:""},null,10,kit)):be("v-if",!0),h.status==="uploading"||f.listType!=="picture-card"?(F(),K("div",{key:1,class:G(E(a).be("list","item-info"))},[Z("a",{class:G(E(a).be("list","item-name")),onClick:tr(v=>f.handlePreview(h),["prevent"])},[ae(E($t),{class:G(E(i).m("document"))},{default:he(()=>[ae(E(z6e))]),_:1},8,["class"]),Z("span",{class:G(E(a).be("list","item-file-name")),title:h.name},ct(h.name),11,Iit)],10,Ait),h.status==="uploading"?(F(),Oe(E(gX),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:Bt(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):be("v-if",!0)],2)):be("v-if",!0),Z("label",{class:G(E(a).be("list","item-status-label"))},[f.listType==="text"?(F(),Oe(E($t),{key:0,class:G([E(i).m("upload-success"),E(i).m("circle-check")])},{default:he(()=>[ae(E(PI))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(F(),Oe(E($t),{key:1,class:G([E(i).m("upload-success"),E(i).m("check")])},{default:he(()=>[ae(E(sm))]),_:1},8,["class"])):be("v-if",!0)],2),E(s)?be("v-if",!0):(F(),Oe(E($t),{key:2,class:G(E(i).m("close")),onClick:v=>c(h)},{default:he(()=>[ae(E($s))]),_:2},1032,["class","onClick"])),be(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),be(" This is a bug which needs to be fixed "),be(" TODO: Fix the incorrect navigation interaction "),E(s)?be("v-if",!0):(F(),K("i",{key:3,class:G(E(i).m("close-tip"))},ct(E(n)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(F(),K("span",{key:4,class:G(E(a).be("list","item-actions"))},[Z("span",{class:G(E(a).be("list","item-preview")),onClick:v=>f.handlePreview(h)},[ae(E($t),{class:G(E(i).m("zoom-in"))},{default:he(()=>[ae(E(PH))]),_:1},8,["class"])],10,Oit),E(s)?be("v-if",!0):(F(),K("span",{key:0,class:G(E(a).be("list","item-delete")),onClick:v=>c(h)},[ae(E($t),{class:G(E(i).m("delete"))},{default:he(()=>[ae(E(B6e))]),_:1},8,["class"])],10,Lit))],2)):be("v-if",!0)])],42,Tit))),128)),Pe(f.$slots,"append")]),_:3},8,["class","name"]))}});var R6=ut(Pit,[["__file","upload-list.vue"]]);const Dit=it({disabled:{type:Boolean,default:!1}}),Rit={file:e=>_t(e)},$it=["onDrop","onDragover"],Sq="ElUploadDrag",Bit=J({name:Sq}),Fit=J({...Bit,props:Dit,emits:Rit,setup(e,{emit:t}){At(Eq)||Ta(Sq,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=Ze("upload"),a=W(!1),i=Ui(),o=l=>{if(i.value)return;a.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);t("file",u)},s=()=>{i.value||(a.value=!0)};return(l,u)=>(F(),K("div",{class:G([E(n).b("dragger"),E(n).is("dragover",a.value)]),onDrop:tr(o,["prevent"]),onDragover:tr(s,["prevent"]),onDragleave:u[0]||(u[0]=tr(c=>a.value=!1,["prevent"]))},[Pe(l.$slots,"default")],42,$it))}});var zit=ut(Fit,[["__file","upload-dragger.vue"]]);const Git=it({...xq,beforeUpload:{type:ve(Function),default:mn},onRemove:{type:ve(Function),default:mn},onStart:{type:ve(Function),default:mn},onSuccess:{type:ve(Function),default:mn},onProgress:{type:ve(Function),default:mn},onError:{type:ve(Function),default:mn},onExceed:{type:ve(Function),default:mn}}),jit=["onKeydown"],Vit=["name","multiple","accept"],Uit=J({name:"ElUploadContent",inheritAttrs:!1}),Wit=J({...Uit,props:Git,setup(e,{expose:t}){const r=e,n=Ze("upload"),a=Ui(),i=Pn({}),o=Pn(),s=p=>{if(p.length===0)return;const{autoUpload:m,limit:g,fileList:b,multiple:y,onStart:w,onExceed:_}=r;if(g&&b.length+p.length>g){_(p,b);return}y||(p=p.slice(0,1));for(const x of p){const S=x;S.uid=_T(),w(S),m&&l(S)}},l=async p=>{if(o.value.value="",!r.beforeUpload)return c(p);let m,g={};try{const y=r.data,w=r.beforeUpload(p);g=bb(r.data)?_w(r.data):r.data,m=await w,bb(r.data)&&ki(y,g)&&(g=_w(r.data))}catch{m=!1}if(m===!1){r.onRemove(p);return}let b=p;m instanceof Blob&&(m instanceof File?b=m:b=new File([m],p.name,{type:p.type})),c(Object.assign(b,{uid:p.uid}),g)},u=async(p,m)=>Jt(p)?p(m):p,c=async(p,m)=>{const{headers:g,data:b,method:y,withCredentials:w,name:_,action:x,onProgress:S,onSuccess:C,onError:T,httpRequest:M}=r;try{m=await u(m??b,p)}catch{r.onRemove(p);return}const{uid:k}=p,A={headers:g||{},withCredentials:w,file:p,data:m,method:y,filename:_,action:x,onProgress:P=>{S(P,p)},onSuccess:P=>{C(P,p),delete i.value[k]},onError:P=>{T(P,p),delete i.value[k]}},O=M(A);i.value[k]=O,O instanceof Promise&&O.then(A.onSuccess,A.onError)},f=p=>{const m=p.target.files;m&&s(Array.from(m))},d=()=>{a.value||(o.value.value="",o.value.click())},h=()=>{d()};return t({abort:p=>{d6e(i.value).filter(p?([g])=>String(p.uid)===g:()=>!0).forEach(([g,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete i.value[g]})},upload:l}),(p,m)=>(F(),K("div",{class:G([E(n).b(),E(n).m(p.listType),E(n).is("drag",p.drag)]),tabindex:"0",onClick:d,onKeydown:Sn(tr(h,["self"]),["enter","space"])},[p.drag?(F(),Oe(zit,{key:0,disabled:E(a),onFile:s},{default:he(()=>[Pe(p.$slots,"default")]),_:3},8,["disabled"])):Pe(p.$slots,"default",{key:1}),Z("input",{ref_key:"inputRef",ref:o,class:G(E(n).e("input")),name:p.name,multiple:p.multiple,accept:p.accept,type:"file",onChange:f,onClick:m[0]||(m[0]=tr(()=>{},["stop"]))},null,42,Vit)],42,jit))}});var $6=ut(Wit,[["__file","upload-content.vue"]]);const B6="ElUpload",F6=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Hit=(e,t)=>{const r=zW(e,"fileList",void 0,{passive:!0}),n=d=>r.value.find(h=>h.uid===d.uid);function a(d){var h;(h=t.value)==null||h.abort(d)}function i(d=["ready","uploading","success","fail"]){r.value=r.value.filter(h=>!d.includes(h.status))}const o=(d,h)=>{const v=n(h);v&&(console.error(d),v.status="fail",r.value.splice(r.value.indexOf(v),1),e.onError(d,v,r.value),e.onChange(v,r.value))},s=(d,h)=>{const v=n(h);v&&(e.onProgress(d,v,r.value),v.status="uploading",v.percentage=Math.round(d.percent))},l=(d,h)=>{const v=n(h);v&&(v.status="success",v.response=d,e.onSuccess(d,v,r.value),e.onChange(v,r.value))},u=d=>{Ua(d.uid)&&(d.uid=_T());const h={name:d.name,percentage:0,status:"ready",size:d.size,raw:d,uid:d.uid};if(e.listType==="picture-card"||e.listType==="picture")try{h.url=URL.createObjectURL(d)}catch(v){v.message,e.onError(v,h,r.value)}r.value=[...r.value,h],e.onChange(h,r.value)},c=async d=>{const h=d instanceof File?n(d):d;h||Ta(B6,"file to be removed not found");const v=p=>{a(p);const m=r.value;m.splice(m.indexOf(p),1),e.onRemove(p,m),F6(p)};e.beforeRemove?await e.beforeRemove(h,r.value)!==!1&&v(h):v(h)};function f(){r.value.filter(({status:d})=>d==="ready").forEach(({raw:d})=>{var h;return d&&((h=t.value)==null?void 0:h.upload(d))})}return He(()=>e.listType,d=>{d!=="picture-card"&&d!=="picture"||(r.value=r.value.map(h=>{const{raw:v,url:p}=h;if(!p&&v)try{h.url=URL.createObjectURL(v)}catch(m){e.onError(m,h,r.value)}return h}))}),He(r,d=>{for(const h of d)h.uid||(h.uid=_T()),h.status||(h.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:a,clearFiles:i,handleError:o,handleProgress:s,handleStart:u,handleSuccess:l,handleRemove:c,submit:f,revokeFileObjectURL:F6}},Yit=J({name:"ElUpload"}),Kit=J({...Yit,props:Sit,setup(e,{expose:t}){const r=e,n=Ui(),a=Pn(),{abort:i,submit:o,clearFiles:s,uploadFiles:l,handleStart:u,handleError:c,handleRemove:f,handleSuccess:d,handleProgress:h,revokeFileObjectURL:v}=Hit(r,a),p=$(()=>r.listType==="picture-card"),m=$(()=>({...r,fileList:l.value,onStart:u,onProgress:h,onSuccess:d,onError:c,onRemove:f}));return On(()=>{l.value.forEach(v)}),$r(Eq,{accept:kn(r,"accept")}),t({abort:i,submit:o,clearFiles:s,handleStart:u,handleRemove:f}),(g,b)=>(F(),K("div",null,[E(p)&&g.showFileList?(F(),Oe(R6,{key:0,disabled:E(n),"list-type":g.listType,files:E(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:E(f)},vu({append:he(()=>[ae($6,Dr({ref_key:"uploadRef",ref:a},E(m)),{default:he(()=>[g.$slots.trigger?Pe(g.$slots,"trigger",{key:0}):be("v-if",!0),!g.$slots.trigger&&g.$slots.default?Pe(g.$slots,"default",{key:1}):be("v-if",!0)]),_:3},16)]),_:2},[g.$slots.file?{name:"default",fn:he(({file:y})=>[Pe(g.$slots,"file",{file:y})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):be("v-if",!0),!E(p)||E(p)&&!g.showFileList?(F(),Oe($6,Dr({key:1,ref_key:"uploadRef",ref:a},E(m)),{default:he(()=>[g.$slots.trigger?Pe(g.$slots,"trigger",{key:0}):be("v-if",!0),!g.$slots.trigger&&g.$slots.default?Pe(g.$slots,"default",{key:1}):be("v-if",!0)]),_:3},16)):be("v-if",!0),g.$slots.trigger?Pe(g.$slots,"default",{key:2}):be("v-if",!0),Pe(g.$slots,"tip"),!E(p)&&g.showFileList?(F(),Oe(R6,{key:3,disabled:E(n),"list-type":g.listType,files:E(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:E(f)},vu({_:2},[g.$slots.file?{name:"default",fn:he(({file:y})=>[Pe(g.$slots,"file",{file:y})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):be("v-if",!0)]))}});var Xit=ut(Kit,[["__file","upload.vue"]]);const qit=_r(Xit),Zit=it({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:ve([String,Array]),default:"Element Plus"},font:{type:ve(Object)},gap:{type:ve(Array),default:()=>[100,100]},offset:{type:ve(Array)}});function Qit(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function Jit(e){return Object.keys(e).map(t=>`${Qit(t)}: ${e[t]};`).join(" ")}function eot(){return window.devicePixelRatio||1}const tot=(e,t)=>{let r=!1;return e.removedNodes.length&&t&&(r=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(r=!0),r},Cq=3;function wS(e,t,r=1){const n=document.createElement("canvas"),a=n.getContext("2d"),i=e*r,o=t*r;return n.setAttribute("width",`${i}px`),n.setAttribute("height",`${o}px`),a.save(),[a,n,i,o]}function rot(){function e(t,r,n,a,i,o,s,l){const[u,c,f,d]=wS(a,i,n);if(t instanceof HTMLImageElement)u.drawImage(t,0,0,f,d);else{const{color:z,fontSize:U,fontStyle:H,fontWeight:Y,fontFamily:ie,textAlign:X,textBaseline:re}=o,oe=Number(U)*n;u.font=`${H} normal ${Y} ${oe}px/${i}px ${ie}`,u.fillStyle=z,u.textAlign=X,u.textBaseline=re;const Ne=Array.isArray(t)?t:[t];Ne==null||Ne.forEach((me,xe)=>{u.fillText(me??"",f/2,xe*(oe+Cq*n))})}const h=Math.PI/180*Number(r),v=Math.max(a,i),[p,m,g]=wS(v,v,n);p.translate(g/2,g/2),p.rotate(h),f>0&&d>0&&p.drawImage(c,-f/2,-d/2);function b(z,U){const H=z*Math.cos(h)-U*Math.sin(h),Y=z*Math.sin(h)+U*Math.cos(h);return[H,Y]}let y=0,w=0,_=0,x=0;const S=f/2,C=d/2;[[0-S,0-C],[0+S,0-C],[0+S,0+C],[0-S,0+C]].forEach(([z,U])=>{const[H,Y]=b(z,U);y=Math.min(y,H),w=Math.max(w,H),_=Math.min(_,Y),x=Math.max(x,Y)});const M=y+g/2,k=_+g/2,A=w-y,O=x-_,P=s*n,R=l*n,N=(A+P)*2,L=O+R,[B,I]=wS(N,L);function D(z=0,U=0){B.drawImage(m,M,k,A,O,z,U,A,O)}return D(),D(A+P,-O/2-R/2),D(A+P,+O/2+R/2),[I.toDataURL(),N/n,L/n]}return e}const not=J({name:"ElWatermark"}),aot=J({...not,props:Zit,setup(e){const t=e,r={position:"relative"},n=$(()=>{var M,k;return(k=(M=t.font)==null?void 0:M.color)!=null?k:"rgba(0,0,0,.15)"}),a=$(()=>{var M,k;return(k=(M=t.font)==null?void 0:M.fontSize)!=null?k:16}),i=$(()=>{var M,k;return(k=(M=t.font)==null?void 0:M.fontWeight)!=null?k:"normal"}),o=$(()=>{var M,k;return(k=(M=t.font)==null?void 0:M.fontStyle)!=null?k:"normal"}),s=$(()=>{var M,k;return(k=(M=t.font)==null?void 0:M.fontFamily)!=null?k:"sans-serif"}),l=$(()=>{var M,k;return(k=(M=t.font)==null?void 0:M.textAlign)!=null?k:"center"}),u=$(()=>{var M,k;return(k=(M=t.font)==null?void 0:M.textBaseline)!=null?k:"top"}),c=$(()=>t.gap[0]),f=$(()=>t.gap[1]),d=$(()=>c.value/2),h=$(()=>f.value/2),v=$(()=>{var M,k;return(k=(M=t.offset)==null?void 0:M[0])!=null?k:d.value}),p=$(()=>{var M,k;return(k=(M=t.offset)==null?void 0:M[1])!=null?k:h.value}),m=()=>{const M={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let k=v.value-d.value,A=p.value-h.value;return k>0&&(M.left=`${k}px`,M.width=`calc(100% - ${k}px)`,k=0),A>0&&(M.top=`${A}px`,M.height=`calc(100% - ${A}px)`,A=0),M.backgroundPosition=`${k}px ${A}px`,M},g=Pn(null),b=Pn(),y=W(!1),w=()=>{b.value&&(b.value.remove(),b.value=void 0)},_=(M,k)=>{var A;g.value&&b.value&&(y.value=!0,b.value.setAttribute("style",Jit({...m(),backgroundImage:`url('${M}')`,backgroundSize:`${Math.floor(k)}px`})),(A=g.value)==null||A.append(b.value),setTimeout(()=>{y.value=!1}))},x=M=>{let k=120,A=64;const O=t.image,P=t.content,R=t.width,N=t.height;if(!O&&M.measureText){M.font=`${Number(a.value)}px ${s.value}`;const L=Array.isArray(P)?P:[P],B=L.map(I=>{const D=M.measureText(I);return[D.width,D.fontBoundingBoxAscent!==void 0?D.fontBoundingBoxAscent+D.fontBoundingBoxDescent:D.actualBoundingBoxAscent+D.actualBoundingBoxDescent]});k=Math.ceil(Math.max(...B.map(I=>I[0]))),A=Math.ceil(Math.max(...B.map(I=>I[1])))*L.length+(L.length-1)*Cq}return[R??k,N??A]},S=rot(),C=()=>{const k=document.createElement("canvas").getContext("2d"),A=t.image,O=t.content,P=t.rotate;if(k){b.value||(b.value=document.createElement("div"));const R=eot(),[N,L]=x(k),B=I=>{const[D,z]=S(I||"",P,R,N,L,{color:n.value,fontSize:a.value,fontStyle:o.value,fontWeight:i.value,fontFamily:s.value,textAlign:l.value,textBaseline:u.value},c.value,f.value);_(D,z)};if(A){const I=new Image;I.onload=()=>{B(I)},I.onerror=()=>{B(O)},I.crossOrigin="anonymous",I.referrerPolicy="no-referrer",I.src=A}else B(O)}};return vr(()=>{C()}),He(()=>t,()=>{C()},{deep:!0,flush:"post"}),On(()=>{w()}),FW(g,M=>{y.value||M.forEach(k=>{tot(k,b.value)&&(w(),C())})},{attributes:!0,subtree:!0,childList:!0}),(M,k)=>(F(),K("div",{ref_key:"containerRef",ref:g,style:Bt([r])},[Pe(M.$slots,"default")],4))}});var iot=ut(aot,[["__file","watermark.vue"]]);const oot=_r(iot),sot=it({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:ve(Object)},targetAreaClickable:{type:Boolean,default:!0}}),lot=(e,t,r,n,a)=>{const i=W(null),o=()=>{let f;return nr(e.value)?f=document.querySelector(e.value):Jt(e.value)?f=e.value():f=e.value,f},s=()=>{const f=o();if(!f||!t.value){i.value=null;return}!uot(f)&&t.value&&f.scrollIntoView(a.value);const{left:d,top:h,width:v,height:p}=f.getBoundingClientRect();i.value={left:d,top:h,width:v,height:p,radius:0}};vr(()=>{He([t,e],()=>{s()},{immediate:!0}),window.addEventListener("resize",s)}),On(()=>{window.removeEventListener("resize",s)});const l=f=>{var d;return(d=_t(r.value.offset)?r.value.offset[f]:r.value.offset)!=null?d:6},u=$(()=>{var f;if(!i.value)return i.value;const d=l(0),h=l(1),v=((f=r.value)==null?void 0:f.radius)||2;return{left:i.value.left-d,top:i.value.top-h,width:i.value.width+d*2,height:i.value.height+h*2,radius:v}}),c=$(()=>{const f=o();return!n.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var d,h,v,p;return window.DOMRect.fromRect({width:((d=u.value)==null?void 0:d.width)||0,height:((h=u.value)==null?void 0:h.height)||0,x:((v=u.value)==null?void 0:v.left)||0,y:((p=u.value)==null?void 0:p.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},M2=Symbol("ElTour");function uot(e){const t=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,{top:n,right:a,bottom:i,left:o}=e.getBoundingClientRect();return n>=0&&o>=0&&a<=t&&i<=r}const cot=(e,t,r,n,a,i,o,s)=>{const l=W(),u=W(),c=W({}),f={x:l,y:u,placement:n,strategy:a,middlewareData:c},d=$(()=>{const g=[oY(E(i)),Nze(),Lze(),fot()];return E(s)&&E(r)&&g.push(pY({element:E(r)})),g}),h=async()=>{if(!Ur)return;const g=E(e),b=E(t);if(!g||!b)return;const y=await gY(g,b,{placement:E(n),strategy:E(a),middleware:E(d)});vv(f).forEach(w=>{f[w].value=y[w]})},v=$(()=>{if(!E(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:E(o)};const{overflow:g}=E(c);return{position:E(a),zIndex:E(o),top:E(u)!=null?`${E(u)}px`:"",left:E(l)!=null?`${E(l)}px`:"",maxWidth:g!=null&&g.maxWidth?`${g==null?void 0:g.maxWidth}px`:""}}),p=$(()=>{if(!E(s))return{};const{arrow:g}=E(c);return{left:(g==null?void 0:g.x)!=null?`${g==null?void 0:g.x}px`:"",top:(g==null?void 0:g.y)!=null?`${g==null?void 0:g.y}px`:""}});let m;return vr(()=>{const g=E(e),b=E(t);g&&b&&(m=Oze(g,b,h)),gi(()=>{h()})}),On(()=>{m&&m()}),{update:h,contentStyle:v,arrowStyle:p}},fot=()=>({name:"overflow",async fn(e){const t=await rO(e);let r=0;return t.left>0&&(r=t.left),t.right>0&&(r=t.right),{data:{maxWidth:e.rects.floating.width-r}}}}),dot={style:{width:"100%",height:"100%"}},hot=["d"],vot=J({name:"ElTourMask",inheritAttrs:!1}),pot=J({...vot,props:sot,setup(e){const t=e,{ns:r}=At(M2),n=$(()=>{var s,l;return(l=(s=t.pos)==null?void 0:s.radius)!=null?l:2}),a=$(()=>{const s=n.value,l=`a${s},${s} 0 0 1`;return{topRight:`${l} ${s},${s}`,bottomRight:`${l} ${-s},${s}`,bottomLeft:`${l} ${-s},${-s}`,topLeft:`${l} ${s},${-s}`}}),i=$(()=>{const s=window.innerWidth,l=window.innerHeight,u=a.value,c=`M${s},0 L0,0 L0,${l} L${s},${l} L${s},0 Z`,f=n.value;return t.pos?`${c} M${t.pos.left+f},${t.pos.top} h${t.pos.width-f*2} ${u.topRight} v${t.pos.height-f*2} ${u.bottomRight} h${-t.pos.width+f*2} ${u.bottomLeft} v${-t.pos.height+f*2} ${u.topLeft} z`:c}),o=$(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return VI(kn(t,"visible"),{ns:r}),(s,l)=>s.visible?(F(),K("div",Dr({key:0,class:E(r).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:s.zIndex,pointerEvents:s.pos&&s.targetAreaClickable?"none":"auto"}},s.$attrs),[(F(),K("svg",dot,[Z("path",{class:G(E(r).e("hollow")),style:Bt(E(o)),d:E(i)},null,14,hot)]))],16)):be("v-if",!0)}});var got=ut(pot,[["__file","mask.vue"]]);const mot=["absolute","fixed"],yot=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],YO=it({placement:{type:ve(String),values:yot,default:"bottom"},reference:{type:ve(Object),default:null},strategy:{type:ve(String),values:mot,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),bot={close:()=>!0},wot=["data-side"],Eot=J({name:"ElTourContent"}),_ot=J({...Eot,props:YO,emits:bot,setup(e,{emit:t}){const r=e,n=W(r.placement),a=W(r.strategy),i=W(null),o=W(null);He(()=>r.placement,()=>{n.value=r.placement});const{contentStyle:s,arrowStyle:l}=cot(kn(r,"reference"),i,o,n,a,kn(r,"offset"),kn(r,"zIndex"),kn(r,"showArrow")),u=$(()=>n.value.split("-")[0]),{ns:c}=At(M2),f=()=>{t("close")},d=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,v)=>(F(),K("div",{ref_key:"contentRef",ref:i,style:Bt(E(s)),class:G(E(c).e("content")),"data-side":E(u),tabindex:"-1"},[ae(E(pm),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":i.value||void 0,onReleaseRequested:f,onFocusoutPrevented:d},{default:he(()=>[Pe(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(F(),K("span",{key:0,ref_key:"arrowRef",ref:o,style:Bt(E(l)),class:G(E(c).e("arrow"))},null,6)):be("v-if",!0)],14,wot))}});var xot=ut(_ot,[["__file","content.vue"]]),Sot=J({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:r}){let n=0;return()=>{var a,i;const o=(a=t.default)==null?void 0:a.call(t),s=[];let l=0;function u(c){_t(c)&&c.forEach(f=>{var d;((d=(f==null?void 0:f.type)||{})==null?void 0:d.name)==="ElTourStep"&&(s.push(f),l+=1)})}return o.length&&u(Ec((i=o[0])==null?void 0:i.children)),n!==l&&(n=l,r("update-total",l)),s.length?s[e.current]:null}}});const Cot=it({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Cn},placement:YO.placement,contentStyle:{type:ve([Object])},mask:{type:ve([Boolean,Object]),default:!0},gap:{type:ve(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:ve([Boolean,Object]),default:()=>({block:"center"})},type:{type:ve(String)},appendTo:{type:ve([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),Mot={[Mr]:e=>fa(e),"update:current":e=>Qt(e),close:e=>Qt(e),finish:()=>!0,change:e=>Qt(e)},Tot=J({name:"ElTour"}),kot=J({...Tot,props:Cot,emits:Mot,setup(e,{emit:t}){const r=e,n=Ze("tour"),a=W(0),i=W(),o=zW(r,"current",t,{passive:!0}),s=$(()=>{var T;return(T=i.value)==null?void 0:T.target}),l=$(()=>[n.b(),m.value==="primary"?n.m("primary"):""]),u=$(()=>{var T;return((T=i.value)==null?void 0:T.placement)||r.placement}),c=$(()=>{var T,M;return(M=(T=i.value)==null?void 0:T.contentStyle)!=null?M:r.contentStyle}),f=$(()=>{var T,M;return(M=(T=i.value)==null?void 0:T.mask)!=null?M:r.mask}),d=$(()=>!!f.value&&r.modelValue),h=$(()=>fa(f.value)?void 0:f.value),v=$(()=>{var T,M;return!!s.value&&((M=(T=i.value)==null?void 0:T.showArrow)!=null?M:r.showArrow)}),p=$(()=>{var T,M;return(M=(T=i.value)==null?void 0:T.scrollIntoViewOptions)!=null?M:r.scrollIntoViewOptions}),m=$(()=>{var T,M;return(M=(T=i.value)==null?void 0:T.type)!=null?M:r.type}),{nextZIndex:g}=Gv(),b=g(),y=$(()=>{var T;return(T=r.zIndex)!=null?T:b}),{mergedPosInfo:w,triggerTarget:_}=lot(s,kn(r,"modelValue"),kn(r,"gap"),f,p);He(()=>r.modelValue,T=>{T||(o.value=0)});const x=()=>{r.closeOnPressEscape&&(t("update:modelValue",!1),t("close",o.value))},S=T=>{a.value=T},C=Ya();return $r(M2,{currentStep:i,current:o,total:a,showClose:kn(r,"showClose"),closeIcon:kn(r,"closeIcon"),mergedType:m,ns:n,slots:C,updateModelValue(T){t("update:modelValue",T)},onClose(){t("close",o.value)},onFinish(){t("finish")},onChange(){t("change",o.value)}}),(T,M)=>{var k,A;return F(),K(zt,null,[(F(),Oe(Av,{to:T.appendTo},[Z("div",Dr({class:E(l)},T.$attrs),[ae(got,{visible:E(d),fill:(k=E(h))==null?void 0:k.color,style:Bt((A=E(h))==null?void 0:A.style),pos:E(w),"z-index":E(y),"target-area-clickable":T.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),T.modelValue?(F(),Oe(xot,{key:E(o),reference:E(_),placement:E(u),"show-arrow":E(v),"z-index":E(y),style:Bt(E(c)),onClose:x},{default:he(()=>[ae(E(Sot),{current:E(o),onUpdateTotal:S},{default:he(()=>[Pe(T.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):be("v-if",!0)],16)],8,["to"])),be(" just for IDE "),be("v-if",!0)],64)}}});var Aot=ut(kot,[["__file","tour.vue"]]);const Iot=it({target:{type:ve([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Cn},showArrow:{type:Boolean,default:void 0},placement:YO.placement,mask:{type:ve([Boolean,Object]),default:void 0},contentStyle:{type:ve([Object])},prevButtonProps:{type:ve(Object)},nextButtonProps:{type:ve(Object)},scrollIntoViewOptions:{type:ve([Boolean,Object]),default:void 0},type:{type:ve(String)}}),Oot={close:()=>!0},Lot=J({name:"ElTourStep"}),Not=J({...Lot,props:Iot,emits:Oot,setup(e,{emit:t}){const r=e,{Close:n}=$I,{t:a}=Zr(),{currentStep:i,current:o,total:s,showClose:l,closeIcon:u,mergedType:c,ns:f,slots:d,updateModelValue:h,onClose:v,onFinish:p,onChange:m}=At(M2);He(r,C=>{i.value=C},{immediate:!0});const g=$(()=>{var C;return(C=r.showClose)!=null?C:l.value}),b=$(()=>{var C,T;return(T=(C=r.closeIcon)!=null?C:u.value)!=null?T:n}),y=C=>{if(C)return i6e(C,["children","onClick"])},w=()=>{var C,T;o.value-=1,(C=r.prevButtonProps)!=null&&C.onClick&&((T=r.prevButtonProps)==null||T.onClick()),m()},_=()=>{var C;o.value>=s.value-1?x():o.value+=1,(C=r.nextButtonProps)!=null&&C.onClick&&r.nextButtonProps.onClick(),m()},x=()=>{S(),p()},S=()=>{h(!1),v(),t("close")};return(C,T)=>(F(),K(zt,null,[E(g)?(F(),K("button",{key:0,"aria-label":"Close",class:G(E(f).e("closebtn")),type:"button",onClick:S},[ae(E($t),{class:G(E(f).e("close"))},{default:he(()=>[(F(),Oe(kr(E(b))))]),_:1},8,["class"])],2)):be("v-if",!0),Z("header",{class:G([E(f).e("header"),{"show-close":E(l)}])},[Pe(C.$slots,"header",{},()=>[Z("span",{role:"heading",class:G(E(f).e("title"))},ct(C.title),3)])],2),Z("div",{class:G(E(f).e("body"))},[Pe(C.$slots,"default",{},()=>[Z("span",null,ct(C.description),1)])],2),Z("footer",{class:G(E(f).e("footer"))},[Z("div",{class:G(E(f).b("indicators"))},[E(d).indicators?(F(),Oe(kr(E(d).indicators),{key:0,current:E(o),total:E(s)},null,8,["current","total"])):(F(!0),K(zt,{key:1},zr(E(s),(M,k)=>(F(),K("span",{key:M,class:G([E(f).b("indicator"),k===E(o)?"is-active":""])},null,2))),128))],2),Z("div",{class:G(E(f).b("buttons"))},[E(o)>0?(F(),Oe(E(Wa),Dr({key:0,size:"small",type:E(c)},y(C.prevButtonProps),{onClick:w}),{default:he(()=>{var M,k;return[qr(ct((k=(M=C.prevButtonProps)==null?void 0:M.children)!=null?k:E(a)("el.tour.previous")),1)]}),_:1},16,["type"])):be("v-if",!0),E(o)<=E(s)-1?(F(),Oe(E(Wa),Dr({key:1,size:"small",type:E(c)==="primary"?"default":"primary"},y(C.nextButtonProps),{onClick:_}),{default:he(()=>{var M,k;return[qr(ct((k=(M=C.nextButtonProps)==null?void 0:M.children)!=null?k:E(o)===E(s)-1?E(a)("el.tour.finish"):E(a)("el.tour.next")),1)]}),_:1},16,["type"])):be("v-if",!0)],2)],2)],64))}});var Mq=ut(Not,[["__file","step.vue"]]);const Pot=_r(Aot,{TourStep:Mq}),Dot=jn(Mq),Rot=it({container:{type:ve([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:ve(String),default:"default"},direction:{type:ve(String),default:"vertical"}}),$ot={change:e=>nr(e),click:(e,t)=>e instanceof MouseEvent&&(nr(t)||ca(t))},Tq=Symbol("anchor"),Bot=J({name:"ElAnchor"}),Fot=J({...Bot,props:Rot,emits:$ot,setup(e,{expose:t,emit:r}){const n=e,a=W(""),i=W(null),o=W(null),s=W(),l={};let u=!1,c=0;const f=Ze("anchor"),d=$(()=>[f.b(),n.type==="underline"?f.m("underline"):"",f.m(n.direction)]),h=C=>{l[C.href]=C.el},v=C=>{delete l[C]},p=C=>{a.value!==C&&(a.value=C,r("change",C))};let m=null;const g=C=>{if(!s.value)return;const T=r1(C);if(!T)return;m&&m(),u=!0;const M=K5(T,s.value),k=mM(T,M),A=M.scrollHeight-M.clientHeight,O=Math.min(k-n.offset,A);m=p6e(s.value,c,O,n.duration,()=>{setTimeout(()=>{u=!1},20)})},b=C=>{C&&(p(C),g(C))},y=(C,T)=>{r("click",C,T),b(T)},w=LFe(()=>{s.value&&(c=X5(s.value));const C=_();u||ca(C)||p(C)}),_=()=>{if(!s.value)return;const C=X5(s.value),T=[];for(const M of Object.keys(l)){const k=r1(M);if(!k)continue;const A=K5(k,s.value),O=mM(k,A);T.push({top:O-n.offset-n.bound,href:M})}T.sort((M,k)=>M.top-k.top);for(let M=0;M<T.length;M++){const k=T[M],A=T[M+1];if(M===0&&C===0)return"";if(k.top<=C&&(!A||A.top>C))return k.href}},x=()=>{const C=r1(n.container);!C||s2(C)?s.value=window:s.value=C};Ln(s,"scroll",w);const S=$(()=>{if(!i.value||!o.value||!a.value)return{};const C=l[a.value];if(!C)return{};const T=i.value.getBoundingClientRect(),M=o.value.getBoundingClientRect(),k=C.getBoundingClientRect();return n.direction==="horizontal"?{left:`${k.left-T.left}px`,width:`${k.width}px`,opacity:1}:{top:`${k.top-T.top+(k.height-M.height)/2}px`,opacity:1}});return vr(()=>{x();const C=decodeURIComponent(window.location.hash);r1(C)?b(C):w()}),He(()=>n.container,()=>{x()}),$r(Tq,{ns:f,direction:n.direction,currentAnchor:a,addLink:h,removeLink:v,handleClick:y}),t({scrollTo:b}),(C,T)=>(F(),K("div",{ref_key:"anchorRef",ref:i,class:G(E(d))},[C.marker?(F(),K("div",{key:0,ref_key:"markerRef",ref:o,class:G(E(f).e("marker")),style:Bt(E(S))},null,6)):be("v-if",!0),Z("div",{class:G(E(f).e("list"))},[Pe(C.$slots,"default")],2)],2))}});var zot=ut(Fot,[["__file","anchor.vue"]]);const Got=it({title:String,href:String}),jot=["href"],Vot=J({name:"ElAnchorLink"}),Uot=J({...Vot,props:Got,setup(e){const t=e,r=W(null),{ns:n,direction:a,currentAnchor:i,addLink:o,removeLink:s,handleClick:l}=At(Tq),u=$(()=>[n.e("link"),n.is("active",i.value===t.href)]),c=f=>{l(f,t.href)};return He(()=>t.href,(f,d)=>{Ut(()=>{d&&s(d),f&&o({href:f,el:r.value})})}),vr(()=>{const{href:f}=t;f&&o({href:f,el:r.value})}),On(()=>{const{href:f}=t;f&&s(f)}),(f,d)=>(F(),K("div",{class:G(E(n).e("item"))},[Z("a",{ref_key:"linkRef",ref:r,class:G(E(u)),href:f.href,onClick:c},[Pe(f.$slots,"default",{},()=>[qr(ct(f.title),1)])],10,jot),f.$slots["sub-link"]&&E(a)==="vertical"?(F(),K("div",{key:0,class:G(E(n).e("list"))},[Pe(f.$slots,"sub-link")],2)):be("v-if",!0)],2))}});var kq=ut(Uot,[["__file","anchor-link.vue"]]);const Wot=_r(zot,{AnchorLink:kq}),Hot=jn(kq),Yot=it({options:{type:ve(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:Da,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,ariaLabel:String}),Kot={[Mr]:e=>nr(e)||Qt(e),[Nn]:e=>nr(e)||Qt(e)},Xot=["id","aria-label","aria-labelledby"],qot=["name","disabled","checked","onChange"],Zot=J({name:"ElSegmented"}),Qot=J({...Zot,props:Yot,emits:Kot,setup(e,{emit:t}){const r=e,n=Ze("segmented"),a=bi(),i=ba(),o=Ui(),{formItem:s}=Oi(),{inputId:l,isLabeledByFormItem:u}=Ys(r,{formItemContext:s}),c=W(null),f=_3e(),d=cn({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),h=T=>{const M=v(T);t(Mr,M),t(Nn,M)},v=T=>Sr(T)?T.value:T,p=T=>Sr(T)?T.label:T,m=T=>!!(o.value||Sr(T)&&T.disabled),g=T=>r.modelValue===v(T),b=T=>r.options.find(M=>v(M)===T),y=T=>[n.e("item"),n.is("selected",g(T)),n.is("disabled",m(T))],w=()=>{if(!c.value)return;const T=c.value.querySelector(".is-selected"),M=c.value.querySelector(".is-selected input");if(!T||!M){d.width=0,d.translateX=0,d.disabled=!1,d.focusVisible=!1;return}const k=T.getBoundingClientRect();d.isInit=!0,d.width=k.width,d.translateX=T.offsetLeft,d.disabled=m(b(r.modelValue));try{d.focusVisible=M.matches(":focus-visible")}catch{}},_=$(()=>[n.b(),n.m(i.value),n.is("block",r.block)]),x=$(()=>({width:`${d.width}px`,transform:`translateX(${d.translateX}px)`,display:d.isInit?"block":"none"})),S=$(()=>[n.e("item-selected"),n.is("disabled",d.disabled),n.is("focus-visible",d.focusVisible)]),C=$(()=>r.name||a.value);return Bn(c,w),He(f,w),He(()=>r.modelValue,()=>{var T;w(),r.validateEvent&&((T=s==null?void 0:s.validate)==null||T.call(s,"change").catch(M=>void 0))},{flush:"post"}),(T,M)=>(F(),K("div",{id:E(l),ref_key:"segmentedRef",ref:c,class:G(E(_)),role:"radiogroup","aria-label":E(u)?void 0:T.ariaLabel||"segmented","aria-labelledby":E(u)?E(s).labelId:void 0},[Z("div",{class:G(E(n).e("group"))},[Z("div",{style:Bt(E(x)),class:G(E(S))},null,6),(F(!0),K(zt,null,zr(T.options,(k,A)=>(F(),K("label",{key:A,class:G(y(k))},[Z("input",{class:G(E(n).e("item-input")),type:"radio",name:E(C),disabled:m(k),checked:g(k),onChange:O=>h(k)},null,42,qot),Z("div",{class:G(E(n).e("item-label"))},[Pe(T.$slots,"default",{item:k},()=>[qr(ct(p(k)),1)])],2)],2))),128))],2)],10,Xot))}});var Jot=ut(Qot,[["__file","segmented.vue"]]);const est=_r(Jot);var tst=[Jze,cGe,RVe,hnt,VVe,qVe,PY,c9e,f9e,Wa,GY,IUe,DUe,t7e,r7e,vWe,eWe,wWe,hs,w7e,pK,LWe,qWe,ZWe,jWe,THe,Wze,FHe,zHe,GHe,jHe,VHe,uKe,wKe,EKe,$Ke,XK,ZKe,jXe,VXe,UXe,aX,nje,aje,$t,Rqe,iX,Mi,oX,qqe,gZe,mZe,yZe,bZe,MZe,LQe,BQe,YQe,OY,gX,_K,R7e,D7e,cJe,pJe,TWe,Pu,md,Lw,aQe,eet,uet,cet,Get,Het,DX,ntt,dtt,htt,Stt,krt,Art,dnt,knt,Ant,f0,Pnt,lUe,znt,Wnt,Hnt,Ii,yat,Nat,Yat,eit,yit,qit,oot,Pot,Dot,Wot,Hot,est];const ks="ElInfiniteScroll",rst=50,nst=200,ast=0,ist={delay:{type:Number,default:nst},distance:{type:Number,default:ast},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},KO=(e,t)=>Object.entries(ist).reduce((r,[n,a])=>{var i,o;const{type:s,default:l}=a,u=e.getAttribute(`infinite-scroll-${n}`);let c=(o=(i=t[u])!=null?i:u)!=null?o:l;return c=c==="false"?!1:c,c=s(c),r[n]=Number.isNaN(c)?l:c,r},{}),Aq=e=>{const{observer:t}=e[ks];t&&(t.disconnect(),delete e[ks].observer)},ost=(e,t)=>{const{container:r,containerEl:n,instance:a,observer:i,lastScrollTop:o}=e[ks],{disabled:s,distance:l}=KO(e,a),{clientHeight:u,scrollHeight:c,scrollTop:f}=n,d=f-o;if(e[ks].lastScrollTop=f,i||s||d<0)return;let h=!1;if(r===e)h=c-(u+f)<=l;else{const{clientTop:v,scrollHeight:p}=e,m=mM(e,n);h=f+u>=m+v+p-l}h&&t.call(a)};function ES(e,t){const{containerEl:r,instance:n}=e[ks],{disabled:a}=KO(e,n);a||r.clientHeight===0||(r.scrollHeight<=r.clientHeight?t.call(n):Aq(e))}const sst={async mounted(e,t){const{instance:r,value:n}=t;Jt(n)||Ta(ks,"'v-infinite-scroll' binding value must be a function"),await Ut();const{delay:a,immediate:i}=KO(e,r),o=LI(e,!0),s=o===window?document.documentElement:o,l=qf(ost.bind(null,e,n),a);if(o){if(e[ks]={instance:r,container:o,containerEl:s,delay:a,cb:n,onScroll:l,lastScrollTop:s.scrollTop},i){const u=new MutationObserver(qf(ES.bind(null,e,n),rst));e[ks].observer=u,u.observe(e,{childList:!0,subtree:!0}),ES(e,n)}o.addEventListener("scroll",l)}},unmounted(e){const{container:t,onScroll:r}=e[ks];t==null||t.removeEventListener("scroll",r),Aq(e)},async updated(e){if(!e[ks])await Ut();else{const{containerEl:t,cb:r,observer:n}=e[ks];t.clientHeight&&n&&ES(e,r)}}},xT=sst;xT.install=e=>{e.directive("InfiniteScroll",xT)};const lst=xT;function ust(e){let t;const r=W(!1),n=cn({...e,originalPosition:"",originalOverflow:"",visible:!1});function a(d){n.text=d}function i(){const d=n.parent,h=f.ns;if(!d.vLoadingAddClassList){let v=d.getAttribute("loading-number");v=Number.parseInt(v)-1,v?d.setAttribute("loading-number",v.toString()):(Ai(d,h.bm("parent","relative")),d.removeAttribute("loading-number")),Ai(d,h.bm("parent","hidden"))}o(),c.unmount()}function o(){var d,h;(h=(d=f.$el)==null?void 0:d.parentNode)==null||h.removeChild(f.$el)}function s(){var d;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(t),t=window.setTimeout(l,400),n.visible=!1,(d=e.closed)==null||d.call(e))}function l(){if(!r.value)return;const d=n.parent;r.value=!1,d.vLoadingAddClassList=void 0,i()}const c=s8(J({name:"ElLoading",setup(d,{expose:h}){const{ns:v,zIndex:p}=g2("loading");return h({ns:v,zIndex:p}),()=>{const m=n.spinner||n.svg,g=Yt("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...m?{innerHTML:m}:{}},[Yt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=n.text?Yt("p",{class:v.b("text")},[n.text]):void 0;return Yt(Ma,{name:v.b("fade"),onAfterLeave:l},{default:he(()=>[cr(ae("div",{style:{backgroundColor:n.background||""},class:[v.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[Yt("div",{class:v.b("spinner")},[g,b])]),[[nn,n.visible]])])})}}})),f=c.mount(document.createElement("div"));return{...ui(n),setText:a,removeElLoadingChild:o,close:s,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}let m1;const ST=function(e={}){if(!Ur)return;const t=cst(e);if(t.fullscreen&&m1)return m1;const r=ust({...t,closed:()=>{var a;(a=t.closed)==null||a.call(t),t.fullscreen&&(m1=void 0)}});fst(t,t.parent,r),z6(t,t.parent,r),t.parent.vLoadingAddClassList=()=>z6(t,t.parent,r);let n=t.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",t.parent.setAttribute("loading-number",n),t.parent.appendChild(r.$el),Ut(()=>r.visible.value=t.visible),t.fullscreen&&(m1=r),r},cst=e=>{var t,r,n,a;let i;return nr(e.target)?i=(t=document.querySelector(e.target))!=null?t:document.body:i=e.target||document.body,{parent:i===document.body||e.body?document.body:i,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:i===document.body&&((r=e.fullscreen)!=null?r:!0),lock:(n=e.lock)!=null?n:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,target:i}},fst=async(e,t,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,a={};if(e.fullscreen)r.originalPosition.value=uc(document.body,"position"),r.originalOverflow.value=uc(document.body,"overflow"),a.zIndex=n();else if(e.parent===document.body){r.originalPosition.value=uc(document.body,"position"),await Ut();for(const i of["top","left"]){const o=i==="top"?"scrollTop":"scrollLeft";a[i]=`${e.target.getBoundingClientRect()[i]+document.body[o]+document.documentElement[o]-Number.parseInt(uc(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])a[i]=`${e.target.getBoundingClientRect()[i]}px`}else r.originalPosition.value=uc(t,"position");for(const[i,o]of Object.entries(a))r.$el.style[i]=o},z6=(e,t,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?Ai(t,n.bm("parent","relative")):Jo(t,n.bm("parent","relative")),e.fullscreen&&e.lock?Jo(t,n.bm("parent","hidden")):Ai(t,n.bm("parent","hidden"))},yb=Symbol("ElLoading"),G6=(e,t)=>{var r,n,a,i;const o=t.instance,s=d=>Sr(t.value)?t.value[d]:void 0,l=d=>{const h=nr(d)&&(o==null?void 0:o[d])||d;return h&&W(h)},u=d=>l(s(d)||e.getAttribute(`element-loading-${Fc(d)}`)),c=(r=s("fullscreen"))!=null?r:t.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(n=s("target"))!=null?n:c?void 0:e,body:(a=s("body"))!=null?a:t.modifiers.body,lock:(i=s("lock"))!=null?i:t.modifiers.lock};e[yb]={options:f,instance:ST(f)}},dst=(e,t)=>{for(const r of Object.keys(t))Dn(t[r])&&(t[r].value=e[r])},j6={mounted(e,t){t.value&&G6(e,t)},updated(e,t){const r=e[yb];t.oldValue!==t.value&&(t.value&&!t.oldValue?G6(e,t):t.value&&t.oldValue?Sr(t.value)&&dst(t.value,r.options):r==null||r.instance.close())},unmounted(e){var t;(t=e[yb])==null||t.instance.close(),e[yb]=null}},hst={install(e){e.directive("loading",j6),e.config.globalProperties.$loading=ST},directive:j6,service:ST},Iq=["success","info","warning","error"],Ei=Fn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ur?document.body:void 0}),vst=it({customClass:{type:String,default:Ei.customClass},center:{type:Boolean,default:Ei.center},dangerouslyUseHTMLString:{type:Boolean,default:Ei.dangerouslyUseHTMLString},duration:{type:Number,default:Ei.duration},icon:{type:Cn,default:Ei.icon},id:{type:String,default:Ei.id},message:{type:ve([String,Object,Function]),default:Ei.message},onClose:{type:ve(Function),default:Ei.onClose},showClose:{type:Boolean,default:Ei.showClose},type:{type:String,values:Iq,default:Ei.type},plain:{type:Boolean,default:Ei.plain},offset:{type:Number,default:Ei.offset},zIndex:{type:Number,default:Ei.zIndex},grouping:{type:Boolean,default:Ei.grouping},repeatNum:{type:Number,default:Ei.repeatNum}}),pst={destroy:()=>!0},Ns=uF([]),gst=e=>{const t=Ns.findIndex(a=>a.id===e),r=Ns[t];let n;return t>0&&(n=Ns[t-1]),{current:r,prev:n}},mst=e=>{const{prev:t}=gst(e);return t?t.vm.exposed.bottom.value:0},yst=(e,t)=>Ns.findIndex(n=>n.id===e)>0?16:t,bst=["id"],wst=["innerHTML"],Est=J({name:"ElMessage"}),_st=J({...Est,props:vst,emits:pst,setup(e,{expose:t}){const r=e,{Close:n}=BI,{ns:a,zIndex:i}=g2("message"),{currentZIndex:o,nextZIndex:s}=i,l=W(),u=W(!1),c=W(0);let f;const d=$(()=>r.type?r.type==="error"?"danger":r.type:"info"),h=$(()=>{const S=r.type;return{[a.bm("icon",S)]:S&&Rc[S]}}),v=$(()=>r.icon||Rc[r.type]||""),p=$(()=>mst(r.id)),m=$(()=>yst(r.id,r.offset)+p.value),g=$(()=>c.value+m.value),b=$(()=>({top:`${m.value}px`,zIndex:o.value}));function y(){r.duration!==0&&({stop:f}=cd(()=>{_()},r.duration))}function w(){f==null||f()}function _(){u.value=!1}function x({code:S}){S===Kt.esc&&_()}return vr(()=>{y(),s(),u.value=!0}),He(()=>r.repeatNum,()=>{w(),y()}),Ln(document,"keydown",x),Bn(l,()=>{c.value=l.value.getBoundingClientRect().height}),t({visible:u,bottom:g,close:_}),(S,C)=>(F(),Oe(Ma,{name:E(a).b("fade"),onBeforeLeave:S.onClose,onAfterLeave:C[0]||(C[0]=T=>S.$emit("destroy")),persisted:""},{default:he(()=>[cr(Z("div",{id:S.id,ref_key:"messageRef",ref:l,class:G([E(a).b(),{[E(a).m(S.type)]:S.type},E(a).is("center",S.center),E(a).is("closable",S.showClose),E(a).is("plain",S.plain),S.customClass]),style:Bt(E(b)),role:"alert",onMouseenter:w,onMouseleave:y},[S.repeatNum>1?(F(),Oe(E(PY),{key:0,value:S.repeatNum,type:E(d),class:G(E(a).e("badge"))},null,8,["value","type","class"])):be("v-if",!0),E(v)?(F(),Oe(E($t),{key:1,class:G([E(a).e("icon"),E(h)])},{default:he(()=>[(F(),Oe(kr(E(v))))]),_:1},8,["class"])):be("v-if",!0),Pe(S.$slots,"default",{},()=>[S.dangerouslyUseHTMLString?(F(),K(zt,{key:1},[be(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{class:G(E(a).e("content")),innerHTML:S.message},null,10,wst)],2112)):(F(),K("p",{key:0,class:G(E(a).e("content"))},ct(S.message),3))]),S.showClose?(F(),Oe(E($t),{key:2,class:G(E(a).e("closeBtn")),onClick:tr(_,["stop"])},{default:he(()=>[ae(E(n))]),_:1},8,["class","onClick"])):be("v-if",!0)],46,bst),[[nn,u.value]])]),_:3},8,["name","onBeforeLeave"]))}});var xst=ut(_st,[["__file","message.vue"]]);let Sst=1;const Oq=e=>{const t=!e||nr(e)||Rn(e)||Jt(e)?{message:e}:e,r={...Ei,...t};if(!r.appendTo)r.appendTo=document.body;else if(nr(r.appendTo)){let n=document.querySelector(r.appendTo);us(n)||(n=document.body),r.appendTo=n}return r},Cst=e=>{const t=Ns.indexOf(e);if(t===-1)return;Ns.splice(t,1);const{handler:r}=e;r.close()},Mst=({appendTo:e,...t},r)=>{const n=`message_${Sst++}`,a=t.onClose,i=document.createElement("div"),o={...t,id:n,onClose:()=>{a==null||a(),Cst(c)},onDestroy:()=>{Sc(null,i)}},s=ae(xst,o,Jt(o.message)||Rn(o.message)?{default:Jt(o.message)?o.message:()=>o.message}:null);s.appContext=r||Mv._context,Sc(s,i),e.appendChild(i.firstElementChild);const l=s.component,c={id:n,vnode:s,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:s.component.props};return c},Mv=(e={},t)=>{if(!Ur)return{close:()=>{}};if(Qt(AM.max)&&Ns.length>=AM.max)return{close:()=>{}};const r=Oq(e);if(r.grouping&&Ns.length){const a=Ns.find(({vnode:i})=>{var o;return((o=i.props)==null?void 0:o.message)===r.message});if(a)return a.props.repeatNum+=1,a.props.type=r.type,a.handler}const n=Mst(r,t);return Ns.push(n),n.handler};Iq.forEach(e=>{Mv[e]=(t={},r)=>{const n=Oq(t);return Mv({...n,type:e},r)}});function Tst(e){for(const t of Ns)(!e||e===t.props.type)&&t.handler.close()}Mv.closeAll=Tst;Mv._context=null;const kst=RH(Mv,"$message"),Ast=J({name:"ElMessageBox",directives:{TrapFocus:U9e},components:{ElButton:Wa,ElFocusTrap:pm,ElInput:Mi,ElOverlay:wO,ElIcon:$t,...BI},inheritAttrs:!1,props:{buttonSize:{type:String,validator:$H},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:r,zIndex:n,ns:a,size:i}=g2("message-box",$(()=>e.buttonSize)),{t:o}=r,{nextZIndex:s}=n,l=W(!1),u=cn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),c=$(()=>{const N=u.type;return{[a.bm("icon",N)]:N&&Rc[N]}}),f=bi(),d=bi(),h=$(()=>u.icon||Rc[u.type]||""),v=$(()=>!!u.message),p=W(),m=W(),g=W(),b=W(),y=W(),w=$(()=>u.confirmButtonClass);He(()=>u.inputValue,async N=>{await Ut(),e.boxType==="prompt"&&N!==null&&A()},{immediate:!0}),He(()=>l.value,N=>{var L,B;N&&(e.boxType!=="prompt"&&(u.autofocus?g.value=(B=(L=y.value)==null?void 0:L.$el)!=null?B:p.value:g.value=p.value),u.zIndex=s()),e.boxType==="prompt"&&(N?Ut().then(()=>{var I;b.value&&b.value.$el&&(u.autofocus?g.value=(I=O())!=null?I:p.value:g.value=p.value)}):(u.editorErrorMessage="",u.validateError=!1))});const _=$(()=>e.draggable),x=$(()=>e.overflow);BH(p,m,_,x),vr(async()=>{await Ut(),e.closeOnHashChange&&window.addEventListener("hashchange",S)}),On(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",S)});function S(){l.value&&(l.value=!1,Ut(()=>{u.action&&t("action",u.action)}))}const C=()=>{e.closeOnClickModal&&k(u.distinguishCancelAndClose?"close":"cancel")},T=QI(C),M=N=>{if(u.inputType!=="textarea")return N.preventDefault(),k("confirm")},k=N=>{var L;e.boxType==="prompt"&&N==="confirm"&&!A()||(u.action=N,u.beforeClose?(L=u.beforeClose)==null||L.call(u,N,u,S):S())},A=()=>{if(e.boxType==="prompt"){const N=u.inputPattern;if(N&&!N.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;const L=u.inputValidator;if(typeof L=="function"){const B=L(u.inputValue);if(B===!1)return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;if(typeof B=="string")return u.editorErrorMessage=B,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},O=()=>{const N=b.value.$refs;return N.input||N.textarea},P=()=>{k("close")},R=()=>{e.closeOnPressEscape&&P()};return e.lockScroll&&VI(l),{...ui(u),ns:a,overlayEvent:T,visible:l,hasMessage:v,typeClass:c,contentId:f,inputId:d,btnSize:i,iconComponent:h,confirmButtonClasses:w,rootRef:p,focusStartRef:g,headerRef:m,inputRef:b,confirmRef:y,doClose:S,handleClose:P,onCloseRequested:R,handleWrapperClick:C,handleInputEnter:M,handleAction:k,t:o}}}),Ist=["aria-label","aria-describedby"],Ost=["aria-label"],Lst=["id"];function Nst(e,t,r,n,a,i){const o=br("el-icon"),s=br("close"),l=br("el-input"),u=br("el-button"),c=br("el-focus-trap"),f=br("el-overlay");return F(),Oe(Ma,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=d=>e.$emit("vanish")),persisted:""},{default:he(()=>[cr(ae(f,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:he(()=>[Z("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:G(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...d)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...d)),onMousedown:t[9]||(t[9]=(...d)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...d)),onMouseup:t[10]||(t[10]=(...d)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...d))},[ae(c,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:he(()=>[Z("div",{ref:"rootRef",class:G([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Bt(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=tr(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(F(),K("div",{key:0,ref:"headerRef",class:G([e.ns.e("header"),{"show-close":e.showClose}])},[Z("div",{class:G(e.ns.e("title"))},[e.iconComponent&&e.center?(F(),Oe(o,{key:0,class:G([e.ns.e("status"),e.typeClass])},{default:he(()=>[(F(),Oe(kr(e.iconComponent)))]),_:1},8,["class"])):be("v-if",!0),Z("span",null,ct(e.title),1)],2),e.showClose?(F(),K("button",{key:0,type:"button",class:G(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Sn(tr(d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ae(o,{class:G(e.ns.e("close"))},{default:he(()=>[ae(s)]),_:1},8,["class"])],42,Ost)):be("v-if",!0)],2)):be("v-if",!0),Z("div",{id:e.contentId,class:G(e.ns.e("content"))},[Z("div",{class:G(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(F(),Oe(o,{key:0,class:G([e.ns.e("status"),e.typeClass])},{default:he(()=>[(F(),Oe(kr(e.iconComponent)))]),_:1},8,["class"])):be("v-if",!0),e.hasMessage?(F(),K("div",{key:1,class:G(e.ns.e("message"))},[Pe(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(F(),Oe(kr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(F(),Oe(kr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:he(()=>[qr(ct(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):be("v-if",!0)],2),cr(Z("div",{class:G(e.ns.e("input"))},[ae(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=d=>e.inputValue=d),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:G({invalid:e.validateError}),onKeydown:Sn(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Z("div",{class:G(e.ns.e("errormsg")),style:Bt({visibility:e.editorErrorMessage?"visible":"hidden"})},ct(e.editorErrorMessage),7)],2),[[nn,e.showInput]])],10,Lst),Z("div",{class:G(e.ns.e("btns"))},[e.showCancelButton?(F(),Oe(u,{key:0,loading:e.cancelButtonLoading,class:G([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=d=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Sn(tr(d=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:he(()=>[qr(ct(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):be("v-if",!0),cr(ae(u,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:G([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=d=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Sn(tr(d=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:he(()=>[qr(ct(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[nn,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Ist)]),_:3},8,["z-index","overlay-class","mask"]),[[nn,e.visible]])]),_:3})}var Pst=ut(Ast,[["render",Nst],["__file","index.vue"]]);const w0=new Map,Dst=e=>{let t=document.body;return e.appendTo&&(nr(e.appendTo)&&(t=document.querySelector(e.appendTo)),us(e.appendTo)&&(t=e.appendTo),us(t)||(t=document.body)),t},Rst=(e,t,r=null)=>{const n=ae(Pst,e,Jt(e.message)||Rn(e.message)?{default:Jt(e.message)?e.message:()=>e.message}:null);return n.appContext=r,Sc(n,t),Dst(e).appendChild(t.firstElementChild),n.component},$st=()=>document.createElement("div"),Bst=(e,t)=>{const r=$st();e.onVanish=()=>{Sc(null,r),w0.delete(a)},e.onAction=i=>{const o=w0.get(a);let s;e.showInput?s={value:a.inputValue,action:i}:s=i,e.callback?e.callback(s,n.proxy):i==="cancel"||i==="close"?e.distinguishCancelAndClose&&i!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(s)};const n=Rst(e,r,t),a=n.proxy;for(const i in e)Xr(e,i)&&!Xr(a.$props,i)&&(a[i]=e[i]);return a.visible=!0,a};function Uv(e,t=null){if(!Ur)return Promise.reject();let r;return nr(e)||Rn(e)?e={message:e}:r=e.callback,new Promise((n,a)=>{const i=Bst(e,t??Uv._context);w0.set(i,{options:e,callback:r,resolve:n,reject:a})})}const Fst=["alert","confirm","prompt"],zst={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Fst.forEach(e=>{Uv[e]=Gst(e)});function Gst(e){return(t,r,n,a)=>{let i="";return Sr(r)?(n=r,i=""):ca(r)?i="":i=r,Uv(Object.assign({title:i,message:t,type:"",...zst[e]},n,{boxType:e}),a)}}Uv.close=()=>{w0.forEach((e,t)=>{t.doClose()}),w0.clear()};Uv._context=null;const Ju=Uv;Ju.install=e=>{Ju._context=e._context,e.config.globalProperties.$msgbox=Ju,e.config.globalProperties.$messageBox=Ju,e.config.globalProperties.$alert=Ju.alert,e.config.globalProperties.$confirm=Ju.confirm,e.config.globalProperties.$prompt=Ju.prompt};const jst=Ju,Lq=["success","info","warning","error"],Vst=it({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Cn},id:{type:String,default:""},message:{type:ve([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:ve(Function),default:()=>{}},onClose:{type:ve(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Lq,""],default:""},zIndex:Number}),Ust={destroy:()=>!0},Wst=["id"],Hst=["textContent"],Yst={key:0},Kst=["innerHTML"],Xst=J({name:"ElNotification"}),qst=J({...Xst,props:Vst,emits:Ust,setup(e,{expose:t}){const r=e,{ns:n,zIndex:a}=g2("notification"),{nextZIndex:i,currentZIndex:o}=a,{Close:s}=$I,l=W(!1);let u;const c=$(()=>{const y=r.type;return y&&Rc[r.type]?n.m(y):""}),f=$(()=>r.type&&Rc[r.type]||r.icon),d=$(()=>r.position.endsWith("right")?"right":"left"),h=$(()=>r.position.startsWith("top")?"top":"bottom"),v=$(()=>{var y;return{[h.value]:`${r.offset}px`,zIndex:(y=r.zIndex)!=null?y:o.value}});function p(){r.duration>0&&({stop:u}=cd(()=>{l.value&&g()},r.duration))}function m(){u==null||u()}function g(){l.value=!1}function b({code:y}){y===Kt.delete||y===Kt.backspace?m():y===Kt.esc?l.value&&g():p()}return vr(()=>{p(),i(),l.value=!0}),Ln(document,"keydown",b),t({visible:l,close:g}),(y,w)=>(F(),Oe(Ma,{name:E(n).b("fade"),onBeforeLeave:y.onClose,onAfterLeave:w[1]||(w[1]=_=>y.$emit("destroy")),persisted:""},{default:he(()=>[cr(Z("div",{id:y.id,class:G([E(n).b(),y.customClass,E(d)]),style:Bt(E(v)),role:"alert",onMouseenter:m,onMouseleave:p,onClick:w[0]||(w[0]=(..._)=>y.onClick&&y.onClick(..._))},[E(f)?(F(),Oe(E($t),{key:0,class:G([E(n).e("icon"),E(c)])},{default:he(()=>[(F(),Oe(kr(E(f))))]),_:1},8,["class"])):be("v-if",!0),Z("div",{class:G(E(n).e("group"))},[Z("h2",{class:G(E(n).e("title")),textContent:ct(y.title)},null,10,Hst),cr(Z("div",{class:G(E(n).e("content")),style:Bt(y.title?void 0:{margin:0})},[Pe(y.$slots,"default",{},()=>[y.dangerouslyUseHTMLString?(F(),K(zt,{key:1},[be(" Caution here, message could've been compromised, never use user's input as message "),Z("p",{innerHTML:y.message},null,8,Kst)],2112)):(F(),K("p",Yst,ct(y.message),1))])],6),[[nn,y.message]]),y.showClose?(F(),Oe(E($t),{key:0,class:G(E(n).e("closeBtn")),onClick:tr(g,["stop"])},{default:he(()=>[ae(E(s))]),_:1},8,["class","onClick"])):be("v-if",!0)],2)],46,Wst),[[nn,l.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Zst=ut(qst,[["__file","notification.vue"]]);const Gw={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},CT=16;let Qst=1;const Tv=function(e={},t=null){if(!Ur)return{close:()=>{}};(typeof e=="string"||Rn(e))&&(e={message:e});const r=e.position||"top-right";let n=e.offset||0;Gw[r].forEach(({vm:c})=>{var f;n+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+CT}),n+=CT;const a=`notification_${Qst++}`,i=e.onClose,o={...e,offset:n,id:a,onClose:()=>{Jst(a,r,i)}};let s=document.body;us(e.appendTo)?s=e.appendTo:nr(e.appendTo)&&(s=document.querySelector(e.appendTo)),us(s)||(s=document.body);const l=document.createElement("div"),u=ae(Zst,o,Rn(o.message)?{default:()=>o.message}:null);return u.appContext=t??Tv._context,u.props.onDestroy=()=>{Sc(null,l)},Sc(u,l),Gw[r].push({vm:u}),s.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};Lq.forEach(e=>{Tv[e]=(t={})=>((typeof t=="string"||Rn(t))&&(t={message:t}),Tv({...t,type:e}))});function Jst(e,t,r){const n=Gw[t],a=n.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===e});if(a===-1)return;const{vm:i}=n[a];if(!i)return;r==null||r(i);const o=i.el.offsetHeight,s=t.split("-")[0];n.splice(a,1);const l=n.length;if(!(l<1))for(let u=a;u<l;u++){const{el:c,component:f}=n[u].vm,d=Number.parseInt(c.style[s],10)-o-CT;f.props.offset=d}}function elt(){for(const e of Object.values(Gw))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}Tv.closeAll=elt;Tv._context=null;const tlt=RH(Tv,"$notify");var rlt=[lst,hst,kst,jst,tlt,pX],nlt=Yze([...tst,...rlt]);const Nq=s8(t3e);Nq.use(nlt);Nq.mount("#app")});export default alt();
